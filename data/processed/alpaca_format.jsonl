{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support Java 21 and Python 3.13\n\nUsing the cassandra install for debian using the latest deb of 5.0.6, the database does not come up with JDK-21: {{java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release}} This can be fixed with {{JVM_EXTRA_OPTS=\"$JVM_EXTRA_OPTS -Djava.security.manager=allow\"}} {{in /etc/cassandra/cassandra-env.sh}} then after {{systemctl restart cassandra}} the `cqlsh` fails with {{Warning: unsupported version of Python, required 3.6-3.11 but found 3.13}} {{No appropriate Python interpreter found.}} I would like to see a project of this size to support a more recent technology stack as well. Is there any plan to fix these issues? Thanks!","output":"Support Java 21 and Python 3.13"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support Java 21 and Python 3.13\n\nUsing the cassandra install for debian using the latest deb of 5.0.6, the database does not come up with JDK-21: {{java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release}} This can be fixed with {{JVM_EXTRA_OPTS=\"$JVM_EXTRA_OPTS -Djava.security.manager=allow\"}} {{in /etc/cassandra/cassandra-env.sh}} then after {{systemctl restart cassandra}} the `cqlsh` fails with {{Warning: unsupported version of Python, required 3.6-3.11 but found 3.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Support Java 21 and Python 3.13\n\nUsing the cassandra install for debian using the latest deb of 5.0.6, the database does not come up with JDK-21: {{java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release}} This can be fixed with {{JVM_EXTRA_OPTS=\"$JVM_EXTRA_OPTS -Djava.security.manager=allow\"}} {{in /etc/cassandra/cassandra-env.sh}} then after {{systemctl restart cassandra}} the `cqlsh` fails with {{Warning: unsupported version of Python, required 3.6-3.11 but found 3.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support Java 21 and Python 3.13\n\nUsing the cassandra install for debian using the latest deb of 5.0.6, the database does not come up with JDK-21: {{java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release}} This can be fixed with {{JVM_EXTRA_OPTS=\"$JVM_EXTRA_OPTS -Djava.security.manager=allow\"}} {{in /etc/cassandra/cassandra-env.sh}} then after {{systemctl restart cassandra}} the `cqlsh` fails with {{Warning: unsupported version of Python, required 3.6-3.11 but found 3.","output":"Using the cassandra install for debian using the latest deb of 5.0.6, the database does not come up with JDK-21: {{java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release}} This can be fixed with {{JVM_EXTRA_OPTS=\"$JVM_EXTRA_OPTS -Djava.sec"}
{"instruction":"Extract key technical details from this issue:","input":"Using the cassandra install for debian using the latest deb of 5.0.6, the database does not come up with JDK-21: {{java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release}} This can be fixed with {{JVM_EXTRA_OPTS=\"$JVM_EXTRA_OPTS -Djava.security.manager=allow\"}} {{in /etc/cassandra/cassandra-env.sh}} then after {{systemctl restart cassandra}} the `cqlsh` fails with {{Warning: unsupported version of Python, required 3.6-3.11 but found 3.13}} {{No appropriate Python interpreter found.}} I would like to see a project of this size to support a more recent technology stack as well. Is there any plan to fix these issues? Thanks!","output":"Support Java 21 and Python 3.13"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Auto-repair scheduler should use LWTs for all auto-repair history operations\n\nThe auto-repair scheduler seems to use LWTs only for a subset of the mutations on auto-repair history. This has lead to situations where we have one node trying to delete an entry from the auto-repair history and another node trying modify this entry at the same time. In the end, we end up with a corrupted entry in the auto-repair history. We should fix this by making the auto-repair scheduler use LWTs for all auto-repair system table mutations.","output":"Auto-repair scheduler should use LWTs for all auto-repair history operations"}
{"instruction":"Classify the status of this issue based on its description:","input":"Auto-repair scheduler should use LWTs for all auto-repair history operations\n\nThe auto-repair scheduler seems to use LWTs only for a subset of the mutations on auto-repair history. This has lead to situations where we have one node trying to delete an entry from the auto-repair history and another node trying modify this entry at the same time. In the end, we end up with a corrupted entry in the auto-repair history. We should fix this by making the auto-repair scheduler use LWTs for all auto-repair system table mutations.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Auto-repair scheduler should use LWTs for all auto-repair history operations\n\nThe auto-repair scheduler seems to use LWTs only for a subset of the mutations on auto-repair history. This has lead to situations where we have one node trying to delete an entry from the auto-repair history and another node trying modify this entry at the same time. In the end, we end up with a corrupted entry in the auto-repair history. We should fix this by making the auto-repair scheduler use LWTs for all auto-repair system table mutations.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Auto-repair scheduler should use LWTs for all auto-repair history operations\n\nThe auto-repair scheduler seems to use LWTs only for a subset of the mutations on auto-repair history. This has lead to situations where we have one node trying to delete an entry from the auto-repair history and another node trying modify this entry at the same time. In the end, we end up with a corrupted entry in the auto-repair history. We should fix this by making the auto-repair scheduler use LWTs for all auto-repair system table mutations.","output":"The auto-repair scheduler seems to use LWTs only for a subset of the mutations on auto-repair history. This has lead to situations where we have one node trying to delete an entry from the auto-repair history and another node trying modify this entry at the same time. In the end, we end up with a co"}
{"instruction":"Extract key technical details from this issue:","input":"The auto-repair scheduler seems to use LWTs only for a subset of the mutations on auto-repair history. This has lead to situations where we have one node trying to delete an entry from the auto-repair history and another node trying modify this entry at the same time. In the end, we end up with a corrupted entry in the auto-repair history. We should fix this by making the auto-repair scheduler use LWTs for all auto-repair system table mutations.","output":"Auto-repair scheduler should use LWTs for all auto-repair history operations"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Auto-repair scheduler waits for repair interval to pass before cleaning up orphaned node history\n\nWhen a node in the ring goes down, the auto-repair scheduler of all other nodes in the cluster start voting for this node's auto-repair history to be removed. Once >50% of the cluster vote to delete said down node, it's auto-repair history is deleted from the auto-repair system tables. This cleanup process is important to maintain continuous execution of repair across the entire cluster. If a node goes down, it will no longer perform repair and will not update its repair history in the system tables. However, as it is still present in the auto-repair history table, the down node will still be considered as a candidate to run repair. As a result, it will occupy space in the auto-repair queue and in cases with low auto-repair parallelism may even completely block auto-repair within the cluster. This is exactly what happened on of our small clusters where auto-repair parallelism was just one node at a time. A node got replaced but its repair history did not get cleaned up which caused the entire auto-repair system to grind to a halt. Upon investigation we found out that the root cause lies in the ordering of operations within the auto-repair scheduler: # The scheduler will check when was the last time the local node ran repair. # If that duration is lower than the repair interval, it will immediately short circuit. # Otherwise, it will proceed with computing the auto-repair queue and determining if it's the local node's turn to run repair. Importantly, the auto-repair history cleanup happens inside of the auto-repair queue algorithm. This means that a given node will clean up orphaned entries in auto-repair history only once its repair interval passes. For example: if you use auto-repair parallelism of 1 node and a repair interval of 24 hours, the orphaned data will not get cleaned up for up to 24 hours and consequently auto-repair may get stuck for up to 24 hours as well.","output":"Auto-repair scheduler waits for repair interval to pass before cleaning up orphaned node history"}
{"instruction":"Classify the status of this issue based on its description:","input":"Auto-repair scheduler waits for repair interval to pass before cleaning up orphaned node history\n\nWhen a node in the ring goes down, the auto-repair scheduler of all other nodes in the cluster start voting for this node's auto-repair history to be removed. Once >50% of the cluster vote to delete said down node, it's auto-repair history is deleted from the auto-repair system tables. This cleanup process is important to maintain continuous execution of repair across the entire cluster. If a node goes down, it will no longer perform repair and will not update its repair history in the system ta","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Auto-repair scheduler waits for repair interval to pass before cleaning up orphaned node history\n\nWhen a node in the ring goes down, the auto-repair scheduler of all other nodes in the cluster start voting for this node's auto-repair history to be removed. Once >50% of the cluster vote to delete said down node, it's auto-repair history is deleted from the auto-repair system tables. This cleanup process is important to maintain continuous execution of repair across the entire cluster. If a node goes down, it will no longer perform repair and will not update its repair history in the system ta","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Auto-repair scheduler waits for repair interval to pass before cleaning up orphaned node history\n\nWhen a node in the ring goes down, the auto-repair scheduler of all other nodes in the cluster start voting for this node's auto-repair history to be removed. Once >50% of the cluster vote to delete said down node, it's auto-repair history is deleted from the auto-repair system tables. This cleanup process is important to maintain continuous execution of repair across the entire cluster. If a node goes down, it will no longer perform repair and will not update its repair history in the system ta","output":"When a node in the ring goes down, the auto-repair scheduler of all other nodes in the cluster start voting for this node's auto-repair history to be removed. Once >50% of the cluster vote to delete said down node, it's auto-repair history is deleted from the auto-repair system tables. This cleanup "}
{"instruction":"Extract key technical details from this issue:","input":"When a node in the ring goes down, the auto-repair scheduler of all other nodes in the cluster start voting for this node's auto-repair history to be removed. Once >50% of the cluster vote to delete said down node, it's auto-repair history is deleted from the auto-repair system tables. This cleanup process is important to maintain continuous execution of repair across the entire cluster. If a node goes down, it will no longer perform repair and will not update its repair history in the system tables. However, as it is still present in the auto-repair history table, the down node will still be considered as a candidate to run repair. As a result, it will occupy space in the auto-repair queue and in cases with low auto-repair parallelism may even completely block auto-repair within the clust","output":"Auto-repair scheduler waits for repair interval to pass before cleaning up orphaned node history"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Drop commons-lang3 dependency\n\nCurrently Cassandra uses only a few classes from commons-lang3, and it would probably be worth dropping the dependency for the following reasons: 1) Better security. {{commons-*}} follows \"all features in a single jar\" pattern, so a CVE in one of the classes would impact Cassandra 2) Fewer bytes to ship with binary distribution. `commons-lang3` is ~690K I have raised a suggestion to make {{commons-lang3}} modular and extract modules like {{commons-stringutils}}, {{commons-arrayutils}}, however, Commons team does not seem to like the idea. Commons PMC members often suggest that users should clone the code or shade commons-lang, see https://lists.apache.org/thread/xzdhv57o9rnxtzn5fqbtkzj0hdkbm339 So I wonder what do you think of dropping commons-lang3 and replacing it with core Java?","output":"Drop commons-lang3 dependency"}
{"instruction":"Classify the status of this issue based on its description:","input":"Drop commons-lang3 dependency\n\nCurrently Cassandra uses only a few classes from commons-lang3, and it would probably be worth dropping the dependency for the following reasons: 1) Better security. {{commons-*}} follows \"all features in a single jar\" pattern, so a CVE in one of the classes would impact Cassandra 2) Fewer bytes to ship with binary distribution. `commons-lang3` is ~690K I have raised a suggestion to make {{commons-lang3}} modular and extract modules like {{commons-stringutils}}, {{commons-arrayutils}}, however, ","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Drop commons-lang3 dependency\n\nCurrently Cassandra uses only a few classes from commons-lang3, and it would probably be worth dropping the dependency for the following reasons: 1) Better security. {{commons-*}} follows \"all features in a single jar\" pattern, so a CVE in one of the classes would impact Cassandra 2) Fewer bytes to ship with binary distribution. `commons-lang3` is ~690K I have raised a suggestion to make {{commons-lang3}} modular and extract modules like {{commons-stringutils}}, {{commons-arrayutils}}, however, ","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Drop commons-lang3 dependency\n\nCurrently Cassandra uses only a few classes from commons-lang3, and it would probably be worth dropping the dependency for the following reasons: 1) Better security. {{commons-*}} follows \"all features in a single jar\" pattern, so a CVE in one of the classes would impact Cassandra 2) Fewer bytes to ship with binary distribution. `commons-lang3` is ~690K I have raised a suggestion to make {{commons-lang3}} modular and extract modules like {{commons-stringutils}}, {{commons-arrayutils}}, however, ","output":"Currently Cassandra uses only a few classes from commons-lang3, and it would probably be worth dropping the dependency for the following reasons: 1) Better security. {{commons-*}} follows \"all features in a single jar\" pattern, so a CVE in one of the classes would impact Cassandra 2) Fewer bytes to "}
{"instruction":"Continue the conversation about this technical issue:","input":"Drop commons-lang3 dependency\n\nCurrently Cassandra uses only a few classes from commons-lang3, and it would probably be worth dropping the dependency for the following reasons: 1) Better security. {{commons-*}} follows \"all feature\n\nConversation:\nuser: Could you please ask on Cassandra's development mailing list? I think it is better to be discussed there. https://cassandra.apache.org/_/community.html#discussions Could you also say what you want to replace and with what exactly? (please do so on ML).\nassistant: Usages of commons-lang3, unfortunately it is not only StringUtils: {code:java} grep -r \"org.apache.commons.lang3\" --no-filename | sort | uniq import org.apache.commons.lang3.ArrayUtils; import org.apache.commons.lang3.ObjectUtils; import org.apache.commons.lang3.StringUtils; import org.apache.common","output":"Usages of commons-lang3, unfortunately it is not only StringUtils: {code:java} grep -r \"org.apache.commons.lang3\" --no-filename | sort | uniq import org.apache.commons.lang3.ArrayUtils; import org.apache.commons.lang3.ObjectUtils; import org.apache.commons.lang3.StringUtils; import org.apache.common"}
{"instruction":"Extract key technical details from this issue:","input":"Currently Cassandra uses only a few classes from commons-lang3, and it would probably be worth dropping the dependency for the following reasons: 1) Better security. {{commons-*}} follows \"all features in a single jar\" pattern, so a CVE in one of the classes would impact Cassandra 2) Fewer bytes to ship with binary distribution. `commons-lang3` is ~690K I have raised a suggestion to make {{commons-lang3}} modular and extract modules like {{commons-stringutils}}, {{commons-arrayutils}}, however, Commons team does not seem to like the idea. Commons PMC members often suggest that users should clone the code or shade commons-lang, see https://lists.apache.org/thread/xzdhv57o9rnxtzn5fqbtkzj0hdkbm339 So I wonder what do you think of dropping commons-lang3 and replacing it with core Java?","output":"Drop commons-lang3 dependency"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Unnecessary write timeouts during node replacement due to conservative pending node accounting in consistency level calculations\n\nh3. Background Cassandra includes pending nodes in the write quorum calculation to ensure consistency level guarantees are maintained during topology changes (e.g., bootstrap, node replacement). This is implemented in ConsistencyLevel.blockForWrite() where pending replicas are added to the required blockFor count. h3. Current Behavior When a node is bootstrapping or being added to the cluster, all pending replicas are unconditionally added to the blockFor requirement, regardless of whether they are replacement nodes or new capacity additions.Example with RF=3, CL=LOCAL_QUORUM: * New node bootstrap (increasing capacity): blockFor = 2 (quorum) → with pending = 3 * Node replacement (old node being replaced): blockFor = 2 → with pending = 3 h3. Problem Statement During a node replacement scenario where a pending node is joining to replace an existing node:Current situation: * Natural replicas: A, B, C (C is being replaced) * Pending replica: D (replacement for C) * Live replicas: A, B, D (3 live nodes after C goes down) * Required ACKs: 3 (base quorum of 2 + 1 pending) The issue: # Although we have 3 live replicas capable of responding, the blockFor requirement of 3 is artificially inflated # The pending replica (D) is typically busy during bootstrap and may respond slowly # Even though we've received ACKs from A and B (satisfying quorum of natural replicas), the write blocks waiting for an ACK from the slow pending replica D # This unnecessary dependency on the replacement pending replica's responsiveness causes write timeouts during node replacement operations h3. Root Cause As the original comment in the ticket https://issues.apache.org/jira/browse/CASSANDRA-833 mentioned: {quote} we want to satisfy CL for both the pre- and post-bootstrap nodes (in case bootstrap aborts). This requires treating the old/new range owner as a unit: both D *and* C need to accept the write for it to count towards CL. So rather than considering {A, B, C, D} we should consider {A, B, (C, D)} This is a lot of complexity to introduce. {quote} the current implementation is a \"simplification\" idea. The current implementation conflates natural and pending replicas into a single blockFor calculation: * blockFor = quorum(all replicas including pending) However, the two replica types serve different purposes: * Natural replicas: The authoritative owners of the data (by replication strategy) * Pending replicas: Temporary nodes either adding capacity (new bootstrap) or replacing an existing node (node replacement) The current approach treats all pending nodes identically, but they should be handled differently based on their topology role. h3. Proposed Solution Decouple blockFor calculation into separate requirements for natural and pending replicas:For normal operations and new bootstrap (Keep current behavior as the implementation might be complex and we can do later): * blockFor = quorum(natural replicas) + all pending replicas * This ensures: quorum of natural replicas respond, PLUS any pending nodes respond * Protects against topology change cancellation {color:#de350b}For node replacement:{color} * {color:#de350b}blockFor = quorum(natural replicas) only{color} * {color:#de350b}This ensures: only quorum of natural replicas need to respond{color} * {color:#de350b}Pending replacement node responds when available but is not required{color} * {color:#de350b}Eliminates unnecessary dependency on busy pending replica during replacement{color} h3. Implementation For normal node bootstrap, we will block as what we are doing now as it is too complicate to determine the unit of a (new owner and old owner). For node replacements, as the old node is down, the (new node + old node) unit cannot response the write anyway. We will just block for the consistency level(natural replicas). The implementation should not be complicated as the node replacement relationship is clear.","output":"Unnecessary write timeouts during node replacement due to conservative pending node accounting in consistency level calculations"}
{"instruction":"Classify the status of this issue based on its description:","input":"Unnecessary write timeouts during node replacement due to conservative pending node accounting in consistency level calculations\n\nh3. Background Cassandra includes pending nodes in the write quorum calculation to ensure consistency level guarantees are maintained during topology changes (e.g., bootstrap, node replacement). This is implemented in ConsistencyLevel.blockForWrite() where pending replicas are added to the required blockFor count. h3. Current Behavior When a node is bootstrapping or being added to the cluster, all pending replicas are unconditionally added to the blockFor requirement, regardless of whether they ","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Unnecessary write timeouts during node replacement due to conservative pending node accounting in consistency level calculations\n\nh3. Background Cassandra includes pending nodes in the write quorum calculation to ensure consistency level guarantees are maintained during topology changes (e.g., bootstrap, node replacement). This is implemented in ConsistencyLevel.blockForWrite() where pending replicas are added to the required blockFor count. h3. Current Behavior When a node is bootstrapping or being added to the cluster, all pending replicas are unconditionally added to the blockFor requirement, regardless of whether they ","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Unnecessary write timeouts during node replacement due to conservative pending node accounting in consistency level calculations\n\nh3. Background Cassandra includes pending nodes in the write quorum calculation to ensure consistency level guarantees are maintained during topology changes (e.g., bootstrap, node replacement). This is implemented in ConsistencyLevel.blockForWrite() where pending replicas are added to the required blockFor count. h3. Current Behavior When a node is bootstrapping or being added to the cluster, all pending replicas are unconditionally added to the blockFor requirement, regardless of whether they ","output":"h3. Background Cassandra includes pending nodes in the write quorum calculation to ensure consistency level guarantees are maintained during topology changes (e.g., bootstrap, node replacement). This is implemented in ConsistencyLevel.blockForWrite() where pending replicas are added to the required "}
{"instruction":"Extract key technical details from this issue:","input":"h3. Background Cassandra includes pending nodes in the write quorum calculation to ensure consistency level guarantees are maintained during topology changes (e.g., bootstrap, node replacement). This is implemented in ConsistencyLevel.blockForWrite() where pending replicas are added to the required blockFor count. h3. Current Behavior When a node is bootstrapping or being added to the cluster, all pending replicas are unconditionally added to the blockFor requirement, regardless of whether they are replacement nodes or new capacity additions.Example with RF=3, CL=LOCAL_QUORUM: * New node bootstrap (increasing capacity): blockFor = 2 (quorum) → with pending = 3 * Node replacement (old node being replaced): blockFor = 2 → with pending = 3 h3. Problem Statement During a node replacement scena","output":"Unnecessary write timeouts during node replacement due to conservative pending node accounting in consistency level calculations"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix ExceptionsTable when stacktrace has zero elements\n\nI saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [junit-timeout] java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248) 02:01:57 [junit-timeout] at java.base/java.util.Objects.checkIndex(Objects.java:374) 02:01:57 [junit-timeout] at java.base/java.util.ArrayList.get(ArrayList.java:459) 02:01:57 [junit-timeout] at org.apache.cassandra.db.virtual.ExceptionsTable.persist(ExceptionsTable.java:182) 02:01:57 [junit-timeout] at org.apache.cassandra.utils.JVMStabilityInspector.uncaughtException(JVMStabilityInspector.java:74) 02:01:57 [junit-timeout] at org.apache.cassandra.concurrent.ExecutionFailure.handle(ExecutionFailure.java:72) 02:01:57 [junit-timeout] at org.apache.cassandra.concurrent.ExecutionFailure$1.run(ExecutionFailure.java:142) 02:01:57 [junit-timeout] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) 02:01:57 [junit-timeout] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) 02:01:57 [junit-timeout] at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) {code} That is because we do \"stackTrace.get(0)\" in ExceptionsTable.persist(Throwable) and there is wrong assumption that stacktrace will always have some elements but it might be actually also empty.","output":"Fix ExceptionsTable when stacktrace has zero elements"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix ExceptionsTable when stacktrace has zero elements\n\nI saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [junit-timeout] java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:7","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix ExceptionsTable when stacktrace has zero elements\n\nI saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [junit-timeout] java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:7","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix ExceptionsTable when stacktrace has zero elements\n\nI saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [junit-timeout] java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:7","output":"I saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [junit-timeout] java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 02:01:57 [junit-t"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix ExceptionsTable when stacktrace has zero elements\n\nI saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [junit-timeout] java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:7","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix ExceptionsTable when stacktrace has zero elements\n\nI saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [juni\n\nConversation:\nuser: https://github.com/apache/cassandra/pull/4453\nassistant: +1 if CI looks good\nassistant: +1\nassistant: I dont see failing tests related to this change https://pre-ci.cassandra.apache.org/job/cassandra/141/#showFailuresLink","output":"I dont see failing tests related to this change https://pre-ci.cassandra.apache.org/job/cassandra/141/#showFailuresLink"}
{"instruction":"Extract key technical details from this issue:","input":"I saw this in one of pre-ci runs: {code} 02:01:57 [junit-timeout] ERROR [Reconcile:2] 2025-10-30T02:01:57,672 ExecutionFailure.java:77 - Unexpected error while handling unexpected error 02:01:57 [junit-timeout] java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70) 02:01:57 [junit-timeout] at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248) 02:01:57 [junit-timeout] at java.base/java.util.Objects.checkIndex(Objects.java:374) 02:01:57 [junit-timeout] at java.base/java.util.ArrayList.get(ArrayList.java:459) 02:01:57 [junit-timeout] ","output":"Fix ExceptionsTable when stacktrace has zero elements"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Drop table vs truncate table commands behaviors\n\nWe are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped table is later re-created it will get a new schema ID assigned. However, truncate requires all nodes to be up for truncate to work. Even though the nodes are not part of the replicas for the keyspace. Is this expected behavior for the two commands? I would expect the following: - Truncate to only require replicas of the keyspace to be up - Drop table to require all nodes to be up as schema ID is re-created (if table is re-created)","output":"Drop table vs truncate table commands behaviors"}
{"instruction":"Classify the status of this issue based on its description:","input":"Drop table vs truncate table commands behaviors\n\nWe are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped table is later re-created it will get a new schema ID assigned. However, truncate requires all nodes to be up for truncate to work. Even though the nodes are not part of the replicas for the keyspace. Is this expected behavior for the two commands? I would expect the following: - Truncate to only requir","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Drop table vs truncate table commands behaviors\n\nWe are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped table is later re-created it will get a new schema ID assigned. However, truncate requires all nodes to be up for truncate to work. Even though the nodes are not part of the replicas for the keyspace. Is this expected behavior for the two commands? I would expect the following: - Truncate to only requir","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Drop table vs truncate table commands behaviors\n\nWe are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped table is later re-created it will get a new schema ID assigned. However, truncate requires all nodes to be up for truncate to work. Even though the nodes are not part of the replicas for the keyspace. Is this expected behavior for the two commands? I would expect the following: - Truncate to only requir","output":"We are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped table is later re-created it will get a new schema ID assigned. However, truncate requires all nodes to "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Drop table vs truncate table commands behaviors\n\nWe are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped table is later re-created it will get a new schema ID assigned. However, truncate requires all nodes to be up for truncate to work. Even though the nodes are not part of the replicas for the keyspace. Is this expected behavior for the two commands? I would expect the following: - Truncate to only requir","output":"Duplicate"}
{"instruction":"Continue the conversation about this technical issue:","input":"Drop table vs truncate table commands behaviors\n\nWe are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped tabl\n\nConversation:\nuser: Truncate requires all nodes to be up until CASSANDRA-19130 is completed.","output":"Truncate requires all nodes to be up until CASSANDRA-19130 is completed."}
{"instruction":"Extract key technical details from this issue:","input":"We are experimenting with drop table and truncate command and are observing conflicting behaviors while having nodes down. Drop table is able to execute even though nodes are down, if the dropped table is later re-created it will get a new schema ID assigned. However, truncate requires all nodes to be up for truncate to work. Even though the nodes are not part of the replicas for the keyspace. Is this expected behavior for the two commands? I would expect the following: - Truncate to only require replicas of the keyspace to be up - Drop table to require all nodes to be up as schema ID is re-created (if table is re-created)","output":"Drop table vs truncate table commands behaviors"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)\n\nThe build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell file ({{{}#!/bin/bash{}}}) rather than a Windows batch file, which triggers the {{CreateProcess error=193, %1 is not a valid Win32 application}} exception. *Environment:* OS: Windows 11 Pro (Version 10.0.26200 Build 26200) Java: Java(TM) SE Runtime Environment 18.9 (build 11.0.21+9-LTS-193) JVM: Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.21+9-LTS-193, mixed mode) Ant: Apache Ant(TM) version 1.10.15 compiled on August 25 2024 Cassandra branch: trunk (latest, cloned from apache/cassandra) *Steps to reproduce:* 1) git clone [https://github.com/apache/cassandra.git] 2) {{cd cassandra }} 3) ant build Observe the failure when the {{build-accord.xml}} script is executed: BUILD FAILED D:\\...\\cassandra\\.build\\build-accord.xml:22: Execute failed: java.io.IOException: Cannot run program \"D:\\...\\cassandra\\modules\\accord\\gradlew\" (in directory \"D:\\...\\cassandra\\modules\\accord\"): CreateProcess error=193, %1 is not a valid Win32 application","output":"Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)\n\nThe build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell file ({{{}#!/bin/bash{}}}) rather than a Windows batch file, which triggers the {{CreateProcess error=193, %1 is not a valid Win32 application}} exception. *Environment:* OS: Windows 11 Pro (Version 10.0.26200 Build 26200) Java: Java(TM) SE Runtime Environment 18.9 (build 11.0.21+9-LTS-193) JVM: Ja","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)\n\nThe build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell file ({{{}#!/bin/bash{}}}) rather than a Windows batch file, which triggers the {{CreateProcess error=193, %1 is not a valid Win32 application}} exception. *Environment:* OS: Windows 11 Pro (Version 10.0.26200 Build 26200) Java: Java(TM) SE Runtime Environment 18.9 (build 11.0.21+9-LTS-193) JVM: Ja","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)\n\nThe build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell file ({{{}#!/bin/bash{}}}) rather than a Windows batch file, which triggers the {{CreateProcess error=193, %1 is not a valid Win32 application}} exception. *Environment:* OS: Windows 11 Pro (Version 10.0.26200 Build 26200) Java: Java(TM) SE Runtime Environment 18.9 (build 11.0.21+9-LTS-193) JVM: Ja","output":"The build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell file ({{{}#!/bin/bash{}}}) rather than a Windows batch file, which triggers the {{CreateProcess err"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)\n\nThe build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell file ({{{}#!/bin/bash{}}}) rather than a Windows batch file, which triggers the {{CreateProcess error=193, %1 is not a valid Win32 application}} exception. *Environment:* OS: Windows 11 Pro (Version 10.0.26200 Build 26200) Java: Java(TM) SE Runtime Environment 18.9 (build 11.0.21+9-LTS-193) JVM: Ja","output":"Invalid"}
{"instruction":"Continue the conversation about this technical issue:","input":"Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)\n\nThe build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell\n\nConversation:\nuser: Windows support was removed in 4.0 https://www.mail-archive.com/dev@cassandra.apache.org/msg15583.html\nassistant: I hadn't found any references about it. Thank you.","output":"I hadn't found any references about it. Thank you."}
{"instruction":"Extract key technical details from this issue:","input":"The build process fails on Windows when running the Ant task that invokes the Gradle wrapper inside the {{modules/accord}} directory. The failure is caused by the {{gradlew}} script being a Unix shell file ({{{}#!/bin/bash{}}}) rather than a Windows batch file, which triggers the {{CreateProcess error=193, %1 is not a valid Win32 application}} exception. *Environment:* OS: Windows 11 Pro (Version 10.0.26200 Build 26200) Java: Java(TM) SE Runtime Environment 18.9 (build 11.0.21+9-LTS-193) JVM: Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.21+9-LTS-193, mixed mode) Ant: Apache Ant(TM) version 1.10.15 compiled on August 25 2024 Cassandra branch: trunk (latest, cloned from apache/cassandra) *Steps to reproduce:* 1) git clone [https://github.com/apache/cassandra.git] 2) {{cd cassandra }} 3","output":"Windows build failure: Ant task cannot execute Gradle wrapper under modules/accord (error=193)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix in-JVM tests that involve the integration of mutation tracking and witnesses\n\nThe following tests need simple changes to enable tracked keyspaces, but that might not be enough to get them passing. Range movements are not yet supported with mutation tracking, for instance... {{TransientRangeMovement2Test}} {{TransientRangeMovementTest}} {{NTSSimulationTest}} {{CleanupTransientTest}} {{OperationalEquivalenceTest}} {{SimpleStrategySimulationTest}}","output":"Fix in-JVM tests that involve the integration of mutation tracking and witnesses"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix in-JVM tests that involve the integration of mutation tracking and witnesses\n\nThe following tests need simple changes to enable tracked keyspaces, but that might not be enough to get them passing. Range movements are not yet supported with mutation tracking, for instance... {{TransientRangeMovement2Test}} {{TransientRangeMovementTest}} {{NTSSimulationTest}} {{CleanupTransientTest}} {{OperationalEquivalenceTest}} {{SimpleStrategySimulationTest}}","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Fix in-JVM tests that involve the integration of mutation tracking and witnesses\n\nThe following tests need simple changes to enable tracked keyspaces, but that might not be enough to get them passing. Range movements are not yet supported with mutation tracking, for instance... {{TransientRangeMovement2Test}} {{TransientRangeMovementTest}} {{NTSSimulationTest}} {{CleanupTransientTest}} {{OperationalEquivalenceTest}} {{SimpleStrategySimulationTest}}","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix in-JVM tests that involve the integration of mutation tracking and witnesses\n\nThe following tests need simple changes to enable tracked keyspaces, but that might not be enough to get them passing. Range movements are not yet supported with mutation tracking, for instance... {{TransientRangeMovement2Test}} {{TransientRangeMovementTest}} {{NTSSimulationTest}} {{CleanupTransientTest}} {{OperationalEquivalenceTest}} {{SimpleStrategySimulationTest}}","output":"The following tests need simple changes to enable tracked keyspaces, but that might not be enough to get them passing. Range movements are not yet supported with mutation tracking, for instance... {{TransientRangeMovement2Test}} {{TransientRangeMovementTest}} {{NTSSimulationTest}} {{CleanupTransient"}
{"instruction":"Extract key technical details from this issue:","input":"The following tests need simple changes to enable tracked keyspaces, but that might not be enough to get them passing. Range movements are not yet supported with mutation tracking, for instance... {{TransientRangeMovement2Test}} {{TransientRangeMovementTest}} {{NTSSimulationTest}} {{CleanupTransientTest}} {{OperationalEquivalenceTest}} {{SimpleStrategySimulationTest}}","output":"Fix in-JVM tests that involve the integration of mutation tracking and witnesses"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"rpc_interface won't find veth peer interfaces\n\nIf the network is using peered interfaces, the ability to use \"rpc_interface\" is lost since it only accepts the exact naming. This naming is however dynamic since it depends on the time the interface was generated. Virtual networks with peered interfaces have the format @if . For example, the following output is possible: {noformat} 11: eth0@if20: mtu 65535 qdisc noqueue state UP group default qlen 1000 link/ether 32:41:2a:58:15:2d brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet6 fd00:10:244:4::a/64 scope global valid_lft forever preferred_lft forever inet6 fe80::3041:2aff:fe58:152d/64 scope link proto kernel_ll valid_lft forever preferred_lft forever {noformat} This is pretty common in virtualized environments (or Kubernetes). The way that rpc_interface works is by using NetworkInterface.getByName(intf) and this leads to exact name matching (at least in the current JDK, https://github.com/openjdk/jdk/blob/e7c7892b9f0fcee37495cce312fdd67dc800f9c9/src/java.base/unix/native/libnet/NetworkInterface.c#L202 which does not understand the @ separator. This leads to an issue where setting \"eth0\" on every node as the preferred rpc_interface (due to existence of multiple interfaces in the system with dynamic IPs) will result in Cassandra not starting. A similar issue might happen with VLANs where the naming has a running index also.","output":"rpc_interface won't find veth peer interfaces"}
{"instruction":"Classify the status of this issue based on its description:","input":"rpc_interface won't find veth peer interfaces\n\nIf the network is using peered interfaces, the ability to use \"rpc_interface\" is lost since it only accepts the exact naming. This naming is however dynamic since it depends on the time the interface was generated. Virtual networks with peered interfaces have the format @if . For example, the following output is possible: {noformat} 11: eth0@if20: mtu 65535 qdisc noqueue state UP group default qlen 1000 link/ether 32:41:2a:58:15:2d brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet6 fd00:10:244:4::a/64 s","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"rpc_interface won't find veth peer interfaces\n\nIf the network is using peered interfaces, the ability to use \"rpc_interface\" is lost since it only accepts the exact naming. This naming is however dynamic since it depends on the time the interface was generated. Virtual networks with peered interfaces have the format @if . For example, the following output is possible: {noformat} 11: eth0@if20: mtu 65535 qdisc noqueue state UP group default qlen 1000 link/ether 32:41:2a:58:15:2d brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet6 fd00:10:244:4::a/64 s","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: rpc_interface won't find veth peer interfaces\n\nIf the network is using peered interfaces, the ability to use \"rpc_interface\" is lost since it only accepts the exact naming. This naming is however dynamic since it depends on the time the interface was generated. Virtual networks with peered interfaces have the format @if . For example, the following output is possible: {noformat} 11: eth0@if20: mtu 65535 qdisc noqueue state UP group default qlen 1000 link/ether 32:41:2a:58:15:2d brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet6 fd00:10:244:4::a/64 s","output":"If the network is using peered interfaces, the ability to use \"rpc_interface\" is lost since it only accepts the exact naming. This naming is however dynamic since it depends on the time the interface was generated. Virtual networks with peered interfaces have the format @if . For example, the follow"}
{"instruction":"Continue the conversation about this technical issue:","input":"rpc_interface won't find veth peer interfaces\n\nIf the network is using peered interfaces, the ability to use \"rpc_interface\" is lost since it only accepts the exact naming. This naming is however dynamic since it depends on the time the interface \n\nConversation:\nuser: I did quick investigation of this issue and there does not seem to be a fix. There is also {{NetworkInterface.getNetworkInterfaces()}} but that one does not seem to return peered interfaces in the above-mentioned format. So I think that {{rpc_interface}} can be used just in connection with non-peere","output":"I did quick investigation of this issue and there does not seem to be a fix. There is also {{NetworkInterface.getNetworkInterfaces()}} but that one does not seem to return peered interfaces in the above-mentioned format. So I think that {{rpc_interface}} can be used just in connection with non-peere"}
{"instruction":"Extract key technical details from this issue:","input":"If the network is using peered interfaces, the ability to use \"rpc_interface\" is lost since it only accepts the exact naming. This naming is however dynamic since it depends on the time the interface was generated. Virtual networks with peered interfaces have the format @if . For example, the following output is possible: {noformat} 11: eth0@if20: mtu 65535 qdisc noqueue state UP group default qlen 1000 link/ether 32:41:2a:58:15:2d brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet6 fd00:10:244:4::a/64 scope global valid_lft forever preferred_lft forever inet6 fe80::3041:2aff:fe58:152d/64 scope link proto kernel_ll valid_lft forever preferred_lft forever {noformat} This is pretty common in virtualized environments (or Kubernetes). The way that rpc_interface works is by using NetworkInterface.getByN","output":"rpc_interface won't find veth peer interfaces"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add virtual tables - MutationJournal and MutationShard\n\nSummary: We are adding a new virtual tables for MutationShard and MutationJournal to enable ease of operation for Mutation Tracking functionality. MutationShardTable: 1. Witnessed Offsets 2. Reconciled Offsets 3. Persisted Offsets MutationJournalTable 1. Size 2. Number of Segments 3. Segment Contents","output":"Add virtual tables - MutationJournal and MutationShard"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add virtual tables - MutationJournal and MutationShard\n\nSummary: We are adding a new virtual tables for MutationShard and MutationJournal to enable ease of operation for Mutation Tracking functionality. MutationShardTable: 1. Witnessed Offsets 2. Reconciled Offsets 3. Persisted Offsets MutationJournalTable 1. Size 2. Number of Segments 3. Segment Contents","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Add virtual tables - MutationJournal and MutationShard\n\nSummary: We are adding a new virtual tables for MutationShard and MutationJournal to enable ease of operation for Mutation Tracking functionality. MutationShardTable: 1. Witnessed Offsets 2. Reconciled Offsets 3. Persisted Offsets MutationJournalTable 1. Size 2. Number of Segments 3. Segment Contents","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add virtual tables - MutationJournal and MutationShard\n\nSummary: We are adding a new virtual tables for MutationShard and MutationJournal to enable ease of operation for Mutation Tracking functionality. MutationShardTable: 1. Witnessed Offsets 2. Reconciled Offsets 3. Persisted Offsets MutationJournalTable 1. Size 2. Number of Segments 3. Segment Contents","output":"Summary: We are adding a new virtual tables for MutationShard and MutationJournal to enable ease of operation for Mutation Tracking functionality. MutationShardTable: 1. Witnessed Offsets 2. Reconciled Offsets 3. Persisted Offsets MutationJournalTable 1. Size 2. Number of Segments 3. Segment Content"}
{"instruction":"Extract key technical details from this issue:","input":"Summary: We are adding a new virtual tables for MutationShard and MutationJournal to enable ease of operation for Mutation Tracking functionality. MutationShardTable: 1. Witnessed Offsets 2. Reconciled Offsets 3. Persisted Offsets MutationJournalTable 1. Size 2. Number of Segments 3. Segment Contents","output":"Add virtual tables - MutationJournal and MutationShard"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add metrics for Mutation Tracking\n\nSummary: We’re going to need new metrics to make the new Mutation Tracking functionality easy to operate. Here’s a basic list of what we have in mind: 1. Offsets applied via broadcast 2. Read summary sizes 3. Number of unreconciled mutations 4. Size of MutationJournal on disk","output":"Add metrics for Mutation Tracking"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add metrics for Mutation Tracking\n\nSummary: We’re going to need new metrics to make the new Mutation Tracking functionality easy to operate. Here’s a basic list of what we have in mind: 1. Offsets applied via broadcast 2. Read summary sizes 3. Number of unreconciled mutations 4. Size of MutationJournal on disk","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Add metrics for Mutation Tracking\n\nSummary: We’re going to need new metrics to make the new Mutation Tracking functionality easy to operate. Here’s a basic list of what we have in mind: 1. Offsets applied via broadcast 2. Read summary sizes 3. Number of unreconciled mutations 4. Size of MutationJournal on disk","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add metrics for Mutation Tracking\n\nSummary: We’re going to need new metrics to make the new Mutation Tracking functionality easy to operate. Here’s a basic list of what we have in mind: 1. Offsets applied via broadcast 2. Read summary sizes 3. Number of unreconciled mutations 4. Size of MutationJournal on disk","output":"Summary: We’re going to need new metrics to make the new Mutation Tracking functionality easy to operate. Here’s a basic list of what we have in mind: 1. Offsets applied via broadcast 2. Read summary sizes 3. Number of unreconciled mutations 4. Size of MutationJournal on disk"}
{"instruction":"Extract key technical details from this issue:","input":"Summary: We’re going to need new metrics to make the new Mutation Tracking functionality easy to operate. Here’s a basic list of what we have in mind: 1. Offsets applied via broadcast 2. Read summary sizes 3. Number of unreconciled mutations 4. Size of MutationJournal on disk","output":"Add metrics for Mutation Tracking"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix broken link in README.asc\n\nOne word fix for getting started link {code:java} diff --git a/README.asc b/README.asc index e6e4fcca16..82c33c5d4c 100644 --- a/README.asc +++ b/README.asc @@ -31,7 +31,7 @@ Getting started --------------- This short guide will walk you through getting a basic one node cluster up -and running, and demonstrate some simple reads and writes. For a more-complete guide, please see the Apache Cassandra website's https://cassandra.apache.org/doc/latest/cassandra/getting_started/index.html[Getting Started Guide]. +and running, and demonstrate some simple reads and writes. For a more-complete guide, please see the Apache Cassandra website's https://cassandra.apache.org/doc/latest/cassandra/getting-started/index.html[Getting Started Guide]. First, we'll unpack our archive: {code}","output":"Fix broken link in README.asc"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix broken link in README.asc\n\nOne word fix for getting started link {code:java} diff --git a/README.asc b/README.asc index e6e4fcca16..82c33c5d4c 100644 --- a/README.asc +++ b/README.asc @@ -31,7 +31,7 @@ Getting started --------------- This short guide will walk you through getting a basic one node cluster up -and running, and demonstrate some simple reads and writes. For a more-complete guide, please see the Apache Cassandra website's https://cassandra.apache.org/doc/latest/cassandra/getting_started/index.html[Getting Star","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Fix broken link in README.asc\n\nOne word fix for getting started link {code:java} diff --git a/README.asc b/README.asc index e6e4fcca16..82c33c5d4c 100644 --- a/README.asc +++ b/README.asc @@ -31,7 +31,7 @@ Getting started --------------- This short guide will walk you through getting a basic one node cluster up -and running, and demonstrate some simple reads and writes. For a more-complete guide, please see the Apache Cassandra website's https://cassandra.apache.org/doc/latest/cassandra/getting_started/index.html[Getting Star","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix broken link in README.asc\n\nOne word fix for getting started link {code:java} diff --git a/README.asc b/README.asc index e6e4fcca16..82c33c5d4c 100644 --- a/README.asc +++ b/README.asc @@ -31,7 +31,7 @@ Getting started --------------- This short guide will walk you through getting a basic one node cluster up -and running, and demonstrate some simple reads and writes. For a more-complete guide, please see the Apache Cassandra website's https://cassandra.apache.org/doc/latest/cassandra/getting_started/index.html[Getting Star","output":"One word fix for getting started link {code:java} diff --git a/README.asc b/README.asc index e6e4fcca16..82c33c5d4c 100644 --- a/README.asc +++ b/README.asc @@ -31,7 +31,7 @@ Getting started --------------- This short guide will walk you through getting a basic one node cluster up -and running, and "}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix broken link in README.asc\n\nOne word fix for getting started link {code:java} diff --git a/README.asc b/README.asc index e6e4fcca16..82c33c5d4c 100644 --- a/README.asc +++ b/README.asc @@ -31,7 +31,7 @@ Getting started ---------\n\nConversation:\nuser: PR - https://github.com/apache/cassandra/pull/4440","output":"PR - https://github.com/apache/cassandra/pull/4440"}
{"instruction":"Extract key technical details from this issue:","input":"One word fix for getting started link {code:java} diff --git a/README.asc b/README.asc index e6e4fcca16..82c33c5d4c 100644 --- a/README.asc +++ b/README.asc @@ -31,7 +31,7 @@ Getting started --------------- This short guide will walk you through getting a basic one node cluster up -and running, and demonstrate some simple reads and writes. For a more-complete guide, please see the Apache Cassandra website's https://cassandra.apache.org/doc/latest/cassandra/getting_started/index.html[Getting Started Guide]. +and running, and demonstrate some simple reads and writes. For a more-complete guide, please see the Apache Cassandra website's https://cassandra.apache.org/doc/latest/cassandra/getting-started/index.html[Getting Started Guide]. First, we'll unpack our archive: {code}","output":"Fix broken link in README.asc"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix java.lang.ClassCastException: Streaming Incompatible versions\n\nOn version mismatch or protocol incompatibility between the two communicating nodes, cassandra server does not handle the errors correctly. There is no proper error handling when ClassCastException occurs, since it is not consistently reproducible. In https://lists.apache.org/thread/ykkwhjdpgyqzw5xtol4v5ysz664bxxl3. the \"Stream failed\" message points to a streaming operation, which is used for processes like node repairs or adding new nodes (bootstrapping). I found a similar Jira that was already raised - https://issues.apache.org/jira/browse/CASSANDRA-19218. Not sure what to do with this JIRA. Looks like a duplicate.","output":"Fix java.lang.ClassCastException: Streaming Incompatible versions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix java.lang.ClassCastException: Streaming Incompatible versions\n\nOn version mismatch or protocol incompatibility between the two communicating nodes, cassandra server does not handle the errors correctly. There is no proper error handling when ClassCastException occurs, since it is not consistently reproducible. In https://lists.apache.org/thread/ykkwhjdpgyqzw5xtol4v5ysz664bxxl3. the \"Stream failed\" message points to a streaming operation, which is used for processes like node repairs or adding new nodes (bootstrapping). I found a similar Jira that was alread","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Fix java.lang.ClassCastException: Streaming Incompatible versions\n\nOn version mismatch or protocol incompatibility between the two communicating nodes, cassandra server does not handle the errors correctly. There is no proper error handling when ClassCastException occurs, since it is not consistently reproducible. In https://lists.apache.org/thread/ykkwhjdpgyqzw5xtol4v5ysz664bxxl3. the \"Stream failed\" message points to a streaming operation, which is used for processes like node repairs or adding new nodes (bootstrapping). I found a similar Jira that was alread","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix java.lang.ClassCastException: Streaming Incompatible versions\n\nOn version mismatch or protocol incompatibility between the two communicating nodes, cassandra server does not handle the errors correctly. There is no proper error handling when ClassCastException occurs, since it is not consistently reproducible. In https://lists.apache.org/thread/ykkwhjdpgyqzw5xtol4v5ysz664bxxl3. the \"Stream failed\" message points to a streaming operation, which is used for processes like node repairs or adding new nodes (bootstrapping). I found a similar Jira that was alread","output":"On version mismatch or protocol incompatibility between the two communicating nodes, cassandra server does not handle the errors correctly. There is no proper error handling when ClassCastException occurs, since it is not consistently reproducible. In https://lists.apache.org/thread/ykkwhjdpgyqzw5xt"}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix java.lang.ClassCastException: Streaming Incompatible versions\n\nOn version mismatch or protocol incompatibility between the two communicating nodes, cassandra server does not handle the errors correctly. There is no proper error handling when ClassCastException oc\n\nConversation:\nuser: Looks like the Streaming part of cassandra is not robust like the Message handling code side of cassandra. The message handling part of the cassandra server code i.e org.apache.cassandra.net.OutboundConnection has all available information to handle every condition within code. Esp, the class org.ap\nassistant: Related issue that was earlier reported\nassistant: vkoya thank you for your work! 4.1 runs at least on Java 8. CASSANDRA-19218 says this issue exists in 4.1 as well. So we will need to produce a patch which compiles to Java 8 as well. For 5.0+ branches the minimum is Java 11. If you have a patch for Java 16, can you look into how to make it work wit\nassistant: Yes, thanks for the update. I incorporated your feedback in StreamingTest.java. Now the code should work with JDK 8.\nassistant: Could you also please create patches / pull requests for 4.1 and 5.0 branch? The current PR is against trunk only. I think that is should be without any issues but you never know. There might be subtle differences when a patch is going to be re-applied to lower branches. Figuring out all the potenti","output":"I took a deeper look into the patch and I think that we should actually do something slightly different, I did it here (1). The overall hardening seems to be the right way, but we need to test whole NettyStreamingConnectionFactory.connect (and what it returns / throws). It is not enough to just call"}
{"instruction":"Extract key technical details from this issue:","input":"On version mismatch or protocol incompatibility between the two communicating nodes, cassandra server does not handle the errors correctly. There is no proper error handling when ClassCastException occurs, since it is not consistently reproducible. In https://lists.apache.org/thread/ykkwhjdpgyqzw5xtol4v5ysz664bxxl3. the \"Stream failed\" message points to a streaming operation, which is used for processes like node repairs or adding new nodes (bootstrapping). I found a similar Jira that was already raised - https://issues.apache.org/jira/browse/CASSANDRA-19218. Not sure what to do with this JIRA. Looks like a duplicate.","output":"Fix java.lang.ClassCastException: Streaming Incompatible versions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Paxos repair blocks response thread\n\nCASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the request response stage, and with the PaxosCleanupLocalCoordinator lock held. This patch adjusts this by putting a delayed repair into a delayed queue, and scheduling a wakeup task for after the timeout expires.","output":"Paxos repair blocks response thread"}
{"instruction":"Classify the status of this issue based on its description:","input":"Paxos repair blocks response thread\n\nCASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the request response stage, and with the PaxosCleanupLocalCoordinator lock held. This patch adjusts this by putting a delayed repair into a delayed queue, and scheduling a wakeup task for after the timeout expires.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Paxos repair blocks response thread\n\nCASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the request response stage, and with the PaxosCleanupLocalCoordinator lock held. This patch adjusts this by putting a delayed repair into a delayed queue, and scheduling a wakeup task for after the timeout expires.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Paxos repair blocks response thread\n\nCASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the request response stage, and with the PaxosCleanupLocalCoordinator lock held. This patch adjusts this by putting a delayed repair into a delayed queue, and scheduling a wakeup task for after the timeout expires.","output":"CASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the request response stage, and with the PaxosCleanupLocalCoordinator lock held. This patch adjusts this b"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Paxos repair blocks response thread\n\nCASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the request response stage, and with the PaxosCleanupLocalCoordinator lock held. This patch adjusts this by putting a delayed repair into a delayed queue, and scheduling a wakeup task for after the timeout expires.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Paxos repair blocks response thread\n\nCASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the re\n\nConversation:\nuser: PR: https://github.com/apache/cassandra/pull/4434\nassistant: +1'd on PR","output":"+1'd on PR"}
{"instruction":"Extract key technical details from this issue:","input":"CASSANDRA-20469 prevented paxos repairs from preempting in progress paxos transactions by holding repairs until after they would have timed out. However, it added a sleep that’s often called in the request response stage, and with the PaxosCleanupLocalCoordinator lock held. This patch adjusts this by putting a delayed repair into a delayed queue, and scheduling a wakeup task for after the timeout expires.","output":"Paxos repair blocks response thread"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"BytesType should only be compatible with simple scalar types\n\nDiscovered while backporting CASSANDRA-18760, see https://github.com/datastax/cassandra/commit/b5f7d239ce92db7d9c5f79c69cad0caea67fcb23 Basically, things like https://github.com/apache/cassandra/blob/trunk/test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java#L71 shouldn't be allowed to pass, because converting a frozen collection to bytes allows reading the raw bytes, which is nonsensical. This was found because the AbstractTypeTest is beefed up https://github.com/datastax/cassandra/blob/main/test/unit/org/apache/cassandra/db/marshal/AbstractTypeTest.java","output":"BytesType should only be compatible with simple scalar types"}
{"instruction":"Classify the status of this issue based on its description:","input":"BytesType should only be compatible with simple scalar types\n\nDiscovered while backporting CASSANDRA-18760, see https://github.com/datastax/cassandra/commit/b5f7d239ce92db7d9c5f79c69cad0caea67fcb23 Basically, things like https://github.com/apache/cassandra/blob/trunk/test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java#L71 shouldn't be allowed to pass, because converting a frozen collection to bytes allows reading the raw bytes, which is nonsensical. This was found because the AbstractTypeTest is beefed up https://github.com/datastax/ca","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"BytesType should only be compatible with simple scalar types\n\nDiscovered while backporting CASSANDRA-18760, see https://github.com/datastax/cassandra/commit/b5f7d239ce92db7d9c5f79c69cad0caea67fcb23 Basically, things like https://github.com/apache/cassandra/blob/trunk/test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java#L71 shouldn't be allowed to pass, because converting a frozen collection to bytes allows reading the raw bytes, which is nonsensical. This was found because the AbstractTypeTest is beefed up https://github.com/datastax/ca","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: BytesType should only be compatible with simple scalar types\n\nDiscovered while backporting CASSANDRA-18760, see https://github.com/datastax/cassandra/commit/b5f7d239ce92db7d9c5f79c69cad0caea67fcb23 Basically, things like https://github.com/apache/cassandra/blob/trunk/test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java#L71 shouldn't be allowed to pass, because converting a frozen collection to bytes allows reading the raw bytes, which is nonsensical. This was found because the AbstractTypeTest is beefed up https://github.com/datastax/ca","output":"Discovered while backporting CASSANDRA-18760, see https://github.com/datastax/cassandra/commit/b5f7d239ce92db7d9c5f79c69cad0caea67fcb23 Basically, things like https://github.com/apache/cassandra/blob/trunk/test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java#L71 shouldn't be allo"}
{"instruction":"Continue the conversation about this technical issue:","input":"BytesType should only be compatible with simple scalar types\n\nDiscovered while backporting CASSANDRA-18760, see https://github.com/datastax/cassandra/commit/b5f7d239ce92db7d9c5f79c69cad0caea67fcb23 Basically, things like https://github.com/apache/cassandra/blob/\n\nConversation:\nuser: brandon.williams, can I take this task?\nassistant: Certainly!\nassistant: Thanks, I'm on it!\nassistant: Thank you! I'm happy to review when ready.\nassistant: brandon.williams, done: https://github.com/apache/cassandra/pull/4439","output":"bq. But I guess the casting functions could produce and consume the type of representation that is used for their frozen equivalents? I don't have a clear use case in mind, but given it is explicit the user shouldn't be surprised at the result, and perhaps it's useful in debugging or some unconventi"}
{"instruction":"Extract key technical details from this issue:","input":"Discovered while backporting CASSANDRA-18760, see https://github.com/datastax/cassandra/commit/b5f7d239ce92db7d9c5f79c69cad0caea67fcb23 Basically, things like https://github.com/apache/cassandra/blob/trunk/test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java#L71 shouldn't be allowed to pass, because converting a frozen collection to bytes allows reading the raw bytes, which is nonsensical. This was found because the AbstractTypeTest is beefed up https://github.com/datastax/cassandra/blob/main/test/unit/org/apache/cassandra/db/marshal/AbstractTypeTest.java","output":"BytesType should only be compatible with simple scalar types"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add aber's gpg key to project's KEYS file\n\nIn the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS My gpg public key here has the fingerprint 095EDACC76DD62020FC8501B77C04F6CCB94CE02 References: https://www.apache.org/dev/release-signing#keys-policy http://www.apache.org/legal/release-policy.html","output":"Add aber's gpg key to project's KEYS file"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add aber's gpg key to project's KEYS file\n\nIn the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS My gpg public key here has the fingerprint 095EDACC76DD62020FC8501B77C04F6CCB94CE02 References: https://www.apache.org/dev/release-signing#keys-policy http://www.apache.org/legal/release-policy.html","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add aber's gpg key to project's KEYS file\n\nIn the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS My gpg public key here has the fingerprint 095EDACC76DD62020FC8501B77C04F6CCB94CE02 References: https://www.apache.org/dev/release-signing#keys-policy http://www.apache.org/legal/release-policy.html","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add aber's gpg key to project's KEYS file\n\nIn the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS My gpg public key here has the fingerprint 095EDACC76DD62020FC8501B77C04F6CCB94CE02 References: https://www.apache.org/dev/release-signing#keys-policy http://www.apache.org/legal/release-policy.html","output":"In the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS My gpg public key here has the fingerprint 095EDACC"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add aber's gpg key to project's KEYS file\n\nIn the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS My gpg public key here has the fingerprint 095EDACC76DD62020FC8501B77C04F6CCB94CE02 References: https://www.apache.org/dev/release-signing#keys-policy http://www.apache.org/legal/release-policy.html","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add aber's gpg key to project's KEYS file\n\nIn the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://d\n\nConversation:\nuser: Done in r80221.","output":"Done in r80221."}
{"instruction":"Extract key technical details from this issue:","input":"In the future I'd like to help in the java driver release process, so would like to have my gpg public key added to KEYS. The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS My gpg public key here has the fingerprint 095EDACC76DD62020FC8501B77C04F6CCB94CE02 References: https://www.apache.org/dev/release-signing#keys-policy http://www.apache.org/legal/release-policy.html","output":"Add aber's gpg key to project's KEYS file"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"GCInspector should use different thresholds on GC events for warning messages\n\nRunning Cassandra 4.1 and recently testing with ShenandoahGC. Noticed that the log message is flooded with the warning message coming from GCInspector. Taking a closer look, that seems that we're warning on every GC event that takes longer than 1 second (default). And from document that the intention was to monitor GC pause time. But for ShenandoahGC and ZGC, there are concurrent phases (no STW) and phases that actually STW. For those concurrent phases, it's expected to take longer time (if we're on the non-generational version), and I feel that these phases: 1. require STW 2. doesn't require STW should use different thresholds in warning message. At least to me, phases require STW actually pause the thread, and should use lower threshold compared to those concurrent phases. Will share a patch soon","output":"GCInspector should use different thresholds on GC events for warning messages"}
{"instruction":"Classify the status of this issue based on its description:","input":"GCInspector should use different thresholds on GC events for warning messages\n\nRunning Cassandra 4.1 and recently testing with ShenandoahGC. Noticed that the log message is flooded with the warning message coming from GCInspector. Taking a closer look, that seems that we're warning on every GC event that takes longer than 1 second (default). And from document that the intention was to monitor GC pause time. But for ShenandoahGC and ZGC, there are concurrent phases (no STW) and phases that actually STW. For those concurrent phases, it's expected to take longer time (if we'r","output":"Review In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"GCInspector should use different thresholds on GC events for warning messages\n\nRunning Cassandra 4.1 and recently testing with ShenandoahGC. Noticed that the log message is flooded with the warning message coming from GCInspector. Taking a closer look, that seems that we're warning on every GC event that takes longer than 1 second (default). And from document that the intention was to monitor GC pause time. But for ShenandoahGC and ZGC, there are concurrent phases (no STW) and phases that actually STW. For those concurrent phases, it's expected to take longer time (if we'r","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: GCInspector should use different thresholds on GC events for warning messages\n\nRunning Cassandra 4.1 and recently testing with ShenandoahGC. Noticed that the log message is flooded with the warning message coming from GCInspector. Taking a closer look, that seems that we're warning on every GC event that takes longer than 1 second (default). And from document that the intention was to monitor GC pause time. But for ShenandoahGC and ZGC, there are concurrent phases (no STW) and phases that actually STW. For those concurrent phases, it's expected to take longer time (if we'r","output":"Running Cassandra 4.1 and recently testing with ShenandoahGC. Noticed that the log message is flooded with the warning message coming from GCInspector. Taking a closer look, that seems that we're warning on every GC event that takes longer than 1 second (default). And from document that the intentio"}
{"instruction":"Continue the conversation about this technical issue:","input":"GCInspector should use different thresholds on GC events for warning messages\n\nRunning Cassandra 4.1 and recently testing with ShenandoahGC. Noticed that the log message is flooded with the warning message coming from GCInspector. Taking a closer look, that seems that we're warn\n\nConversation:\nuser: Trunk pr: https://github.com/apache/cassandra/pull/4433","output":"Trunk pr: https://github.com/apache/cassandra/pull/4433"}
{"instruction":"Extract key technical details from this issue:","input":"Running Cassandra 4.1 and recently testing with ShenandoahGC. Noticed that the log message is flooded with the warning message coming from GCInspector. Taking a closer look, that seems that we're warning on every GC event that takes longer than 1 second (default). And from document that the intention was to monitor GC pause time. But for ShenandoahGC and ZGC, there are concurrent phases (no STW) and phases that actually STW. For those concurrent phases, it's expected to take longer time (if we're on the non-generational version), and I feel that these phases: 1. require STW 2. doesn't require STW should use different thresholds in warning message. At least to me, phases require STW actually pause the thread, and should use lower threshold compared to those concurrent phases. Will share a p","output":"GCInspector should use different thresholds on GC events for warning messages"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CQLSSTableWriter fails to serialize vector of date and time\n\nC* 5.x technically allows to create schema of vectors of variable types, e.g. non-numeric. {{CQLSSTableWriter}} fails to serialize vectors of dates and time. Stack trace: {code:java} org.apache.cassandra.exceptions.InvalidRequestException: Expected 4 byte long for date (0) at org.apache.cassandra.cql3.statements.RequestValidations.invalidRequest(RequestValidations.java:358) at org.apache.cassandra.cql3.terms.MultiElements$Value.fromSerialized(MultiElements.java:73) at org.apache.cassandra.cql3.terms.Marker.bind(Marker.java:85) at org.apache.cassandra.cql3.terms.Term$NonTerminal.bindAndGet(Term.java:304) at org.apache.cassandra.cql3.terms.Constants$Setter.execute(Constants.java:482) at org.apache.cassandra.cql3.statements.UpdateStatement.addUpdateForKey(UpdateStatement.java:126) at org.apache.cassandra.io.sstable.CQLSSTableWriter.rawAddRow(CQLSSTableWriter.java:311) at org.apache.cassandra.io.sstable.CQLSSTableWriter.addRow(CQLSSTableWriter.java:212) at org.apache.cassandra.io.sstable.CQLSSTableWriter.addRow(CQLSSTableWriter.java:182) {code}","output":"CQLSSTableWriter fails to serialize vector of date and time"}
{"instruction":"Classify the status of this issue based on its description:","input":"CQLSSTableWriter fails to serialize vector of date and time\n\nC* 5.x technically allows to create schema of vectors of variable types, e.g. non-numeric. {{CQLSSTableWriter}} fails to serialize vectors of dates and time. Stack trace: {code:java} org.apache.cassandra.exceptions.InvalidRequestException: Expected 4 byte long for date (0) at org.apache.cassandra.cql3.statements.RequestValidations.invalidRequest(RequestValidations.java:358) at org.apache.cassandra.cql3.terms.MultiElements$Value.fromSerialized(MultiElements.java:73) at org.apache.cassandra.cql3.t","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CQLSSTableWriter fails to serialize vector of date and time\n\nC* 5.x technically allows to create schema of vectors of variable types, e.g. non-numeric. {{CQLSSTableWriter}} fails to serialize vectors of dates and time. Stack trace: {code:java} org.apache.cassandra.exceptions.InvalidRequestException: Expected 4 byte long for date (0) at org.apache.cassandra.cql3.statements.RequestValidations.invalidRequest(RequestValidations.java:358) at org.apache.cassandra.cql3.terms.MultiElements$Value.fromSerialized(MultiElements.java:73) at org.apache.cassandra.cql3.t","output":"Low"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CQLSSTableWriter fails to serialize vector of date and time\n\nC* 5.x technically allows to create schema of vectors of variable types, e.g. non-numeric. {{CQLSSTableWriter}} fails to serialize vectors of dates and time. Stack trace: {code:java} org.apache.cassandra.exceptions.InvalidRequestException: Expected 4 byte long for date (0) at org.apache.cassandra.cql3.statements.RequestValidations.invalidRequest(RequestValidations.java:358) at org.apache.cassandra.cql3.terms.MultiElements$Value.fromSerialized(MultiElements.java:73) at org.apache.cassandra.cql3.t","output":"C* 5.x technically allows to create schema of vectors of variable types, e.g. non-numeric. {{CQLSSTableWriter}} fails to serialize vectors of dates and time. Stack trace: {code:java} org.apache.cassandra.exceptions.InvalidRequestException: Expected 4 byte long for date (0) at org.apache.cassandra.cq"}
{"instruction":"Continue the conversation about this technical issue:","input":"CQLSSTableWriter fails to serialize vector of date and time\n\nC* 5.x technically allows to create schema of vectors of variable types, e.g. non-numeric. {{CQLSSTableWriter}} fails to serialize vectors of dates and time. Stack trace: {code:java} org.apache.cassan\n\nConversation:\nuser: bq. fails to serialize vectors of dates and time Does a vector of a time/date even make sense to have? If not it seems like we should just disallow this.\nassistant: I think C* first supported vectors of numeric (fixed-length) types, but then it was extended to any sub-type. In drivers, we also implemented support for literally any vector sub-type (e.g. vector of blobs) - https://datastax-oss.atlassian.net/browse/JAVA-3143. FWIW those changes test also vectors o","output":"I think C* first supported vectors of numeric (fixed-length) types, but then it was extended to any sub-type. In drivers, we also implemented support for literally any vector sub-type (e.g. vector of blobs) - https://datastax-oss.atlassian.net/browse/JAVA-3143. FWIW those changes test also vectors o"}
{"instruction":"Extract key technical details from this issue:","input":"C* 5.x technically allows to create schema of vectors of variable types, e.g. non-numeric. {{CQLSSTableWriter}} fails to serialize vectors of dates and time. Stack trace: {code:java} org.apache.cassandra.exceptions.InvalidRequestException: Expected 4 byte long for date (0) at org.apache.cassandra.cql3.statements.RequestValidations.invalidRequest(RequestValidations.java:358) at org.apache.cassandra.cql3.terms.MultiElements$Value.fromSerialized(MultiElements.java:73) at org.apache.cassandra.cql3.terms.Marker.bind(Marker.java:85) at org.apache.cassandra.cql3.terms.Term$NonTerminal.bindAndGet(Term.java:304) at org.apache.cassandra.cql3.terms.Constants$Setter.execute(Constants.java:482) at org.apache.cassandra.cql3.statements.UpdateStatement.addUpdateForKey(UpdateStatement.java:126) at org.apac","output":"CQLSSTableWriter fails to serialize vector of date and time"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"JVMStabilityInspector does not call LoggingSupport#onShutdown() before killing the JVM\n\n`Killer#killCurrentJVM()` does not stop the `LoggerContext`, and this can hide error messages logged immediately prior to that. (Before we exit, we remove the drain-on-shutdown hook that otherwise would stop it.)","output":"JVMStabilityInspector does not call LoggingSupport#onShutdown() before killing the JVM"}
{"instruction":"Classify the status of this issue based on its description:","input":"JVMStabilityInspector does not call LoggingSupport#onShutdown() before killing the JVM\n\n`Killer#killCurrentJVM()` does not stop the `LoggerContext`, and this can hide error messages logged immediately prior to that. (Before we exit, we remove the drain-on-shutdown hook that otherwise would stop it.)","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"JVMStabilityInspector does not call LoggingSupport#onShutdown() before killing the JVM\n\n`Killer#killCurrentJVM()` does not stop the `LoggerContext`, and this can hide error messages logged immediately prior to that. (Before we exit, we remove the drain-on-shutdown hook that otherwise would stop it.)","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: JVMStabilityInspector does not call LoggingSupport#onShutdown() before killing the JVM\n\n`Killer#killCurrentJVM()` does not stop the `LoggerContext`, and this can hide error messages logged immediately prior to that. (Before we exit, we remove the drain-on-shutdown hook that otherwise would stop it.)","output":"`Killer#killCurrentJVM()` does not stop the `LoggerContext`, and this can hide error messages logged immediately prior to that. (Before we exit, we remove the drain-on-shutdown hook that otherwise would stop it.)"}
{"instruction":"Continue the conversation about this technical issue:","input":"JVMStabilityInspector does not call LoggingSupport#onShutdown() before killing the JVM\n\n`Killer#killCurrentJVM()` does not stop the `LoggerContext`, and this can hide error messages logged immediately prior to that. (Before we exit, we remove the drain-on-shutdown hook that otherwise wou\n\nConversation:\nuser: The only possibly tricky thing here is that stopping the logging context might hang if the reason we're killing the JVM is an OOM. It might make sense to initially limit a fix to paths that run through {{{}inspectCommitLogError(){}}}, {{handleStartupFSError()}} and {{userFunctionTimeout()}} with a n","output":"The only possibly tricky thing here is that stopping the logging context might hang if the reason we're killing the JVM is an OOM. It might make sense to initially limit a fix to paths that run through {{{}inspectCommitLogError(){}}}, {{handleStartupFSError()}} and {{userFunctionTimeout()}} with a n"}
{"instruction":"Extract key technical details from this issue:","input":"`Killer#killCurrentJVM()` does not stop the `LoggerContext`, and this can hide error messages logged immediately prior to that. (Before we exit, we remove the drain-on-shutdown hook that otherwise would stop it.)","output":"JVMStabilityInspector does not call LoggingSupport#onShutdown() before killing the JVM"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"AssertionError when reading BTI sstable in 5.0.5 during token range query\n\nhttps://lists.apache.org/thread/p2fvjll2gcx15jyc5ft32z6950k2g880","output":"AssertionError when reading BTI sstable in 5.0.5 during token range query"}
{"instruction":"Classify the status of this issue based on its description:","input":"AssertionError when reading BTI sstable in 5.0.5 during token range query\n\nhttps://lists.apache.org/thread/p2fvjll2gcx15jyc5ft32z6950k2g880","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"AssertionError when reading BTI sstable in 5.0.5 during token range query\n\nhttps://lists.apache.org/thread/p2fvjll2gcx15jyc5ft32z6950k2g880","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: AssertionError when reading BTI sstable in 5.0.5 during token range query\n\nhttps://lists.apache.org/thread/p2fvjll2gcx15jyc5ft32z6950k2g880","output":"https://lists.apache.org/thread/p2fvjll2gcx15jyc5ft32z6950k2g880"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"AssertionError when reading BTI sstable in 5.0.5 during token range query\n\nhttps://lists.apache.org/thread/p2fvjll2gcx15jyc5ft32z6950k2g880","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"AssertionError when reading BTI sstable in 5.0.5 during token range query\n\nhttps://lists.apache.org/thread/p2fvjll2gcx15jyc5ft32z6950k2g880\n\nConversation:\nuser: h3. Observations and Findings with respect to attached logs 20976.logs * The issue occurs with *token-based range queries* when the *BTI format* is enabled. * The use case involved a Spark job that was concurrently reading from and updating the same table — specifically, performing range reads while\nassistant: The problem is that {{PartionIndexEarly}} does not override {{sharedCopy()}} which makes the copy lose the in-memory tail. Patch coming soon. The lowest-impact workaround is to disable interval early open by setting {{sstable_preemptive_open_interval: 1PiB}} in {{{}cassandra.yaml{}}}: this disables \nassistant: Pull request: https://github.com/apache/cassandra/pull/4430\nassistant: CI runs: http://ci-cassandra.infra.datastax.com/job/cassandra-5.0/31/ http://ci-cassandra.infra.datastax.com/job/cassandra/48/\nassistant: +1","output":"Attached the two artefacts from each of the CI runs above. Downloading them first can be done with the command lines… {code} .build/run-ci -r \"https://github.com/blambov/cassandra.git\" -b \"CASSANDRA-20976\" -o 31 .build/run-ci -r \"https://github.com/blambov/cassandra.git\" -b \"CASSANDRA-20976-trunk\" -"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-49: Hardware-accelerated compression\n\nCEP-49 proposes improving performance of compress/decompress operations with hardware-based accelerators. Based on feedback from the mailing list, creating this ticket to enable loading accelerated compression as a pluggable service provider, if jar file is available in the classpath.","output":"CEP-49: Hardware-accelerated compression"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-49: Hardware-accelerated compression\n\nCEP-49 proposes improving performance of compress/decompress operations with hardware-based accelerators. Based on feedback from the mailing list, creating this ticket to enable loading accelerated compression as a pluggable service provider, if jar file is available in the classpath.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-49: Hardware-accelerated compression\n\nCEP-49 proposes improving performance of compress/decompress operations with hardware-based accelerators. Based on feedback from the mailing list, creating this ticket to enable loading accelerated compression as a pluggable service provider, if jar file is available in the classpath.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-49: Hardware-accelerated compression\n\nCEP-49 proposes improving performance of compress/decompress operations with hardware-based accelerators. Based on feedback from the mailing list, creating this ticket to enable loading accelerated compression as a pluggable service provider, if jar file is available in the classpath.","output":"CEP-49 proposes improving performance of compress/decompress operations with hardware-based accelerators. Based on feedback from the mailing list, creating this ticket to enable loading accelerated compression as a pluggable service provider, if jar file is available in the classpath."}
{"instruction":"Extract key technical details from this issue:","input":"CEP-49 proposes improving performance of compress/decompress operations with hardware-based accelerators. Based on feedback from the mailing list, creating this ticket to enable loading accelerated compression as a pluggable service provider, if jar file is available in the classpath.","output":"CEP-49: Hardware-accelerated compression"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Heap dump should not be generated on handled exceptions\n\nThe {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently generated on any exception inspected by {{JVMStabilityInspector}} which I think is not the desired behavior.","output":"Heap dump should not be generated on handled exceptions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Heap dump should not be generated on handled exceptions\n\nThe {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently generated on any exception inspected by {{JVMStabilityInspector}} which I think is not the desired behavior.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Heap dump should not be generated on handled exceptions\n\nThe {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently generated on any exception inspected by {{JVMStabilityInspector}} which I think is not the desired behavior.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Heap dump should not be generated on handled exceptions\n\nThe {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently generated on any exception inspected by {{JVMStabilityInspector}} which I think is not the desired behavior.","output":"The {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently generated on any exception inspected by {{JVMStabilityInspector}} which I think is not the desired behavi"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Heap dump should not be generated on handled exceptions\n\nThe {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently generated on any exception inspected by {{JVMStabilityInspector}} which I think is not the desired behavior.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Heap dump should not be generated on handled exceptions\n\nThe {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently gener\n\nConversation:\nuser: 5.0 CI: https://pre-ci.cassandra.apache.org/job/cassandra-5.0/27/\nassistant: +1\nassistant: Thanks for the review isaacreath and smiklosovic - addressed comment and created trunk patch which had some trivial conflicts trunk ci: [https://pre-ci.cassandra.apache.org/job/cassandra/121] will merge if it looks good.\nassistant: Also for the record I removed in this patch the log statement {{\"Heap dump creation on uncaught exceptions is disabled.\"}} since it's not really needed, since this can be presumed when an uncaught exception is logged and no heap dump is created.\nassistant: 5.0 once more https://pre-ci.cassandra.apache.org/job/cassandra-5.0/35/ I noticed that what Paulo run for 5.0 took just 10 minutes.","output":"5.0 once more https://pre-ci.cassandra.apache.org/job/cassandra-5.0/35/ I noticed that what Paulo run for 5.0 took just 10 minutes."}
{"instruction":"Extract key technical details from this issue:","input":"The {{dump_heap_on_uncaught_exception}} option was added on CASSANDRA-17795 to collect a heap dump when any uncaught exception is handled by the {{JVMStabilityInspector}}. However it's currently generated on any exception inspected by {{JVMStabilityInspector}} which I think is not the desired behavior.","output":"Heap dump should not be generated on handled exceptions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add Doug's new GPG key to KEYS\n\nThe patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS The GPG Public Key here has the fingerprint 2C94EBA59C0BA7E0EDAAE142BF79EF32B05FB5CA This is an ECC key which may not be useful (yet) for RPM/DEB signing, but is fine for things like the in-jvm-dtest-api project where we don't distribute a binary package like an RPM or DEB, just jars.","output":"Add Doug's new GPG key to KEYS"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add Doug's new GPG key to KEYS\n\nThe patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS The GPG Public Key here has the fingerprint 2C94EBA59C0BA7E0EDAAE142BF79EF32B05FB5CA This is an ECC key which may not be useful (yet) for RPM/DEB signing, but is fine for things like the in-jvm-dtest-api project where we don't distribute a binary package like an RPM or DEB, just jars.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add Doug's new GPG key to KEYS\n\nThe patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS The GPG Public Key here has the fingerprint 2C94EBA59C0BA7E0EDAAE142BF79EF32B05FB5CA This is an ECC key which may not be useful (yet) for RPM/DEB signing, but is fine for things like the in-jvm-dtest-api project where we don't distribute a binary package like an RPM or DEB, just jars.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add Doug's new GPG key to KEYS\n\nThe patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS The GPG Public Key here has the fingerprint 2C94EBA59C0BA7E0EDAAE142BF79EF32B05FB5CA This is an ECC key which may not be useful (yet) for RPM/DEB signing, but is fine for things like the in-jvm-dtest-api project where we don't distribute a binary package like an RPM or DEB, just jars.","output":"The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS The GPG Public Key here has the fingerprint 2C94EBA59C0BA7E0EDAAE142BF79EF32B05FB5CA This is an ECC key which may not be useful (yet) for RPM/DEB signing, but is fine for th"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add Doug's new GPG key to KEYS\n\nThe patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS The GPG Public Key here has the fingerprint 2C94EBA59C0BA7E0EDAAE142BF79E\n\nConversation:\nuser: bq. This is an ECC key which may not be useful (yet) for RPM/DEB signing We know the hard way that ECC keys will break Redhat installations, so do avoid building packages. Your key has been added in r79890.\nassistant: I remember now that it is the presence of the key that causes a problem and I have reverted r79890. I think we have to unfortunately stick with non-ECC keys for a while.","output":"I remember now that it is the presence of the key that causes a problem and I have reverted r79890. I think we have to unfortunately stick with non-ECC keys for a while."}
{"instruction":"Extract key technical details from this issue:","input":"The patch adds my gpg public key to the project's KEYS file found at https://dist.apache.org/repos/dist/release/cassandra/KEYS The GPG Public Key here has the fingerprint 2C94EBA59C0BA7E0EDAAE142BF79EF32B05FB5CA This is an ECC key which may not be useful (yet) for RPM/DEB signing, but is fine for things like the in-jvm-dtest-api project where we don't distribute a binary package like an RPM or DEB, just jars.","output":"Add Doug's new GPG key to KEYS"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"DISTINCT queries failing with range tombstones\n\nQueries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the last call to next() was initialized: it must be closed before calling hasNext() or next() again. at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2612) at org.apache.cassandra.concurrent.ExecutionFailure$2.run(ExecutionFailure.java:163) at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:143) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:829) Caused by: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the last call to next() was initialized: it must be closed before calling hasNext() or next() again. at org.apache.cassandra.io.sstable.format.SSTableScanner$BaseKeyScanningIterator.computeNext(SSTableScanner.java:241) at org.apache.cassandra.io.sstable.format.SSTableScanner$BaseKeyScanningIterator.computeNext(SSTableScanner.java:228) at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) at org.apache.cassandra.io.sstable.format.SSTableScanner.hasNext(SSTableScanner.java:190) at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:90) at org.apache.cassandra.utils.MergeIterator$Candidate.advance(MergeIterator.java:375) at org.apache.cassandra.utils.MergeIterator$ManyToOne.advance(MergeIterator.java:187) at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:156) {code} Reason is that when {{LazilyInitializedUnfilteredRowIterator}} is closed the underlying iterator is nulled out, this allows the iterator to be re-initialized if anyone accesses a method that calls {{maybeInit}}, like {{isReverseOrder()}} which is called when adding an artificial range tombstone bound closer. This was caused by CASSANDRA-18398","output":"DISTINCT queries failing with range tombstones"}
{"instruction":"Classify the status of this issue based on its description:","input":"DISTINCT queries failing with range tombstones\n\nQueries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the last call to next() was initialized: it must be closed before calling hasNext() or next() again. at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2612) at org.apac","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"DISTINCT queries failing with range tombstones\n\nQueries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the last call to next() was initialized: it must be closed before calling hasNext() or next() again. at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2612) at org.apac","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: DISTINCT queries failing with range tombstones\n\nQueries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the last call to next() was initialized: it must be closed before calling hasNext() or next() again. at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2612) at org.apac","output":"Queries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"DISTINCT queries failing with range tombstones\n\nQueries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the last call to next() was initialized: it must be closed before calling hasNext() or next() again. at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2612) at org.apac","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"DISTINCT queries failing with range tombstones\n\nQueries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] ja\n\nConversation:\nuser: +1\nassistant: ci looks fine I think 5.0: https://pre-ci.cassandra.apache.org/job/cassandra-5.0/30/ trunk: https://pre-ci.cassandra.apache.org/job/cassandra/122/","output":"ci looks fine I think 5.0: https://pre-ci.cassandra.apache.org/job/cassandra-5.0/30/ trunk: https://pre-ci.cassandra.apache.org/job/cassandra/122/"}
{"instruction":"Extract key technical details from this issue:","input":"Queries like {{select distinct id from %s.tbl where token(id) > 0}} fail if there is an overlapping range tombstone: {code} ERROR 10:35:30 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.IllegalStateException: The UnfilteredRowIterator returned by the last call to next() was initialized: it must be closed before calling hasNext() or next() again. at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2612) at org.apache.cassandra.concurrent.ExecutionFailure$2.run(ExecutionFailure.java:163) at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:143) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:829) Caused by: java.l","output":"DISTINCT queries failing with range tombstones"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45: Reject untracked SSTables on startup and refresh\n\nUsers expect that they can just throw an SSTable into the right data directory and start Cassandra: https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsBackupSnapshotRestore.html But with mutation tracking, we’d break invariants if we served a read from an SSTable that wasn’t present in mutation tracking state management. There’s a specific import path implemented in CASSANDRA-20383 that accounts for the new SSTables, and that’s the path restores should use. But users that are expecting to copy a file into a data directory (or run nodetool refresh) should be notified that their actions will break invariants. Specifically, mutation tracking does a single data read and multiple summary reads, and expects that anything not in the summaries is reconciled. If we’re adding an SSTable on a single instance and not tracking it in summaries, nothing would trigger the propagation of that SSTable to other replicas. In a world without mutation tracking, that SSTable would enter the unrepaired set, be included in reads at ALL, and eventually make it to other replicas with full or incremental repair.","output":"CEP-45: Reject untracked SSTables on startup and refresh"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45: Reject untracked SSTables on startup and refresh\n\nUsers expect that they can just throw an SSTable into the right data directory and start Cassandra: https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsBackupSnapshotRestore.html But with mutation tracking, we’d break invariants if we served a read from an SSTable that wasn’t present in mutation tracking state management. There’s a specific import path implemented in CASSANDRA-20383 that accounts for the new SSTables, and that’s the path restores should use. But users that are","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45: Reject untracked SSTables on startup and refresh\n\nUsers expect that they can just throw an SSTable into the right data directory and start Cassandra: https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsBackupSnapshotRestore.html But with mutation tracking, we’d break invariants if we served a read from an SSTable that wasn’t present in mutation tracking state management. There’s a specific import path implemented in CASSANDRA-20383 that accounts for the new SSTables, and that’s the path restores should use. But users that are","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45: Reject untracked SSTables on startup and refresh\n\nUsers expect that they can just throw an SSTable into the right data directory and start Cassandra: https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsBackupSnapshotRestore.html But with mutation tracking, we’d break invariants if we served a read from an SSTable that wasn’t present in mutation tracking state management. There’s a specific import path implemented in CASSANDRA-20383 that accounts for the new SSTables, and that’s the path restores should use. But users that are","output":"Users expect that they can just throw an SSTable into the right data directory and start Cassandra: https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsBackupSnapshotRestore.html But with mutation tracking, we’d break invariants if we served a read from an SSTable that wasn’t pres"}
{"instruction":"Extract key technical details from this issue:","input":"Users expect that they can just throw an SSTable into the right data directory and start Cassandra: https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsBackupSnapshotRestore.html But with mutation tracking, we’d break invariants if we served a read from an SSTable that wasn’t present in mutation tracking state management. There’s a specific import path implemented in CASSANDRA-20383 that accounts for the new SSTables, and that’s the path restores should use. But users that are expecting to copy a file into a data directory (or run nodetool refresh) should be notified that their actions will break invariants. Specifically, mutation tracking does a single data read and multiple summary reads, and expects that anything not in the summaries is reconciled. If we’re adding an ","output":"CEP-45: Reject untracked SSTables on startup and refresh"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Accord witness awareness\n\nThis assumes that MT already works with Accord (currently doesn't). Accord writes are probably largely unaffected. It might actually silently work today just because the mutation will automatically not be applied. Reads are affected because Accord picks the replica and it needs to pick a full replica. Likely the topology exposed to Accord needs to be witness aware so Accord can do the right thing.","output":"CEP-46: Accord witness awareness"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Accord witness awareness\n\nThis assumes that MT already works with Accord (currently doesn't). Accord writes are probably largely unaffected. It might actually silently work today just because the mutation will automatically not be applied. Reads are affected because Accord picks the replica and it needs to pick a full replica. Likely the topology exposed to Accord needs to be witness aware so Accord can do the right thing.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Accord witness awareness\n\nThis assumes that MT already works with Accord (currently doesn't). Accord writes are probably largely unaffected. It might actually silently work today just because the mutation will automatically not be applied. Reads are affected because Accord picks the replica and it needs to pick a full replica. Likely the topology exposed to Accord needs to be witness aware so Accord can do the right thing.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Accord witness awareness\n\nThis assumes that MT already works with Accord (currently doesn't). Accord writes are probably largely unaffected. It might actually silently work today just because the mutation will automatically not be applied. Reads are affected because Accord picks the replica and it needs to pick a full replica. Likely the topology exposed to Accord needs to be witness aware so Accord can do the right thing.","output":"This assumes that MT already works with Accord (currently doesn't). Accord writes are probably largely unaffected. It might actually silently work today just because the mutation will automatically not be applied. Reads are affected because Accord picks the replica and it needs to pick a full replic"}
{"instruction":"Extract key technical details from this issue:","input":"This assumes that MT already works with Accord (currently doesn't). Accord writes are probably largely unaffected. It might actually silently work today just because the mutation will automatically not be applied. Reads are affected because Accord picks the replica and it needs to pick a full replica. Likely the topology exposed to Accord needs to be witness aware so Accord can do the right thing.","output":"CEP-46: Accord witness awareness"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Witness counter handling\n\nCounters in witness keyspaces need to be handled appropriately. aleksey For IR based witnesses I think we didn't implement counter table support. One solution would be to just silently have counter tables not actually be replicated as witnesses and be all full replicas, but that might be infeasible because of assumptions made all over that witnesses are actually witnesses. Alternatively we could implement support for counters, but that requires having a design and migration strategy (which I currently don't have).","output":"CEP-46: Witness counter handling"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Witness counter handling\n\nCounters in witness keyspaces need to be handled appropriately. aleksey For IR based witnesses I think we didn't implement counter table support. One solution would be to just silently have counter tables not actually be replicated as witnesses and be all full replicas, but that might be infeasible because of assumptions made all over that witnesses are actually witnesses. Alternatively we could implement support for counters, but that requires having a design and migration strategy (which I cur","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Witness counter handling\n\nCounters in witness keyspaces need to be handled appropriately. aleksey For IR based witnesses I think we didn't implement counter table support. One solution would be to just silently have counter tables not actually be replicated as witnesses and be all full replicas, but that might be infeasible because of assumptions made all over that witnesses are actually witnesses. Alternatively we could implement support for counters, but that requires having a design and migration strategy (which I cur","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Witness counter handling\n\nCounters in witness keyspaces need to be handled appropriately. aleksey For IR based witnesses I think we didn't implement counter table support. One solution would be to just silently have counter tables not actually be replicated as witnesses and be all full replicas, but that might be infeasible because of assumptions made all over that witnesses are actually witnesses. Alternatively we could implement support for counters, but that requires having a design and migration strategy (which I cur","output":"Counters in witness keyspaces need to be handled appropriately. aleksey For IR based witnesses I think we didn't implement counter table support. One solution would be to just silently have counter tables not actually be replicated as witnesses and be all full replicas, but that might be infeasible "}
{"instruction":"Extract key technical details from this issue:","input":"Counters in witness keyspaces need to be handled appropriately. aleksey For IR based witnesses I think we didn't implement counter table support. One solution would be to just silently have counter tables not actually be replicated as witnesses and be all full replicas, but that might be infeasible because of assumptions made all over that witnesses are actually witnesses. Alternatively we could implement support for counters, but that requires having a design and migration strategy (which I currently don't have).","output":"CEP-46: Witness counter handling"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Mutation tracking witness aware reconciliation\n\nReconciliation propagates mutations to the mutation tracking log when it's missing and then applies the mutation. The existing witness code might automatically skip the applying the mutation so this all might \"just work\" but it's worth having jvm dtest that validates that it does. It partially depends on how MT applies mutations during reconciliation and whether it bypasses the code that currently implements the witness checks for skipping mutations.","output":"CEP-46: Mutation tracking witness aware reconciliation"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Mutation tracking witness aware reconciliation\n\nReconciliation propagates mutations to the mutation tracking log when it's missing and then applies the mutation. The existing witness code might automatically skip the applying the mutation so this all might \"just work\" but it's worth having jvm dtest that validates that it does. It partially depends on how MT applies mutations during reconciliation and whether it bypasses the code that currently implements the witness checks for skipping mutations.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Mutation tracking witness aware reconciliation\n\nReconciliation propagates mutations to the mutation tracking log when it's missing and then applies the mutation. The existing witness code might automatically skip the applying the mutation so this all might \"just work\" but it's worth having jvm dtest that validates that it does. It partially depends on how MT applies mutations during reconciliation and whether it bypasses the code that currently implements the witness checks for skipping mutations.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Mutation tracking witness aware reconciliation\n\nReconciliation propagates mutations to the mutation tracking log when it's missing and then applies the mutation. The existing witness code might automatically skip the applying the mutation so this all might \"just work\" but it's worth having jvm dtest that validates that it does. It partially depends on how MT applies mutations during reconciliation and whether it bypasses the code that currently implements the witness checks for skipping mutations.","output":"Reconciliation propagates mutations to the mutation tracking log when it's missing and then applies the mutation. The existing witness code might automatically skip the applying the mutation so this all might \"just work\" but it's worth having jvm dtest that validates that it does. It partially depen"}
{"instruction":"Extract key technical details from this issue:","input":"Reconciliation propagates mutations to the mutation tracking log when it's missing and then applies the mutation. The existing witness code might automatically skip the applying the mutation so this all might \"just work\" but it's worth having jvm dtest that validates that it does. It partially depends on how MT applies mutations during reconciliation and whether it bypasses the code that currently implements the witness checks for skipping mutations.","output":"CEP-46: Mutation tracking witness aware reconciliation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: SSTable import support for witnesses\n\nMutation tracking added support for SSTable import where the mutation tracking log has an entry for the import action for the sstables that are staged on disk. This allows read repair to be done for reads that include the imported sstables. On witnesses this record needs to be aware of witnesses and validate that the witness does not import out of range data. This validation should occur both for the initial sstable important and processes that are staging the sstables and then also when applying the record out of the MT log.","output":"CEP-46: SSTable import support for witnesses"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: SSTable import support for witnesses\n\nMutation tracking added support for SSTable import where the mutation tracking log has an entry for the import action for the sstables that are staged on disk. This allows read repair to be done for reads that include the imported sstables. On witnesses this record needs to be aware of witnesses and validate that the witness does not import out of range data. This validation should occur both for the initial sstable important and processes that are staging the sstables and then also when applyin","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: SSTable import support for witnesses\n\nMutation tracking added support for SSTable import where the mutation tracking log has an entry for the import action for the sstables that are staged on disk. This allows read repair to be done for reads that include the imported sstables. On witnesses this record needs to be aware of witnesses and validate that the witness does not import out of range data. This validation should occur both for the initial sstable important and processes that are staging the sstables and then also when applyin","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: SSTable import support for witnesses\n\nMutation tracking added support for SSTable import where the mutation tracking log has an entry for the import action for the sstables that are staged on disk. This allows read repair to be done for reads that include the imported sstables. On witnesses this record needs to be aware of witnesses and validate that the witness does not import out of range data. This validation should occur both for the initial sstable important and processes that are staging the sstables and then also when applyin","output":"Mutation tracking added support for SSTable import where the mutation tracking log has an entry for the import action for the sstables that are staged on disk. This allows read repair to be done for reads that include the imported sstables. On witnesses this record needs to be aware of witnesses and"}
{"instruction":"Extract key technical details from this issue:","input":"Mutation tracking added support for SSTable import where the mutation tracking log has an entry for the import action for the sstables that are staged on disk. This allows read repair to be done for reads that include the imported sstables. On witnesses this record needs to be aware of witnesses and validate that the witness does not import out of range data. This validation should occur both for the initial sstable important and processes that are staging the sstables and then also when applying the record out of the MT log.","output":"CEP-46: SSTable import support for witnesses"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Rationalize and validate repair with witnesses\n\nIR based witnesses had an obvious integration that was done, but with MT based witnesses that is going away. Repair must continue to exist for MT based witnesses since MT still needs a repair mechanism for validation and to fix bugs that slip through the MT log and reconciliation process. What that will be is not finalized, but it needs to integrate with witnesses.","output":"CEP-46: Rationalize and validate repair with witnesses"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Rationalize and validate repair with witnesses\n\nIR based witnesses had an obvious integration that was done, but with MT based witnesses that is going away. Repair must continue to exist for MT based witnesses since MT still needs a repair mechanism for validation and to fix bugs that slip through the MT log and reconciliation process. What that will be is not finalized, but it needs to integrate with witnesses.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Rationalize and validate repair with witnesses\n\nIR based witnesses had an obvious integration that was done, but with MT based witnesses that is going away. Repair must continue to exist for MT based witnesses since MT still needs a repair mechanism for validation and to fix bugs that slip through the MT log and reconciliation process. What that will be is not finalized, but it needs to integrate with witnesses.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Rationalize and validate repair with witnesses\n\nIR based witnesses had an obvious integration that was done, but with MT based witnesses that is going away. Repair must continue to exist for MT based witnesses since MT still needs a repair mechanism for validation and to fix bugs that slip through the MT log and reconciliation process. What that will be is not finalized, but it needs to integrate with witnesses.","output":"IR based witnesses had an obvious integration that was done, but with MT based witnesses that is going away. Repair must continue to exist for MT based witnesses since MT still needs a repair mechanism for validation and to fix bugs that slip through the MT log and reconciliation process. What that "}
{"instruction":"Extract key technical details from this issue:","input":"IR based witnesses had an obvious integration that was done, but with MT based witnesses that is going away. Repair must continue to exist for MT based witnesses since MT still needs a repair mechanism for validation and to fix bugs that slip through the MT log and reconciliation process. What that will be is not finalized, but it needs to integrate with witnesses.","output":"CEP-46: Rationalize and validate repair with witnesses"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Validate nodetool cleanup with witnesses\n\nNodetool cleanup with witnesses only cleans up repaired sstables. Mutation tracking \"repairs\" sstables now, but only things it managed and maybe there are some sharp edges to be found around topology changes and migration to mutation tracking. When migrating to mutation tracking there is likely to be some kind of repair run to ensure everything before mutation tracking started is successfully repaired. All of this needs to be rationalized together so that cleanup does the right things on witnesses and has tests that demonstrate that. There are tests of cleanup with witnesses, but they probably don't accurately reflect the new realities and things that will change.","output":"CEP-46: Validate nodetool cleanup with witnesses"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Validate nodetool cleanup with witnesses\n\nNodetool cleanup with witnesses only cleans up repaired sstables. Mutation tracking \"repairs\" sstables now, but only things it managed and maybe there are some sharp edges to be found around topology changes and migration to mutation tracking. When migrating to mutation tracking there is likely to be some kind of repair run to ensure everything before mutation tracking started is successfully repaired. All of this needs to be rationalized together so that cleanup does the right things on witness","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Validate nodetool cleanup with witnesses\n\nNodetool cleanup with witnesses only cleans up repaired sstables. Mutation tracking \"repairs\" sstables now, but only things it managed and maybe there are some sharp edges to be found around topology changes and migration to mutation tracking. When migrating to mutation tracking there is likely to be some kind of repair run to ensure everything before mutation tracking started is successfully repaired. All of this needs to be rationalized together so that cleanup does the right things on witness","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Validate nodetool cleanup with witnesses\n\nNodetool cleanup with witnesses only cleans up repaired sstables. Mutation tracking \"repairs\" sstables now, but only things it managed and maybe there are some sharp edges to be found around topology changes and migration to mutation tracking. When migrating to mutation tracking there is likely to be some kind of repair run to ensure everything before mutation tracking started is successfully repaired. All of this needs to be rationalized together so that cleanup does the right things on witness","output":"Nodetool cleanup with witnesses only cleans up repaired sstables. Mutation tracking \"repairs\" sstables now, but only things it managed and maybe there are some sharp edges to be found around topology changes and migration to mutation tracking. When migrating to mutation tracking there is likely to b"}
{"instruction":"Extract key technical details from this issue:","input":"Nodetool cleanup with witnesses only cleans up repaired sstables. Mutation tracking \"repairs\" sstables now, but only things it managed and maybe there are some sharp edges to be found around topology changes and migration to mutation tracking. When migrating to mutation tracking there is likely to be some kind of repair run to ensure everything before mutation tracking started is successfully repaired. All of this needs to be rationalized together so that cleanup does the right things on witnesses and has tests that demonstrate that. There are tests of cleanup with witnesses, but they probably don't accurately reflect the new realities and things that will change.","output":"CEP-46: Validate nodetool cleanup with witnesses"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Paxos simulation w/witnesses\n\nRunning the Paxos simulation against the full set of cluster operations will give good signal as to how correct witnesses and mutation tracking are.","output":"CEP-46: Paxos simulation w/witnesses"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Paxos simulation w/witnesses\n\nRunning the Paxos simulation against the full set of cluster operations will give good signal as to how correct witnesses and mutation tracking are.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Paxos simulation w/witnesses\n\nRunning the Paxos simulation against the full set of cluster operations will give good signal as to how correct witnesses and mutation tracking are.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Paxos simulation w/witnesses\n\nRunning the Paxos simulation against the full set of cluster operations will give good signal as to how correct witnesses and mutation tracking are.","output":"Running the Paxos simulation against the full set of cluster operations will give good signal as to how correct witnesses and mutation tracking are."}
{"instruction":"Extract key technical details from this issue:","input":"Running the Paxos simulation against the full set of cluster operations will give good signal as to how correct witnesses and mutation tracking are.","output":"CEP-46: Paxos simulation w/witnesses"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Witness bulk writer support\n\nWhen writing out sstables for a given node they should only be imported to a node if it is a full replica of the range. I believe that for the sstables that are imported we are targeting them being in the \"repaired\" state meaning all full copies have propagated so it isn't necessary for the mutation tracking log to contain mutations representing the contents of those tables. The mutation tracking log does contain an entry for the import event itself, but that is orthogonal to this ticket and aratnofsky has implemented it.","output":"CEP-46: Witness bulk writer support"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Witness bulk writer support\n\nWhen writing out sstables for a given node they should only be imported to a node if it is a full replica of the range. I believe that for the sstables that are imported we are targeting them being in the \"repaired\" state meaning all full copies have propagated so it isn't necessary for the mutation tracking log to contain mutations representing the contents of those tables. The mutation tracking log does contain an entry for the import event itself, but that is orthogonal to this ticket and ara","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Witness bulk writer support\n\nWhen writing out sstables for a given node they should only be imported to a node if it is a full replica of the range. I believe that for the sstables that are imported we are targeting them being in the \"repaired\" state meaning all full copies have propagated so it isn't necessary for the mutation tracking log to contain mutations representing the contents of those tables. The mutation tracking log does contain an entry for the import event itself, but that is orthogonal to this ticket and ara","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Witness bulk writer support\n\nWhen writing out sstables for a given node they should only be imported to a node if it is a full replica of the range. I believe that for the sstables that are imported we are targeting them being in the \"repaired\" state meaning all full copies have propagated so it isn't necessary for the mutation tracking log to contain mutations representing the contents of those tables. The mutation tracking log does contain an entry for the import event itself, but that is orthogonal to this ticket and ara","output":"When writing out sstables for a given node they should only be imported to a node if it is a full replica of the range. I believe that for the sstables that are imported we are targeting them being in the \"repaired\" state meaning all full copies have propagated so it isn't necessary for the mutation"}
{"instruction":"Extract key technical details from this issue:","input":"When writing out sstables for a given node they should only be imported to a node if it is a full replica of the range. I believe that for the sstables that are imported we are targeting them being in the \"repaired\" state meaning all full copies have propagated so it isn't necessary for the mutation tracking log to contain mutations representing the contents of those tables. The mutation tracking log does contain an entry for the import event itself, but that is orthogonal to this ticket and aratnofsky has implemented it.","output":"CEP-46: Witness bulk writer support"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Witness bulk reader support\n\nBulk reader and possibly also sidecar need to be aware that they should only read from full replicas for a given range.","output":"CEP-46: Witness bulk reader support"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Witness bulk reader support\n\nBulk reader and possibly also sidecar need to be aware that they should only read from full replicas for a given range.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Witness bulk reader support\n\nBulk reader and possibly also sidecar need to be aware that they should only read from full replicas for a given range.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Witness bulk reader support\n\nBulk reader and possibly also sidecar need to be aware that they should only read from full replicas for a given range.","output":"Bulk reader and possibly also sidecar need to be aware that they should only read from full replicas for a given range."}
{"instruction":"Extract key technical details from this issue:","input":"Bulk reader and possibly also sidecar need to be aware that they should only read from full replicas for a given range.","output":"CEP-46: Witness bulk reader support"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-46: Witness range read support\n\nThis is somewhat done, but there is a bug where the wrong {{Replica}} is used to determine whether the range being read from is witnesses on a particular node. There might be other remaining issues, but probably nothing that difficult.","output":"CEP-46: Witness range read support"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Witness range read support\n\nThis is somewhat done, but there is a bug where the wrong {{Replica}} is used to determine whether the range being read from is witnesses on a particular node. There might be other remaining issues, but probably nothing that difficult.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Witness range read support\n\nThis is somewhat done, but there is a bug where the wrong {{Replica}} is used to determine whether the range being read from is witnesses on a particular node. There might be other remaining issues, but probably nothing that difficult.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Witness range read support\n\nThis is somewhat done, but there is a bug where the wrong {{Replica}} is used to determine whether the range being read from is witnesses on a particular node. There might be other remaining issues, but probably nothing that difficult.","output":"This is somewhat done, but there is a bug where the wrong {{Replica}} is used to determine whether the range being read from is witnesses on a particular node. There might be other remaining issues, but probably nothing that difficult."}
{"instruction":"Extract key technical details from this issue:","input":"This is somewhat done, but there is a bug where the wrong {{Replica}} is used to determine whether the range being read from is witnesses on a particular node. There might be other remaining issues, but probably nothing that difficult.","output":"CEP-46: Witness range read support"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add local script for checking project documentation.\n\nAdd a simple script to evaluate if the anatora docs will build correctly. This is just to cut down on the overhead of doc contribution, not to replace the website build process.","output":"Add local script for checking project documentation."}
{"instruction":"Classify the status of this issue based on its description:","input":"Add local script for checking project documentation.\n\nAdd a simple script to evaluate if the anatora docs will build correctly. This is just to cut down on the overhead of doc contribution, not to replace the website build process.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Add local script for checking project documentation.\n\nAdd a simple script to evaluate if the anatora docs will build correctly. This is just to cut down on the overhead of doc contribution, not to replace the website build process.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add local script for checking project documentation.\n\nAdd a simple script to evaluate if the anatora docs will build correctly. This is just to cut down on the overhead of doc contribution, not to replace the website build process.","output":"Add a simple script to evaluate if the anatora docs will build correctly. This is just to cut down on the overhead of doc contribution, not to replace the website build process."}
{"instruction":"Continue the conversation about this technical issue:","input":"Add local script for checking project documentation.\n\nAdd a simple script to evaluate if the anatora docs will build correctly. This is just to cut down on the overhead of doc contribution, not to replace the website build process.\n\nConversation:\nuser: https://github.com/rustyrazorblade/cassandra/tree/CASSANDRA-20960\nassistant: Docs today are built (and tested) like: ``` cd cassandra-website /run.sh website build -g -u cassandra:https://github.com/thelastpickle/cassandra.git -b cassandra:mck/20678/5.0 ``` That approach means you have to have pushed your dev branch first, as the cassandra-website build process takes paramet\nassistant: Docs today are built (and tested) like: ``` cd cassandra-website /run.sh website build -g -u cassandra:https://github.com/thelastpickle/cassandra.git -b cassandra:mck/20678/5.0 ``` That approach means you have to have pushed your dev branch first, as the cassandra-website build process takes paramet\nassistant: I'm not exactly sure what the site.yaml is. If it's the Antora config, that's what I've included here. If you're merging some body of work in in a different ticket, that's cool, but I don't see any activity in the Jira you linked to. What do you want to do at this point?\nassistant: a) double-check that the script is building the same way as cassandra-website docker-entrypoint.sh does (for each in-tree site) (otherwise it'll can be giving false qa) b) the site.yaml is the antora config. this info was fyi– how it \"should\" (and will eventually) be done, so you're aware it (and if","output":"Thanks for the clarification. What about if we merge this as a stop gap between now and when CASSANDRA-17260 is complete? I added this because I was going to contribute some docs, and the current system was so overly complex (and undocumented in the C* repo) that I completely gave up. I found adding"}
{"instruction":"Extract key technical details from this issue:","input":"Add a simple script to evaluate if the anatora docs will build correctly. This is just to cut down on the overhead of doc contribution, not to replace the website build process.","output":"Add local script for checking project documentation."}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45: Add support for unlogged batches\n\n","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45: Add support for unlogged batches\n\n","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45: Add support for unlogged batches\n\n","output":""}
{"instruction":"Continue the conversation about this technical issue:","input":"CEP-45: Add support for unlogged batches\n\n\n\nConversation:\nuser: https://github.com/apache/cassandra/pull/4449","output":"https://github.com/apache/cassandra/pull/4449"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"(CEP-45) Fix SRP in range reads with PER PARTITION LIMIT set, simplify the read path\n\nThere is a slight issue with SRP in the current mutation tracking range read implementation - if an augmenting mutation partially shadows a local LSM read, making a partition with PER PARTITION LIMIT set short, then SRP won't be invoked for that partition. While at it, we might simplify the read state machine class hierarchy and make obtaining follow-up reads for SRP a part of the simplified state machine rather than have a mixture of state machine transitions and callbacks/promises, giving it a more linear structure.","output":"(CEP-45) Fix SRP in range reads with PER PARTITION LIMIT set, simplify the read path"}
{"instruction":"Classify the status of this issue based on its description:","input":"(CEP-45) Fix SRP in range reads with PER PARTITION LIMIT set, simplify the read path\n\nThere is a slight issue with SRP in the current mutation tracking range read implementation - if an augmenting mutation partially shadows a local LSM read, making a partition with PER PARTITION LIMIT set short, then SRP won't be invoked for that partition. While at it, we might simplify the read state machine class hierarchy and make obtaining follow-up reads for SRP a part of the simplified state machine rather than have a mixture of state machine transitions and callbacks/promises, giving it a","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"(CEP-45) Fix SRP in range reads with PER PARTITION LIMIT set, simplify the read path\n\nThere is a slight issue with SRP in the current mutation tracking range read implementation - if an augmenting mutation partially shadows a local LSM read, making a partition with PER PARTITION LIMIT set short, then SRP won't be invoked for that partition. While at it, we might simplify the read state machine class hierarchy and make obtaining follow-up reads for SRP a part of the simplified state machine rather than have a mixture of state machine transitions and callbacks/promises, giving it a","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: (CEP-45) Fix SRP in range reads with PER PARTITION LIMIT set, simplify the read path\n\nThere is a slight issue with SRP in the current mutation tracking range read implementation - if an augmenting mutation partially shadows a local LSM read, making a partition with PER PARTITION LIMIT set short, then SRP won't be invoked for that partition. While at it, we might simplify the read state machine class hierarchy and make obtaining follow-up reads for SRP a part of the simplified state machine rather than have a mixture of state machine transitions and callbacks/promises, giving it a","output":"There is a slight issue with SRP in the current mutation tracking range read implementation - if an augmenting mutation partially shadows a local LSM read, making a partition with PER PARTITION LIMIT set short, then SRP won't be invoked for that partition. While at it, we might simplify the read sta"}
{"instruction":"Continue the conversation about this technical issue:","input":"(CEP-45) Fix SRP in range reads with PER PARTITION LIMIT set, simplify the read path\n\nThere is a slight issue with SRP in the current mutation tracking range read implementation - if an augmenting mutation partially shadows a local LSM read, making a partition with PER PARTITION LIMIT \n\nConversation:\nuser: I think {{MultiNodeTableWalkWithMutationTrackingTest}} reproduces this with {{builder.withSeed(3448512636059630802L).withExamples(1);}} {noformat} Caused by: java.lang.AssertionError: Unexpected results for query: SELECT * FROM ks1.tbl WHERE v0 >= [{0}, {0, 514}, {-1715, 3, 1215135}] PER PARTITION L","output":"I think {{MultiNodeTableWalkWithMutationTrackingTest}} reproduces this with {{builder.withSeed(3448512636059630802L).withExamples(1);}} {noformat} Caused by: java.lang.AssertionError: Unexpected results for query: SELECT * FROM ks1.tbl WHERE v0 >= [{0}, {0, 514}, {-1715, 3, 1215135}] PER PARTITION L"}
{"instruction":"Extract key technical details from this issue:","input":"There is a slight issue with SRP in the current mutation tracking range read implementation - if an augmenting mutation partially shadows a local LSM read, making a partition with PER PARTITION LIMIT set short, then SRP won't be invoked for that partition. While at it, we might simplify the read state machine class hierarchy and make obtaining follow-up reads for SRP a part of the simplified state machine rather than have a mixture of state machine transitions and callbacks/promises, giving it a more linear structure.","output":"(CEP-45) Fix SRP in range reads with PER PARTITION LIMIT set, simplify the read path"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-46: Witness SERIAL read/write path\n\nNeeds to be updated to work with mutation tracking","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-46: Witness SERIAL read/write path\n\nNeeds to be updated to work with mutation tracking","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-46: Witness SERIAL read/write path\n\nNeeds to be updated to work with mutation tracking","output":"Needs to be updated to work with mutation tracking"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Apply cursor-based low allocation optimized compaction ideas to validation compaction\n\nA follow-up for CASSANDRA-20918 to apply the same ideas and re-use the building blocks for validation compaction as well to speedup repair. org.apache.cassandra.repair.ValidationManager#doValidation logic","output":"Apply cursor-based low allocation optimized compaction ideas to validation compaction"}
{"instruction":"Classify the status of this issue based on its description:","input":"Apply cursor-based low allocation optimized compaction ideas to validation compaction\n\nA follow-up for CASSANDRA-20918 to apply the same ideas and re-use the building blocks for validation compaction as well to speedup repair. org.apache.cassandra.repair.ValidationManager#doValidation logic","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Apply cursor-based low allocation optimized compaction ideas to validation compaction\n\nA follow-up for CASSANDRA-20918 to apply the same ideas and re-use the building blocks for validation compaction as well to speedup repair. org.apache.cassandra.repair.ValidationManager#doValidation logic","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Apply cursor-based low allocation optimized compaction ideas to validation compaction\n\nA follow-up for CASSANDRA-20918 to apply the same ideas and re-use the building blocks for validation compaction as well to speedup repair. org.apache.cassandra.repair.ValidationManager#doValidation logic","output":"A follow-up for CASSANDRA-20918 to apply the same ideas and re-use the building blocks for validation compaction as well to speedup repair. org.apache.cassandra.repair.ValidationManager#doValidation logic"}
{"instruction":"Extract key technical details from this issue:","input":"A follow-up for CASSANDRA-20918 to apply the same ideas and re-use the building blocks for validation compaction as well to speedup repair. org.apache.cassandra.repair.ValidationManager#doValidation logic","output":"Apply cursor-based low allocation optimized compaction ideas to validation compaction"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Documentation/Storage Engine - Markdown Render Misformat\n\nOn the Architecture/Storage Engine in the documentation, the _ is rendered as italic between the \"Commit Log\" reference and \"Memtable\" reference. Documentation: https://cassandra.apache.org/doc/latest/cassandra/architecture/storage-engine.html !image-2025-10-03-15-00-18-013.png! The solution is to simply escape the underscore with a backslash.","output":"Documentation/Storage Engine - Markdown Render Misformat"}
{"instruction":"Classify the status of this issue based on its description:","input":"Documentation/Storage Engine - Markdown Render Misformat\n\nOn the Architecture/Storage Engine in the documentation, the _ is rendered as italic between the \"Commit Log\" reference and \"Memtable\" reference. Documentation: https://cassandra.apache.org/doc/latest/cassandra/architecture/storage-engine.html !image-2025-10-03-15-00-18-013.png! The solution is to simply escape the underscore with a backslash.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Documentation/Storage Engine - Markdown Render Misformat\n\nOn the Architecture/Storage Engine in the documentation, the _ is rendered as italic between the \"Commit Log\" reference and \"Memtable\" reference. Documentation: https://cassandra.apache.org/doc/latest/cassandra/architecture/storage-engine.html !image-2025-10-03-15-00-18-013.png! The solution is to simply escape the underscore with a backslash.","output":"Low"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Documentation/Storage Engine - Markdown Render Misformat\n\nOn the Architecture/Storage Engine in the documentation, the _ is rendered as italic between the \"Commit Log\" reference and \"Memtable\" reference. Documentation: https://cassandra.apache.org/doc/latest/cassandra/architecture/storage-engine.html !image-2025-10-03-15-00-18-013.png! The solution is to simply escape the underscore with a backslash.","output":"On the Architecture/Storage Engine in the documentation, the _ is rendered as italic between the \"Commit Log\" reference and \"Memtable\" reference. Documentation: https://cassandra.apache.org/doc/latest/cassandra/architecture/storage-engine.html !image-2025-10-03-15-00-18-013.png! The solution is to s"}
{"instruction":"Continue the conversation about this technical issue:","input":"Documentation/Storage Engine - Markdown Render Misformat\n\nOn the Architecture/Storage Engine in the documentation, the _ is rendered as italic between the \"Commit Log\" reference and \"Memtable\" reference. Documentation: https://cassandra.apache.org/doc/latest\n\nConversation:\nuser: See PR: [https://github.com/apache/cassandra/pull/4409] - Render included.","output":"See PR: [https://github.com/apache/cassandra/pull/4409] - Render included."}
{"instruction":"Extract key technical details from this issue:","input":"On the Architecture/Storage Engine in the documentation, the _ is rendered as italic between the \"Commit Log\" reference and \"Memtable\" reference. Documentation: https://cassandra.apache.org/doc/latest/cassandra/architecture/storage-engine.html !image-2025-10-03-15-00-18-013.png! The solution is to simply escape the underscore with a backslash.","output":"Documentation/Storage Engine - Markdown Render Misformat"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"TCM - can't drop a keyspace with a table and recreate same structure\n\nLooks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key); cqlsh> drop KEYSPACE test; cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key);{noformat} Error: {noformat} INFO [GlobalLogFollower] 2025-10-03T00:09:56,074 ColumnFamilyStore.java:513 - Initializing test.t1 ERROR [GlobalLogFollower] 2025-10-03T00:09:56,076 LocalLog.java:546 - Could not process the entry java.lang.RuntimeException: javax.management.InstanceAlreadyExistsException: org.apache.cassandra.db.compression:type=CompressionDictionaryManager,keyspace=test,table=t1 at org.apache.cassandra.utils.MBeanWrapper$OnException.lambda$static$0(MBeanWrapper.java:365) at org.apache.cassandra.utils.MBeanWrapper$PlatformMBeanWrapper.registerMBean(MBeanWrapper.java:184) at org.apache.cassandra.utils.MBeanWrapper.registerMBean(MBeanWrapper.java:97) at org.apache.cassandra.utils.MBeanWrapper.registerMBean(MBeanWrapper.java:101) at org.apache.cassandra.db.compression.CompressionDictionaryManager.registerMBean(CompressionDictionaryManager.java:82) at org.apache.cassandra.db.compression.CompressionDictionaryManager. (CompressionDictionaryManager.java:74) at org.apache.cassandra.db.ColumnFamilyStore. (ColumnFamilyStore.java:582) at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:801) at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:778) at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:768) at org.apache.cassandra.db.Keyspace.initCf(Keyspace.java:380) at org.apache.cassandra.schema.DistributedSchema.createTable(DistributedSchema.java:396) at org.apache.cassandra.schema.DistributedSchema.lambda$initializeKeyspaceInstances$9(DistributedSchema.java:245) at java.base/java.lang.Iterable.forEach(Iterable.java:75) at org.apache.cassandra.schema.DistributedSchema.lambda$initializeKeyspaceInstances$13(DistributedSchema.java:245) at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:422) at org.apache.cassandra.schema.DistributedSchema.initializeKeyspaceInstances(DistributedSchema.java:231) at org.apache.cassandra.tcm.listeners.SchemaListener.notifyInternal(SchemaListener.java:50) at org.apache.cassandra.tcm.listeners.SchemaListener.notifyPreCommit(SchemaListener.java:43) at org.apache.cassandra.tcm.log.LocalLog.notifyPreCommit(LocalLog.java:620) at org.apache.cassandra.tcm.log.LocalLog.processPendingInternal(LocalLog.java:521) at org.apache.cassandra.tcm.log.LocalLog$Async$AsyncRunnable.run(LocalLog.java:813) at org.apache.cassandra.concurrent.InfiniteLoopExecutor.loop(InfiniteLoopExecutor.java:119) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:840) Caused by: javax.management.InstanceAlreadyExistsException: org.apache.cassandra.db.compression:type=CompressionDictionaryManager,keyspace=test,table=t1 at java.management/com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:436) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1865) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:960) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:895) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:320) at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:523) at org.apache.cassandra.utils.MBeanWrapper$PlatformMBeanWrapper.registerMBean(MBeanWrapper.java:180) ... 23 common frames omitted{noformat} This is fun too: {noformat} cqlsh> drop KEYSPACE test; cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t2 (id int primary key); cqlsh> select * from test.t2; InvalidRequest: Error from server: code=2200 [Invalid query] message=\"table t2 does not exist\" {noformat} Exception thrown in C*: {noformat} INFO [GlobalLogFollower] 2025-10-03T00:14:24,536 ColumnFamilyStore.java:513 - Initializing test.t2 ERROR [GlobalLogFollower] 2025-10-03T00:14:24,538 LocalLog.java:546 - Could not process the entry java.lang.RuntimeException: javax.management.InstanceAlreadyExistsException: org.apache.cassandra.db.compression:type=CompressionDictionaryManager,keyspace=test,table=t2 at org.apache.cassandra.utils.MBeanWrapper$OnException.lambda$static$0(MBeanWrapper.java:365) at org.apache.cassandra.utils.MBeanWrapper$PlatformMBeanWrapper.registerMBean(MBeanWrapper.java:184) at org.apache.cassandra.utils.MBeanWrapper.registerMBean(MBeanWrapper.java:97) at org.apache.cassandra.utils.MBeanWrapper.registerMBean(MBeanWrapper.java:101) at org.apache.cassandra.db.compression.CompressionDictionaryManager.registerMBean(CompressionDictionaryManager.java:82) at org.apache.cassandra.db.compression.CompressionDictionaryManager. (CompressionDictionaryManager.java:74) at org.apache.cassandra.db.ColumnFamilyStore. (ColumnFamilyStore.java:582) at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:801) at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:778) at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:768) at org.apache.cassandra.db.Keyspace.initCf(Keyspace.java:380) at org.apache.cassandra.schema.DistributedSchema.createTable(DistributedSchema.java:396) at org.apache.cassandra.schema.DistributedSchema.lambda$initializeKeyspaceInstances$9(DistributedSchema.java:245) at java.base/java.lang.Iterable.forEach(Iterable.java:75) at org.apache.cassandra.schema.DistributedSchema.lambda$initializeKeyspaceInstances$13(DistributedSchema.java:245) at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:422) at org.apache.cassandra.schema.DistributedSchema.initializeKeyspaceInstances(DistributedSchema.java:231) at org.apache.cassandra.tcm.listeners.SchemaListener.notifyInternal(SchemaListener.java:50) at org.apache.cassandra.tcm.listeners.SchemaListener.notifyPreCommit(SchemaListener.java:43) at org.apache.cassandra.tcm.log.LocalLog.notifyPreCommit(LocalLog.java:620) at org.apache.cassandra.tcm.log.LocalLog.processPendingInternal(LocalLog.java:521) at org.apache.cassandra.tcm.log.LocalLog$Async$AsyncRunnable.run(LocalLog.java:813) at org.apache.cassandra.concurrent.InfiniteLoopExecutor.loop(InfiniteLoopExecutor.java:119) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:840) Caused by: javax.management.InstanceAlreadyExistsException: org.apache.cassandra.db.compression:type=CompressionDictionaryManager,keyspace=test,table=t2 at java.management/com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:436) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1865) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:960) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:895) at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:320) at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:523) at org.apache.cassandra.utils.MBeanWrapper$PlatformMBeanWrapper.registerMBean(MBeanWrapper.java:180){noformat} Trying to create any other tables ends up rethrowing the above exception for the table name that originally triggered the problem.","output":"TCM - can't drop a keyspace with a table and recreate same structure"}
{"instruction":"Classify the status of this issue based on its description:","input":"TCM - can't drop a keyspace with a table and recreate same structure\n\nLooks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key); cqlsh> drop KEYSPACE test; cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"TCM - can't drop a keyspace with a table and recreate same structure\n\nLooks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key); cqlsh> drop KEYSPACE test; cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary","output":"Urgent"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: TCM - can't drop a keyspace with a table and recreate same structure\n\nLooks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key); cqlsh> drop KEYSPACE test; cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary","output":"Looks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table t"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"TCM - can't drop a keyspace with a table and recreate same structure\n\nLooks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key); cqlsh> drop KEYSPACE test; cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary","output":"Invalid"}
{"instruction":"Continue the conversation about this technical issue:","input":"TCM - can't drop a keyspace with a table and recreate same structure\n\nLooks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE\n\nConversation:\nuser: Exactly which version are you seeing this with? I'm completely unable to reproduce it with trunk at {{61959e2}}, either in a single or multi-node cluster. From your stacktrace, the issue looks to be the CFS mbean not getting unregistered when the keyspace is dropped. Checking with jconsole locally a\nassistant: I think the cqlsh tests are passing, and they do a drop and recreate: https://github.com/apache/cassandra-dtest/blob/trunk/cqlsh_tests/test_cqlsh.py#L916\nassistant: Looks like it is a bug in the patch (CASSANDRA-17021) that is under review. {code:java} Caused by: javax.management.InstanceAlreadyExistsException: org.apache.cassandra.db.compression:type=CompressionDictionaryManager,keyspace=test,table=t2 {code} The reason is that the CompressionDictionaryManager ","output":"Looks like it is a bug in the patch (CASSANDRA-17021) that is under review. {code:java} Caused by: javax.management.InstanceAlreadyExistsException: org.apache.cassandra.db.compression:type=CompressionDictionaryManager,keyspace=test,table=t2 {code} The reason is that the CompressionDictionaryManager "}
{"instruction":"Extract key technical details from this issue:","input":"Looks like if you create a keyspace and a table, then drop the keyspace, trying to re-create that same keyspace and table will completely lock up TCM. Steps to repro: {noformat} cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key); cqlsh> drop KEYSPACE test; cqlsh> create KEYSPACE test WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1}; cqlsh> create table test.t1 (id int primary key);{noformat} Error: {noformat} INFO [GlobalLogFollower] 2025-10-03T00:09:56,074 ColumnFamilyStore.java:513 - Initializing test.t1 ERROR [GlobalLogFollower] 2025-10-03T00:09:56,076 LocalLog.java:546 - Could not process the entry java.lang.RuntimeException: javax.management.InstanceAlreadyExistsEx","output":"TCM - can't drop a keyspace with a table and recreate same structure"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Optionally verify checksums for SAI on-disk components in nodetool verify\n\nThe *nodetool verify* command has never checked secondary indexes, but with SAI on-disk items being legitimate SSTable components, it might be useful. One place this might come up is when we have some kind of error in streaming. We verify the checksums of SAI components on the receiving end, but not on the sender, and it might be nice to know if there’s a particular corrupted SSTable-attached index there, so we can remove it, bounce, and move along (instead of rebuilding the entire index on the sending node).","output":"Optionally verify checksums for SAI on-disk components in nodetool verify"}
{"instruction":"Classify the status of this issue based on its description:","input":"Optionally verify checksums for SAI on-disk components in nodetool verify\n\nThe *nodetool verify* command has never checked secondary indexes, but with SAI on-disk items being legitimate SSTable components, it might be useful. One place this might come up is when we have some kind of error in streaming. We verify the checksums of SAI components on the receiving end, but not on the sender, and it might be nice to know if there’s a particular corrupted SSTable-attached index there, so we can remove it, bounce, and move along (instead of rebuilding the entire index on the ","output":"Review In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Optionally verify checksums for SAI on-disk components in nodetool verify\n\nThe *nodetool verify* command has never checked secondary indexes, but with SAI on-disk items being legitimate SSTable components, it might be useful. One place this might come up is when we have some kind of error in streaming. We verify the checksums of SAI components on the receiving end, but not on the sender, and it might be nice to know if there’s a particular corrupted SSTable-attached index there, so we can remove it, bounce, and move along (instead of rebuilding the entire index on the ","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Optionally verify checksums for SAI on-disk components in nodetool verify\n\nThe *nodetool verify* command has never checked secondary indexes, but with SAI on-disk items being legitimate SSTable components, it might be useful. One place this might come up is when we have some kind of error in streaming. We verify the checksums of SAI components on the receiving end, but not on the sender, and it might be nice to know if there’s a particular corrupted SSTable-attached index there, so we can remove it, bounce, and move along (instead of rebuilding the entire index on the ","output":"The *nodetool verify* command has never checked secondary indexes, but with SAI on-disk items being legitimate SSTable components, it might be useful. One place this might come up is when we have some kind of error in streaming. We verify the checksums of SAI components on the receiving end, but not"}
{"instruction":"Extract key technical details from this issue:","input":"The *nodetool verify* command has never checked secondary indexes, but with SAI on-disk items being legitimate SSTable components, it might be useful. One place this might come up is when we have some kind of error in streaming. We verify the checksums of SAI components on the receiving end, but not on the sender, and it might be nice to know if there’s a particular corrupted SSTable-attached index there, so we can remove it, bounce, and move along (instead of rebuilding the entire index on the sending node).","output":"Optionally verify checksums for SAI on-disk components in nodetool verify"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica needs to be sent mutations during a read.","output":"CEP-45 - Mutation Tracking: Review metrics"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica nee","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica nee","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica nee","output":"Some of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but i"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica nee","output":"Duplicate"}
{"instruction":"Extract key technical details from this issue:","input":"Some of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica needs to be sent mutations during a read.","output":"CEP-45 - Mutation Tracking: Review metrics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"Outgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"Duplicate"}
{"instruction":"Extract key technical details from this issue:","input":"Outgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45: Add replication_type and witness replicas to CassandraGenerators\n\nWe're not currently testing mutation tracking or witness replicas in our property based testing. We should be testing both in property based tests where it makes sense.","output":"CEP-45: Add replication_type and witness replicas to CassandraGenerators"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45: Add replication_type and witness replicas to CassandraGenerators\n\nWe're not currently testing mutation tracking or witness replicas in our property based testing. We should be testing both in property based tests where it makes sense.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45: Add replication_type and witness replicas to CassandraGenerators\n\nWe're not currently testing mutation tracking or witness replicas in our property based testing. We should be testing both in property based tests where it makes sense.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45: Add replication_type and witness replicas to CassandraGenerators\n\nWe're not currently testing mutation tracking or witness replicas in our property based testing. We should be testing both in property based tests where it makes sense.","output":"We're not currently testing mutation tracking or witness replicas in our property based testing. We should be testing both in property based tests where it makes sense."}
{"instruction":"Extract key technical details from this issue:","input":"We're not currently testing mutation tracking or witness replicas in our property based testing. We should be testing both in property based tests where it makes sense.","output":"CEP-45: Add replication_type and witness replicas to CassandraGenerators"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add a message to the top of NEWS.txt about TCM and Upgrades.\n\nAdd the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ---------------------- In order to support the new Cluster Metadata Service, added to Apache Cassandra in \"CEP-21: Transactional Cluster Metadata\", upgrading to this version of Cassandra involves operational steps above and beyond most previous upgrades. See the instructions below in the \"Upgrading\" section for more details on how to proceed.{noformat}","output":"Add a message to the top of NEWS.txt about TCM and Upgrades."}
{"instruction":"Classify the status of this issue based on its description:","input":"Add a message to the top of NEWS.txt about TCM and Upgrades.\n\nAdd the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ---------------------- In order to support the new Cluster Metadata Service, added to Apache Cassandra in \"CEP-21: Transactional Cluster Metadata\", upgrading to this version of Cassandra involves operational steps above and beyond most previous upgrades. See the instructions below in the \"Upgrading\" secti","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add a message to the top of NEWS.txt about TCM and Upgrades.\n\nAdd the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ---------------------- In order to support the new Cluster Metadata Service, added to Apache Cassandra in \"CEP-21: Transactional Cluster Metadata\", upgrading to this version of Cassandra involves operational steps above and beyond most previous upgrades. See the instructions below in the \"Upgrading\" secti","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add a message to the top of NEWS.txt about TCM and Upgrades.\n\nAdd the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ---------------------- In order to support the new Cluster Metadata Service, added to Apache Cassandra in \"CEP-21: Transactional Cluster Metadata\", upgrading to this version of Cassandra involves operational steps above and beyond most previous upgrades. See the instructions below in the \"Upgrading\" secti","output":"Add the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ---------------------- In order to support the new Cluster Metadata Service, added to Apache Cassandra in "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add a message to the top of NEWS.txt about TCM and Upgrades.\n\nAdd the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ---------------------- In order to support the new Cluster Metadata Service, added to Apache Cassandra in \"CEP-21: Transactional Cluster Metadata\", upgrading to this version of Cassandra involves operational steps above and beyond most previous upgrades. See the instructions below in the \"Upgrading\" secti","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add a message to the top of NEWS.txt about TCM and Upgrades.\n\nAdd the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ------\n\nConversation:\nuser: [https://github.com/apache/cassandra/pull/4407]\nassistant: +1","output":"+1"}
{"instruction":"Extract key technical details from this issue:","input":"Add the following note to the top of NEWS.txt to help ensure people don't get surprised by the new steps needed when upgrading to a version that includes TCM. {noformat} **CRITICAL: UPGRADING** ---------------------- In order to support the new Cluster Metadata Service, added to Apache Cassandra in \"CEP-21: Transactional Cluster Metadata\", upgrading to this version of Cassandra involves operational steps above and beyond most previous upgrades. See the instructions below in the \"Upgrading\" section for more details on how to proceed.{noformat}","output":"Add a message to the top of NEWS.txt about TCM and Upgrades."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Disable mutation tracking by default in CassandraGenerators\n\nWe currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for single node tests or other tests where legacy repair mechanisms are active.","output":"Disable mutation tracking by default in CassandraGenerators"}
{"instruction":"Classify the status of this issue based on its description:","input":"Disable mutation tracking by default in CassandraGenerators\n\nWe currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for single node tests or other tests where legacy repair mechanisms are active.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Disable mutation tracking by default in CassandraGenerators\n\nWe currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for single node tests or other tests where legacy repair mechanisms are active.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Disable mutation tracking by default in CassandraGenerators\n\nWe currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for single node tests or other tests where legacy repair mechanisms are active.","output":"We currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for single node tests or other tests where legacy repair mechanisms are active."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Disable mutation tracking by default in CassandraGenerators\n\nWe currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for single node tests or other tests where legacy repair mechanisms are active.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Disable mutation tracking by default in CassandraGenerators\n\nWe currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for \n\nConversation:\nuser: Have a +1 from bdeggleston in the PR. CI is still a bit of a mess, but this patch hasn't caused any regressions for the dependencies of {{CassandraGenerators}}.","output":"Have a +1 from bdeggleston in the PR. CI is still a bit of a mess, but this patch hasn't caused any regressions for the dependencies of {{CassandraGenerators}}."}
{"instruction":"Extract key technical details from this issue:","input":"We currently enable mutation tracking explicitly where it makes sense for the AST tests (like in {{MultiNodeTableWalkMutationTrackingTest}}), but it doesn’t make sense for it to even be an option for single node tests or other tests where legacy repair mechanisms are active.","output":"Disable mutation tracking by default in CassandraGenerators"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Introducing comments and security labels for schema elements\n\nThis proposal introduces the ability to add comments and security labels to Cassandra schema elements such as keyspaces, tables, columns, and UDTs. Users/Operators can embed human-readable explanations and business context directly into the schema, transforming Cassandra into a more self-documenting system. Comments improve comprehension, onboarding, troubleshooting, and long-term maintainability, while security labels provide a mechanism to mark elements with descriptors such as \"PII\" for sensitive data. Although security labels are purely descriptive in this proposal and do not alter Cassandra's authorization model, they establish a foundation for future integrations where external providers could enforce policies based on assigned labels, thereby enhancing both documentation and governance capabilities. https://cwiki.apache.org/confluence/display/CASSANDRA/CEP-52%3A+Schema+Annotations+for+ApacheCassandra","output":"Introducing comments and security labels for schema elements"}
{"instruction":"Classify the status of this issue based on its description:","input":"Introducing comments and security labels for schema elements\n\nThis proposal introduces the ability to add comments and security labels to Cassandra schema elements such as keyspaces, tables, columns, and UDTs. Users/Operators can embed human-readable explanations and business context directly into the schema, transforming Cassandra into a more self-documenting system. Comments improve comprehension, onboarding, troubleshooting, and long-term maintainability, while security labels provide a mechanism to mark elements with descriptors such as \"PII\" for sensi","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Introducing comments and security labels for schema elements\n\nThis proposal introduces the ability to add comments and security labels to Cassandra schema elements such as keyspaces, tables, columns, and UDTs. Users/Operators can embed human-readable explanations and business context directly into the schema, transforming Cassandra into a more self-documenting system. Comments improve comprehension, onboarding, troubleshooting, and long-term maintainability, while security labels provide a mechanism to mark elements with descriptors such as \"PII\" for sensi","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Introducing comments and security labels for schema elements\n\nThis proposal introduces the ability to add comments and security labels to Cassandra schema elements such as keyspaces, tables, columns, and UDTs. Users/Operators can embed human-readable explanations and business context directly into the schema, transforming Cassandra into a more self-documenting system. Comments improve comprehension, onboarding, troubleshooting, and long-term maintainability, while security labels provide a mechanism to mark elements with descriptors such as \"PII\" for sensi","output":"This proposal introduces the ability to add comments and security labels to Cassandra schema elements such as keyspaces, tables, columns, and UDTs. Users/Operators can embed human-readable explanations and business context directly into the schema, transforming Cassandra into a more self-documenting"}
{"instruction":"Continue the conversation about this technical issue:","input":"Introducing comments and security labels for schema elements\n\nThis proposal introduces the ability to add comments and security labels to Cassandra schema elements such as keyspaces, tables, columns, and UDTs. Users/Operators can embed human-readable explanation\n\nConversation:\nuser: Just reviewed the functionality, and everything looks great. +1 and a great feature. Thanks for your work on this!","output":"Just reviewed the functionality, and everything looks great. +1 and a great feature. Thanks for your work on this!"}
{"instruction":"Extract key technical details from this issue:","input":"This proposal introduces the ability to add comments and security labels to Cassandra schema elements such as keyspaces, tables, columns, and UDTs. Users/Operators can embed human-readable explanations and business context directly into the schema, transforming Cassandra into a more self-documenting system. Comments improve comprehension, onboarding, troubleshooting, and long-term maintainability, while security labels provide a mechanism to mark elements with descriptors such as \"PII\" for sensitive data. Although security labels are purely descriptive in this proposal and do not alter Cassandra's authorization model, they establish a foundation for future integrations where external providers could enforce policies based on assigned labels, thereby enhancing both documentation and governa","output":"Introducing comments and security labels for schema elements"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Enhance traincompressiondictionary command with sampling and scope Options\n\nExtend the traincompressiondictionary nodetool command to include: * Support for multiple sampling strategies. * '--global' and '--local' options to define dictionary availability scope: ** Global (default): Store in system_distributed.compression_dictionaries and make available cluster-wide. ** Local: Restrict dictionary availability to the current node, when dictionary from local data is desired.","output":"Enhance traincompressiondictionary command with sampling and scope Options"}
{"instruction":"Classify the status of this issue based on its description:","input":"Enhance traincompressiondictionary command with sampling and scope Options\n\nExtend the traincompressiondictionary nodetool command to include: * Support for multiple sampling strategies. * '--global' and '--local' options to define dictionary availability scope: ** Global (default): Store in system_distributed.compression_dictionaries and make available cluster-wide. ** Local: Restrict dictionary availability to the current node, when dictionary from local data is desired.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Enhance traincompressiondictionary command with sampling and scope Options\n\nExtend the traincompressiondictionary nodetool command to include: * Support for multiple sampling strategies. * '--global' and '--local' options to define dictionary availability scope: ** Global (default): Store in system_distributed.compression_dictionaries and make available cluster-wide. ** Local: Restrict dictionary availability to the current node, when dictionary from local data is desired.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Enhance traincompressiondictionary command with sampling and scope Options\n\nExtend the traincompressiondictionary nodetool command to include: * Support for multiple sampling strategies. * '--global' and '--local' options to define dictionary availability scope: ** Global (default): Store in system_distributed.compression_dictionaries and make available cluster-wide. ** Local: Restrict dictionary availability to the current node, when dictionary from local data is desired.","output":"Extend the traincompressiondictionary nodetool command to include: * Support for multiple sampling strategies. * '--global' and '--local' options to define dictionary availability scope: ** Global (default): Store in system_distributed.compression_dictionaries and make available cluster-wide. ** Loc"}
{"instruction":"Extract key technical details from this issue:","input":"Extend the traincompressiondictionary nodetool command to include: * Support for multiple sampling strategies. * '--global' and '--local' options to define dictionary availability scope: ** Global (default): Store in system_distributed.compression_dictionaries and make available cluster-wide. ** Local: Restrict dictionary availability to the current node, when dictionary from local data is desired.","output":"Enhance traincompressiondictionary command with sampling and scope Options"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add Nodetool command to import / export/ list compression dictionary\n\nIntroduce a new nodetool command to import a ZSTD compression dictionary. - Imported dictionary is automatically promoted as the current dictionary without going through evaluation. - Intended as an administrative tool; usage should be documented with warnings about its impact.","output":"Add Nodetool command to import / export/ list compression dictionary"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add Nodetool command to import / export/ list compression dictionary\n\nIntroduce a new nodetool command to import a ZSTD compression dictionary. - Imported dictionary is automatically promoted as the current dictionary without going through evaluation. - Intended as an administrative tool; usage should be documented with warnings about its impact.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Add Nodetool command to import / export/ list compression dictionary\n\nIntroduce a new nodetool command to import a ZSTD compression dictionary. - Imported dictionary is automatically promoted as the current dictionary without going through evaluation. - Intended as an administrative tool; usage should be documented with warnings about its impact.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add Nodetool command to import / export/ list compression dictionary\n\nIntroduce a new nodetool command to import a ZSTD compression dictionary. - Imported dictionary is automatically promoted as the current dictionary without going through evaluation. - Intended as an administrative tool; usage should be documented with warnings about its impact.","output":"Introduce a new nodetool command to import a ZSTD compression dictionary. - Imported dictionary is automatically promoted as the current dictionary without going through evaluation. - Intended as an administrative tool; usage should be documented with warnings about its impact."}
{"instruction":"Extract key technical details from this issue:","input":"Introduce a new nodetool command to import a ZSTD compression dictionary. - Imported dictionary is automatically promoted as the current dictionary without going through evaluation. - Intended as an administrative tool; usage should be documented with warnings about its impact.","output":"Add Nodetool command to import / export/ list compression dictionary"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Extend Nodetool tablestats for dictionary memory usage\n\nAdd reporting in nodetool tablestats to display memory usage associated with cached ZSTD dictionaries.","output":"Extend Nodetool tablestats for dictionary memory usage"}
{"instruction":"Classify the status of this issue based on its description:","input":"Extend Nodetool tablestats for dictionary memory usage\n\nAdd reporting in nodetool tablestats to display memory usage associated with cached ZSTD dictionaries.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Extend Nodetool tablestats for dictionary memory usage\n\nAdd reporting in nodetool tablestats to display memory usage associated with cached ZSTD dictionaries.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Extend Nodetool tablestats for dictionary memory usage\n\nAdd reporting in nodetool tablestats to display memory usage associated with cached ZSTD dictionaries.","output":"Add reporting in nodetool tablestats to display memory usage associated with cached ZSTD dictionaries."}
{"instruction":"Extract key technical details from this issue:","input":"Add reporting in nodetool tablestats to display memory usage associated with cached ZSTD dictionaries.","output":"Extend Nodetool tablestats for dictionary memory usage"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add metrics for ZSTD dictionary compression\n\nExpose the following metrics for observability of ZSTD dictionary compression: - Training frequency - Training duration - Dictionary size - Unique active dictionaries count - Compression ratio","output":"Add metrics for ZSTD dictionary compression"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add metrics for ZSTD dictionary compression\n\nExpose the following metrics for observability of ZSTD dictionary compression: - Training frequency - Training duration - Dictionary size - Unique active dictionaries count - Compression ratio","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Add metrics for ZSTD dictionary compression\n\nExpose the following metrics for observability of ZSTD dictionary compression: - Training frequency - Training duration - Dictionary size - Unique active dictionaries count - Compression ratio","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add metrics for ZSTD dictionary compression\n\nExpose the following metrics for observability of ZSTD dictionary compression: - Training frequency - Training duration - Dictionary size - Unique active dictionaries count - Compression ratio","output":"Expose the following metrics for observability of ZSTD dictionary compression: - Training frequency - Training duration - Dictionary size - Unique active dictionaries count - Compression ratio"}
{"instruction":"Extract key technical details from this issue:","input":"Expose the following metrics for observability of ZSTD dictionary compression: - Training frequency - Training duration - Dictionary size - Unique active dictionaries count - Compression ratio","output":"Add metrics for ZSTD dictionary compression"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support external ZSTD dictionary in CQLSSTableWriter\n\nExtend CQLSSTableWriter to accept an external ZSTD compression dictionary for writing SSTables. - Add a new option to pass the dictionary. - Dictionary is only applied if the table schema indicates ZSTD compression with dictionary enabled. - Document best practices: external tooling invoking CQLSSTableWriter should fetch the current dictionary from Cassandra to avoid excessive dictionary proliferation.","output":"Support external ZSTD dictionary in CQLSSTableWriter"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support external ZSTD dictionary in CQLSSTableWriter\n\nExtend CQLSSTableWriter to accept an external ZSTD compression dictionary for writing SSTables. - Add a new option to pass the dictionary. - Dictionary is only applied if the table schema indicates ZSTD compression with dictionary enabled. - Document best practices: external tooling invoking CQLSSTableWriter should fetch the current dictionary from Cassandra to avoid excessive dictionary proliferation.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Support external ZSTD dictionary in CQLSSTableWriter\n\nExtend CQLSSTableWriter to accept an external ZSTD compression dictionary for writing SSTables. - Add a new option to pass the dictionary. - Dictionary is only applied if the table schema indicates ZSTD compression with dictionary enabled. - Document best practices: external tooling invoking CQLSSTableWriter should fetch the current dictionary from Cassandra to avoid excessive dictionary proliferation.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support external ZSTD dictionary in CQLSSTableWriter\n\nExtend CQLSSTableWriter to accept an external ZSTD compression dictionary for writing SSTables. - Add a new option to pass the dictionary. - Dictionary is only applied if the table schema indicates ZSTD compression with dictionary enabled. - Document best practices: external tooling invoking CQLSSTableWriter should fetch the current dictionary from Cassandra to avoid excessive dictionary proliferation.","output":"Extend CQLSSTableWriter to accept an external ZSTD compression dictionary for writing SSTables. - Add a new option to pass the dictionary. - Dictionary is only applied if the table schema indicates ZSTD compression with dictionary enabled. - Document best practices: external tooling invoking CQLSSTa"}
{"instruction":"Extract key technical details from this issue:","input":"Extend CQLSSTableWriter to accept an external ZSTD compression dictionary for writing SSTables. - Add a new option to pass the dictionary. - Dictionary is only applied if the table schema indicates ZSTD compression with dictionary enabled. - Document best practices: external tooling invoking CQLSSTableWriter should fetch the current dictionary from Cassandra to avoid excessive dictionary proliferation.","output":"Support external ZSTD dictionary in CQLSSTableWriter"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Coordinate ZSTD dictionary auto-training on a single node\n\nEnsure that ZSTD dictionary auto-training is performed by only one node in the cluster at a time. - Select a single node to handle the end-to-end workflow: sampling data, training the dictionary, evaluating performance, and promoting the dictionary if applicable. - Prevent multiple nodes from duplicating effort or promoting conflicting dictionaries.","output":"Coordinate ZSTD dictionary auto-training on a single node"}
{"instruction":"Classify the status of this issue based on its description:","input":"Coordinate ZSTD dictionary auto-training on a single node\n\nEnsure that ZSTD dictionary auto-training is performed by only one node in the cluster at a time. - Select a single node to handle the end-to-end workflow: sampling data, training the dictionary, evaluating performance, and promoting the dictionary if applicable. - Prevent multiple nodes from duplicating effort or promoting conflicting dictionaries.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Coordinate ZSTD dictionary auto-training on a single node\n\nEnsure that ZSTD dictionary auto-training is performed by only one node in the cluster at a time. - Select a single node to handle the end-to-end workflow: sampling data, training the dictionary, evaluating performance, and promoting the dictionary if applicable. - Prevent multiple nodes from duplicating effort or promoting conflicting dictionaries.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Coordinate ZSTD dictionary auto-training on a single node\n\nEnsure that ZSTD dictionary auto-training is performed by only one node in the cluster at a time. - Select a single node to handle the end-to-end workflow: sampling data, training the dictionary, evaluating performance, and promoting the dictionary if applicable. - Prevent multiple nodes from duplicating effort or promoting conflicting dictionaries.","output":"Ensure that ZSTD dictionary auto-training is performed by only one node in the cluster at a time. - Select a single node to handle the end-to-end workflow: sampling data, training the dictionary, evaluating performance, and promoting the dictionary if applicable. - Prevent multiple nodes from duplic"}
{"instruction":"Extract key technical details from this issue:","input":"Ensure that ZSTD dictionary auto-training is performed by only one node in the cluster at a time. - Select a single node to handle the end-to-end workflow: sampling data, training the dictionary, evaluating performance, and promoting the dictionary if applicable. - Prevent multiple nodes from duplicating effort or promoting conflicting dictionaries.","output":"Coordinate ZSTD dictionary auto-training on a single node"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add dictionary evaluation and auto-promotion mechanism\n\nDevelop a component to evaluate compression performance between dictionaries and automatically promote the better-performing one. - Compare compression ratios and effectiveness between new and current dictionaries. - If the new dictionary demonstrates better performance, promote it automatically. - Provide hooks for metrics to track evaluation outcomes and promotions.","output":"Add dictionary evaluation and auto-promotion mechanism"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add dictionary evaluation and auto-promotion mechanism\n\nDevelop a component to evaluate compression performance between dictionaries and automatically promote the better-performing one. - Compare compression ratios and effectiveness between new and current dictionaries. - If the new dictionary demonstrates better performance, promote it automatically. - Provide hooks for metrics to track evaluation outcomes and promotions.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Add dictionary evaluation and auto-promotion mechanism\n\nDevelop a component to evaluate compression performance between dictionaries and automatically promote the better-performing one. - Compare compression ratios and effectiveness between new and current dictionaries. - If the new dictionary demonstrates better performance, promote it automatically. - Provide hooks for metrics to track evaluation outcomes and promotions.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add dictionary evaluation and auto-promotion mechanism\n\nDevelop a component to evaluate compression performance between dictionaries and automatically promote the better-performing one. - Compare compression ratios and effectiveness between new and current dictionaries. - If the new dictionary demonstrates better performance, promote it automatically. - Provide hooks for metrics to track evaluation outcomes and promotions.","output":"Develop a component to evaluate compression performance between dictionaries and automatically promote the better-performing one. - Compare compression ratios and effectiveness between new and current dictionaries. - If the new dictionary demonstrates better performance, promote it automatically. - "}
{"instruction":"Extract key technical details from this issue:","input":"Develop a component to evaluate compression performance between dictionaries and automatically promote the better-performing one. - Compare compression ratios and effectiveness between new and current dictionaries. - If the new dictionary demonstrates better performance, promote it automatically. - Provide hooks for metrics to track evaluation outcomes and promotions.","output":"Add dictionary evaluation and auto-promotion mechanism"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add sampling strategies and reservoir for ZSTD dictionary training\n\nIntroduce support for sampling strategies in ZSTD dictionary auto-training and persist sampled data in a reservoir for reuse. - Support: random sampling and exponential decay reservoir sampling. - Maintain a reservoir of sampled data for consistent and representative training. - Ensure integration between sampling and reservoir storage is seamless.","output":"Add sampling strategies and reservoir for ZSTD dictionary training"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add sampling strategies and reservoir for ZSTD dictionary training\n\nIntroduce support for sampling strategies in ZSTD dictionary auto-training and persist sampled data in a reservoir for reuse. - Support: random sampling and exponential decay reservoir sampling. - Maintain a reservoir of sampled data for consistent and representative training. - Ensure integration between sampling and reservoir storage is seamless.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Add sampling strategies and reservoir for ZSTD dictionary training\n\nIntroduce support for sampling strategies in ZSTD dictionary auto-training and persist sampled data in a reservoir for reuse. - Support: random sampling and exponential decay reservoir sampling. - Maintain a reservoir of sampled data for consistent and representative training. - Ensure integration between sampling and reservoir storage is seamless.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add sampling strategies and reservoir for ZSTD dictionary training\n\nIntroduce support for sampling strategies in ZSTD dictionary auto-training and persist sampled data in a reservoir for reuse. - Support: random sampling and exponential decay reservoir sampling. - Maintain a reservoir of sampled data for consistent and representative training. - Ensure integration between sampling and reservoir storage is seamless.","output":"Introduce support for sampling strategies in ZSTD dictionary auto-training and persist sampled data in a reservoir for reuse. - Support: random sampling and exponential decay reservoir sampling. - Maintain a reservoir of sampled data for consistent and representative training. - Ensure integration b"}
{"instruction":"Extract key technical details from this issue:","input":"Introduce support for sampling strategies in ZSTD dictionary auto-training and persist sampled data in a reservoir for reuse. - Support: random sampling and exponential decay reservoir sampling. - Maintain a reservoir of sampled data for consistent and representative training. - Ensure integration between sampling and reservoir storage is seamless.","output":"Add sampling strategies and reservoir for ZSTD dictionary training"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix several witness tests\n\nThere were a few new failing tests merging to {{cep-45-mutation-tracking}}","output":"Fix several witness tests"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix several witness tests\n\nThere were a few new failing tests merging to {{cep-45-mutation-tracking}}","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix several witness tests\n\nThere were a few new failing tests merging to {{cep-45-mutation-tracking}}","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix several witness tests\n\nThere were a few new failing tests merging to {{cep-45-mutation-tracking}}","output":"There were a few new failing tests merging to {{cep-45-mutation-tracking}}"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix several witness tests\n\nThere were a few new failing tests merging to {{cep-45-mutation-tracking}}","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix several witness tests\n\nThere were a few new failing tests merging to {{cep-45-mutation-tracking}}\n\nConversation:\nuser: +1","output":"+1"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Flaky test - transport.AuthMessageSizeLimitTest sendTooBigAuthMultiFrameMessage\n\nAuthMessageSizeLimitTest fails from time to time. https://ci-cassandra.apache.org/job/Cassandra-trunk/2287/testReport/junit/org.apache.cassandra.transport/AuthMessageSizeLimitTest/Tests___test_jdk17_3_20___sendTooBigAuthMultiFrameMessage__jdk17_x86_64/","output":"Flaky test - transport.AuthMessageSizeLimitTest sendTooBigAuthMultiFrameMessage"}
{"instruction":"Classify the status of this issue based on its description:","input":"Flaky test - transport.AuthMessageSizeLimitTest sendTooBigAuthMultiFrameMessage\n\nAuthMessageSizeLimitTest fails from time to time. https://ci-cassandra.apache.org/job/Cassandra-trunk/2287/testReport/junit/org.apache.cassandra.transport/AuthMessageSizeLimitTest/Tests___test_jdk17_3_20___sendTooBigAuthMultiFrameMessage__jdk17_x86_64/","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Flaky test - transport.AuthMessageSizeLimitTest sendTooBigAuthMultiFrameMessage\n\nAuthMessageSizeLimitTest fails from time to time. https://ci-cassandra.apache.org/job/Cassandra-trunk/2287/testReport/junit/org.apache.cassandra.transport/AuthMessageSizeLimitTest/Tests___test_jdk17_3_20___sendTooBigAuthMultiFrameMessage__jdk17_x86_64/","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Flaky test - transport.AuthMessageSizeLimitTest sendTooBigAuthMultiFrameMessage\n\nAuthMessageSizeLimitTest fails from time to time. https://ci-cassandra.apache.org/job/Cassandra-trunk/2287/testReport/junit/org.apache.cassandra.transport/AuthMessageSizeLimitTest/Tests___test_jdk17_3_20___sendTooBigAuthMultiFrameMessage__jdk17_x86_64/","output":"AuthMessageSizeLimitTest fails from time to time. https://ci-cassandra.apache.org/job/Cassandra-trunk/2287/testReport/junit/org.apache.cassandra.transport/AuthMessageSizeLimitTest/Tests___test_jdk17_3_20___sendTooBigAuthMultiFrameMessage__jdk17_x86_64/"}
{"instruction":"Continue the conversation about this technical issue:","input":"Flaky test - transport.AuthMessageSizeLimitTest sendTooBigAuthMultiFrameMessage\n\nAuthMessageSizeLimitTest fails from time to time. https://ci-cassandra.apache.org/job/Cassandra-trunk/2287/testReport/junit/org.apache.cassandra.transport/AuthMessageSizeLimitTest/Tests___test_jdk17_3\n\nConversation:\nuser: The failure can be reproduced more reliably by adding a delay into org.apache.cassandra.transport.SimpleClient.SimpleFlusher#writeLargeMessage logic between sending of subsequent frames of a large auth message. so we have one of two cases: * (normal case) client is fast enough to send both frames in","output":"The failure can be reproduced more reliably by adding a delay into org.apache.cassandra.transport.SimpleClient.SimpleFlusher#writeLargeMessage logic between sending of subsequent frames of a large auth message. so we have one of two cases: * (normal case) client is fast enough to send both frames in"}
{"instruction":"Extract key technical details from this issue:","input":"AuthMessageSizeLimitTest fails from time to time. https://ci-cassandra.apache.org/job/Cassandra-trunk/2287/testReport/junit/org.apache.cassandra.transport/AuthMessageSizeLimitTest/Tests___test_jdk17_3_20___sendTooBigAuthMultiFrameMessage__jdk17_x86_64/","output":"Flaky test - transport.AuthMessageSizeLimitTest sendTooBigAuthMultiFrameMessage"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928\n\nupgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as we are concatenating various yaml fragments into one yaml we use for tests (cassandra.yaml, cdc.yaml and similar). This will emit warnings to logs and tests will fail because they expect empty error output. The solution is to not emit warnings on duplicate keys.","output":"Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928"}
{"instruction":"Classify the status of this issue based on its description:","input":"Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928\n\nupgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as we are concatenating various yaml fragments into one yaml we use for tests (cassandra.yaml, cdc.yaml and similar). This will emit warnings to logs and tests will fail because they expect empty error output. The solution is to not emit warnings on duplicate keys.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928\n\nupgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as we are concatenating various yaml fragments into one yaml we use for tests (cassandra.yaml, cdc.yaml and similar). This will emit warnings to logs and tests will fail because they expect empty error output. The solution is to not emit warnings on duplicate keys.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928\n\nupgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as we are concatenating various yaml fragments into one yaml we use for tests (cassandra.yaml, cdc.yaml and similar). This will emit warnings to logs and tests will fail because they expect empty error output. The solution is to not emit warnings on duplicate keys.","output":"upgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as we are concatenating various yaml fragments into one yaml we use for tests (cassandra.yaml, cdc.yam"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928\n\nupgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as we are concatenating various yaml fragments into one yaml we use for tests (cassandra.yaml, cdc.yaml and similar). This will emit warnings to logs and tests will fail because they expect empty error output. The solution is to not emit warnings on duplicate keys.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928\n\nupgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as\n\nConversation:\nuser: +1\nassistant: one can see it is fixed from here (1) (1) https://app.circleci.com/pipelines/github/instaclustr/cassandra/6058/workflows/f6f7a962-9973-4a77-9348-4e8f4364da64","output":"one can see it is fixed from here (1) (1) https://app.circleci.com/pipelines/github/instaclustr/cassandra/6058/workflows/f6f7a962-9973-4a77-9348-4e8f4364da64"}
{"instruction":"Extract key technical details from this issue:","input":"upgrade of snakeyaml 2.1 to 2.4 under CASSANDRA-20928 started to emit warnings into the logs when it detects that respective YAML file contains duplicate keys. This is happening while we run tests, as we are concatenating various yaml fragments into one yaml we use for tests (cassandra.yaml, cdc.yaml and similar). This will emit warnings to logs and tests will fail because they expect empty error output. The solution is to not emit warnings on duplicate keys.","output":"Do not emit warning on duplicate keys in snakeyaml to preserve behavior pre-CASSANDRA-20928"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Lightweight `ant check` github action\n\nProposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We are supposed to `ant check` (what check-code.sh does) before merging but it's an easy thing to forget to do. A lightweight gh action can help prevent many breaking merges since many of us push our dev branches to gh. Example result run here: https://github.com/thelastpickle/cassandra/actions/runs/17880689988/job/50847932781 dev@ ML thread: https://lists.apache.org/thread/pdsll118zlf31r0y23t0gr7k3y40kx3f","output":"Lightweight `ant check` github action"}
{"instruction":"Classify the status of this issue based on its description:","input":"Lightweight `ant check` github action\n\nProposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We are supposed to `ant check` (what check-code.sh does) before merging but it's an easy thing to forget to do. A lightweight gh action can help prevent many breaking merges since many of us push our dev branches to gh. Example result run here: https://github.com/thelastpickle/cassandra/actions/runs/1","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Lightweight `ant check` github action\n\nProposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We are supposed to `ant check` (what check-code.sh does) before merging but it's an easy thing to forget to do. A lightweight gh action can help prevent many breaking merges since many of us push our dev branches to gh. Example result run here: https://github.com/thelastpickle/cassandra/actions/runs/1","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Lightweight `ant check` github action\n\nProposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We are supposed to `ant check` (what check-code.sh does) before merging but it's an easy thing to forget to do. A lightweight gh action can help prevent many breaking merges since many of us push our dev branches to gh. Example result run here: https://github.com/thelastpickle/cassandra/actions/runs/1","output":"Proposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We are supposed to `ant check` (what check-code.sh does) before merging but it's an easy thing to forg"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Lightweight `ant check` github action\n\nProposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We are supposed to `ant check` (what check-code.sh does) before merging but it's an easy thing to forget to do. A lightweight gh action can help prevent many breaking merges since many of us push our dev branches to gh. Example result run here: https://github.com/thelastpickle/cassandra/actions/runs/1","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Lightweight `ant check` github action\n\nProposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We\n\nConversation:\nuser: +1\nassistant: CI: http://ci-cassandra.infra.datastax.com/job/cassandra/43/ - [^ci_summary_thelastpickle_mck-gha-lint_43.html] and [^results_details_thelastpickle_mck-gha-lint_43.tar.xz]\nassistant: Committed as https://github.com/apache/cassandra/commit/8aad9d6c05265c08126b43ee7196f96f84df88e3","output":"Committed as https://github.com/apache/cassandra/commit/8aad9d6c05265c08126b43ee7196f96f84df88e3"}
{"instruction":"Extract key technical details from this issue:","input":"Proposing the following patch: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/gha-lint It's a one-liner `check-code.sh` and is light and quick to run at ~6 minutes. We are supposed to `ant check` (what check-code.sh does) before merging but it's an easy thing to forget to do. A lightweight gh action can help prevent many breaking merges since many of us push our dev branches to gh. Example result run here: https://github.com/thelastpickle/cassandra/actions/runs/17880689988/job/50847932781 dev@ ML thread: https://lists.apache.org/thread/pdsll118zlf31r0y23t0gr7k3y40kx3f","output":"Lightweight `ant check` github action"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Protocol v5 spec is wrong - wrt compressed frame format\n\nFrom [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L137-L140] : The variant with LZ4 compression uses an 8 byte header. The first 4 bytes contain an unsigned integer (little endian) containing the compressed and uncompressed lengths of the payload and the self contained flag. But [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L144-L146] says: 1. Compressed length (17 bits) 2. Uncompressed length (17 bits) 3. isSelfContained flag (1 bit) 17 + 17 + 1 are already 35 bits - which is more than 'first 4 bytes'","output":"Protocol v5 spec is wrong - wrt compressed frame format"}
{"instruction":"Classify the status of this issue based on its description:","input":"Protocol v5 spec is wrong - wrt compressed frame format\n\nFrom [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L137-L140] : The variant with LZ4 compression uses an 8 byte header. The first 4 bytes contain an unsigned integer (little endian) containing the compressed and uncompressed lengths of the payload and the self contained flag. But [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L144-L146] says: 1. Compressed length (17 b","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Protocol v5 spec is wrong - wrt compressed frame format\n\nFrom [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L137-L140] : The variant with LZ4 compression uses an 8 byte header. The first 4 bytes contain an unsigned integer (little endian) containing the compressed and uncompressed lengths of the payload and the self contained flag. But [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L144-L146] says: 1. Compressed length (17 b","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Protocol v5 spec is wrong - wrt compressed frame format\n\nFrom [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L137-L140] : The variant with LZ4 compression uses an 8 byte header. The first 4 bytes contain an unsigned integer (little endian) containing the compressed and uncompressed lengths of the payload and the self contained flag. But [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L144-L146] says: 1. Compressed length (17 b","output":"From [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L137-L140] : The variant with LZ4 compression uses an 8 byte header. The first 4 bytes contain an unsigned integer (little endian) containing the compressed and uncompressed lengths of"}
{"instruction":"Extract key technical details from this issue:","input":"From [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L137-L140] : The variant with LZ4 compression uses an 8 byte header. The first 4 bytes contain an unsigned integer (little endian) containing the compressed and uncompressed lengths of the payload and the self contained flag. But [https://github.com/apache/cassandra/blob/e2d2e3b31ba47dfc9bbdbfdbcace3932fd3d32e7/doc/native_protocol_v5.spec#L144-L146] says: 1. Compressed length (17 bits) 2. Uncompressed length (17 bits) 3. isSelfContained flag (1 bit) 17 + 17 + 1 are already 35 bits - which is more than 'first 4 bytes'","output":"Protocol v5 spec is wrong - wrt compressed frame format"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update snakeyaml to 2.4\n\nWe can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts.","output":"Update snakeyaml to 2.4"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update snakeyaml to 2.4\n\nWe can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update snakeyaml to 2.4\n\nWe can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update snakeyaml to 2.4\n\nWe can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts.","output":"We can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update snakeyaml to 2.4\n\nWe can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update snakeyaml to 2.4\n\nWe can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts.\n\nConversation:\nuser: https://pre-ci.cassandra.apache.org/job/cassandra/105/#showFailuresLink\nassistant: +1\nassistant: it looks like we've got some new test test failures after the version bump.. ([https://ci-cassandra.apache.org/job/Cassandra-trunk/2288/]) [https://ci-cassandra.apache.org/job/Cassandra-trunk/2288/testReport/junit/org.apache.cas[]…]t_cdc_jdk11_16_20___testWriteAndCompact_cdc_jdk11_x86_64/ with some \nassistant: why did not (1) catch this? (1) https://pre-ci.cassandra.apache.org/job/cassandra/105/#showFailuresLink\nassistant: We will resolve this under CASSANDRA-20932","output":"We will resolve this under CASSANDRA-20932"}
{"instruction":"Extract key technical details from this issue:","input":"We can bump to 2.4. Jackson dataformat-yaml also depends on snakeyaml 2.4 so exclusion is not necessary. OWASP checks 12.1.6 also depends on snakeyaml 2.4. We are hence aligned on all fronts.","output":"Update snakeyaml to 2.4"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix ShardManager#coveringRange to include provide partition position\n\nRange is left exclusive. When constructing Range, it should decrement left position instead of incrementing right position. Also ShardManager#rangeSpanned for (min, min] should be 1 instead of 1 token span. Impact is trivial: it can cause is a range to be measured to span 0 range instead of 2^-64 (if it only contains one partition that falls on a local ownership boundary), but this is then anyway corrected to give it a sensible density. The min-min case only relates to tests. downstream patch: https://github.com/datastax/cassandra/commit/dd5da490b5705a61b49bc6bfadf6a47a973c9804","output":"Fix ShardManager#coveringRange to include provide partition position"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix ShardManager#coveringRange to include provide partition position\n\nRange is left exclusive. When constructing Range, it should decrement left position instead of incrementing right position. Also ShardManager#rangeSpanned for (min, min] should be 1 instead of 1 token span. Impact is trivial: it can cause is a range to be measured to span 0 range instead of 2^-64 (if it only contains one partition that falls on a local ownership boundary), but this is then anyway corrected to give it a sensible density. The min-min case only relates to tests. downstream patch: h","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Fix ShardManager#coveringRange to include provide partition position\n\nRange is left exclusive. When constructing Range, it should decrement left position instead of incrementing right position. Also ShardManager#rangeSpanned for (min, min] should be 1 instead of 1 token span. Impact is trivial: it can cause is a range to be measured to span 0 range instead of 2^-64 (if it only contains one partition that falls on a local ownership boundary), but this is then anyway corrected to give it a sensible density. The min-min case only relates to tests. downstream patch: h","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix ShardManager#coveringRange to include provide partition position\n\nRange is left exclusive. When constructing Range, it should decrement left position instead of incrementing right position. Also ShardManager#rangeSpanned for (min, min] should be 1 instead of 1 token span. Impact is trivial: it can cause is a range to be measured to span 0 range instead of 2^-64 (if it only contains one partition that falls on a local ownership boundary), but this is then anyway corrected to give it a sensible density. The min-min case only relates to tests. downstream patch: h","output":"Range is left exclusive. When constructing Range, it should decrement left position instead of incrementing right position. Also ShardManager#rangeSpanned for (min, min] should be 1 instead of 1 token span. Impact is trivial: it can cause is a range to be measured to span 0 range instead of 2^-64 (i"}
{"instruction":"Extract key technical details from this issue:","input":"Range is left exclusive. When constructing Range, it should decrement left position instead of incrementing right position. Also ShardManager#rangeSpanned for (min, min] should be 1 instead of 1 token span. Impact is trivial: it can cause is a range to be measured to span 0 range instead of 2^-64 (if it only contains one partition that falls on a local ownership boundary), but this is then anyway corrected to give it a sensible density. The min-min case only relates to tests. downstream patch: https://github.com/datastax/cassandra/commit/dd5da490b5705a61b49bc6bfadf6a47a973c9804","output":"Fix ShardManager#coveringRange to include provide partition position"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45: Add config to disable mutation tracking\n\nMutation tracking needs to be disabled by default. The config option exists in the feature branch but doesn't actually do anything. This will actually disable mutation tracking if it's not explicitly enabled","output":"CEP-45: Add config to disable mutation tracking"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45: Add config to disable mutation tracking\n\nMutation tracking needs to be disabled by default. The config option exists in the feature branch but doesn't actually do anything. This will actually disable mutation tracking if it's not explicitly enabled","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45: Add config to disable mutation tracking\n\nMutation tracking needs to be disabled by default. The config option exists in the feature branch but doesn't actually do anything. This will actually disable mutation tracking if it's not explicitly enabled","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45: Add config to disable mutation tracking\n\nMutation tracking needs to be disabled by default. The config option exists in the feature branch but doesn't actually do anything. This will actually disable mutation tracking if it's not explicitly enabled","output":"Mutation tracking needs to be disabled by default. The config option exists in the feature branch but doesn't actually do anything. This will actually disable mutation tracking if it's not explicitly enabled"}
{"instruction":"Extract key technical details from this issue:","input":"Mutation tracking needs to be disabled by default. The config option exists in the feature branch but doesn't actually do anything. This will actually disable mutation tracking if it's not explicitly enabled","output":"CEP-45: Add config to disable mutation tracking"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update netty to 4.1.125\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update netty to 4.1.125\n\n","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update netty to 4.1.125\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update netty to 4.1.125\n\n","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update netty to 4.1.125\n\n\n\nConversation:\nuser: [https://pre-ci.cassandra.apache.org/job/cassandra/102/#showFailuresLink] brandon.williams my plan is to just do this in trunk and then I will be upgrading dependency check jar and update / remove deprecations for all branches in CASSANDRA-20924\nassistant: +1","output":"+1"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update dependency-check library to version 12.1.6\n\nThe current version (12.1.0) fail on unauthorized exceptions to OSS index which 12.1.6 skips.","output":"Update dependency-check library to version 12.1.6"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update dependency-check library to version 12.1.6\n\nThe current version (12.1.0) fail on unauthorized exceptions to OSS index which 12.1.6 skips.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update dependency-check library to version 12.1.6\n\nThe current version (12.1.0) fail on unauthorized exceptions to OSS index which 12.1.6 skips.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update dependency-check library to version 12.1.6\n\nThe current version (12.1.0) fail on unauthorized exceptions to OSS index which 12.1.6 skips.","output":"The current version (12.1.0) fail on unauthorized exceptions to OSS index which 12.1.6 skips."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update dependency-check library to version 12.1.6\n\nThe current version (12.1.0) fail on unauthorized exceptions to OSS index which 12.1.6 skips.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update dependency-check library to version 12.1.6\n\nThe current version (12.1.0) fail on unauthorized exceptions to OSS index which 12.1.6 skips.\n\nConversation:\nuser: After bumping I see this on trunk at least: trunk - we use netty 4.1.119 and cassandra-driver-core-3.12.1-shaded.jar seems valid, high https://nvd.nist.gov/vuln/detail/CVE-2025-24970 - cassandra-driver-core-3.12.1-shaded.jar http related, not valid https://nvd.nist.gov/vuln/detail/CVE-2024-29025 - c\nassistant: btw the only place we use cassandra-driver-core-3.12.1-shaded is in stress tool so all these CVEs in there are in practice quite harmless. Until stress has its own class path, the scanner will report that.\nassistant: We can update to netty 4.1.125 to get rid of CVE-2025-58057, tracking it here (1). Then everything else can be suppressed as it is used in shaded driver which is used just in stress tool. (1) https://issues.apache.org/jira/browse/CASSANDRA-20925\nassistant: trunk [https://github.com/apache/cassandra/compare/trunk...smiklosovic:cassandra:CASSANDRA-20924-trunk?expand=1] 5.0 [https://github.com/apache/cassandra/compare/trunk...smiklosovic:cassandra:CASSANDRA-20924-5.0?expand=1] 4.1 [https://github.com/apache/cassandra/compare/trunk...smiklosovic:cassandra\nassistant: +1","output":"+1"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Segregate SAI's query metrics per query type\n\nSAI's tracks query metrics providing info about latency, partition reads, filtered rows, etc. These metrics are for all the SAI queries for a certain table. When we see problems in queries, for example a high latency, questions that can usually come next are what query is producing this high latency? Are there vector queries? Are queries for a single partition? In that case, what is the latency of those queries? How many rows are they selecting? To answer those questions, I think it can be useful to track metrics for specific types of query. Tracking is done in a {{TableQueryMetrics}} associated to the table. This PR only adds a few type of queries: filtering, top-k, single-partition and range queries. If we need new types in the future, this patch should make it easy to add separate metrics for them, possibly with an one-liner. The general query metrics remain untouched, this PR only adds new ones. More background info from downstream work in https://github.com/datastax/cassandra/pull/1969 and https://github.com/datastax/cassandra/pull/2015","output":"Segregate SAI's query metrics per query type"}
{"instruction":"Classify the status of this issue based on its description:","input":"Segregate SAI's query metrics per query type\n\nSAI's tracks query metrics providing info about latency, partition reads, filtered rows, etc. These metrics are for all the SAI queries for a certain table. When we see problems in queries, for example a high latency, questions that can usually come next are what query is producing this high latency? Are there vector queries? Are queries for a single partition? In that case, what is the latency of those queries? How many rows are they selecting? To answer those questions, I think it can be usefu","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Segregate SAI's query metrics per query type\n\nSAI's tracks query metrics providing info about latency, partition reads, filtered rows, etc. These metrics are for all the SAI queries for a certain table. When we see problems in queries, for example a high latency, questions that can usually come next are what query is producing this high latency? Are there vector queries? Are queries for a single partition? In that case, what is the latency of those queries? How many rows are they selecting? To answer those questions, I think it can be usefu","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Segregate SAI's query metrics per query type\n\nSAI's tracks query metrics providing info about latency, partition reads, filtered rows, etc. These metrics are for all the SAI queries for a certain table. When we see problems in queries, for example a high latency, questions that can usually come next are what query is producing this high latency? Are there vector queries? Are queries for a single partition? In that case, what is the latency of those queries? How many rows are they selecting? To answer those questions, I think it can be usefu","output":"SAI's tracks query metrics providing info about latency, partition reads, filtered rows, etc. These metrics are for all the SAI queries for a certain table. When we see problems in queries, for example a high latency, questions that can usually come next are what query is producing this high latency"}
{"instruction":"Continue the conversation about this technical issue:","input":"Segregate SAI's query metrics per query type\n\nSAI's tracks query metrics providing info about latency, partition reads, filtered rows, etc. These metrics are for all the SAI queries for a certain table. When we see problems in queries, for exampl\n\nConversation:\nuser: first downstream patch (for #1969) is https://github.com/datastax/cassandra/commit/a4e8dda0f53603ae67e0fab413f1271b96aa5fcd\nassistant: second downstream patch (for #2015) is https://github.com/datastax/cassandra/commit/403ed3331e","output":"second downstream patch (for #2015) is https://github.com/datastax/cassandra/commit/403ed3331e"}
{"instruction":"Extract key technical details from this issue:","input":"SAI's tracks query metrics providing info about latency, partition reads, filtered rows, etc. These metrics are for all the SAI queries for a certain table. When we see problems in queries, for example a high latency, questions that can usually come next are what query is producing this high latency? Are there vector queries? Are queries for a single partition? In that case, what is the latency of those queries? How many rows are they selecting? To answer those questions, I think it can be useful to track metrics for specific types of query. Tracking is done in a {{TableQueryMetrics}} associated to the table. This PR only adds a few type of queries: filtering, top-k, single-partition and range queries. If we need new types in the future, this patch should make it easy to add separate metri","output":"Segregate SAI's query metrics per query type"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Explore Accord behaviour under synthetic geodistributed workloads\n\nWorking with otrack to explore the behaviour of Accord under synthetic workloads using docker and latency injection using tc/netem, with ycsb workloads. https://github.com/belliottsmith/cassandra-evaluation/tree/belliottsmith","output":"Explore Accord behaviour under synthetic geodistributed workloads"}
{"instruction":"Classify the status of this issue based on its description:","input":"Explore Accord behaviour under synthetic geodistributed workloads\n\nWorking with otrack to explore the behaviour of Accord under synthetic workloads using docker and latency injection using tc/netem, with ycsb workloads. https://github.com/belliottsmith/cassandra-evaluation/tree/belliottsmith","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Explore Accord behaviour under synthetic geodistributed workloads\n\nWorking with otrack to explore the behaviour of Accord under synthetic workloads using docker and latency injection using tc/netem, with ycsb workloads. https://github.com/belliottsmith/cassandra-evaluation/tree/belliottsmith","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Explore Accord behaviour under synthetic geodistributed workloads\n\nWorking with otrack to explore the behaviour of Accord under synthetic workloads using docker and latency injection using tc/netem, with ycsb workloads. https://github.com/belliottsmith/cassandra-evaluation/tree/belliottsmith","output":"Working with otrack to explore the behaviour of Accord under synthetic workloads using docker and latency injection using tc/netem, with ycsb workloads. https://github.com/belliottsmith/cassandra-evaluation/tree/belliottsmith"}
{"instruction":"Extract key technical details from this issue:","input":"Working with otrack to explore the behaviour of Accord under synthetic workloads using docker and latency injection using tc/netem, with ycsb workloads. https://github.com/belliottsmith/cassandra-evaluation/tree/belliottsmith","output":"Explore Accord behaviour under synthetic geodistributed workloads"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Accord: Introduce hardRemoved concept for marking nodes permanently offline\n\nIf Accord experiences unrecoverable loss of a quorum, it will refuse to make progress. This patch introduces a mechanism for marking nodes as permanently offline to permit these minority quorums to make progress without the lost nodes. This may result in undetectable consistency violations, since we have exceeded the maximum failure tolerance of the quorum. Also fix: - Paxos should not update minHlc if AccordService is not setup - Remove `EndpointMapper` methods that require non-null, to ensure call-sites handle null case explicitly","output":"Accord: Introduce hardRemoved concept for marking nodes permanently offline"}
{"instruction":"Classify the status of this issue based on its description:","input":"Accord: Introduce hardRemoved concept for marking nodes permanently offline\n\nIf Accord experiences unrecoverable loss of a quorum, it will refuse to make progress. This patch introduces a mechanism for marking nodes as permanently offline to permit these minority quorums to make progress without the lost nodes. This may result in undetectable consistency violations, since we have exceeded the maximum failure tolerance of the quorum. Also fix: - Paxos should not update minHlc if AccordService is not setup - Remove `EndpointMapper` methods that require non-null, to ensure ","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Accord: Introduce hardRemoved concept for marking nodes permanently offline\n\nIf Accord experiences unrecoverable loss of a quorum, it will refuse to make progress. This patch introduces a mechanism for marking nodes as permanently offline to permit these minority quorums to make progress without the lost nodes. This may result in undetectable consistency violations, since we have exceeded the maximum failure tolerance of the quorum. Also fix: - Paxos should not update minHlc if AccordService is not setup - Remove `EndpointMapper` methods that require non-null, to ensure ","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Accord: Introduce hardRemoved concept for marking nodes permanently offline\n\nIf Accord experiences unrecoverable loss of a quorum, it will refuse to make progress. This patch introduces a mechanism for marking nodes as permanently offline to permit these minority quorums to make progress without the lost nodes. This may result in undetectable consistency violations, since we have exceeded the maximum failure tolerance of the quorum. Also fix: - Paxos should not update minHlc if AccordService is not setup - Remove `EndpointMapper` methods that require non-null, to ensure ","output":"If Accord experiences unrecoverable loss of a quorum, it will refuse to make progress. This patch introduces a mechanism for marking nodes as permanently offline to permit these minority quorums to make progress without the lost nodes. This may result in undetectable consistency violations, since we"}
{"instruction":"Extract key technical details from this issue:","input":"If Accord experiences unrecoverable loss of a quorum, it will refuse to make progress. This patch introduces a mechanism for marking nodes as permanently offline to permit these minority quorums to make progress without the lost nodes. This may result in undetectable consistency violations, since we have exceeded the maximum failure tolerance of the quorum. Also fix: - Paxos should not update minHlc if AccordService is not setup - Remove `EndpointMapper` methods that require non-null, to ensure call-sites handle null case explicitly","output":"Accord: Introduce hardRemoved concept for marking nodes permanently offline"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. * SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. * MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported by the flush as clean * Memtables now distinguish between commit log positions they track vs journal positions. It might be a good idea to mark CommitLogPosition with a corresponding flag to avoid accidentally passing a wrong position {{MutationJournal#replay}} is added, and serves a purpose similar to CommitLog replay, albeit lacks some of its functionality, such as replay filter, and DROP TABLE support for now (missing pieces documented inline). Only segments holding allocations that were not memtable->sstable flushed are considered for replay. Testing: * A fuzz test for SegmentStateTracker * A test that assumes some memtable behavior to exercise MutationJournal integration * Full integration / bounce test validating that data is being recovered by replay Important: a follow-up patch (in work by aleksey) adds compaction and truncation of segments. Added tests will need to be expanded to support this. Remark: https://github.com/apache/cassandra/pull/4384/files#diff-a6dbe3c4eab186aaa33f04d7826c2239bfe99b3b392b026d18b8f31584652303R939 has changes StaticSegmentIterator to just SegmentIterator, which largely aligns with this patch, but might cause a rebase.","output":"CEP-45: Journal Replay"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. * SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. * MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds repo","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. * SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. * MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds repo","output":"High"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. * SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. * MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds repo","output":"This patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. * SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"CEP-45: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. * SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. * MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds repo","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"This patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. * SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. * MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported by the flush as clean * Memtables now distinguish between commit log positions they track vs journal positions. It might be a good idea to mark CommitLogPosition with a corresponding flag to avoid accidentally passing a wrong position {{MutationJournal#replay}} is added, and serves a purpose si","output":"CEP-45: Journal Replay"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Mutation Tracking: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported by the flush as clean. MutationJournal#replay is added, and serves a purpose similar to CommitLog replay, albeit lacks some of its functionality, such as replay filter, for now (missing pieces documented inline). Only segments holding allocations that were not memtable->sstable flushed are considered for replay.","output":"Mutation Tracking: Journal Replay"}
{"instruction":"Classify the status of this issue based on its description:","input":"Mutation Tracking: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Mutation Tracking: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Mutation Tracking: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported","output":"This patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Mutation Tracking: Journal Replay\n\nThis patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"This patch introduces SegmentStateTracker, which tracks Mutation Journal allocations and listens to Memtable->SSTable flushes. SegmentStateTracker logic is largely adapted from CommitLog (i.e. tracking dirty allocation upper bound, and clean/flushed min/max bounds, and checking their intersection to see if entire segment is flushed. MutationJournal now tracks new allocations per segment (and, within a segment, per table), and listens to Memtable flushes, marking CommitLogPosition bounds reported by the flush as clean. MutationJournal#replay is added, and serves a purpose similar to CommitLog replay, albeit lacks some of its functionality, such as replay filter, for now (missing pieces documented inline). Only segments holding allocations that were not memtable->sstable flushed are consider","output":"Mutation Tracking: Journal Replay"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add cursor-based low allocation optimized compaction implementation\n\nCompaction does a ton of allocation and burns a lot of CPU in the process; we can move away from allocation with some fairly simple and straightforward reusable objects and infrastructure that make use of that, reducing allocation and thus CPU usage during compaction. Heap allocation on all test-cases holds steady at 20MB while regular compaction grows up past 5+GB. This patch introduces a collection of reusable objects: * ReusableLivenessInfo * ReusableDecoratedKey * ReusableLongToken And new compaction structures that make use of those objects: * CompactionCursor * CursorCompactionPipeline * SSTableCursorReader * SSTableCursorWriter There's quite a bit of test code added, benchmarks, etc on the linked branch. ~13k added, 405 lines deleted ~8.3k lines delta are non-test code ~5k lines delta are test code Attaching a screenshot of the \"messiest\" benchmark case with mixed size rows and full merge; across various data and compaction mixes the highlight is that compaction as implemented here is roughly 3-5x faster in most scenarios and uses 20mb on heap vs. multiple GB.","output":"Add cursor-based low allocation optimized compaction implementation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add cursor-based low allocation optimized compaction implementation\n\nCompaction does a ton of allocation and burns a lot of CPU in the process; we can move away from allocation with some fairly simple and straightforward reusable objects and infrastructure that make use of that, reducing allocation and thus CPU usage during compaction. Heap allocation on all test-cases holds steady at 20MB while regular compaction grows up past 5+GB. This patch introduces a collection of reusable objects: * ReusableLivenessInfo * ReusableDecoratedKey * ReusableLongToken And new c","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Add cursor-based low allocation optimized compaction implementation\n\nCompaction does a ton of allocation and burns a lot of CPU in the process; we can move away from allocation with some fairly simple and straightforward reusable objects and infrastructure that make use of that, reducing allocation and thus CPU usage during compaction. Heap allocation on all test-cases holds steady at 20MB while regular compaction grows up past 5+GB. This patch introduces a collection of reusable objects: * ReusableLivenessInfo * ReusableDecoratedKey * ReusableLongToken And new c","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add cursor-based low allocation optimized compaction implementation\n\nCompaction does a ton of allocation and burns a lot of CPU in the process; we can move away from allocation with some fairly simple and straightforward reusable objects and infrastructure that make use of that, reducing allocation and thus CPU usage during compaction. Heap allocation on all test-cases holds steady at 20MB while regular compaction grows up past 5+GB. This patch introduces a collection of reusable objects: * ReusableLivenessInfo * ReusableDecoratedKey * ReusableLongToken And new c","output":"Compaction does a ton of allocation and burns a lot of CPU in the process; we can move away from allocation with some fairly simple and straightforward reusable objects and infrastructure that make use of that, reducing allocation and thus CPU usage during compaction. Heap allocation on all test-cas"}
{"instruction":"Extract key technical details from this issue:","input":"Compaction does a ton of allocation and burns a lot of CPU in the process; we can move away from allocation with some fairly simple and straightforward reusable objects and infrastructure that make use of that, reducing allocation and thus CPU usage during compaction. Heap allocation on all test-cases holds steady at 20MB while regular compaction grows up past 5+GB. This patch introduces a collection of reusable objects: * ReusableLivenessInfo * ReusableDecoratedKey * ReusableLongToken And new compaction structures that make use of those objects: * CompactionCursor * CursorCompactionPipeline * SSTableCursorReader * SSTableCursorWriter There's quite a bit of test code added, benchmarks, etc on the linked branch. ~13k added, 405 lines deleted ~8.3k lines delta are non-test code ~5k lines del","output":"Add cursor-based low allocation optimized compaction implementation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Throw RTE instead of FSError when RTE is thrown from FileUtis.write in TOCComponent.\n\nThis was overlooked in CASSANDRA-20494.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Throw RTE instead of FSError when RTE is thrown from FileUtis.write in TOCComponent.\n\nThis was overlooked in CASSANDRA-20494.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Throw RTE instead of FSError when RTE is thrown from FileUtis.write in TOCComponent.\n\nThis was overlooked in CASSANDRA-20494.","output":"This was overlooked in CASSANDRA-20494."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Throw RTE instead of FSError when RTE is thrown from FileUtis.write in TOCComponent.\n\nThis was overlooked in CASSANDRA-20494.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Throw RTE instead of FSError when RTE is thrown from FileUtis.write in TOCComponent.\n\nThis was overlooked in CASSANDRA-20494.\n\nConversation:\nuser: +1\nassistant: https://pre-ci.cassandra.apache.org/job/cassandra-5.0/24/","output":"https://pre-ci.cassandra.apache.org/job/cassandra-5.0/24/"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-51: Support Include Semantics for cassandra.yaml\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-51%3A+Support+Include+Semantics+for+cassandra.yaml","output":"CEP-51: Support Include Semantics for cassandra.yaml"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-51: Support Include Semantics for cassandra.yaml\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-51%3A+Support+Include+Semantics+for+cassandra.yaml","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-51: Support Include Semantics for cassandra.yaml\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-51%3A+Support+Include+Semantics+for+cassandra.yaml","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-51: Support Include Semantics for cassandra.yaml\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-51%3A+Support+Include+Semantics+for+cassandra.yaml","output":"https://cwiki.apache.org/confluence/display/CASSANDRA/CEP-51%3A+Support+Include+Semantics+for+cassandra.yaml"}
{"instruction":"Extract key technical details from this issue:","input":"https://cwiki.apache.org/confluence/display/CASSANDRA/CEP-51%3A+Support+Include+Semantics+for+cassandra.yaml","output":"CEP-51: Support Include Semantics for cassandra.yaml"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fixed incorrect error message constant for keyspace name length validation\n\nThe validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {code:java} org.apache.cassandra.exceptions.ConfigurationException: Keyspace name must not be more than 222 characters long (got 51 characters for \"compression_dict_manager_test_keyspace_without_dict\") at org.apache.cassandra.schema.KeyspaceMetadata.validateKeyspaceName(KeyspaceMetadata.java:80) at org.apache.cassandra.schema.KeyspaceMetadata.validate(KeyspaceMetadata.java:403) at org.apache.cassandra.schema.SchemaTestUtil.announceNewKeyspace(SchemaTestUtil.java:36) at org.apache.cassandra.SchemaLoader.createKeyspace(SchemaLoader.java:252) {code}","output":"Fixed incorrect error message constant for keyspace name length validation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fixed incorrect error message constant for keyspace name length validation\n\nThe validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {code:java} org.apache.cassandra.exceptions.ConfigurationException: Keyspace name must not be more than 222 characters long (got 51 characters for \"compression_dict_manager_test_keyspace_without_dict\") at org.apache.cassandra.schema.KeyspaceMetadata.validateKeyspaceName(KeyspaceMetadata.java:80) at or","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fixed incorrect error message constant for keyspace name length validation\n\nThe validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {code:java} org.apache.cassandra.exceptions.ConfigurationException: Keyspace name must not be more than 222 characters long (got 51 characters for \"compression_dict_manager_test_keyspace_without_dict\") at org.apache.cassandra.schema.KeyspaceMetadata.validateKeyspaceName(KeyspaceMetadata.java:80) at or","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fixed incorrect error message constant for keyspace name length validation\n\nThe validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {code:java} org.apache.cassandra.exceptions.ConfigurationException: Keyspace name must not be more than 222 characters long (got 51 characters for \"compression_dict_manager_test_keyspace_without_dict\") at org.apache.cassandra.schema.KeyspaceMetadata.validateKeyspaceName(KeyspaceMetadata.java:80) at or","output":"The validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {code:java} org.apache.cassandra.exceptions.ConfigurationException: Keyspace name must not be more tha"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fixed incorrect error message constant for keyspace name length validation\n\nThe validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {code:java} org.apache.cassandra.exceptions.ConfigurationException: Keyspace name must not be more than 222 characters long (got 51 characters for \"compression_dict_manager_test_keyspace_without_dict\") at org.apache.cassandra.schema.KeyspaceMetadata.validateKeyspaceName(KeyspaceMetadata.java:80) at or","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Fixed incorrect error message constant for keyspace name length validation\n\nThe validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {c\n\nConversation:\nuser: PR: https://github.com/apache/cassandra/pull/4389\nassistant: +1\nassistant: https://pre-ci.cassandra.apache.org/job/cassandra/101/#showFailuresLink This is such a cosmetic feature that I do not anticipate it would fail anything else on lower branches so manual testing on 4.0, 4.1, 5.0 is just OK.\nassistant: \"a\".repeat() is available from Java 11. We need to patch this in 4.0+ which needs to compile with Java 8. I have rewritten this construct with a loop and StringBuilder appending \"a\" enough times to violate the condition and trigger exception.\nassistant: just a note for future: org.apache.commons.lang3.StringUtils has such API as well","output":"just a note for future: org.apache.commons.lang3.StringUtils has such API as well"}
{"instruction":"Extract key technical details from this issue:","input":"The validateKeyspaceName method incorrectly referenced TABLE_NAME_LENGTH (222) instead of NAME_LENGTH (48) in the error message when keyspace names exceeded the maximum allowed length. For example, {code:java} org.apache.cassandra.exceptions.ConfigurationException: Keyspace name must not be more than 222 characters long (got 51 characters for \"compression_dict_manager_test_keyspace_without_dict\") at org.apache.cassandra.schema.KeyspaceMetadata.validateKeyspaceName(KeyspaceMetadata.java:80) at org.apache.cassandra.schema.KeyspaceMetadata.validate(KeyspaceMetadata.java:403) at org.apache.cassandra.schema.SchemaTestUtil.announceNewKeyspace(SchemaTestUtil.java:36) at org.apache.cassandra.SchemaLoader.createKeyspace(SchemaLoader.java:252) {code}","output":"Fixed incorrect error message constant for keyspace name length validation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Document allowed length for table name\n\nCASSANDRA-20389 implemented validation of table name length. Thus it's good to be specific in the documentation.","output":"Document allowed length for table name"}
{"instruction":"Classify the status of this issue based on its description:","input":"Document allowed length for table name\n\nCASSANDRA-20389 implemented validation of table name length. Thus it's good to be specific in the documentation.","output":"Needs Committer"}
{"instruction":"Determine the priority level of this issue:","input":"Document allowed length for table name\n\nCASSANDRA-20389 implemented validation of table name length. Thus it's good to be specific in the documentation.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Document allowed length for table name\n\nCASSANDRA-20389 implemented validation of table name length. Thus it's good to be specific in the documentation.","output":"CASSANDRA-20389 implemented validation of table name length. Thus it's good to be specific in the documentation."}
{"instruction":"Continue the conversation about this technical issue:","input":"Document allowed length for table name\n\nCASSANDRA-20389 implemented validation of table name length. Thus it's good to be specific in the documentation.\n\nConversation:\nuser: PR against 4.0: https://github.com/apache/cassandra/pull/4448\nassistant: I plan to create PRs for other branches (4.1, 5.0, trunk) after the first round of review to reduce overhead of cherry picking the patch with changes.\nassistant: I created PRs for all affected branches and started CI builds. Note there is a difference between PRs for 4.0/4.1 and for 5.0/trunk as the assertion method is changed accordantly with the local use. 4.0: PR: https://github.com/apache/cassandra/pull/4448 CircleCI pre-commit j8: https://app.circleci.c\nassistant: Compilations in all CI builds have succeeded. I've checked and deem that there are no related test failures in any of CI builds.\nassistant: +1","output":"+1"}
{"instruction":"Extract key technical details from this issue:","input":"CASSANDRA-20389 implemented validation of table name length. Thus it's good to be specific in the documentation.","output":"Document allowed length for table name"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false\n\nThis change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for this property when enabled.","output":"Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false\n\nThis change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for this property when enabled.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false\n\nThis change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for this property when enabled.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false\n\nThis change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for this property when enabled.","output":"This change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for this property when enabled."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false\n\nThis change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for this property when enabled.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false\n\nThis change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for \n\nConversation:\nuser: anaik is this something you plan to add yourself?\nassistant: Implementation-wise, I think it would be good to model this as already done in case of table properties guardrail (1). A keyspace has also properties as a table has. So if we did not want to have \"durable_writes\" specified, then they would be marked as \"disallowed\", then default, true, would be used\nassistant: smiklosovic As long as we're sure {{DEFAULT_DURABLE_WRITES}} will remain {{true}} in perpetuity, a {{Values}} guardrail would work. The nice thing about that is this would make it possible to guardrail things like CEP-45 (mutation tracking) without making further code changes.\nassistant: Yeah I think it is pretty safe bet to say that we will be defaulting to durable writes to be true.\nassistant: anaik thank you for your patch but I think it would be worth it to rework it as suggested. What you have done is basically what {{Values}} guardrail type is doing.","output":"Thank you Caleb for the support. Thank you Stefan for reviewing the PR! Appreciate the feedback."}
{"instruction":"Extract key technical details from this issue:","input":"This change implements a guardrail to disallow creation or alteration of key spaces to set the property durable_writes = false; durable_writes = true or unset should be the only allowable options for this property when enabled.","output":"Add DDL Guardrail enabling administrators to disallow creation/modification of key spaces with durable_writes = false"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add badges to README.asc for license, ci, downloads, docker, slack, socials\n\nExample: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields","output":"Add badges to README.asc for license, ci, downloads, docker, slack, socials"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add badges to README.asc for license, ci, downloads, docker, slack, socials\n\nExample: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add badges to README.asc for license, ci, downloads, docker, slack, socials\n\nExample: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add badges to README.asc for license, ci, downloads, docker, slack, socials\n\nExample: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields","output":"Example: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add badges to README.asc for license, ci, downloads, docker, slack, socials\n\nExample: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add badges to README.asc for license, ci, downloads, docker, slack, socials\n\nExample: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields\n\nConversation:\nuser: Great addition to the README. Surprised this wasn't there before. +1\nassistant: Committed https://github.com/apache/cassandra/commit/70bcaec54d492658cb331b70869215ad64feb63d","output":"Committed https://github.com/apache/cassandra/commit/70bcaec54d492658cb331b70869215ad64feb63d"}
{"instruction":"Extract key technical details from this issue:","input":"Example: https://github.com/thelastpickle/cassandra/blob/mck/read-me-shields/README.asc PR: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/read-me-shields","output":"Add badges to README.asc for license, ci, downloads, docker, slack, socials"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Accord: Pattern Tracing\n\nImprove tracing: - Introduce pattern tracing: specify an arbitrary number of patterns filtering by txn kind, domain, keys, phase, new/failure; sample matching operations to enable per-transaction filtering - Support multiple reservoirs for both patterns and txnId level: SAMPLE, RING, LEAKY (with additional uniform chance filter that may be applied to any)","output":"Accord: Pattern Tracing"}
{"instruction":"Classify the status of this issue based on its description:","input":"Accord: Pattern Tracing\n\nImprove tracing: - Introduce pattern tracing: specify an arbitrary number of patterns filtering by txn kind, domain, keys, phase, new/failure; sample matching operations to enable per-transaction filtering - Support multiple reservoirs for both patterns and txnId level: SAMPLE, RING, LEAKY (with additional uniform chance filter that may be applied to any)","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Accord: Pattern Tracing\n\nImprove tracing: - Introduce pattern tracing: specify an arbitrary number of patterns filtering by txn kind, domain, keys, phase, new/failure; sample matching operations to enable per-transaction filtering - Support multiple reservoirs for both patterns and txnId level: SAMPLE, RING, LEAKY (with additional uniform chance filter that may be applied to any)","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Accord: Pattern Tracing\n\nImprove tracing: - Introduce pattern tracing: specify an arbitrary number of patterns filtering by txn kind, domain, keys, phase, new/failure; sample matching operations to enable per-transaction filtering - Support multiple reservoirs for both patterns and txnId level: SAMPLE, RING, LEAKY (with additional uniform chance filter that may be applied to any)","output":"Improve tracing: - Introduce pattern tracing: specify an arbitrary number of patterns filtering by txn kind, domain, keys, phase, new/failure; sample matching operations to enable per-transaction filtering - Support multiple reservoirs for both patterns and txnId level: SAMPLE, RING, LEAKY (with add"}
{"instruction":"Extract key technical details from this issue:","input":"Improve tracing: - Introduce pattern tracing: specify an arbitrary number of patterns filtering by txn kind, domain, keys, phase, new/failure; sample matching operations to enable per-transaction filtering - Support multiple reservoirs for both patterns and txnId level: SAMPLE, RING, LEAKY (with additional uniform chance filter that may be applied to any)","output":"Accord: Pattern Tracing"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Instances from a 2nd ring join another ring when running on the same nodes\n\nHi, We experienced an issue today whereby instances from a 2nd ring join another ring when running on the same nodes following a rolling restart which took place following an OS patch and node reboot (both on Cassandra 4.1.2). The cluster names and storage ports are different and this type of activity normally runs without issue. Any ideas as to what could have happened? Could this be a bug? The seeds use the same IP addresses but no storage port is configured in the seeds parameter, should we add the storage port to prevent this from happening again? Any thoughts? Messages like the following could be seen on ring 1. INFO [GossipStage:1] 2025-09-18 04:11:49,040 Gossiper.java:1434 - Node /XX.XX.XX.190:7002 is now part of the cluster INFO [GossipStage:1] 2025-09-18 04:11:49,043 TokenMetadata.java:539 - Updating topology for /XX.XX.XX.190:7002 INFO [Messaging-EventLoop-3-8] 2025-09-18 04:11:49,044 OutboundConnection.java:1153 - /XX.XX.XX.61:7000(/XX.XX.XX.61:41920)->/XX.XX.XX.190:7002-URGENT_MESSAGES-7af53583 successfully connected, version = 12, framing = CRC, encryption = unencrypted INFO [GossipStage:1] 2025-09-18 04:11:49,044 TokenMetadata.java:539 - Updating topology for /XX.XX.XX.190:7002 INFO [GossipStage:1] 2025-09-18 04:11:49,044 Gossiper.java:1434 - Node /XX.XX.XX.214:7002 is now part of the cluster INFO [Messaging-EventLoop-3-3] 2025-09-18 04:11:49,046 OutboundConnection.java:1153 - /XX.XX.XX.61:7000(/XX.XX.XX.61:62628)->/XX.XX.XX.214:7002-URGENT_MESSAGES-0515b24a successfully connected, version = 12, framing = CRC, encryption = unencrypted INFO [GossipStage:1] 2025-09-18 04:11:49,046 TokenMetadata.java:539 - Updating topology for /XX.XX.XX.214:7002 INFO [GossipStage:1] 2025-09-18 04:11:49,046 TokenMetadata.java:539 - Updating topology for /XX.XX.XX.214:7002 INFO [GossipStage:1] 2025-09-18 04:11:49,047 Gossiper.java:1434 - Node /XX.XX.XX.247:7002 is now part of the cluster INFO [Messaging-EventLoop-3-4] 2025-09-18 04:11:49,048 InboundConnectionInitiator.java:529 - /XX.XX.XX.190:7002(/XX.XX.XX.190:60180)->/XX.XX.XX.61:7000-URGENT_MESSAGES-edfb2d8f messaging connection established, version = 12, framing = LZ4, encryption = unencrypted Messages like the following in ring 2: WARN [GossipStage:1] 2025-09-18 04:11:49,304 GossipDigestSynVerbHandler.java:58 - ClusterName mismatch from /XX.XX.XX.247:7000 ring1!=ring2 WARN [GossipStage:1] 2025-09-18 04:11:49,819 GossipDigestSynVerbHandler.java:58 - ClusterName mismatch from /XX.XX.XX.108:7000 ring1!=ring2 WARN [GossipStage:1] 2025-09-18 04:11:51,598 GossipDigestSynVerbHandler.java:58 - ClusterName mismatch from /XX.XX.XX.190:7000 ring1!=ring2 WARN [GossipStage:1] 2025-09-18 04:11:52,361 GossipDigestSynVerbHandler.java:58 - ClusterName mismatch from /XX.XX.XX.111:7000 ring1!=ring2 WARN [GossipStage:1] 2025-09-18 04:11:53,489 GossipDigestSynVerbHandler.java:58 - ClusterName mismatch from /XX.XX.XX.84:7000 ring1!=ring2 WARN [GossipStage:1] 2025-09-18 04:11:58,322 GossipDigestSynVerbHandler.java:58 - ClusterName mismatch from /XX.XX.XX.247:7000 ring1!=ring2 Instances from ring2 were listed in nodetool describecluster as unreachable under schema versions. They were also listed as DN under nodetool status. The nodetool removenode command was used to remove the instances successfully. Regards, Chris.","output":"Instances from a 2nd ring join another ring when running on the same nodes"}
{"instruction":"Classify the status of this issue based on its description:","input":"Instances from a 2nd ring join another ring when running on the same nodes\n\nHi, We experienced an issue today whereby instances from a 2nd ring join another ring when running on the same nodes following a rolling restart which took place following an OS patch and node reboot (both on Cassandra 4.1.2). The cluster names and storage ports are different and this type of activity normally runs without issue. Any ideas as to what could have happened? Could this be a bug? The seeds use the same IP addresses but no storage port is configured in the seeds parameter, should we a","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Instances from a 2nd ring join another ring when running on the same nodes\n\nHi, We experienced an issue today whereby instances from a 2nd ring join another ring when running on the same nodes following a rolling restart which took place following an OS patch and node reboot (both on Cassandra 4.1.2). The cluster names and storage ports are different and this type of activity normally runs without issue. Any ideas as to what could have happened? Could this be a bug? The seeds use the same IP addresses but no storage port is configured in the seeds parameter, should we a","output":"Urgent"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Instances from a 2nd ring join another ring when running on the same nodes\n\nHi, We experienced an issue today whereby instances from a 2nd ring join another ring when running on the same nodes following a rolling restart which took place following an OS patch and node reboot (both on Cassandra 4.1.2). The cluster names and storage ports are different and this type of activity normally runs without issue. Any ideas as to what could have happened? Could this be a bug? The seeds use the same IP addresses but no storage port is configured in the seeds parameter, should we a","output":"Hi, We experienced an issue today whereby instances from a 2nd ring join another ring when running on the same nodes following a rolling restart which took place following an OS patch and node reboot (both on Cassandra 4.1.2). The cluster names and storage ports are different and this type of activi"}
{"instruction":"Continue the conversation about this technical issue:","input":"Instances from a 2nd ring join another ring when running on the same nodes\n\nHi, We experienced an issue today whereby instances from a 2nd ring join another ring when running on the same nodes following a rolling restart which took place following an OS patch and node reboot \n\nConversation:\nuser: You should probably provide as much detail about your setup as you can. On the surface it seems like ring1 should've been rejecting ring2 with a cluster name mismatch, the same way it happened in reverse.\nassistant: Thanks brandon.williams - are there any specific details that you would need to investigate? Are there any known bugs where rings aren't rejected following a cluster name mismatch in 4.1.2+? Thanks, Chris.\nassistant: Nothing specific, yet at least. I don't know of any bugs around cluster name mismatch.\nassistant: Hi brandon.williams do you think there would be any value in adding the storage port to the seeds parameter to prevent this from happening again? or should we need to do this? Note that I'm trying to reproduce this in a lab environment with no success yet. Please let me know if there is anything we \nassistant: Hi brandon.williams - not sure if this helps but we noticed the following Prometheus ERROR: {code:java} INFO [prometheus-netty-pool-0] 2025-09-18 04:11:39,508 FBUtilities.java:166 - InetAddress.getLocalHost() was used to resolve listen_address to xxxx/yyyy, double check this is correct. Please check","output":"Hi brandon.williams We're using Cassandra exporter so assume that explains the thread pool name `prometheus-netty-pool-0. We've implemented the explicit seed port and will update this ticket if we experience a re-occurrence. Has any progress been made re: why the cluster name mismatch didn't protect"}
{"instruction":"Extract key technical details from this issue:","input":"Hi, We experienced an issue today whereby instances from a 2nd ring join another ring when running on the same nodes following a rolling restart which took place following an OS patch and node reboot (both on Cassandra 4.1.2). The cluster names and storage ports are different and this type of activity normally runs without issue. Any ideas as to what could have happened? Could this be a bug? The seeds use the same IP addresses but no storage port is configured in the seeds parameter, should we add the storage port to prevent this from happening again? Any thoughts? Messages like the following could be seen on ring 1. INFO [GossipStage:1] 2025-09-18 04:11:49,040 Gossiper.java:1434 - Node /XX.XX.XX.190:7002 is now part of the cluster INFO [GossipStage:1] 2025-09-18 04:11:49,043 TokenMetadata","output":"Instances from a 2nd ring join another ring when running on the same nodes"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Potential inefficiency in first flush with TrieMemtable + UnifiedCompaction\n\nHello, I’m a Cassandra newbie, so please correct me if I’ve misunderstood something. While evaluating Cassandra for adoption, I’ve been testing different modes. In the process of exploring features, I considered using TrieMemtable together with the UnifiedCompaction strategy (level). My thought was that combining the two could allow SSTables created from memtables to utilize token ranges much more efficiently, so I’ve been investigating whether this is feasible. During this testing, I noticed that the first SSTable created is always generated as a single file. Because only one SSTable is produced, it ends up covering the entire token range, which I believe is highly inefficient. After digging into the source, I found that the cause seems to be in {{{}org.apache.cassandra.db.compaction.unified.Controller#getFlushSizeBytes{}}}: {{double envFlushSize = cfs.metric.flushSizeOnDisk.get();}} For the very first flush, this metric returns {{{}0{}}}, which results in the minimum value of {{1}} being used. This explains why the first SSTable covers the entire token range. {code:java} INFO [NativePoolCleaner] 2025-09-19 09:47:10,318 AbstractAllocatorMemtable.java:302 - Flushing largest CFS(Keyspace='tx_bench_stcs', ColumnFamily='tx2') to free up room. Used total: 0.14/0.25, live: 0.14/0.25, flushing: 0.00/0.00, this: 0.14/0.25 INFO [NativePoolCleaner] 2025-09-19 09:47:10,319 ColumnFamilyStore.java:1052 - Enqueuing flush of tx_bench_stcs.tx2, Reason: MEMTABLE_LIMIT, Usage: 285.357MiB (14%) on-heap, 2.000GiB (25%) off-heap INFO [MemtableFlushWriter:3] 2025-09-19 09:47:10,627 UnifiedCompactionStrategy.java:275 - Flush density: 0.0, calculated shards: 1, flushSizeBytes: 0.0, override: 0 INFO [MemtableFlushWriter:3] 2025-09-19 09:47:10,629 ShardedMultiWriter.java:96 ShardedMultiWriter ---/bin/./../data/data/tx_bench_stcs/tx2-bfd93e0094f111f0bebb039c0b9bf5db/nb-1-big 1 INFO [MemtableFlushWriter:3] 2025-09-19 09:47:10,645 Flushing.java:221 - Created flush writer: ShardedMultiWriter for tx_bench_stcs.tx2 INFO [PerDiskMemtableFlushWriter_0:3] 2025-09-19 09:47:10,646 Flushing.java:153 - Writing Memtable-tx2@1210444503(1.978GiB serialized bytes, 379732 ops, 285.364MiB (14%) on-heap, 2.000GiB (25%) off-heap), flushed range = [min(-9223372036854775808), max(9223372036854775807)) INFO [PerDiskMemtableFlushWriter_0:3] 2025-09-19 09:47:19,056 Flushing.java:179 - Completed flushing -------/data/data/tx_bench_stcs/tx2-bfd93e0094f111f0bebb039c0b9bf5db/nb-1-big-Data.db (1.879GiB) for commitlog position CommitLogPosition(segmentId=1758242550278, position=2579081) {code} I also experimented with using {{flushSizeOverride}} to generate arbitrary shard values, but since this parameter does not adjust dynamically, I feel this is not a good long-term solution. Once again, I may be misunderstanding this behavior, so please correct me if my interpretation is wrong. Thank you.","output":"Potential inefficiency in first flush with TrieMemtable + UnifiedCompaction"}
{"instruction":"Classify the status of this issue based on its description:","input":"Potential inefficiency in first flush with TrieMemtable + UnifiedCompaction\n\nHello, I’m a Cassandra newbie, so please correct me if I’ve misunderstood something. While evaluating Cassandra for adoption, I’ve been testing different modes. In the process of exploring features, I considered using TrieMemtable together with the UnifiedCompaction strategy (level). My thought was that combining the two could allow SSTables created from memtables to utilize token ranges much more efficiently, so I’ve been investigating whether this is feasible. During this testing, I noticed th","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Potential inefficiency in first flush with TrieMemtable + UnifiedCompaction\n\nHello, I’m a Cassandra newbie, so please correct me if I’ve misunderstood something. While evaluating Cassandra for adoption, I’ve been testing different modes. In the process of exploring features, I considered using TrieMemtable together with the UnifiedCompaction strategy (level). My thought was that combining the two could allow SSTables created from memtables to utilize token ranges much more efficiently, so I’ve been investigating whether this is feasible. During this testing, I noticed th","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Potential inefficiency in first flush with TrieMemtable + UnifiedCompaction\n\nHello, I’m a Cassandra newbie, so please correct me if I’ve misunderstood something. While evaluating Cassandra for adoption, I’ve been testing different modes. In the process of exploring features, I considered using TrieMemtable together with the UnifiedCompaction strategy (level). My thought was that combining the two could allow SSTables created from memtables to utilize token ranges much more efficiently, so I’ve been investigating whether this is feasible. During this testing, I noticed th","output":"Hello, I’m a Cassandra newbie, so please correct me if I’ve misunderstood something. While evaluating Cassandra for adoption, I’ve been testing different modes. In the process of exploring features, I considered using TrieMemtable together with the UnifiedCompaction strategy (level). My thought was "}
{"instruction":"Extract key technical details from this issue:","input":"Hello, I’m a Cassandra newbie, so please correct me if I’ve misunderstood something. While evaluating Cassandra for adoption, I’ve been testing different modes. In the process of exploring features, I considered using TrieMemtable together with the UnifiedCompaction strategy (level). My thought was that combining the two could allow SSTables created from memtables to utilize token ranges much more efficiently, so I’ve been investigating whether this is feasible. During this testing, I noticed that the first SSTable created is always generated as a single file. Because only one SSTable is produced, it ends up covering the entire token range, which I believe is highly inefficient. After digging into the source, I found that the cause seems to be in {{{}org.apache.cassandra.db.compaction.unif","output":"Potential inefficiency in first flush with TrieMemtable + UnifiedCompaction"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Accord: Rebootstrap and unsafe bootstrap\n\nTo support recovering a node that has lost some of its local transaction log, introduce rebootstrap and unsafe bootstrap modes, where Accord ensures no responses are produced for transactions the node cannot be certain it had not previously answered.","output":"Accord: Rebootstrap and unsafe bootstrap"}
{"instruction":"Classify the status of this issue based on its description:","input":"Accord: Rebootstrap and unsafe bootstrap\n\nTo support recovering a node that has lost some of its local transaction log, introduce rebootstrap and unsafe bootstrap modes, where Accord ensures no responses are produced for transactions the node cannot be certain it had not previously answered.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Accord: Rebootstrap and unsafe bootstrap\n\nTo support recovering a node that has lost some of its local transaction log, introduce rebootstrap and unsafe bootstrap modes, where Accord ensures no responses are produced for transactions the node cannot be certain it had not previously answered.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Accord: Rebootstrap and unsafe bootstrap\n\nTo support recovering a node that has lost some of its local transaction log, introduce rebootstrap and unsafe bootstrap modes, where Accord ensures no responses are produced for transactions the node cannot be certain it had not previously answered.","output":"To support recovering a node that has lost some of its local transaction log, introduce rebootstrap and unsafe bootstrap modes, where Accord ensures no responses are produced for transactions the node cannot be certain it had not previously answered."}
{"instruction":"Extract key technical details from this issue:","input":"To support recovering a node that has lost some of its local transaction log, introduce rebootstrap and unsafe bootstrap modes, where Accord ensures no responses are produced for transactions the node cannot be certain it had not previously answered.","output":"Accord: Rebootstrap and unsafe bootstrap"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CCM not using correct version when validating jdk on install-dir clusters\n\nWhen creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions","output":"CCM not using correct version when validating jdk on install-dir clusters"}
{"instruction":"Classify the status of this issue based on its description:","input":"CCM not using correct version when validating jdk on install-dir clusters\n\nWhen creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"CCM not using correct version when validating jdk on install-dir clusters\n\nWhen creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CCM not using correct version when validating jdk on install-dir clusters\n\nWhen creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions","output":"When creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"CCM not using correct version when validating jdk on install-dir clusters\n\nWhen creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"CCM not using correct version when validating jdk on install-dir clusters\n\nWhen creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions\n\nConversation:\nuser: https://github.com/apache/cassandra-ccm/pull/795\nassistant: Committed https://github.com/apache/cassandra-ccm/commit/3ef48de49e428e27653f5639f492a99851e2282d","output":"Committed https://github.com/apache/cassandra-ccm/commit/3ef48de49e428e27653f5639f492a99851e2282d"}
{"instruction":"Extract key technical details from this issue:","input":"When creating a cluster and validating the jdk, check the cassandra version. {{common.py::assert_jdk_valid_for_cassandra_version}} should perform the jdk version check based on only cassandra versions","output":"CCM not using correct version when validating jdk on install-dir clusters"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Accord: Strict Serializability Verifier may incorrectly handle blind writes\n\nBlind writes that are witnessed before the operation that writes them is ACK'd may be incorrectly marked as a history violation. This is due to a simple bug of using binarySearch on an unsorted array (whoops).","output":"Accord: Strict Serializability Verifier may incorrectly handle blind writes"}
{"instruction":"Classify the status of this issue based on its description:","input":"Accord: Strict Serializability Verifier may incorrectly handle blind writes\n\nBlind writes that are witnessed before the operation that writes them is ACK'd may be incorrectly marked as a history violation. This is due to a simple bug of using binarySearch on an unsorted array (whoops).","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Accord: Strict Serializability Verifier may incorrectly handle blind writes\n\nBlind writes that are witnessed before the operation that writes them is ACK'd may be incorrectly marked as a history violation. This is due to a simple bug of using binarySearch on an unsorted array (whoops).","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Accord: Strict Serializability Verifier may incorrectly handle blind writes\n\nBlind writes that are witnessed before the operation that writes them is ACK'd may be incorrectly marked as a history violation. This is due to a simple bug of using binarySearch on an unsorted array (whoops).","output":"Blind writes that are witnessed before the operation that writes them is ACK'd may be incorrectly marked as a history violation. This is due to a simple bug of using binarySearch on an unsorted array (whoops)."}
{"instruction":"Extract key technical details from this issue:","input":"Blind writes that are witnessed before the operation that writes them is ACK'd may be incorrectly marked as a history violation. This is due to a simple bug of using binarySearch on an unsorted array (whoops).","output":"Accord: Strict Serializability Verifier may incorrectly handle blind writes"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"cassandra-stress does not work with TLSv1.2 and TLSv1.3\n\nA customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassandra Java Driver 3.12.1 is used, also it works when 3.11.5 is used instead of 3.11.0 which is present in 4.x. We should at least bump it to 3.11.5 to have the least amount of friction possible while addressing the issue.","output":"cassandra-stress does not work with TLSv1.2 and TLSv1.3"}
{"instruction":"Classify the status of this issue based on its description:","input":"cassandra-stress does not work with TLSv1.2 and TLSv1.3\n\nA customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassandra Java Driver 3.12.1 is used, also it works when 3.11.5 is used instead of 3.11.0 which is present in 4.x. We should at least bump it to 3.11.5 to have the least amount of friction possible while addressing the issue.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"cassandra-stress does not work with TLSv1.2 and TLSv1.3\n\nA customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassandra Java Driver 3.12.1 is used, also it works when 3.11.5 is used instead of 3.11.0 which is present in 4.x. We should at least bump it to 3.11.5 to have the least amount of friction possible while addressing the issue.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: cassandra-stress does not work with TLSv1.2 and TLSv1.3\n\nA customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassandra Java Driver 3.12.1 is used, also it works when 3.11.5 is used instead of 3.11.0 which is present in 4.x. We should at least bump it to 3.11.5 to have the least amount of friction possible while addressing the issue.","output":"A customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassandra Java Driver 3.12.1 is used, also it works when 3.11.5 is used instead of 3.11.0 which is present "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"cassandra-stress does not work with TLSv1.2 and TLSv1.3\n\nA customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassandra Java Driver 3.12.1 is used, also it works when 3.11.5 is used instead of 3.11.0 which is present in 4.x. We should at least bump it to 3.11.5 to have the least amount of friction possible while addressing the issue.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"cassandra-stress does not work with TLSv1.2 and TLSv1.3\n\nA customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassand\n\nConversation:\nuser: 4.0 https://app.circleci.com/pipelines/github/instaclustr/cassandra/6032/workflows/7a9f57f2-126c-448c-aec4-d4e5cace0bcc\nassistant: https://github.com/instaclustr/cassandra/tree/CASSANDRA-20904-4.1 {noformat} java11_pre-commit_tests ✓ j11_build 2m 31s ✓ j11_cqlsh_dtests_py38_vnode 6m 34s ✓ j11_cqlshlib_cython_tests 8m 18s ✓ j11_cqlshlib_tests 6m 56s ✓ j11_dtests_vnode 41m 20s ✓ j11_jvm_dtests 15m 45s ✓ j11_jvm_dtests_vnode 12m 5\nassistant: +1","output":"+1"}
{"instruction":"Extract key technical details from this issue:","input":"A customer has reported that cassandra-stress does not work on 4.x branch with TLS. As we are still officially supporting this branch, we should fix it. It was empirically tested it works when Cassandra Java Driver 3.12.1 is used, also it works when 3.11.5 is used instead of 3.11.0 which is present in 4.x. We should at least bump it to 3.11.5 to have the least amount of friction possible while addressing the issue.","output":"cassandra-stress does not work with TLSv1.2 and TLSv1.3"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Dont support vectors of counters when creating tables\n\nIt is possible to create a table containing vectors of counters eg CREATE TABLE test_counter (id int PRIMARY KEY, vec vector ); This makes no sense and should error at the DB level.","output":"Dont support vectors of counters when creating tables"}
{"instruction":"Classify the status of this issue based on its description:","input":"Dont support vectors of counters when creating tables\n\nIt is possible to create a table containing vectors of counters eg CREATE TABLE test_counter (id int PRIMARY KEY, vec vector ); This makes no sense and should error at the DB level.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Dont support vectors of counters when creating tables\n\nIt is possible to create a table containing vectors of counters eg CREATE TABLE test_counter (id int PRIMARY KEY, vec vector ); This makes no sense and should error at the DB level.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Dont support vectors of counters when creating tables\n\nIt is possible to create a table containing vectors of counters eg CREATE TABLE test_counter (id int PRIMARY KEY, vec vector ); This makes no sense and should error at the DB level.","output":"It is possible to create a table containing vectors of counters eg CREATE TABLE test_counter (id int PRIMARY KEY, vec vector ); This makes no sense and should error at the DB level."}
{"instruction":"Extract key technical details from this issue:","input":"It is possible to create a table containing vectors of counters eg CREATE TABLE test_counter (id int PRIMARY KEY, vec vector ); This makes no sense and should error at the DB level.","output":"Dont support vectors of counters when creating tables"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-54 - ZSTD Dictionary compression\n\nEpic for gathering all work related to CEP-54.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-54 - ZSTD Dictionary compression\n\nEpic for gathering all work related to CEP-54.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-54 - ZSTD Dictionary compression\n\nEpic for gathering all work related to CEP-54.","output":"Epic for gathering all work related to CEP-54."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Typo on log message when a query was aborted due to too many tombstones\n\nI just noticed that there is a typo in the log message when a query gets aborted due to too many tombstones. Its in https://github.com/apache/cassandra/blob/d7a46b52ef2634ef48acee566cce0a6cccd7f244/src/java/org/apache/cassandra/db/filter/TombstoneOverwhelmingException.java#L31 Currently we have {{[...] and partion key was [...]}} , which should be {{[...] and partition key was [...]}}. Affects (at least) Cassandra 5 and 4.1.","output":"Typo on log message when a query was aborted due to too many tombstones"}
{"instruction":"Classify the status of this issue based on its description:","input":"Typo on log message when a query was aborted due to too many tombstones\n\nI just noticed that there is a typo in the log message when a query gets aborted due to too many tombstones. Its in https://github.com/apache/cassandra/blob/d7a46b52ef2634ef48acee566cce0a6cccd7f244/src/java/org/apache/cassandra/db/filter/TombstoneOverwhelmingException.java#L31 Currently we have {{[...] and partion key was [...]}} , which should be {{[...] and partition key was [...]}}. Affects (at least) Cassandra 5 and 4.1.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Typo on log message when a query was aborted due to too many tombstones\n\nI just noticed that there is a typo in the log message when a query gets aborted due to too many tombstones. Its in https://github.com/apache/cassandra/blob/d7a46b52ef2634ef48acee566cce0a6cccd7f244/src/java/org/apache/cassandra/db/filter/TombstoneOverwhelmingException.java#L31 Currently we have {{[...] and partion key was [...]}} , which should be {{[...] and partition key was [...]}}. Affects (at least) Cassandra 5 and 4.1.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Typo on log message when a query was aborted due to too many tombstones\n\nI just noticed that there is a typo in the log message when a query gets aborted due to too many tombstones. Its in https://github.com/apache/cassandra/blob/d7a46b52ef2634ef48acee566cce0a6cccd7f244/src/java/org/apache/cassandra/db/filter/TombstoneOverwhelmingException.java#L31 Currently we have {{[...] and partion key was [...]}} , which should be {{[...] and partition key was [...]}}. Affects (at least) Cassandra 5 and 4.1.","output":"I just noticed that there is a typo in the log message when a query gets aborted due to too many tombstones. Its in https://github.com/apache/cassandra/blob/d7a46b52ef2634ef48acee566cce0a6cccd7f244/src/java/org/apache/cassandra/db/filter/TombstoneOverwhelmingException.java#L31 Currently we have {{[."}
{"instruction":"Continue the conversation about this technical issue:","input":"Typo on log message when a query was aborted due to too many tombstones\n\nI just noticed that there is a typo in the log message when a query gets aborted due to too many tombstones. Its in https://github.com/apache/cassandra/blob/d7a46b52ef2634ef48acee566cce0a6cccd7f244/sr\n\nConversation:\nuser: There are quite a few 'partion' typos: {noformat} $ git grep -i partion | wc -l 18 {noformat}\nassistant: PR: [https://github.com/apache/cassandra/pull/4401]","output":"PR: [https://github.com/apache/cassandra/pull/4401]"}
{"instruction":"Extract key technical details from this issue:","input":"I just noticed that there is a typo in the log message when a query gets aborted due to too many tombstones. Its in https://github.com/apache/cassandra/blob/d7a46b52ef2634ef48acee566cce0a6cccd7f244/src/java/org/apache/cassandra/db/filter/TombstoneOverwhelmingException.java#L31 Currently we have {{[...] and partion key was [...]}} , which should be {{[...] and partition key was [...]}}. Affects (at least) Cassandra 5 and 4.1.","output":"Typo on log message when a query was aborted due to too many tombstones"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remote Virtual Tables\n\nIntroduce RemoteToLocalVirtualKeyspace and RemoteToLocalVirtualTable, that wrap any pre-existing nominated virtual tables/keyspaces, allowing them to be queried from any other node.","output":"Remote Virtual Tables"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remote Virtual Tables\n\nIntroduce RemoteToLocalVirtualKeyspace and RemoteToLocalVirtualTable, that wrap any pre-existing nominated virtual tables/keyspaces, allowing them to be queried from any other node.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Remote Virtual Tables\n\nIntroduce RemoteToLocalVirtualKeyspace and RemoteToLocalVirtualTable, that wrap any pre-existing nominated virtual tables/keyspaces, allowing them to be queried from any other node.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remote Virtual Tables\n\nIntroduce RemoteToLocalVirtualKeyspace and RemoteToLocalVirtualTable, that wrap any pre-existing nominated virtual tables/keyspaces, allowing them to be queried from any other node.","output":"Introduce RemoteToLocalVirtualKeyspace and RemoteToLocalVirtualTable, that wrap any pre-existing nominated virtual tables/keyspaces, allowing them to be queried from any other node."}
{"instruction":"Extract key technical details from this issue:","input":"Introduce RemoteToLocalVirtualKeyspace and RemoteToLocalVirtualTable, that wrap any pre-existing nominated virtual tables/keyspaces, allowing them to be queried from any other node.","output":"Remote Virtual Tables"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Lazy Virtual Tables\n\nVirtual tables construct their result eagerly by default, with no protection against time or heap overruns, which has proven to be a problem for some Accord debug virtual tables. This patch introduces AbstractLazyVirtualTable that is just as easy to use (requires minimal porting), but: - aborts the query if it is taking too long - eagerly filters rows by any search criteria, and discards any columns we are not selecting - eagerly applies limits to the records it collects, so that we never keep more than some multiple of the final result set in memory - supports lazy materialisation of rows (at caller's discretion), so we can avoid formatting inputs until they have been excluded by the above filters - can exploit in-order visitation to tightly bound this extra work","output":"Lazy Virtual Tables"}
{"instruction":"Classify the status of this issue based on its description:","input":"Lazy Virtual Tables\n\nVirtual tables construct their result eagerly by default, with no protection against time or heap overruns, which has proven to be a problem for some Accord debug virtual tables. This patch introduces AbstractLazyVirtualTable that is just as easy to use (requires minimal porting), but: - aborts the query if it is taking too long - eagerly filters rows by any search criteria, and discards any columns we are not selecting - eagerly applies limits to the records it collects, so that we never keep m","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Lazy Virtual Tables\n\nVirtual tables construct their result eagerly by default, with no protection against time or heap overruns, which has proven to be a problem for some Accord debug virtual tables. This patch introduces AbstractLazyVirtualTable that is just as easy to use (requires minimal porting), but: - aborts the query if it is taking too long - eagerly filters rows by any search criteria, and discards any columns we are not selecting - eagerly applies limits to the records it collects, so that we never keep m","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Lazy Virtual Tables\n\nVirtual tables construct their result eagerly by default, with no protection against time or heap overruns, which has proven to be a problem for some Accord debug virtual tables. This patch introduces AbstractLazyVirtualTable that is just as easy to use (requires minimal porting), but: - aborts the query if it is taking too long - eagerly filters rows by any search criteria, and discards any columns we are not selecting - eagerly applies limits to the records it collects, so that we never keep m","output":"Virtual tables construct their result eagerly by default, with no protection against time or heap overruns, which has proven to be a problem for some Accord debug virtual tables. This patch introduces AbstractLazyVirtualTable that is just as easy to use (requires minimal porting), but: - aborts the "}
{"instruction":"Continue the conversation about this technical issue:","input":"Lazy Virtual Tables\n\nVirtual tables construct their result eagerly by default, with no protection against time or heap overruns, which has proven to be a problem for some Accord debug virtual tables. This patch introduces\n\nConversation:\nuser: Great patch. I think it is worth to take a look at LogMessagesTable which can hold system logs. It is currently {code:java} super(TableMetadata.builder(keyspace, TABLE_NAME) .comment(TABLE_COMMENT) .kind(TableMetadata.Kind.VIRTUAL) .partitioner(new LocalPartitioner(TimestampType.instance)) .addParti","output":"Great patch. I think it is worth to take a look at LogMessagesTable which can hold system logs. It is currently {code:java} super(TableMetadata.builder(keyspace, TABLE_NAME) .comment(TABLE_COMMENT) .kind(TableMetadata.Kind.VIRTUAL) .partitioner(new LocalPartitioner(TimestampType.instance)) .addParti"}
{"instruction":"Extract key technical details from this issue:","input":"Virtual tables construct their result eagerly by default, with no protection against time or heap overruns, which has proven to be a problem for some Accord debug virtual tables. This patch introduces AbstractLazyVirtualTable that is just as easy to use (requires minimal porting), but: - aborts the query if it is taking too long - eagerly filters rows by any search criteria, and discards any columns we are not selecting - eagerly applies limits to the records it collects, so that we never keep more than some multiple of the final result set in memory - supports lazy materialisation of rows (at caller's discretion), so we can avoid formatting inputs until they have been excluded by the above filters - can exploit in-order visitation to tightly bound this extra work","output":"Lazy Virtual Tables"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"AST fuzz testing support for range reads on keyspaces w/ mutation tracking\n\nWe've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet been tested. It's time to dig into to root causes of those failures, starting with the set of minimal repros already codified in {{MutationTrackingRangeReadTest}}.","output":"AST fuzz testing support for range reads on keyspaces w/ mutation tracking"}
{"instruction":"Classify the status of this issue based on its description:","input":"AST fuzz testing support for range reads on keyspaces w/ mutation tracking\n\nWe've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet been tested. It's time to dig into to root causes of those failures, starting with the set of minimal repros already codified in {{MutationTrackingRangeReadTest}}.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"AST fuzz testing support for range reads on keyspaces w/ mutation tracking\n\nWe've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet been tested. It's time to dig into to root causes of those failures, starting with the set of minimal repros already codified in {{MutationTrackingRangeReadTest}}.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: AST fuzz testing support for range reads on keyspaces w/ mutation tracking\n\nWe've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet been tested. It's time to dig into to root causes of those failures, starting with the set of minimal repros already codified in {{MutationTrackingRangeReadTest}}.","output":"We've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet been tested. It's time to dig into to root causes of those failures, starting with the set of minima"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"AST fuzz testing support for range reads on keyspaces w/ mutation tracking\n\nWe've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet been tested. It's time to dig into to root causes of those failures, starting with the set of minimal repros already codified in {{MutationTrackingRangeReadTest}}.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"AST fuzz testing support for range reads on keyspaces w/ mutation tracking\n\nWe've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet \n\nConversation:\nuser: I may narrow the scope of this to exclude range read bugs related to CASSANDRA-20954, which are being hit by the fuzz test ATM\nassistant: Narrowing this further to just pushing up support for range reads in {{MultiNodeTableWalkWithMutationTrackingTest}} and {{MutationTrackingRangeReadTest}} that can serve as a backstop for the correctness of CASSANDRA-20954.","output":"Narrowing this further to just pushing up support for range reads in {{MultiNodeTableWalkWithMutationTrackingTest}} and {{MutationTrackingRangeReadTest}} that can serve as a backstop for the correctness of CASSANDRA-20954."}
{"instruction":"Extract key technical details from this issue:","input":"We've roughly stabilized single-partition reads in CASSANDRA-20830, but there are still several outstanding failure modes for range reads, and at least one scenario (i.e. CASSANDRA-19007) has not yet been tested. It's time to dig into to root causes of those failures, starting with the set of minimal repros already codified in {{MutationTrackingRangeReadTest}}.","output":"AST fuzz testing support for range reads on keyspaces w/ mutation tracking"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-55 Generated user names\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-55+Generated+role+names","output":"CEP-55 Generated user names"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-55 Generated user names\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-55+Generated+role+names","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-55 Generated user names\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-55+Generated+role+names","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-55 Generated user names\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-55+Generated+role+names","output":"https://cwiki.apache.org/confluence/display/CASSANDRA/CEP-55+Generated+role+names"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"CEP-55 Generated user names\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-55+Generated+role+names","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"CEP-55 Generated user names\n\nhttps://cwiki.apache.org/confluence/display/CASSANDRA/CEP-55+Generated+role+names\n\nConversation:\nuser: [https://github.com/apache/cassandra/pull/4379/files]\nassistant: +1\nassistant: https://pre-ci.cassandra.apache.org/job/cassandra/134/#showFailuresLink\nassistant: multiplexers https://app.circleci.com/pipelines/github/instaclustr/cassandra/6090/workflows/9c74b412-1ecc-4d44-ae1e-2e1d536d6624","output":"multiplexers https://app.circleci.com/pipelines/github/instaclustr/cassandra/6090/workflows/9c74b412-1ecc-4d44-ae1e-2e1d536d6624"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Accord: Topology compaction omits image records if minEpoch is ahead of last image\n\nTopology compaction omits image records if minEpoch is ahead of last image Also Fix: - RegisteredCallback should remove itself from callback map when cancelled - Do not throw CancellationException when processing requests that have been aborted, as may be caused by a successful meaningful reply that can be overridden - system_accord_debug.{executors,coordinations} fail with ClassCastException - CommandStore.updateMinHlc eats up CPU as called much too often - AccordCache not notifying flushed on shutdown Also Improve: - Improve violation information - Support skipping Deps - Violation information reported - Sort CommandStore shards by id","output":"Accord: Topology compaction omits image records if minEpoch is ahead of last image"}
{"instruction":"Classify the status of this issue based on its description:","input":"Accord: Topology compaction omits image records if minEpoch is ahead of last image\n\nTopology compaction omits image records if minEpoch is ahead of last image Also Fix: - RegisteredCallback should remove itself from callback map when cancelled - Do not throw CancellationException when processing requests that have been aborted, as may be caused by a successful meaningful reply that can be overridden - system_accord_debug.{executors,coordinations} fail with ClassCastException - CommandStore.updateMinHlc eats up CPU as called much too often - AccordCache not notifying flushed on ","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Accord: Topology compaction omits image records if minEpoch is ahead of last image\n\nTopology compaction omits image records if minEpoch is ahead of last image Also Fix: - RegisteredCallback should remove itself from callback map when cancelled - Do not throw CancellationException when processing requests that have been aborted, as may be caused by a successful meaningful reply that can be overridden - system_accord_debug.{executors,coordinations} fail with ClassCastException - CommandStore.updateMinHlc eats up CPU as called much too often - AccordCache not notifying flushed on ","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Accord: Topology compaction omits image records if minEpoch is ahead of last image\n\nTopology compaction omits image records if minEpoch is ahead of last image Also Fix: - RegisteredCallback should remove itself from callback map when cancelled - Do not throw CancellationException when processing requests that have been aborted, as may be caused by a successful meaningful reply that can be overridden - system_accord_debug.{executors,coordinations} fail with ClassCastException - CommandStore.updateMinHlc eats up CPU as called much too often - AccordCache not notifying flushed on ","output":"Topology compaction omits image records if minEpoch is ahead of last image Also Fix: - RegisteredCallback should remove itself from callback map when cancelled - Do not throw CancellationException when processing requests that have been aborted, as may be caused by a successful meaningful reply that"}
{"instruction":"Extract key technical details from this issue:","input":"Topology compaction omits image records if minEpoch is ahead of last image Also Fix: - RegisteredCallback should remove itself from callback map when cancelled - Do not throw CancellationException when processing requests that have been aborted, as may be caused by a successful meaningful reply that can be overridden - system_accord_debug.{executors,coordinations} fail with ClassCastException - CommandStore.updateMinHlc eats up CPU as called much too often - AccordCache not notifying flushed on shutdown Also Improve: - Improve violation information - Support skipping Deps - Violation information reported - Sort CommandStore shards by id","output":"Accord: Topology compaction omits image records if minEpoch is ahead of last image"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Simplify upgrade to 5.x by requiring fewer rolling restarts\n\nThe setting {{storage_compatibility_mode}} was introduced by CASSANDRA-14227 to allow a phased transition from cassandra 4.x storage format to cassandra 5.x storage format. The https://github.com/apache/cassandra/blob/5d83175952dbda3cfca594764841fb3c584fd1ce/conf/cassandra.yaml#L2279-L2281 suggests 3 rolling restarts to upgrade a cluster from 4.X to 5.X: 1. Upgrade cluster to Cassandra 5 with {{storage_compatibility_mode=CASSANDRA_4}} 2. Rolling restart the cluster with {{storage_compatibility_mode=UPGRADING}} 3. Rolling restart the cluster with {{storage_compatibility_mode=NONE}} However this puts additional burden on operators, since it requires 3 restarts to fully upgrade a cluster to 5.x: CASSANDRA_4 -> UPGRADING -> NONE, 2 more than previous upgrade procedures where a single restart was required. Nodes started in *UPGRADING* compatibility mode will be started with Cassandra 5.0 messaging format and sstables, except that they will not accept writes with TTL higher than 2038 which is the limit before 5.x from CASSANDRA-14092 (https://github.com/apache/cassandra/blob/965a39166cf22f020065578407ca6c585b4a5132/src/java/org/apache/cassandra/db/rows/Cell.java#L96-L99). The idea is to prevent sending writes with TTLs expiring after 2038 to nodes still in the old version. Once all nodes have been restarted with {{{}storage_compatibility_mode=UPGRADING{}}}, the nodes will start accepting TTLS expiring above 2038. At this stage, if a node is accidentally started in version 4.x or {{storage_compatibility_mode=CASSANDRA_4}}, the node toggles back to accepting only TTLs up to 2038. In order to avoid this, the https://github.com/apache/cassandra/blob/5d83175952dbda3cfca594764841fb3c584fd1ce/conf/cassandra.yaml#L2279-L2281 suggest restarting the node with {{storage_compatibility_mode=NONE}}. Since *UPGRADING* mode is equivalent to *NONE* once all nodes are upgraded, we could relax the requirement of an additional rolling restart by making the *UPGRADING* state stable once all nodes have been upgraded. That is, even if nodes are restarted in earlier versions, the node would remain accepting TTLs expiring after 2038 similar to the *NONE* mode. After this we could potentially simplify the upgrade instructions to: - Upgrade to 5.x with {{storage_compatibility_mode=CASSANDRA_4}} - Restart with {{storage_compatibility_mode=UPGRADING}} - Upgrade completed, no additional rolling restart needed Alternatively if this turns out to be invasive we can update the instructions to make the third rolling restart optional.","output":"Simplify upgrade to 5.x by requiring fewer rolling restarts"}
{"instruction":"Classify the status of this issue based on its description:","input":"Simplify upgrade to 5.x by requiring fewer rolling restarts\n\nThe setting {{storage_compatibility_mode}} was introduced by CASSANDRA-14227 to allow a phased transition from cassandra 4.x storage format to cassandra 5.x storage format. The https://github.com/apache/cassandra/blob/5d83175952dbda3cfca594764841fb3c584fd1ce/conf/cassandra.yaml#L2279-L2281 suggests 3 rolling restarts to upgrade a cluster from 4.X to 5.X: 1. Upgrade cluster to Cassandra 5 with {{storage_compatibility_mode=CASSANDRA_4}} 2. Rolling restart the cluster with {{storage_compatibility_m","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Simplify upgrade to 5.x by requiring fewer rolling restarts\n\nThe setting {{storage_compatibility_mode}} was introduced by CASSANDRA-14227 to allow a phased transition from cassandra 4.x storage format to cassandra 5.x storage format. The https://github.com/apache/cassandra/blob/5d83175952dbda3cfca594764841fb3c584fd1ce/conf/cassandra.yaml#L2279-L2281 suggests 3 rolling restarts to upgrade a cluster from 4.X to 5.X: 1. Upgrade cluster to Cassandra 5 with {{storage_compatibility_mode=CASSANDRA_4}} 2. Rolling restart the cluster with {{storage_compatibility_m","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Simplify upgrade to 5.x by requiring fewer rolling restarts\n\nThe setting {{storage_compatibility_mode}} was introduced by CASSANDRA-14227 to allow a phased transition from cassandra 4.x storage format to cassandra 5.x storage format. The https://github.com/apache/cassandra/blob/5d83175952dbda3cfca594764841fb3c584fd1ce/conf/cassandra.yaml#L2279-L2281 suggests 3 rolling restarts to upgrade a cluster from 4.X to 5.X: 1. Upgrade cluster to Cassandra 5 with {{storage_compatibility_mode=CASSANDRA_4}} 2. Rolling restart the cluster with {{storage_compatibility_m","output":"The setting {{storage_compatibility_mode}} was introduced by CASSANDRA-14227 to allow a phased transition from cassandra 4.x storage format to cassandra 5.x storage format. The https://github.com/apache/cassandra/blob/5d83175952dbda3cfca594764841fb3c584fd1ce/conf/cassandra.yaml#L2279-L2281 suggests "}
{"instruction":"Extract key technical details from this issue:","input":"The setting {{storage_compatibility_mode}} was introduced by CASSANDRA-14227 to allow a phased transition from cassandra 4.x storage format to cassandra 5.x storage format. The https://github.com/apache/cassandra/blob/5d83175952dbda3cfca594764841fb3c584fd1ce/conf/cassandra.yaml#L2279-L2281 suggests 3 rolling restarts to upgrade a cluster from 4.X to 5.X: 1. Upgrade cluster to Cassandra 5 with {{storage_compatibility_mode=CASSANDRA_4}} 2. Rolling restart the cluster with {{storage_compatibility_mode=UPGRADING}} 3. Rolling restart the cluster with {{storage_compatibility_mode=NONE}} However this puts additional burden on operators, since it requires 3 restarts to fully upgrade a cluster to 5.x: CASSANDRA_4 -> UPGRADING -> NONE, 2 more than previous upgrade procedures where a single restart w","output":"Simplify upgrade to 5.x by requiring fewer rolling restarts"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Unqualified prepared statements are duplicated in cache\n\nThe compatibility logic added by CASSANDRA-15252 and CASSANDRA-17248 duplicates prepared statements in the cache to support both the new and old formats while upgrading from versions earlier than 3.0.26, 3.11.12 and 4.0.2. I think we should remove this logic in trunk and perhaps make it optional in 5.0 to avoid using double the amount of space to cache unqualified prepared statements.","output":"Unqualified prepared statements are duplicated in cache"}
{"instruction":"Classify the status of this issue based on its description:","input":"Unqualified prepared statements are duplicated in cache\n\nThe compatibility logic added by CASSANDRA-15252 and CASSANDRA-17248 duplicates prepared statements in the cache to support both the new and old formats while upgrading from versions earlier than 3.0.26, 3.11.12 and 4.0.2. I think we should remove this logic in trunk and perhaps make it optional in 5.0 to avoid using double the amount of space to cache unqualified prepared statements.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Unqualified prepared statements are duplicated in cache\n\nThe compatibility logic added by CASSANDRA-15252 and CASSANDRA-17248 duplicates prepared statements in the cache to support both the new and old formats while upgrading from versions earlier than 3.0.26, 3.11.12 and 4.0.2. I think we should remove this logic in trunk and perhaps make it optional in 5.0 to avoid using double the amount of space to cache unqualified prepared statements.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Unqualified prepared statements are duplicated in cache\n\nThe compatibility logic added by CASSANDRA-15252 and CASSANDRA-17248 duplicates prepared statements in the cache to support both the new and old formats while upgrading from versions earlier than 3.0.26, 3.11.12 and 4.0.2. I think we should remove this logic in trunk and perhaps make it optional in 5.0 to avoid using double the amount of space to cache unqualified prepared statements.","output":"The compatibility logic added by CASSANDRA-15252 and CASSANDRA-17248 duplicates prepared statements in the cache to support both the new and old formats while upgrading from versions earlier than 3.0.26, 3.11.12 and 4.0.2. I think we should remove this logic in trunk and perhaps make it optional in "}
{"instruction":"Extract key technical details from this issue:","input":"The compatibility logic added by CASSANDRA-15252 and CASSANDRA-17248 duplicates prepared statements in the cache to support both the new and old formats while upgrading from versions earlier than 3.0.26, 3.11.12 and 4.0.2. I think we should remove this logic in trunk and perhaps make it optional in 5.0 to avoid using double the amount of space to cache unqualified prepared statements.","output":"Unqualified prepared statements are duplicated in cache"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Test failure: JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType\n\nRecent CI runs have failures for * JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType * dtest-latest.client_request_metrics_test/TestClientRequestMetrics {code:java} AssertionError: org.apache.cassandra.metrics:type=ClientRequest,scope=Write-ANY,name=LatencyMean assert 0.0 is None {code} [https://ci-cassandra.apache.org/job/Cassandra-trunk/2265/testReport/junit/org.apache.cassandra.metrics/JmxVirtualTableMetricsTest/Tests___test_jdk11_7_20___testJmxEqualVirtualTableByMetricType__jdk11_x86_64/] [https://ci-cassandra.apache.org/job/Cassandra-trunk/2267/testReport/junit/dtest-latest.client_request_metrics_test/TestClientRequestMetrics/Tests___dtest_latest_jdk11_34_64___test_client_request_metrics/] [http://ci-cassandra.infra.datastax.com/job/cassandra/36/testReport/junit/dtest-latest.client_request_metrics_test/TestClientRequestMetrics/Tests___dtest_latest_jdk11_34_64___test_client_request_metrics/]","output":"Test failure: JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType"}
{"instruction":"Classify the status of this issue based on its description:","input":"Test failure: JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType\n\nRecent CI runs have failures for * JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType * dtest-latest.client_request_metrics_test/TestClientRequestMetrics {code:java} AssertionError: org.apache.cassandra.metrics:type=ClientRequest,scope=Write-ANY,name=LatencyMean assert 0.0 is None {code} [https://ci-cassandra.apache.org/job/Cassandra-trunk/2265/testReport/junit/org.apache.cassandra.metrics/JmxVirtualTableMetricsTest/Tests___test_jdk11_7_20___testJmxEqualVirtualTableByMetricType__jdk","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Test failure: JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType\n\nRecent CI runs have failures for * JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType * dtest-latest.client_request_metrics_test/TestClientRequestMetrics {code:java} AssertionError: org.apache.cassandra.metrics:type=ClientRequest,scope=Write-ANY,name=LatencyMean assert 0.0 is None {code} [https://ci-cassandra.apache.org/job/Cassandra-trunk/2265/testReport/junit/org.apache.cassandra.metrics/JmxVirtualTableMetricsTest/Tests___test_jdk11_7_20___testJmxEqualVirtualTableByMetricType__jdk","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Test failure: JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType\n\nRecent CI runs have failures for * JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType * dtest-latest.client_request_metrics_test/TestClientRequestMetrics {code:java} AssertionError: org.apache.cassandra.metrics:type=ClientRequest,scope=Write-ANY,name=LatencyMean assert 0.0 is None {code} [https://ci-cassandra.apache.org/job/Cassandra-trunk/2265/testReport/junit/org.apache.cassandra.metrics/JmxVirtualTableMetricsTest/Tests___test_jdk11_7_20___testJmxEqualVirtualTableByMetricType__jdk","output":"Recent CI runs have failures for * JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType * dtest-latest.client_request_metrics_test/TestClientRequestMetrics {code:java} AssertionError: org.apache.cassandra.metrics:type=ClientRequest,scope=Write-ANY,name=LatencyMean assert 0.0 is None {code"}
{"instruction":"Continue the conversation about this technical issue:","input":"Test failure: JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType\n\nRecent CI runs have failures for * JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType * dtest-latest.client_request_metrics_test/TestClientRequestMetrics {code:java} AssertionError: org.a\n\nConversation:\nuser: benedict can it be caused by this recent commit: [https://github.com/apache/cassandra/commit/a813a51f7c4bc7379af3621e7386e6a6ca11884f] ?\nassistant: Yes, I believe it was. I believe it has already been addressed by CASSANDRA-20886.","output":"Yes, I believe it was. I believe it has already been addressed by CASSANDRA-20886."}
{"instruction":"Extract key technical details from this issue:","input":"Recent CI runs have failures for * JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType * dtest-latest.client_request_metrics_test/TestClientRequestMetrics {code:java} AssertionError: org.apache.cassandra.metrics:type=ClientRequest,scope=Write-ANY,name=LatencyMean assert 0.0 is None {code} [https://ci-cassandra.apache.org/job/Cassandra-trunk/2265/testReport/junit/org.apache.cassandra.metrics/JmxVirtualTableMetricsTest/Tests___test_jdk11_7_20___testJmxEqualVirtualTableByMetricType__jdk11_x86_64/] [https://ci-cassandra.apache.org/job/Cassandra-trunk/2267/testReport/junit/dtest-latest.client_request_metrics_test/TestClientRequestMetrics/Tests___dtest_latest_jdk11_34_64___test_client_request_metrics/] [http://ci-cassandra.infra.datastax.com/job/cassandra/36/testReport/junit/dtest-la","output":"Test failure: JmxVirtualTableMetricsTest.testJmxEqualVirtualTableByMetricType"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Don't allow JMX operations for denylist when denylist is disabled\n\nWhile following the documentation ([2]), I executed the following commands {code:java} bean org.apache.cassandra.db:type=StorageProxy run denylistKey foo buz 3 true run loadPartitionDenylist run isKeyDenylisted foo buz 3 false {code} but encountered some confusing behavior: 1. The function _*isKeyDenylisted*_ always returned false, which was unexpected. 2. However, I observed from the logs that *_loadPartitionDenylist_* executed successfully: {code:java} Loaded partition denylist cache in 24ms{code} 3. Additionally, running the query {*}_SELECT * FROM foo.buz WHERE key=3_{*}; did not throw an exception as anticipated. After further investigation, I discovered that the feature needs to be explicitly enabled by setting *_partition_denylist_enabled: true_* in the _*cassandra.yaml*_ file. Unfortunately, this requirement is not mentioned in the documentation ([1], [2]). Reference: [1] [https://cassandra.apache.org/doc/latest/cassandra/managing/operating/denylisting_partitions.html] [2] [https://cassandra.apache.org/_/blog/Apache-Cassandra-4.1-Denylisting-Partitions.html]","output":"Don't allow JMX operations for denylist when denylist is disabled"}
{"instruction":"Classify the status of this issue based on its description:","input":"Don't allow JMX operations for denylist when denylist is disabled\n\nWhile following the documentation ([2]), I executed the following commands {code:java} bean org.apache.cassandra.db:type=StorageProxy run denylistKey foo buz 3 true run loadPartitionDenylist run isKeyDenylisted foo buz 3 false {code} but encountered some confusing behavior: 1. The function _*isKeyDenylisted*_ always returned false, which was unexpected. 2. However, I observed from the logs that *_loadPartitionDenylist_* executed successfully: {code:java} Loaded partition denylist cache in 24ms{c","output":"Changes Suggested"}
{"instruction":"Determine the priority level of this issue:","input":"Don't allow JMX operations for denylist when denylist is disabled\n\nWhile following the documentation ([2]), I executed the following commands {code:java} bean org.apache.cassandra.db:type=StorageProxy run denylistKey foo buz 3 true run loadPartitionDenylist run isKeyDenylisted foo buz 3 false {code} but encountered some confusing behavior: 1. The function _*isKeyDenylisted*_ always returned false, which was unexpected. 2. However, I observed from the logs that *_loadPartitionDenylist_* executed successfully: {code:java} Loaded partition denylist cache in 24ms{c","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Don't allow JMX operations for denylist when denylist is disabled\n\nWhile following the documentation ([2]), I executed the following commands {code:java} bean org.apache.cassandra.db:type=StorageProxy run denylistKey foo buz 3 true run loadPartitionDenylist run isKeyDenylisted foo buz 3 false {code} but encountered some confusing behavior: 1. The function _*isKeyDenylisted*_ always returned false, which was unexpected. 2. However, I observed from the logs that *_loadPartitionDenylist_* executed successfully: {code:java} Loaded partition denylist cache in 24ms{c","output":"While following the documentation ([2]), I executed the following commands {code:java} bean org.apache.cassandra.db:type=StorageProxy run denylistKey foo buz 3 true run loadPartitionDenylist run isKeyDenylisted foo buz 3 false {code} but encountered some confusing behavior: 1. The function _*isKeyDe"}
{"instruction":"Continue the conversation about this technical issue:","input":"Don't allow JMX operations for denylist when denylist is disabled\n\nWhile following the documentation ([2]), I executed the following commands {code:java} bean org.apache.cassandra.db:type=StorageProxy run denylistKey foo buz 3 true run loadPartitionDenylist run isKey\n\nConversation:\nuser: hi maoling, what branches are behaving like this?\nassistant: Actually, as an improvement, we can do that just for trunk, makes perfect sense.","output":"Actually, as an improvement, we can do that just for trunk, makes perfect sense."}
{"instruction":"Extract key technical details from this issue:","input":"While following the documentation ([2]), I executed the following commands {code:java} bean org.apache.cassandra.db:type=StorageProxy run denylistKey foo buz 3 true run loadPartitionDenylist run isKeyDenylisted foo buz 3 false {code} but encountered some confusing behavior: 1. The function _*isKeyDenylisted*_ always returned false, which was unexpected. 2. However, I observed from the logs that *_loadPartitionDenylist_* executed successfully: {code:java} Loaded partition denylist cache in 24ms{code} 3. Additionally, running the query {*}_SELECT * FROM foo.buz WHERE key=3_{*}; did not throw an exception as anticipated. After further investigation, I discovered that the feature needs to be explicitly enabled by setting *_partition_denylist_enabled: true_* in the _*cassandra.yaml*_ file. Unfo","output":"Don't allow JMX operations for denylist when denylist is disabled"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45: Support host replacement with tracked keyspaces\n\nHost replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed in will either be fully reconciled, or contain an sstable component describing which ids they contain. We can populate the new node's view of mutations it has witnessed from this (and the writes it receives during it's time in a pending state). Fully reconciled should be discovered via offsets broadcasting, and this should put the node in the right state to start handling reads once streaming completes. Main changes are: * Streaming path ** Need to add sstable offsets to mutation tracking service as replicated. * Read path ** Pull mutation rejection *** Since we'll be advertising offsets that we only have in sstable form, we will have to reject some mutation pull requests. This will need to be gracefully handled by read coordinator ** Durability update *** Node needs to know which mutations it has in sstables and/or are fully reconciled even without log entries across restarts","output":"CEP-45: Support host replacement with tracked keyspaces"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45: Support host replacement with tracked keyspaces\n\nHost replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed in will either be fully reconciled, or contain an sstable component describing which ids they contain. We can populate the new node's view of mutations it has witnessed from this (and the writes it receives during it's time in a pending state). Fully reconciled should be discovered via offsets broadc","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45: Support host replacement with tracked keyspaces\n\nHost replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed in will either be fully reconciled, or contain an sstable component describing which ids they contain. We can populate the new node's view of mutations it has witnessed from this (and the writes it receives during it's time in a pending state). Fully reconciled should be discovered via offsets broadc","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45: Support host replacement with tracked keyspaces\n\nHost replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed in will either be fully reconciled, or contain an sstable component describing which ids they contain. We can populate the new node's view of mutations it has witnessed from this (and the writes it receives during it's time in a pending state). Fully reconciled should be discovered via offsets broadc","output":"Host replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed in will either be fully reconciled, or contain an sstable component describing which ids they contain"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"CEP-45: Support host replacement with tracked keyspaces\n\nHost replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed in will either be fully reconciled, or contain an sstable component describing which ids they contain. We can populate the new node's view of mutations it has witnessed from this (and the writes it receives during it's time in a pending state). Fully reconciled should be discovered via offsets broadc","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"CEP-45: Support host replacement with tracked keyspaces\n\nHost replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed i\n\nConversation:\nuser: https://github.com/apache/cassandra/pull/4396\nassistant: +1 from Abe on github","output":"+1 from Abe on github"}
{"instruction":"Extract key technical details from this issue:","input":"Host replacement is the simplest topology change to make since there is token movement. Contrary to the initial design, topology changes shouldn't need the bulk transfer mechanism. SSTables streamed in will either be fully reconciled, or contain an sstable component describing which ids they contain. We can populate the new node's view of mutations it has witnessed from this (and the writes it receives during it's time in a pending state). Fully reconciled should be discovered via offsets broadcasting, and this should put the node in the right state to start handling reads once streaming completes. Main changes are: * Streaming path ** Need to add sstable offsets to mutation tracking service as replicated. * Read path ** Pull mutation rejection *** Since we'll be advertising offsets that w","output":"CEP-45: Support host replacement with tracked keyspaces"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica needs to be sent mutations during a read.","output":"CEP-45 - Mutation Tracking: Review metrics"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica nee","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica nee","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45 - Mutation Tracking: Review metrics\n\nSome of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica nee","output":"Some of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but i"}
{"instruction":"Extract key technical details from this issue:","input":"Some of the metrics we have should be reviewed so they're providing the most useful information. Current metrics to consider are below, add to the description of the JIRA as others are found ReadRepairMetrics.trackedReconcile.mark() is called for every single read. This is technically correct, but is not be a useful metric. Let's consider marking it from ReadReconciliations.Coordinator#{acceptLocalSummary, acceptRemoteSummary} so we're only counting reconciliations that happen when a replica needs to be sent mutations during a read.","output":"CEP-45 - Mutation Tracking: Review metrics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations"}
{"instruction":"Classify the status of this issue based on its description:","input":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CEP-45 - Mutation Tracking: De-duplicate outgoing mutations\n\nOutgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"Outgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times."}
{"instruction":"Extract key technical details from this issue:","input":"Outgoing mutation deduplication work was started as part of CASSANDRA-20729 (CEP-45: Implement unified reconcile logic), but wasn't completed. We should finish this so we're not sending the same mutation multiple times.","output":"CEP-45 - Mutation Tracking: De-duplicate outgoing mutations"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Minor improvements and hardening for IndexHints\n\nThere are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of included/excluded indexes is way too high. It should be something like the guardrail on indexes per table, not Short.MAX_VALUE 3.) notExcluded() can return an Iterable and avoid set creation in some cases 4.) MessagingService#endpointsWithConnectionsOnVersionBelow() should be able to short-circuit faster in the inner loop when any messaging type detects a bad node","output":"Minor improvements and hardening for IndexHints"}
{"instruction":"Classify the status of this issue based on its description:","input":"Minor improvements and hardening for IndexHints\n\nThere are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of included/excluded indexes is way too high. It should be something like the guardrail on indexes per table, not Short.MAX_VALUE 3.) notExcluded() can return an Iterable and avoid set creation in some cases 4.) MessagingService#endpointsWithConnectionsOnVersionBelow() should be able to short-circuit faster","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Minor improvements and hardening for IndexHints\n\nThere are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of included/excluded indexes is way too high. It should be something like the guardrail on indexes per table, not Short.MAX_VALUE 3.) notExcluded() can return an Iterable and avoid set creation in some cases 4.) MessagingService#endpointsWithConnectionsOnVersionBelow() should be able to short-circuit faster","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Minor improvements and hardening for IndexHints\n\nThere are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of included/excluded indexes is way too high. It should be something like the guardrail on indexes per table, not Short.MAX_VALUE 3.) notExcluded() can return an Iterable and avoid set creation in some cases 4.) MessagingService#endpointsWithConnectionsOnVersionBelow() should be able to short-circuit faster","output":"There are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of included/excluded indexes is way too high. It should be something like the guardrail on indexes per table"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Minor improvements and hardening for IndexHints\n\nThere are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of included/excluded indexes is way too high. It should be something like the guardrail on indexes per table, not Short.MAX_VALUE 3.) notExcluded() can return an Iterable and avoid set creation in some cases 4.) MessagingService#endpointsWithConnectionsOnVersionBelow() should be able to short-circuit faster","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Minor improvements and hardening for IndexHints\n\nThere are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of inclu\n\nConversation:\nuser: All CI failures are also failing on trunk either in Butler or my CI infrastructure.\nassistant: Have approval from dcapwell in GH...moving to commit...","output":"Have approval from dcapwell in GH...moving to commit..."}
{"instruction":"Extract key technical details from this issue:","input":"There are some follow-up items for CASSANDRA-18112, mostly related to the IndexHints class: 1.) We can serialize vints rather than shorts in the IndexSetSerializer 2.) The limit on the number of included/excluded indexes is way too high. It should be something like the guardrail on indexes per table, not Short.MAX_VALUE 3.) notExcluded() can return an Iterable and avoid set creation in some cases 4.) MessagingService#endpointsWithConnectionsOnVersionBelow() should be able to short-circuit faster in the inner loop when any messaging type detects a bad node","output":"Minor improvements and hardening for IndexHints"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make legacy index rebuilds safe on Gossip -> TCM upgrades\n\nOn 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1] org.apache.cassandra.utils.JVMStabilityInspector:70 - Exception in thread Thread[#92,SecondaryIndexManagement:1,5,SecondaryIndexManagement] java.lang.RuntimeException: java.lang.AssertionError: Unknown keyspace at org.apache.cassandra.utils.Throwables.unchecked(Throwables.java:308) at org.apache.cassandra.utils.Throwables.cleaned(Throwables.java:327) at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:561) at org.apache.cassandra.index.internal.CassandraIndex.buildBlocking(CassandraIndex.java:711) at org.apache.cassandra.index.internal.CassandraIndex.lambda$getBuildIndexTask$6(CassandraIndex.java:681) at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61) at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:1583) Caused by: java.lang.AssertionError: Unknown keyspace at org.apache.cassandra.db.Keyspace.open(Keyspace.java:149) at org.apache.cassandra.db.Keyspace.openAndGetStore(Keyspace.java:167) at org.apache.cassandra.db.ReadExecutionController.forCommand(ReadExecutionController.java:154) at org.apache.cassandra.db.ReadCommand.executionController(ReadCommand.java:535) at org.apache.cassandra.index.SecondaryIndexManager.indexPartition(SecondaryIndexManager.java:1066) at org.apache.cassandra.index.internal.CollatedViewIndexBuilder.build(CollatedViewIndexBuilder.java:82) at org.apache.cassandra.db.compaction.CompactionManager$13.run(CompactionManager.java:2033) at org.apache.cassandra.concurrent.FutureTask$3.call(FutureTask.java:141) ... 6 common frames omitted {noformat}","output":"Make legacy index rebuilds safe on Gossip -> TCM upgrades"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make legacy index rebuilds safe on Gossip -> TCM upgrades\n\nOn 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1] org.apache.cassandra.utils.JVMStabilityInspector:70 - Exception in thread Thread[#92,SecondaryIndexManagement:1,5,SecondaryIndexManagement] java.lang.RuntimeException: java.lang.AssertionError: Unknown keyspace at org.apache.cassandra.utils.Throwables.unchecked(Throwables.java:308) at org.apache.c","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Make legacy index rebuilds safe on Gossip -> TCM upgrades\n\nOn 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1] org.apache.cassandra.utils.JVMStabilityInspector:70 - Exception in thread Thread[#92,SecondaryIndexManagement:1,5,SecondaryIndexManagement] java.lang.RuntimeException: java.lang.AssertionError: Unknown keyspace at org.apache.cassandra.utils.Throwables.unchecked(Throwables.java:308) at org.apache.c","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make legacy index rebuilds safe on Gossip -> TCM upgrades\n\nOn 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1] org.apache.cassandra.utils.JVMStabilityInspector:70 - Exception in thread Thread[#92,SecondaryIndexManagement:1,5,SecondaryIndexManagement] java.lang.RuntimeException: java.lang.AssertionError: Unknown keyspace at org.apache.cassandra.utils.Throwables.unchecked(Throwables.java:308) at org.apache.c","output":"On 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1] org.apache.cassandra.utils.JVMStabilityInspector:70 - Exception in thread Thread[#92,SecondaryInde"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Make legacy index rebuilds safe on Gossip -> TCM upgrades\n\nOn 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1] org.apache.cassandra.utils.JVMStabilityInspector:70 - Exception in thread Thread[#92,SecondaryIndexManagement:1,5,SecondaryIndexManagement] java.lang.RuntimeException: java.lang.AssertionError: Unknown keyspace at org.apache.cassandra.utils.Throwables.unchecked(Throwables.java:308) at org.apache.c","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Make legacy index rebuilds safe on Gossip -> TCM upgrades\n\nOn 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1\n\nConversation:\nuser: It's possible to simply rebuild the index after the upgrade completes, but it should never happen in the first place. Note that SAI dos not have this problem, as it indexes SSTables, not entire tables via {{SIM#indexPartition()}}.\nassistant: https://github.com/apache/cassandra/pull/4363\nassistant: I don't see any new failures in CI, but I'll do a full audit...\nassistant: All CI failures are also failing on {{trunk}} either in Butler or my CI infrastructure.\nassistant: +1","output":"+1"}
{"instruction":"Extract key technical details from this issue:","input":"On 5.0 -> trunk (6.0) upgrades, it is possible to start a legacy 2i build before schema has been committed, and this can lead to... {noformat} ERROR 2025-08-18 02:07:04,935 [SecondaryIndexManagement:1] org.apache.cassandra.utils.JVMStabilityInspector:70 - Exception in thread Thread[#92,SecondaryIndexManagement:1,5,SecondaryIndexManagement] java.lang.RuntimeException: java.lang.AssertionError: Unknown keyspace at org.apache.cassandra.utils.Throwables.unchecked(Throwables.java:308) at org.apache.cassandra.utils.Throwables.cleaned(Throwables.java:327) at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:561) at org.apache.cassandra.index.internal.CassandraIndex.buildBlocking(CassandraIndex.java:711) at org.apache.cassandra.index.internal.CassandraIndex.lambda$getBuildIndexT","output":"Make legacy index rebuilds safe on Gossip -> TCM upgrades"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix pending topology notifications\n\nAll pending topology notifications must be propagated to a newly published epoch, not only the pending notification for that epoch Also Fix: - JournalAndTableKeyIterator not merging in consistent order, which can lead to replaying topologies in non-ascending order - Invariant failure when reporting topologies if fetchTopologies on startup yields a gap - removeRedundantMissing could erroneously remove missing dependencies occurring after the new appliedBeforeIndex - Invariant failure for some propagate calls supplying 'wrong' addRoute - Disambiguate nextTxnId and nextTxnIdWithDefaultFlags Also Improve: - LocalLog should not use NoSuchElementException for control flow (instead use ConcurrentSkipListMap)","output":"Fix pending topology notifications"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix pending topology notifications\n\nAll pending topology notifications must be propagated to a newly published epoch, not only the pending notification for that epoch Also Fix: - JournalAndTableKeyIterator not merging in consistent order, which can lead to replaying topologies in non-ascending order - Invariant failure when reporting topologies if fetchTopologies on startup yields a gap - removeRedundantMissing could erroneously remove missing dependencies occurring after the new appliedBeforeIndex - Invariant failure for some pro","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Fix pending topology notifications\n\nAll pending topology notifications must be propagated to a newly published epoch, not only the pending notification for that epoch Also Fix: - JournalAndTableKeyIterator not merging in consistent order, which can lead to replaying topologies in non-ascending order - Invariant failure when reporting topologies if fetchTopologies on startup yields a gap - removeRedundantMissing could erroneously remove missing dependencies occurring after the new appliedBeforeIndex - Invariant failure for some pro","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix pending topology notifications\n\nAll pending topology notifications must be propagated to a newly published epoch, not only the pending notification for that epoch Also Fix: - JournalAndTableKeyIterator not merging in consistent order, which can lead to replaying topologies in non-ascending order - Invariant failure when reporting topologies if fetchTopologies on startup yields a gap - removeRedundantMissing could erroneously remove missing dependencies occurring after the new appliedBeforeIndex - Invariant failure for some pro","output":"All pending topology notifications must be propagated to a newly published epoch, not only the pending notification for that epoch Also Fix: - JournalAndTableKeyIterator not merging in consistent order, which can lead to replaying topologies in non-ascending order - Invariant failure when reporting "}
{"instruction":"Extract key technical details from this issue:","input":"All pending topology notifications must be propagated to a newly published epoch, not only the pending notification for that epoch Also Fix: - JournalAndTableKeyIterator not merging in consistent order, which can lead to replaying topologies in non-ascending order - Invariant failure when reporting topologies if fetchTopologies on startup yields a gap - removeRedundantMissing could erroneously remove missing dependencies occurring after the new appliedBeforeIndex - Invariant failure for some propagate calls supplying 'wrong' addRoute - Disambiguate nextTxnId and nextTxnIdWithDefaultFlags Also Improve: - LocalLog should not use NoSuchElementException for control flow (instead use ConcurrentSkipListMap)","output":"Fix pending topology notifications"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess\n\nWhen we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit event to check that it is not in scope of audit and throw it away !image-2025-09-04-13-52-19-490.png|width=600! {code:java} UUID batchId = UUID.randomUUID(); String queryString = String.format(\"BatchId:[%s] - BATCH of [%d] statements\", batchId, statements.size()); {code}","output":"Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess"}
{"instruction":"Classify the status of this issue based on its description:","input":"Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess\n\nWhen we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit event to check that it is not in scope of audit and throw it away !image-2025-09-04-13-52-19-490.png|width=600! {code:java} UUID batchId = UUID.randomUUID(); String queryString = String.format(\"BatchId:[%s] - BATCH of [%d] statements\", batchId, statements.size()); {code}","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess\n\nWhen we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit event to check that it is not in scope of audit and throw it away !image-2025-09-04-13-52-19-490.png|width=600! {code:java} UUID batchId = UUID.randomUUID(); String queryString = String.format(\"BatchId:[%s] - BATCH of [%d] statements\", batchId, statements.size()); {code}","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess\n\nWhen we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit event to check that it is not in scope of audit and throw it away !image-2025-09-04-13-52-19-490.png|width=600! {code:java} UUID batchId = UUID.randomUUID(); String queryString = String.format(\"BatchId:[%s] - BATCH of [%d] statements\", batchId, statements.size()); {code}","output":"When we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit event to check that it is not in scope of audit and throw it away !image-2025-09-04-13-52-19-490.png|"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess\n\nWhen we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit event to check that it is not in scope of audit and throw it away !image-2025-09-04-13-52-19-490.png|width=600! {code:java} UUID batchId = UUID.randomUUID(); String queryString = String.format(\"BatchId:[%s] - BATCH of [%d] statements\", batchId, statements.size()); {code}","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess\n\nWhen we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit e\n\nConversation:\nuser: we can add an API like: isFiltered(AuditLogEntryType auditLogEntryType) to check if we need BATCH events to audit [^audit_batch_perf.patch] - a sketch for the idea\nassistant: +1 on https://github.com/apache/cassandra/pull/4364 we need to build this.\nassistant: https://pre-ci.cassandra.apache.org/job/cassandra/87/#showFailuresLink I do not think anything is related to this change.","output":"https://pre-ci.cassandra.apache.org/job/cassandra/87/#showFailuresLink I do not think anything is related to this change."}
{"instruction":"Extract key technical details from this issue:","input":"When we have an audit enabled for DDL/LOGIN events (and it is disabled for DML) we have an overhead for BATCH operations (0.75% of CPU usage in a real business workload), when we build a BATCH audit event to check that it is not in scope of audit and throw it away !image-2025-09-04-13-52-19-490.png|width=600! {code:java} UUID batchId = UUID.randomUUID(); String queryString = String.format(\"BatchId:[%s] - BATCH of [%d] statements\", batchId, statements.size()); {code}","output":"Optimize org.apache.cassandra.audit.AuditLogManager#batchSuccess"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements\n\nSeveral important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwards, and don't need to be. 2) More imporantly, using these classes outside of the Cassandra project (in sidecar and analytics) requires that those projects also have access to these classes, and we've worked around this with some fairly ugly hacks (copy/paste of code across even more projects) to date. Moving these will eliminate the need for the hacks.","output":"Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements"}
{"instruction":"Classify the status of this issue based on its description:","input":"Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements\n\nSeveral important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwards, and don't need to be. 2) More imporantly, using these classes outside of the Cassandra project (in sidecar and analytics) requires that those projects also have access to these classes, and we've worked around this with some fairly ugly hacks (copy/paste of code across even more projects) to da","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements\n\nSeveral important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwards, and don't need to be. 2) More imporantly, using these classes outside of the Cassandra project (in sidecar and analytics) requires that those projects also have access to these classes, and we've worked around this with some fairly ugly hacks (copy/paste of code across even more projects) to da","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements\n\nSeveral important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwards, and don't need to be. 2) More imporantly, using these classes outside of the Cassandra project (in sidecar and analytics) requires that those projects also have access to these classes, and we've worked around this with some fairly ugly hacks (copy/paste of code across even more projects) to da","output":"Several important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwards, and don't need to be. 2) More imporantly, using these classes outside of the Cassandra project "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements\n\nSeveral important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwards, and don't need to be. 2) More imporantly, using these classes outside of the Cassandra project (in sidecar and analytics) requires that those projects also have access to these classes, and we've worked around this with some fairly ugly hacks (copy/paste of code across even more projects) to da","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements\n\nSeveral important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwa\n\nConversation:\nuser: See Github PRs\nassistant: +1\nassistant: +1 thanks for the patch\nassistant: Added ci summaries for all 4 C* branches - confirmed test failures are unrelated to my changes and are, I believe, all documented already.\nassistant: I've deleted and re-attached CI results for all four branches with the in-jvm dtest api jar's release build, and updated all of the branches to use it.","output":"I've deleted and re-attached CI results for all four branches with the in-jvm dtest api jar's release build, and updated all of the branches to use it."}
{"instruction":"Extract key technical details from this issue:","input":"Several important JMX-related test classes should be moved over from the Cassandra codebase to the in-jvm-dtest library for two reasons: 1) They are duplicated in every Cassandra version from 4.0 onwards, and don't need to be. 2) More imporantly, using these classes outside of the Cassandra project (in sidecar and analytics) requires that those projects also have access to these classes, and we've worked around this with some fairly ugly hacks (copy/paste of code across even more projects) to date. Moving these will eliminate the need for the hacks.","output":"Move JMX classes to the in-jvm-dtest API project and other small dtest-api improvements"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add support in the binary protocol to allow transactions to have multiple conditions\n\nRight now the binary format hard codes a single condition, so adding ELSE or IF ELSE or any other type of condition can’t be done. Need to update the logic to be more flexible so we can add more conditional types in a backwards compatibility way.","output":"Add support in the binary protocol to allow transactions to have multiple conditions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add support in the binary protocol to allow transactions to have multiple conditions\n\nRight now the binary format hard codes a single condition, so adding ELSE or IF ELSE or any other type of condition can’t be done. Need to update the logic to be more flexible so we can add more conditional types in a backwards compatibility way.","output":"Review In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Add support in the binary protocol to allow transactions to have multiple conditions\n\nRight now the binary format hard codes a single condition, so adding ELSE or IF ELSE or any other type of condition can’t be done. Need to update the logic to be more flexible so we can add more conditional types in a backwards compatibility way.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add support in the binary protocol to allow transactions to have multiple conditions\n\nRight now the binary format hard codes a single condition, so adding ELSE or IF ELSE or any other type of condition can’t be done. Need to update the logic to be more flexible so we can add more conditional types in a backwards compatibility way.","output":"Right now the binary format hard codes a single condition, so adding ELSE or IF ELSE or any other type of condition can’t be done. Need to update the logic to be more flexible so we can add more conditional types in a backwards compatibility way."}
{"instruction":"Continue the conversation about this technical issue:","input":"Add support in the binary protocol to allow transactions to have multiple conditions\n\nRight now the binary format hard codes a single condition, so adding ELSE or IF ELSE or any other type of condition can’t be done. Need to update the logic to be more flexible so we can add more condi\n\nConversation:\nuser: Benedict created a feedback branch here: https://github.com/belliottsmith/cassandra/tree/CASSANDRA-20883 Pulling in his feedback and going to do some final cleanup\nassistant: Accord was approved and merged to trunk last night","output":"Accord was approved and merged to trunk last night"}
{"instruction":"Extract key technical details from this issue:","input":"Right now the binary format hard codes a single condition, so adding ELSE or IF ELSE or any other type of condition can’t be done. Need to update the logic to be more flexible so we can add more conditional types in a backwards compatibility way.","output":"Add support in the binary protocol to allow transactions to have multiple conditions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Implement mutation tracking metadata persistence\n\nPersist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables.","output":"Implement mutation tracking metadata persistence"}
{"instruction":"Classify the status of this issue based on its description:","input":"Implement mutation tracking metadata persistence\n\nPersist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Implement mutation tracking metadata persistence\n\nPersist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Implement mutation tracking metadata persistence\n\nPersist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables.","output":"Persist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Implement mutation tracking metadata persistence\n\nPersist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Implement mutation tracking metadata persistence\n\nPersist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables.\n\nConversation:\nuser: GH PR: https://github.com/apache/cassandra/pull/4360","output":"GH PR: https://github.com/apache/cassandra/pull/4360"}
{"instruction":"Extract key technical details from this issue:","input":"Persist shards, coordinator log info, and last host log id (for generating coordinator log ids) to system keyspace tables.","output":"Implement mutation tracking metadata persistence"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"make LogbackMetrics work as a virtual table\n\nWhen opening the following appender in the _*logback.xml*_ {code:java} {code} then restart the cluster, we will encounter the following exceptions: {code:java} Caused by: java.lang.IllegalStateException: Unknown metric group: LogbackMetrics at org.apache.cassandra.metrics.CassandraMetricsRegistry.verifyUnknownMetric(CassandraMetricsRegistry.java:277) at org.apache.cassandra.metrics.CassandraMetricsRegistry.register(CassandraMetricsRegistry.java:411) at {code} This patch makes LogbackMetrics work again as a virtual table. The preview is: {code:java} cqlsh:system_views> select * from system_metrics.logback_metrics_group ; name | scope | type | value ---------------------------------------------------+-----------+-------+------- org.apache.cassandra.metrics.LogbackMetrics.all | undefined | meter | 1433 org.apache.cassandra.metrics.LogbackMetrics.debug | undefined | meter | 940 org.apache.cassandra.metrics.LogbackMetrics.error | undefined | meter | 0 org.apache.cassandra.metrics.LogbackMetrics.info | undefined | meter | 483 org.apache.cassandra.metrics.LogbackMetrics.trace | undefined | meter | 0 org.apache.cassandra.metrics.LogbackMetrics.warn | undefined | meter | 10 {code}","output":"make LogbackMetrics work as a virtual table"}
{"instruction":"Classify the status of this issue based on its description:","input":"make LogbackMetrics work as a virtual table\n\nWhen opening the following appender in the _*logback.xml*_ {code:java} {code} then restart the cluster, we will encounter the following exceptions: {code:java} Caused by: java.lang.IllegalStateException: Unknown metric group: LogbackMetrics at org.apache.cassandra.metrics.CassandraMetricsRegistry.verifyUnknownMetric(CassandraMetricsRegistry.java:277) at org.apache.cassandra.metrics.CassandraMetricsRegistry.register(CassandraMetricsRegistry.java:411) at {code} This patch makes LogbackMetrics work","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"make LogbackMetrics work as a virtual table\n\nWhen opening the following appender in the _*logback.xml*_ {code:java} {code} then restart the cluster, we will encounter the following exceptions: {code:java} Caused by: java.lang.IllegalStateException: Unknown metric group: LogbackMetrics at org.apache.cassandra.metrics.CassandraMetricsRegistry.verifyUnknownMetric(CassandraMetricsRegistry.java:277) at org.apache.cassandra.metrics.CassandraMetricsRegistry.register(CassandraMetricsRegistry.java:411) at {code} This patch makes LogbackMetrics work","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: make LogbackMetrics work as a virtual table\n\nWhen opening the following appender in the _*logback.xml*_ {code:java} {code} then restart the cluster, we will encounter the following exceptions: {code:java} Caused by: java.lang.IllegalStateException: Unknown metric group: LogbackMetrics at org.apache.cassandra.metrics.CassandraMetricsRegistry.verifyUnknownMetric(CassandraMetricsRegistry.java:277) at org.apache.cassandra.metrics.CassandraMetricsRegistry.register(CassandraMetricsRegistry.java:411) at {code} This patch makes LogbackMetrics work","output":"When opening the following appender in the _*logback.xml*_ {code:java} {code} then restart the cluster, we will encounter the following exceptions: {code:java} Caused by: java.lang.IllegalStateException: Unknown metric group: LogbackMetrics at org.apache.cassandra.metrics.CassandraMetricsRegistry.ve"}
{"instruction":"Continue the conversation about this technical issue:","input":"make LogbackMetrics work as a virtual table\n\nWhen opening the following appender in the _*logback.xml*_ {code:java} {code} then restart the cluster, we will encounter the following exceptions: {code:java} Caused by: java.lang.IllegalStateExcepti\n\nConversation:\nuser: Can you describe the usage scenario of this virtual table?","output":"Can you describe the usage scenario of this virtual table?"}
{"instruction":"Extract key technical details from this issue:","input":"When opening the following appender in the _*logback.xml*_ {code:java} {code} then restart the cluster, we will encounter the following exceptions: {code:java} Caused by: java.lang.IllegalStateException: Unknown metric group: LogbackMetrics at org.apache.cassandra.metrics.CassandraMetricsRegistry.verifyUnknownMetric(CassandraMetricsRegistry.java:277) at org.apache.cassandra.metrics.CassandraMetricsRegistry.register(CassandraMetricsRegistry.java:411) at {code} This patch makes LogbackMetrics work again as a virtual table. The preview is: {code:java} cqlsh:system_views> select * from system_metrics.logback_metrics_group ; name | scope | type | value ---------------------------------------------------+-----------+-------+------- org.apache.cassandra.metrics.LogbackMetrics.all | undefined | me","output":"make LogbackMetrics work as a virtual table"}
{"instruction":"Classify the status of this issue based on its description:","input":"strict MV consistency backed by Paxos V2 implementation\n\n","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"strict MV consistency backed by Paxos V2 implementation\n\n","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: strict MV consistency backed by Paxos V2 implementation\n\n","output":""}
{"instruction":"Continue the conversation about this technical issue:","input":"strict MV consistency backed by Paxos V2 implementation\n\n\n\nConversation:\nuser: Initial PR: [https://github.com/apache/cassandra/pull/4358] bdeggleston benedict chovatia.jaydeep@gmail.com could you please review this one? This is the change for the online hot path change for CEP-48. The work for backfill optimization is still in progress. Thanks.\nassistant: Sorry curlylrt, I won't be able to review this.","output":"Sorry curlylrt, I won't be able to review this."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add Swift Cassandra client to drivers list in documentation\n\nThere is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cassandra docs.","output":"Add Swift Cassandra client to drivers list in documentation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add Swift Cassandra client to drivers list in documentation\n\nThere is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cassandra docs.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add Swift Cassandra client to drivers list in documentation\n\nThere is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cassandra docs.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add Swift Cassandra client to drivers list in documentation\n\nThere is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cassandra docs.","output":"There is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cassandra docs."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add Swift Cassandra client to drivers list in documentation\n\nThere is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cassandra docs.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add Swift Cassandra client to drivers list in documentation\n\nThere is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cass\n\nConversation:\nuser: PR: https://github.com/apache/cassandra/pull/4357\nassistant: +1","output":"+1"}
{"instruction":"Extract key technical details from this issue:","input":"There is an actively maintained Swift Cassandra client: https://github.com/apple/swift-cassandra-client I am proposing including the Swift Cassandra client to the list of client drivers in Apache Cassandra docs.","output":"Add Swift Cassandra client to drivers list in documentation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve Accord Observability\n\nImprove Observability: - Track all active Coordinations - Refactor Replica/Coordinator metrics and report Coordinator exhausted/preempted/timeout - DurabilityQueue metrics and visibility Also Fix: - WaitingState can get cause distributed stall when asked to wait for CanApply if not yet PreCommitted; track separate querying state and advance this to the next achievable state rather than the desired final state - Stalled coordinators should not prevent recovery - Edge case with fetch unable to make progress when pre-bootstrap and all peers have GC'd - Dependency initialisation for sync points across certain ownership changes - SyncPoint propagation may not include all of the epochs required on the receiving node for ranges they have lost but not closed, and receiving node does not validate them - Stable tracker accounting with LocalExecute - Do not prune non-durable APPLIED as must be reported in dependencies until durably applied (so as not to break recovery) - Ensure we cannot race with replies when initiating Coordination - ProgressLog does not guarantee to clear home or waiting states when erased or invalidated by compaction - WaitingState on non-home shard cannot guarantee progress once home shard is Erased - WaitingOnSync handles retired ranges incorrectly Also Improve: - Standardise failure accounting, use null to represent single reply timeouts - BurnTest record/replay to/from file","output":"Improve Accord Observability"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve Accord Observability\n\nImprove Observability: - Track all active Coordinations - Refactor Replica/Coordinator metrics and report Coordinator exhausted/preempted/timeout - DurabilityQueue metrics and visibility Also Fix: - WaitingState can get cause distributed stall when asked to wait for CanApply if not yet PreCommitted; track separate querying state and advance this to the next achievable state rather than the desired final state - Stalled coordinators should not prevent recovery - Edge case with fetch unable to mak","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Improve Accord Observability\n\nImprove Observability: - Track all active Coordinations - Refactor Replica/Coordinator metrics and report Coordinator exhausted/preempted/timeout - DurabilityQueue metrics and visibility Also Fix: - WaitingState can get cause distributed stall when asked to wait for CanApply if not yet PreCommitted; track separate querying state and advance this to the next achievable state rather than the desired final state - Stalled coordinators should not prevent recovery - Edge case with fetch unable to mak","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve Accord Observability\n\nImprove Observability: - Track all active Coordinations - Refactor Replica/Coordinator metrics and report Coordinator exhausted/preempted/timeout - DurabilityQueue metrics and visibility Also Fix: - WaitingState can get cause distributed stall when asked to wait for CanApply if not yet PreCommitted; track separate querying state and advance this to the next achievable state rather than the desired final state - Stalled coordinators should not prevent recovery - Edge case with fetch unable to mak","output":"Improve Observability: - Track all active Coordinations - Refactor Replica/Coordinator metrics and report Coordinator exhausted/preempted/timeout - DurabilityQueue metrics and visibility Also Fix: - WaitingState can get cause distributed stall when asked to wait for CanApply if not yet PreCommitted;"}
{"instruction":"Extract key technical details from this issue:","input":"Improve Observability: - Track all active Coordinations - Refactor Replica/Coordinator metrics and report Coordinator exhausted/preempted/timeout - DurabilityQueue metrics and visibility Also Fix: - WaitingState can get cause distributed stall when asked to wait for CanApply if not yet PreCommitted; track separate querying state and advance this to the next achievable state rather than the desired final state - Stalled coordinators should not prevent recovery - Edge case with fetch unable to make progress when pre-bootstrap and all peers have GC'd - Dependency initialisation for sync points across certain ownership changes - SyncPoint propagation may not include all of the epochs required on the receiving node for ranges they have lost but not closed, and receiving node does not validate t","output":"Improve Accord Observability"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"FINALIZED incremental local repair sessions are not cleaned up in case of a range movement\n\n* system.repairs table is local per each Cassandra node. * This table is cleaned up by a periodically running org.apache.cassandra.repair.consistent.LocalSessions#cleanup() job. * The job runs every cassandra.repair_cleanup_interval_seconds (with default = 10 minutes). * The job should delete repair sessions with FINALIZED state which are older than cassandra.repair_delete_timeout_seconds (with default value = 1 day). * Before deleting of a FINALIZED session org.apache.cassandra.repair.consistent.LocalSessions#isSuperseded check is executed for them to ensure if all ranges and tables covered by this session have since been re-repaired by a more recent session. If it is not superseded the session info delete from the table is skipped and a log message is printed: {code:java} Skipping delete of FINALIZED LocalSession {repairSessionId} because it has not been superseded by a more recent session\"{code} * isSuperseded logic allows to delete a repair session info only if all session ranges are covered by some newer session on the node. If we added a new node then a set of ranges is moved to it and for these ranges data are not repaired anymore on the old nodes, so isSuperseded always return false for the last session executed before the node adding. If we have a big cluster with a lot of nodes added while an incremental repair is executed regularly then we get a lot of non-removable old records in system.repairs table it may slow down startup for Cassandra nodes especially if a large number of tokens is used on the cluster historically. A similar issue is with a table removal, the logic consider the last session which was executed for a removed table as non-superseded and keeps it forever.","output":"FINALIZED incremental local repair sessions are not cleaned up in case of a range movement"}
{"instruction":"Classify the status of this issue based on its description:","input":"FINALIZED incremental local repair sessions are not cleaned up in case of a range movement\n\n* system.repairs table is local per each Cassandra node. * This table is cleaned up by a periodically running org.apache.cassandra.repair.consistent.LocalSessions#cleanup() job. * The job runs every cassandra.repair_cleanup_interval_seconds (with default = 10 minutes). * The job should delete repair sessions with FINALIZED state which are older than cassandra.repair_delete_timeout_seconds (with default value = 1 day). * Before deleting of a FINALIZED session org.apache.cassandra.repair.consisten","output":"Review In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"FINALIZED incremental local repair sessions are not cleaned up in case of a range movement\n\n* system.repairs table is local per each Cassandra node. * This table is cleaned up by a periodically running org.apache.cassandra.repair.consistent.LocalSessions#cleanup() job. * The job runs every cassandra.repair_cleanup_interval_seconds (with default = 10 minutes). * The job should delete repair sessions with FINALIZED state which are older than cassandra.repair_delete_timeout_seconds (with default value = 1 day). * Before deleting of a FINALIZED session org.apache.cassandra.repair.consisten","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: FINALIZED incremental local repair sessions are not cleaned up in case of a range movement\n\n* system.repairs table is local per each Cassandra node. * This table is cleaned up by a periodically running org.apache.cassandra.repair.consistent.LocalSessions#cleanup() job. * The job runs every cassandra.repair_cleanup_interval_seconds (with default = 10 minutes). * The job should delete repair sessions with FINALIZED state which are older than cassandra.repair_delete_timeout_seconds (with default value = 1 day). * Before deleting of a FINALIZED session org.apache.cassandra.repair.consisten","output":"* system.repairs table is local per each Cassandra node. * This table is cleaned up by a periodically running org.apache.cassandra.repair.consistent.LocalSessions#cleanup() job. * The job runs every cassandra.repair_cleanup_interval_seconds (with default = 10 minutes). * The job should delete repair"}
{"instruction":"Continue the conversation about this technical issue:","input":"FINALIZED incremental local repair sessions are not cleaned up in case of a range movement\n\n* system.repairs table is local per each Cassandra node. * This table is cleaned up by a periodically running org.apache.cassandra.repair.consistent.LocalSessions#cleanup() job. * The job runs every c\n\nConversation:\nuser: a possible way to fix the issue can be to add the following kinds of ignoring into isSuperseded logic: # ignore non-local ranges # ignore non-existing tables\nassistant: Patch for 4.0: https://github.com/apache/cassandra/pull/4365\nassistant: chovatia.jaydeep@gmail.com does this look OK to you? Trying to get some reviews from \"repair people\". Thanks!\nassistant: Sure, I will review it by early next week.\nassistant: 4.0 branch lgtm with small comment in gh, could you provide the rest of the branches and test runs?","output":"trunk test results: * [^CASSANDRA-20877-trunk_ci_summary.htm] * [^CASSANDRA-20877-trunk_results_details .tar.xz] Failed tests: dtest-latest.client_request_metrics_test.TestClientRequestMetrics test_client_request_metrics dtest-latest.client_request_metrics_test.TestClientRequestMetrics test_client_r"}
{"instruction":"Extract key technical details from this issue:","input":"* system.repairs table is local per each Cassandra node. * This table is cleaned up by a periodically running org.apache.cassandra.repair.consistent.LocalSessions#cleanup() job. * The job runs every cassandra.repair_cleanup_interval_seconds (with default = 10 minutes). * The job should delete repair sessions with FINALIZED state which are older than cassandra.repair_delete_timeout_seconds (with default value = 1 day). * Before deleting of a FINALIZED session org.apache.cassandra.repair.consistent.LocalSessions#isSuperseded check is executed for them to ensure if all ranges and tables covered by this session have since been re-repaired by a more recent session. If it is not superseded the session info delete from the table is skipped and a log message is printed: {code:java} Skipping delete","output":"FINALIZED incremental local repair sessions are not cleaned up in case of a range movement"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Offline nodetool commands should not print network options in help\n\nThere is no reason to print \"network related options\" like port, password etc. for offline nodetool commands like \"history\" and similar.","output":"Offline nodetool commands should not print network options in help"}
{"instruction":"Classify the status of this issue based on its description:","input":"Offline nodetool commands should not print network options in help\n\nThere is no reason to print \"network related options\" like port, password etc. for offline nodetool commands like \"history\" and similar.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Offline nodetool commands should not print network options in help\n\nThere is no reason to print \"network related options\" like port, password etc. for offline nodetool commands like \"history\" and similar.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Offline nodetool commands should not print network options in help\n\nThere is no reason to print \"network related options\" like port, password etc. for offline nodetool commands like \"history\" and similar.","output":"There is no reason to print \"network related options\" like port, password etc. for offline nodetool commands like \"history\" and similar."}
{"instruction":"Extract key technical details from this issue:","input":"There is no reason to print \"network related options\" like port, password etc. for offline nodetool commands like \"history\" and similar.","output":"Offline nodetool commands should not print network options in help"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"fix resolution of Cassandra main branch upon job determination in .build/run-ci\n\nWe are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to use. Basically, we could be on \"trunk\" while specifying a branch via \"-b\" which is in fact a branch from cassandra-5.0. In that case we would run CI against \"cassandra\" / trunk job instead of \"cassandra-5.0\" job.","output":"fix resolution of Cassandra main branch upon job determination in .build/run-ci"}
{"instruction":"Classify the status of this issue based on its description:","input":"fix resolution of Cassandra main branch upon job determination in .build/run-ci\n\nWe are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to use. Basically, we could be on \"trunk\" while specifying a branch via \"-b\" which is in fact a branch from cassandra-5.0. In that case we would run CI against \"cassandra\" / trunk job instead of \"cassandra-5.0\" job.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"fix resolution of Cassandra main branch upon job determination in .build/run-ci\n\nWe are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to use. Basically, we could be on \"trunk\" while specifying a branch via \"-b\" which is in fact a branch from cassandra-5.0. In that case we would run CI against \"cassandra\" / trunk job instead of \"cassandra-5.0\" job.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: fix resolution of Cassandra main branch upon job determination in .build/run-ci\n\nWe are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to use. Basically, we could be on \"trunk\" while specifying a branch via \"-b\" which is in fact a branch from cassandra-5.0. In that case we would run CI against \"cassandra\" / trunk job instead of \"cassandra-5.0\" job.","output":"We are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to use. Basically, we could be on \"trunk\" while specifying a branch via \"-b\" which is in fact a branch"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"fix resolution of Cassandra main branch upon job determination in .build/run-ci\n\nWe are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to use. Basically, we could be on \"trunk\" while specifying a branch via \"-b\" which is in fact a branch from cassandra-5.0. In that case we would run CI against \"cassandra\" / trunk job instead of \"cassandra-5.0\" job.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"fix resolution of Cassandra main branch upon job determination in .build/run-ci\n\nWe are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to\n\nConversation:\nuser: https://github.com/apache/cassandra/compare/trunk...thelastpickle:cassandra:mck/20875/5.0\nassistant: I ve done {code} ~/dev/cassandra/cassandra-instaclustr/cassandra ⚑ 171 14:58 $ .build/run-ci -b mck/20875/5.0 -r https://github.com/thelastpickle/cassandra.git -p packaging Enter Jenkins password: Build number: 80 Jenkins UI at http://pre-ci.cassandra.apache.org/job/cassandra/80/pipeline-overview/ W\nassistant: Committed https://github.com/apache/cassandra/commit/8ccdbb88ed87ec48b1033e07d8698271d58960a9","output":"Committed https://github.com/apache/cassandra/commit/8ccdbb88ed87ec48b1033e07d8698271d58960a9"}
{"instruction":"Extract key technical details from this issue:","input":"We are currently resolving the job name by looking into \"build.xml\" and parsing the version from there. This works until we use \"-b\" option on \".build/run-ci\" script which says which branch we want to use. Basically, we could be on \"trunk\" while specifying a branch via \"-b\" which is in fact a branch from cassandra-5.0. In that case we would run CI against \"cassandra\" / trunk job instead of \"cassandra-5.0\" job.","output":"fix resolution of Cassandra main branch upon job determination in .build/run-ci"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":".build/run-ci does not work for trunk\n\n{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassandra_dir: Path) -> str: \"\"\" Determines the default Jenkins job name based on the Cassandra version. Separate jobs are required because Jenkinsfiles are baked into the job configuration. ref: .jenkins/k8s/jenkins-deployment.yaml JCasC.configScripts.test-job TODO: add new version each release branching \"\"\" with open(cassandra_dir / \"build.xml\", \"r\", encoding=\"utf-8\") as build_file: for line in build_file: if 'property' in line and 'name=\"base.version\"' in line: version = line.split('value=\"')[1].split('\"')[0] if version.startswith(\"5.0.\"): return \"cassandra-5.0\" return \"trunk\" {code} When on cassandra-5.0 branch, that is ok, but for trunk it is {{trunk}}, not {{cassandra}} so it fails. Ways to fix it: 1) fix jenkins deployment and probably redeploy, not good, a lot of work and unnecessary 2) fix {{.build/run-ci}} to return {{cassandra}} instead of {{trunk}} when on trunk.","output":".build/run-ci does not work for trunk"}
{"instruction":"Classify the status of this issue based on its description:","input":".build/run-ci does not work for trunk\n\n{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassandra_dir: Path) -> str: \"\"\" Determines the default Jenkins job name based on the Cassandra version. Separate jobs are required because Jenkinsfiles are baked into the job configuration. ref: .jenkins/k8s/jenkins-deployment.yaml JCasC.configScripts.test-job TODO: add new version each release branchin","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":".build/run-ci does not work for trunk\n\n{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassandra_dir: Path) -> str: \"\"\" Determines the default Jenkins job name based on the Cassandra version. Separate jobs are required because Jenkinsfiles are baked into the job configuration. ref: .jenkins/k8s/jenkins-deployment.yaml JCasC.configScripts.test-job TODO: add new version each release branchin","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: .build/run-ci does not work for trunk\n\n{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassandra_dir: Path) -> str: \"\"\" Determines the default Jenkins job name based on the Cassandra version. Separate jobs are required because Jenkinsfiles are baked into the job configuration. ref: .jenkins/k8s/jenkins-deployment.yaml JCasC.configScripts.test-job TODO: add new version each release branchin","output":"{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassandra_dir: Path) -> str: \"\"\" Determines the default Jenkins job name based on the Cassandra version. "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":".build/run-ci does not work for trunk\n\n{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassandra_dir: Path) -> str: \"\"\" Determines the default Jenkins job name based on the Cassandra version. Separate jobs are required because Jenkinsfiles are baked into the job configuration. ref: .jenkins/k8s/jenkins-deployment.yaml JCasC.configScripts.test-job TODO: add new version each release branchin","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":".build/run-ci does not work for trunk\n\n{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassa\n\nConversation:\nuser: (2) it's a ninja fix. thanks for spotting this smiklosovic (terrible testing of it from me)\nassistant: but a real problem here is it is only looking at the local build.xml this isn't accurate when {{`-b`}} is specified","output":"but a real problem here is it is only looking at the local build.xml this isn't accurate when {{`-b`}} is specified"}
{"instruction":"Extract key technical details from this issue:","input":"{{jenkins-deployment.yaml}} contains the definition of two jobs: {{cassandra}} and {{cassandra-5.0}}. This does not work when {{.build/run-ci}} determines job name: {code} def determine_job_name(cassandra_dir: Path) -> str: \"\"\" Determines the default Jenkins job name based on the Cassandra version. Separate jobs are required because Jenkinsfiles are baked into the job configuration. ref: .jenkins/k8s/jenkins-deployment.yaml JCasC.configScripts.test-job TODO: add new version each release branching \"\"\" with open(cassandra_dir / \"build.xml\", \"r\", encoding=\"utf-8\") as build_file: for line in build_file: if 'property' in line and 'name=\"base.version\"' in line: version = line.split('value=\"')[1].split('\"')[0] if version.startswith(\"5.0.\"): return \"cassandra-5.0\" return \"trunk\" {code} When on cas","output":".build/run-ci does not work for trunk"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Hanging streaming during repair\n\nRepair is not running but there are active streaming sessions. Logs will be posted as comments. * Node 1 (aaa.bbb.ccc.ddd) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /www.xxx.yyy.zzz Receiving 105 files, 136257 bytes total. Already received 110 files (104.76%), 137014 bytes total (100.56%) $ nodetool repair_admin no sessions {noformat} * Node 2 (www.xxx.yyy.zzz) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /aaa.bbb.ccc.ddd Sending 105 files, 136257 bytes total. Already sent 110 files (104.76%), 137014 bytes total (100.56%) $ nodetool repair_admin no sessions{noformat} * Node 3 (ccc.ddd.eee.fff) ** No streaming or repair running From the logs, we can gather the following streaming session states: Node1 view of the streaming session: * Node2 state: STREAMING * Node3 state: WAIT_COMPLETE Node2 view of the streaming session: * Node1 state: WAIT_COMPLETE Node3 no view of the streaming session","output":"Hanging streaming during repair"}
{"instruction":"Classify the status of this issue based on its description:","input":"Hanging streaming during repair\n\nRepair is not running but there are active streaming sessions. Logs will be posted as comments. * Node 1 (aaa.bbb.ccc.ddd) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /www.xxx.yyy.zzz Receiving 105 files, 136257 bytes total. Already received 110 files (104.76%), 137014 bytes total (100.56%) $ nodetool repair_admin no sessions {noformat} * Node 2 (www.xxx.yyy.zzz) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /a","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Hanging streaming during repair\n\nRepair is not running but there are active streaming sessions. Logs will be posted as comments. * Node 1 (aaa.bbb.ccc.ddd) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /www.xxx.yyy.zzz Receiving 105 files, 136257 bytes total. Already received 110 files (104.76%), 137014 bytes total (100.56%) $ nodetool repair_admin no sessions {noformat} * Node 2 (www.xxx.yyy.zzz) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /a","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Hanging streaming during repair\n\nRepair is not running but there are active streaming sessions. Logs will be posted as comments. * Node 1 (aaa.bbb.ccc.ddd) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /www.xxx.yyy.zzz Receiving 105 files, 136257 bytes total. Already received 110 files (104.76%), 137014 bytes total (100.56%) $ nodetool repair_admin no sessions {noformat} * Node 2 (www.xxx.yyy.zzz) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /a","output":"Repair is not running but there are active streaming sessions. Logs will be posted as comments. * Node 1 (aaa.bbb.ccc.ddd) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /www.xxx.yyy.zzz Receiving 105 files, 136257 bytes total. Already received 110 files (104"}
{"instruction":"Continue the conversation about this technical issue:","input":"Hanging streaming during repair\n\nRepair is not running but there are active streaming sessions. Logs will be posted as comments. * Node 1 (aaa.bbb.ccc.ddd) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-73\n\nConversation:\nuser: *Node1 log while draining* * *node1 closing active connection with node2* {noformat} DEBUG [Messaging-EventLoop-3-1] 2025-08-28 18:49:40,117 StreamingMultiplexedChannel.java:514 - [Stream #8bcef5b0-78b7-11f0-bfc8-7392e70ddefe] Closing stream connection channels on /www.xxx.yyy.zzz:1234 ERROR [Stream","output":"*Node1 log while draining* * *node1 closing active connection with node2* {noformat} DEBUG [Messaging-EventLoop-3-1] 2025-08-28 18:49:40,117 StreamingMultiplexedChannel.java:514 - [Stream #8bcef5b0-78b7-11f0-bfc8-7392e70ddefe] Closing stream connection channels on /www.xxx.yyy.zzz:1234 ERROR [Stream"}
{"instruction":"Extract key technical details from this issue:","input":"Repair is not running but there are active streaming sessions. Logs will be posted as comments. * Node 1 (aaa.bbb.ccc.ddd) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /www.xxx.yyy.zzz Receiving 105 files, 136257 bytes total. Already received 110 files (104.76%), 137014 bytes total (100.56%) $ nodetool repair_admin no sessions {noformat} * Node 2 (www.xxx.yyy.zzz) {noformat} $ nodetool netstats Mode: NORMAL Repair 8bcef5b0-78b7-11f0-bfc8-7392e70ddefe /aaa.bbb.ccc.ddd Sending 105 files, 136257 bytes total. Already sent 110 files (104.76%), 137014 bytes total (100.56%) $ nodetool repair_admin no sessions{noformat} * Node 3 (ccc.ddd.eee.fff) ** No streaming or repair running From the logs, we can gather the following streaming session states: Node1 v","output":"Hanging streaming during repair"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make sure new TCM distributed keyspace is added to system_schema on upgrade\n\nThe new system_cluster_metadata keyspace is added to system_schema when running {{nodetool cms initialize}} - it should be added directly when the upgraded node starts","output":"Make sure new TCM distributed keyspace is added to system_schema on upgrade"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make sure new TCM distributed keyspace is added to system_schema on upgrade\n\nThe new system_cluster_metadata keyspace is added to system_schema when running {{nodetool cms initialize}} - it should be added directly when the upgraded node starts","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Make sure new TCM distributed keyspace is added to system_schema on upgrade\n\nThe new system_cluster_metadata keyspace is added to system_schema when running {{nodetool cms initialize}} - it should be added directly when the upgraded node starts","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make sure new TCM distributed keyspace is added to system_schema on upgrade\n\nThe new system_cluster_metadata keyspace is added to system_schema when running {{nodetool cms initialize}} - it should be added directly when the upgraded node starts","output":"The new system_cluster_metadata keyspace is added to system_schema when running {{nodetool cms initialize}} - it should be added directly when the upgraded node starts"}
{"instruction":"Extract key technical details from this issue:","input":"The new system_cluster_metadata keyspace is added to system_schema when running {{nodetool cms initialize}} - it should be added directly when the upgraded node starts","output":"Make sure new TCM distributed keyspace is added to system_schema on upgrade"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ArrayIndexOutOfBoundsException with repaired data tracking and counters\n\n{code} INFO [node1_ReadStage-1] 2025-08-29T07:30:04,087 SubstituteLogger.java:222 - ERROR 09:30:04,085 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:3132) at org.apache.cassandra.concurrent.ExecutionFailure$2.run(ExecutionFailure.java:168) at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:150) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:829) Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.utils.ByteArrayUtil.getShort(ByteArrayUtil.java:112) at org.apache.cassandra.db.marshal.ByteArrayAccessor.getShort(ByteArrayAccessor.java:190) at org.apache.cassandra.db.marshal.ByteArrayAccessor.getShort(ByteArrayAccessor.java:41) at org.apache.cassandra.db.context.CounterContext.headerLength(CounterContext.java:175) at org.apache.cassandra.db.context.CounterContext.hasLegacyShards(CounterContext.java:597) at org.apache.cassandra.db.Digest$1.updateWithCounterContext(Digest.java:77) at org.apache.cassandra.db.rows.AbstractCell.digest(AbstractCell.java:150) at org.apache.cassandra.db.rows.ColumnData.digest(ColumnData.java:278) {code}","output":"ArrayIndexOutOfBoundsException with repaired data tracking and counters"}
{"instruction":"Classify the status of this issue based on its description:","input":"ArrayIndexOutOfBoundsException with repaired data tracking and counters\n\n{code} INFO [node1_ReadStage-1] 2025-08-29T07:30:04,087 SubstituteLogger.java:222 - ERROR 09:30:04,085 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:3132) at org.apache.cassandra.concurrent.ExecutionFailure$2.run(ExecutionFailure.java:168) at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorke","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"ArrayIndexOutOfBoundsException with repaired data tracking and counters\n\n{code} INFO [node1_ReadStage-1] 2025-08-29T07:30:04,087 SubstituteLogger.java:222 - ERROR 09:30:04,085 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:3132) at org.apache.cassandra.concurrent.ExecutionFailure$2.run(ExecutionFailure.java:168) at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorke","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ArrayIndexOutOfBoundsException with repaired data tracking and counters\n\n{code} INFO [node1_ReadStage-1] 2025-08-29T07:30:04,087 SubstituteLogger.java:222 - ERROR 09:30:04,085 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:3132) at org.apache.cassandra.concurrent.ExecutionFailure$2.run(ExecutionFailure.java:168) at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorke","output":"{code} INFO [node1_ReadStage-1] 2025-08-29T07:30:04,087 SubstituteLogger.java:222 - ERROR 09:30:04,085 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.service.S"}
{"instruction":"Extract key technical details from this issue:","input":"{code} INFO [node1_ReadStage-1] 2025-08-29T07:30:04,087 SubstituteLogger.java:222 - ERROR 09:30:04,085 Exception in thread Thread[node1_ReadStage-1,5,SharedPool] java.lang.RuntimeException: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:3132) at org.apache.cassandra.concurrent.ExecutionFailure$2.run(ExecutionFailure.java:168) at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:150) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:829) Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0 at org.apache.cassandra.utils.ByteArrayUtil.getShort(ByteArr","output":"ArrayIndexOutOfBoundsException with repaired data tracking and counters"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Expose StorageService.dropPreparedStatements via JMX\n\nLooks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that.","output":"Expose StorageService.dropPreparedStatements via JMX"}
{"instruction":"Classify the status of this issue based on its description:","input":"Expose StorageService.dropPreparedStatements via JMX\n\nLooks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Expose StorageService.dropPreparedStatements via JMX\n\nLooks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that.","output":"Low"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Expose StorageService.dropPreparedStatements via JMX\n\nLooks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that.","output":"Looks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Expose StorageService.dropPreparedStatements via JMX\n\nLooks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Expose StorageService.dropPreparedStatements via JMX\n\nLooks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that.\n\nConversation:\nuser: on 5.0 this was just exposing the method StorageService.dropPreparedStatements on StorageServiceMBean on trunk StorageService.dropPreparedStatements was missing, so this was added which is essentially a proxy to {{QueryProcessor.instance.clearPreparedStatements(memoryOnly)}}\nassistant: +1\nassistant: +1 looks reasonable to expose to me.","output":"+1 looks reasonable to expose to me."}
{"instruction":"Extract key technical details from this issue:","input":"Looks like this method was added to StorageService but it is not available via StorageServiceMBean. This ticket is to make that.","output":"Expose StorageService.dropPreparedStatements via JMX"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix issue when reconfiguring cms with paxos repair disabled\n\nWe currently throw exception if {{nodetool cms reconfigure ...}} is run when paxos repair is disabled","output":"Fix issue when reconfiguring cms with paxos repair disabled"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix issue when reconfiguring cms with paxos repair disabled\n\nWe currently throw exception if {{nodetool cms reconfigure ...}} is run when paxos repair is disabled","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Fix issue when reconfiguring cms with paxos repair disabled\n\nWe currently throw exception if {{nodetool cms reconfigure ...}} is run when paxos repair is disabled","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix issue when reconfiguring cms with paxos repair disabled\n\nWe currently throw exception if {{nodetool cms reconfigure ...}} is run when paxos repair is disabled","output":"We currently throw exception if {{nodetool cms reconfigure ...}} is run when paxos repair is disabled"}
{"instruction":"Extract key technical details from this issue:","input":"We currently throw exception if {{nodetool cms reconfigure ...}} is run when paxos repair is disabled","output":"Fix issue when reconfiguring cms with paxos repair disabled"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Increase memory for javadoc building\n\nI was about to stage 4.1.10 and I failed to do so as I was not able to pass \"ant publish\". It will eventually try to build javadocs and this step behaves completely randomly, sometimes it passes, sometimes it does not. What I suspect is happening is that, based on empirical testing I conducted, more memory we assign to javadoc generation, more successful it is / probability of that failing is lower. For now, it is 256m, I will increase it to 1024m. Tricky part about releasing is that changes have to be there so I need to commit this before deploying. If it does not work, we will just skip javadoc completely.","output":"Increase memory for javadoc building"}
{"instruction":"Classify the status of this issue based on its description:","input":"Increase memory for javadoc building\n\nI was about to stage 4.1.10 and I failed to do so as I was not able to pass \"ant publish\". It will eventually try to build javadocs and this step behaves completely randomly, sometimes it passes, sometimes it does not. What I suspect is happening is that, based on empirical testing I conducted, more memory we assign to javadoc generation, more successful it is / probability of that failing is lower. For now, it is 256m, I will increase it to 1024m. Tricky part about releasing is that changes hav","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Increase memory for javadoc building\n\nI was about to stage 4.1.10 and I failed to do so as I was not able to pass \"ant publish\". It will eventually try to build javadocs and this step behaves completely randomly, sometimes it passes, sometimes it does not. What I suspect is happening is that, based on empirical testing I conducted, more memory we assign to javadoc generation, more successful it is / probability of that failing is lower. For now, it is 256m, I will increase it to 1024m. Tricky part about releasing is that changes hav","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Increase memory for javadoc building\n\nI was about to stage 4.1.10 and I failed to do so as I was not able to pass \"ant publish\". It will eventually try to build javadocs and this step behaves completely randomly, sometimes it passes, sometimes it does not. What I suspect is happening is that, based on empirical testing I conducted, more memory we assign to javadoc generation, more successful it is / probability of that failing is lower. For now, it is 256m, I will increase it to 1024m. Tricky part about releasing is that changes hav","output":"I was about to stage 4.1.10 and I failed to do so as I was not able to pass \"ant publish\". It will eventually try to build javadocs and this step behaves completely randomly, sometimes it passes, sometimes it does not. What I suspect is happening is that, based on empirical testing I conducted, more"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Increase memory for javadoc building\n\nI was about to stage 4.1.10 and I failed to do so as I was not able to pass \"ant publish\". It will eventually try to build javadocs and this step behaves completely randomly, sometimes it passes, sometimes it does not. What I suspect is happening is that, based on empirical testing I conducted, more memory we assign to javadoc generation, more successful it is / probability of that failing is lower. For now, it is 256m, I will increase it to 1024m. Tricky part about releasing is that changes hav","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"I was about to stage 4.1.10 and I failed to do so as I was not able to pass \"ant publish\". It will eventually try to build javadocs and this step behaves completely randomly, sometimes it passes, sometimes it does not. What I suspect is happening is that, based on empirical testing I conducted, more memory we assign to javadoc generation, more successful it is / probability of that failing is lower. For now, it is 256m, I will increase it to 1024m. Tricky part about releasing is that changes have to be there so I need to commit this before deploying. If it does not work, we will just skip javadoc completely.","output":"Increase memory for javadoc building"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"EKS docs for setting up a ci-cassandra jenkins helm clone\n\nEKS docs to put in .jenkins/k8s/ that describe how pre-ci.cassandra.apache.org was setup, and how to repeat in any EKS.","output":"EKS docs for setting up a ci-cassandra jenkins helm clone"}
{"instruction":"Classify the status of this issue based on its description:","input":"EKS docs for setting up a ci-cassandra jenkins helm clone\n\nEKS docs to put in .jenkins/k8s/ that describe how pre-ci.cassandra.apache.org was setup, and how to repeat in any EKS.","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"EKS docs for setting up a ci-cassandra jenkins helm clone\n\nEKS docs to put in .jenkins/k8s/ that describe how pre-ci.cassandra.apache.org was setup, and how to repeat in any EKS.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: EKS docs for setting up a ci-cassandra jenkins helm clone\n\nEKS docs to put in .jenkins/k8s/ that describe how pre-ci.cassandra.apache.org was setup, and how to repeat in any EKS.","output":"EKS docs to put in .jenkins/k8s/ that describe how pre-ci.cassandra.apache.org was setup, and how to repeat in any EKS."}
{"instruction":"Continue the conversation about this technical issue:","input":"EKS docs for setting up a ci-cassandra jenkins helm clone\n\nEKS docs to put in .jenkins/k8s/ that describe how pre-ci.cassandra.apache.org was setup, and how to repeat in any EKS.\n\nConversation:\nuser: https://github.com/apache/cassandra/pull/4347","output":"https://github.com/apache/cassandra/pull/4347"}
{"instruction":"Extract key technical details from this issue:","input":"EKS docs to put in .jenkins/k8s/ that describe how pre-ci.cassandra.apache.org was setup, and how to repeat in any EKS.","output":"EKS docs for setting up a ci-cassandra jenkins helm clone"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction\n\nI've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTree$Term}} doesn't implement {{{}equals(){}}}, so the invariant checks in {{IntervalTree$IntervalNode}} aren't reliable. {noformat} Caused by: java.lang.IllegalStateException: null at com.google.common.base.Preconditions.checkState(Preconditions.java:496) at org.apache.cassandra.utils.IntervalTree$IntervalNode. (IntervalTree.java:693) at org.apache.cassandra.utils.IntervalTree. (IntervalTree.java:97) at org.apache.cassandra.utils.IntervalTree.build(IntervalTree.java:186) at org.apache.cassandra.index.sai.view.RangeTermTree$Builder.build(RangeTermTree.java:97) at org.apache.cassandra.index.sai.view.View. (View.java:59) at org.apache.cassandra.index.sai.view.IndexViewManager.update(IndexViewManager.java:107) at org.apache.cassandra.index.sai.StorageAttachedIndex.onSSTableChanged(StorageAttachedIndex.java:625) at org.apache.cassandra.index.sai.StorageAttachedIndexGroup.onSSTableChanged(StorageAttachedIndexGroup.java:335) at org.apache.cassandra.index.sai.StorageAttachedIndexBuilder.completeSSTable(StorageAttachedIndexBuilder.java:313) at org.apache.cassandra.index.sai.StorageAttachedIndexBuilder.indexSSTable(StorageAttachedIndexBuilder.java:195) at org.apache.cassandra.index.sai.StorageAttachedIndexBuilder.build(StorageAttachedIndexBuilder.java:118) at org.apache.cassandra.db.compaction.CompactionManager$13.run(CompactionManager.java:2035) {noformat}","output":"Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction\n\nI've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTree$Term}} doesn't implement {{{}equals(){}}}, so the invariant checks in {{IntervalTree$IntervalNode}} aren't reliable. {noformat} Caused by: java.lang.IllegalStateException: null at com.google.common.base.Preconditions.checkState(Preconditions.java:496) at org.apache.cassandra.utils.IntervalTree$In","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction\n\nI've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTree$Term}} doesn't implement {{{}equals(){}}}, so the invariant checks in {{IntervalTree$IntervalNode}} aren't reliable. {noformat} Caused by: java.lang.IllegalStateException: null at com.google.common.base.Preconditions.checkState(Preconditions.java:496) at org.apache.cassandra.utils.IntervalTree$In","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction\n\nI've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTree$Term}} doesn't implement {{{}equals(){}}}, so the invariant checks in {{IntervalTree$IntervalNode}} aren't reliable. {noformat} Caused by: java.lang.IllegalStateException: null at com.google.common.base.Preconditions.checkState(Preconditions.java:496) at org.apache.cassandra.utils.IntervalTree$In","output":"I've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTree$Term}} doesn't implement {{{}equals(){}}}, so the invariant checks in {{IntervalTree$IntervalNode"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction\n\nI've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTree$Term}} doesn't implement {{{}equals(){}}}, so the invariant checks in {{IntervalTree$IntervalNode}} aren't reliable. {noformat} Caused by: java.lang.IllegalStateException: null at com.google.common.base.Preconditions.checkState(Preconditions.java:496) at org.apache.cassandra.utils.IntervalTree$In","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction\n\nI've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTr\n\nConversation:\nuser: As expected, nothing new in the CI run, but posted it for posterity.","output":"As expected, nothing new in the CI run, but posted it for posterity."}
{"instruction":"Extract key technical details from this issue:","input":"I've been seeing local test failures in {{{}StorageAttachedIndexDDLTest#shouldCreateIndexFilesAfterMultipleConcurrentIndexCreation(){}}}, and it looks like the root cause of this is that {{RangeTermTree$Term}} doesn't implement {{{}equals(){}}}, so the invariant checks in {{IntervalTree$IntervalNode}} aren't reliable. {noformat} Caused by: java.lang.IllegalStateException: null at com.google.common.base.Preconditions.checkState(Preconditions.java:496) at org.apache.cassandra.utils.IntervalTree$IntervalNode. (IntervalTree.java:693) at org.apache.cassandra.utils.IntervalTree. (IntervalTree.java:97) at org.apache.cassandra.utils.IntervalTree.build(IntervalTree.java:186) at org.apache.cassandra.index.sai.view.RangeTermTree$Builder.build(RangeTermTree.java:97) at org.apache.cassandra.index.sai.v","output":"Add equals/hashCode to RangeTermTree$Term to make sure it plays nicely with IntervalNode construction"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!\n\nThere's an issue where we're getting a WARNING when logging into cqlsh: {{WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} We verified that the cqlsh version is from 4.1.8 and that is the only cqlsh installed. We used an rpm installation of 4.1.8 with yum. We don’t get the warning in Oracle Linux 7, but do get it in Oracle Linux 8. I did notice that the difference is: OL7 -> python2 OL8 -> pytthon3 {code:java} {{Output:[root ~]# cqlsh -u cassandra $HOSTNAME}} {{Password: WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} {{Connected to sesssrv_null at }} {{ Native protocol v5 Use HELP for help.}} {{cassandra@cqlsh> cassandra@cqlsh> SELECT release_version FROM system.local;}} {{ release_version ----------------- 4.1.8 (1 rows)}} {{[SKIPPED] cassandra-tools-4.1.8-1.noarch.rpm: Already downloaded}} {{Running transaction check Transaction check succeeded. Running transaction test}} {{Transaction test succeeded.}} {{Running transaction Preparing : }} {{ 1/1 Installing : cassandra-tools-4.1.8-1.noarch }} {{ 1/1 Verifying : cassandra-tools-4.1.8-1.noarch }} {{ 1/1 Installed: cassandra-tools-4.1.8-1.noarch}} {{Complete!}} {{}} {{[root ~]# rpm -qa |grep cassandra cassandra-tools-4.1.8-1.noarch}} {{cassandra-4.1.8-1.noarch}} {code} My assumption is that cqlsh for python2 was built in the 4.1.8 release, but the cqlsh for python3 was not.","output":"WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!"}
{"instruction":"Classify the status of this issue based on its description:","input":"WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!\n\nThere's an issue where we're getting a WARNING when logging into cqlsh: {{WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} We verified that the cqlsh version is from 4.1.8 and that is the only cqlsh installed. We used an rpm installation of 4.1.8 with yum. We don’t get the warning in Oracle Linux 7, but do get it in Oracle Linux 8. I did notice that the difference is: OL7 -> python2 OL8 -> pytthon3 {code:java} {{Output:[root ~]# cqlsh -u cassandra $H","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!\n\nThere's an issue where we're getting a WARNING when logging into cqlsh: {{WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} We verified that the cqlsh version is from 4.1.8 and that is the only cqlsh installed. We used an rpm installation of 4.1.8 with yum. We don’t get the warning in Oracle Linux 7, but do get it in Oracle Linux 8. I did notice that the difference is: OL7 -> python2 OL8 -> pytthon3 {code:java} {{Output:[root ~]# cqlsh -u cassandra $H","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!\n\nThere's an issue where we're getting a WARNING when logging into cqlsh: {{WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} We verified that the cqlsh version is from 4.1.8 and that is the only cqlsh installed. We used an rpm installation of 4.1.8 with yum. We don’t get the warning in Oracle Linux 7, but do get it in Oracle Linux 8. I did notice that the difference is: OL7 -> python2 OL8 -> pytthon3 {code:java} {{Output:[root ~]# cqlsh -u cassandra $H","output":"There's an issue where we're getting a WARNING when logging into cqlsh: {{WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} We verified that the cqlsh version is from 4.1.8 and that is the only cqlsh installed. We used an rpm installation of 4.1.8 with yu"}
{"instruction":"Extract key technical details from this issue:","input":"There's an issue where we're getting a WARNING when logging into cqlsh: {{WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} We verified that the cqlsh version is from 4.1.8 and that is the only cqlsh installed. We used an rpm installation of 4.1.8 with yum. We don’t get the warning in Oracle Linux 7, but do get it in Oracle Linux 8. I did notice that the difference is: OL7 -> python2 OL8 -> pytthon3 {code:java} {{Output:[root ~]# cqlsh -u cassandra $HOSTNAME}} {{Password: WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!}} {{Connected to sesssrv_null at }} {{ Native protocol v5 Use HELP for help.}} {{cassandra@cqlsh> cassandra@cqlsh> SELECT release_version FROM system.local;}} {{ release_version -------","output":"WARNING: cqlsh was built against 4.1.4, but this server is 4.1.8. All features may not work!"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Expose Prepared Statement Cache Size Metric (in bytes)\n\nCurrently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepared_statements_cache_size, creating a mismatch between the exposed metrics and the configuration units. This discrepancy makes it difficult for operators to anticipate when the cache is approaching its configured limit. The scope of this ticket is to add a new metric, PreparedStatementsCacheSize, which will expose the size of the cache in bytes to improve the observability of the size of the prepared statement cache.","output":"Expose Prepared Statement Cache Size Metric (in bytes)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Expose Prepared Statement Cache Size Metric (in bytes)\n\nCurrently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepared_statements_cache_size, creating a mismatch between the exposed metrics and the configuration units. This discrepancy makes it difficult for operators to anticipate when the cache is approaching its configured limit. The scope of this ticket is to add a new metric, PreparedStatementsCacheSize, wh","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Expose Prepared Statement Cache Size Metric (in bytes)\n\nCurrently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepared_statements_cache_size, creating a mismatch between the exposed metrics and the configuration units. This discrepancy makes it difficult for operators to anticipate when the cache is approaching its configured limit. The scope of this ticket is to add a new metric, PreparedStatementsCacheSize, wh","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Expose Prepared Statement Cache Size Metric (in bytes)\n\nCurrently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepared_statements_cache_size, creating a mismatch between the exposed metrics and the configuration units. This discrepancy makes it difficult for operators to anticipate when the cache is approaching its configured limit. The scope of this ticket is to add a new metric, PreparedStatementsCacheSize, wh","output":"Currently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepared_statements_cache_size, creating a mismatch between the exposed metrics and the configuration uni"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Expose Prepared Statement Cache Size Metric (in bytes)\n\nCurrently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepared_statements_cache_size, creating a mismatch between the exposed metrics and the configuration units. This discrepancy makes it difficult for operators to anticipate when the cache is approaching its configured limit. The scope of this ticket is to add a new metric, PreparedStatementsCacheSize, wh","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Expose Prepared Statement Cache Size Metric (in bytes)\n\nCurrently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepa\n\nConversation:\nuser: +1, pending CI https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch-5/404/\nassistant: +1, and the ci seems to be all right. Start to commit the pr.\nassistant: Thank you both for the fast reviews!","output":"Thank you both for the fast reviews!"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, Cassandra exposes the count of prepared statements through a metric, PreparedStatementsCount. However, the maximum cache size is configured in terms of bytes through the configuration prepared_statements_cache_size, creating a mismatch between the exposed metrics and the configuration units. This discrepancy makes it difficult for operators to anticipate when the cache is approaching its configured limit. The scope of this ticket is to add a new metric, PreparedStatementsCacheSize, which will expose the size of the cache in bytes to improve the observability of the size of the prepared statement cache.","output":"Expose Prepared Statement Cache Size Metric (in bytes)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Missing authorizer and role_manager configs in system_views.settings\n\nAuthorizer role_manager configs are missing in system_views.settings after the changes in CASSANDRA-19946 were merged. Example query on a 5.x cluster: cqlsh> select * from system_views.settings where name = 'authorizer'; name | value ------+------- cqlsh> select * from system_views.settings where name = 'role_manager'; name | value ------+------- (0 rows)","output":"Missing authorizer and role_manager configs in system_views.settings"}
{"instruction":"Classify the status of this issue based on its description:","input":"Missing authorizer and role_manager configs in system_views.settings\n\nAuthorizer role_manager configs are missing in system_views.settings after the changes in CASSANDRA-19946 were merged. Example query on a 5.x cluster: cqlsh> select * from system_views.settings where name = 'authorizer'; name | value ------+------- cqlsh> select * from system_views.settings where name = 'role_manager'; name | value ------+------- (0 rows)","output":"Awaiting Feedback"}
{"instruction":"Determine the priority level of this issue:","input":"Missing authorizer and role_manager configs in system_views.settings\n\nAuthorizer role_manager configs are missing in system_views.settings after the changes in CASSANDRA-19946 were merged. Example query on a 5.x cluster: cqlsh> select * from system_views.settings where name = 'authorizer'; name | value ------+------- cqlsh> select * from system_views.settings where name = 'role_manager'; name | value ------+------- (0 rows)","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Missing authorizer and role_manager configs in system_views.settings\n\nAuthorizer role_manager configs are missing in system_views.settings after the changes in CASSANDRA-19946 were merged. Example query on a 5.x cluster: cqlsh> select * from system_views.settings where name = 'authorizer'; name | value ------+------- cqlsh> select * from system_views.settings where name = 'role_manager'; name | value ------+------- (0 rows)","output":"Authorizer role_manager configs are missing in system_views.settings after the changes in CASSANDRA-19946 were merged. Example query on a 5.x cluster: cqlsh> select * from system_views.settings where name = 'authorizer'; name | value ------+------- cqlsh> select * from system_views.settings where na"}
{"instruction":"Continue the conversation about this technical issue:","input":"Missing authorizer and role_manager configs in system_views.settings\n\nAuthorizer role_manager configs are missing in system_views.settings after the changes in CASSANDRA-19946 were merged. Example query on a 5.x cluster: cqlsh> select * from system_views.settings where \n\nConversation:\nuser: In CASSANDRA-19946 all auth* related classes allow configuration parameters. This was done by changing the underlying mechanism that loads those implementations using {{{}ParameterizedClass{}}}. This impacted the way those settings were exposed in {{system_views.settings}} virtual table. For instanc\nassistant: tiagomlalves We will prefer if the changes are backwards compatible. Please let us know if it will be possible to create a fix so that the changes in CASSANDRA-19946 are backwards compatible.","output":"tiagomlalves We will prefer if the changes are backwards compatible. Please let us know if it will be possible to create a fix so that the changes in CASSANDRA-19946 are backwards compatible."}
{"instruction":"Extract key technical details from this issue:","input":"Authorizer role_manager configs are missing in system_views.settings after the changes in CASSANDRA-19946 were merged. Example query on a 5.x cluster: cqlsh> select * from system_views.settings where name = 'authorizer'; name | value ------+------- cqlsh> select * from system_views.settings where name = 'role_manager'; name | value ------+------- (0 rows)","output":"Missing authorizer and role_manager configs in system_views.settings"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Test failure: org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest on seed 0xca7dc33660ae3b8a\n\nhttps://ci-cassandra.apache.org/job/Cassandra-trunk/2250/testReport/junit/org.apache.cassandra.simulator.test/ShortAccordSimulationTest/Tests___simulator_dtest_jdk11___simulationTest__jdk11_x86_64/ {code} java.lang.RuntimeException: Simulation failed with exit code: 1 at org.apache.cassandra.simulator.SimulatorUtils.executeWithExceptionThrowing(SimulatorUtils.java:110) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner.executeWithExceptionThrowing(AccordSimulationRunner.java:104) at org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest(ShortAccordSimulationTest.java:97) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) Caused by: org.apache.cassandra.simulator.SimulationException: Failed on seed 0xca7dc33660ae3b8a Caused by: java.lang.AssertionError: History violations detected at org.apache.cassandra.simulator.paxos.PaxosSimulation.logAndThrow(PaxosSimulation.java:341) at org.apache.cassandra.simulator.paxos.PaxosSimulation.isDone(PaxosSimulation.java:304) at org.apache.cassandra.simulator.paxos.PaxosSimulation$2.hasNext(PaxosSimulation.java:275) at org.apache.cassandra.simulator.paxos.PaxosSimulation.run(PaxosSimulation.java:250) at org.apache.cassandra.simulator.paxos.AbstractPairOfSequencesPaxosSimulation.run(AbstractPairOfSequencesPaxosSimulation.java:301) at org.apache.cassandra.simulator.paxos.PairOfSequencesAccordSimulation.run(PairOfSequencesAccordSimulation.java:64) at org.apache.cassandra.simulator.SimulationRunner$Run.run(SimulationRunner.java:414) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner$Run.run(AccordSimulationRunner.java:63) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner$Run.run(AccordSimulationRunner.java:54) at org.apache.cassandra.simulator.SimulationRunner$BasicCommand.run(SimulationRunner.java:394) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner$Run.run(AccordSimulationRunner.java:54) at org.apache.cassandra.simulator.SimulationRunner$BasicCommand.run(SimulationRunner.java:359) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner$Run.run(AccordSimulationRunner.java:54) at picocli.CommandLine.executeUserObject(CommandLine.java:2045) at picocli.CommandLine.access$1500(CommandLine.java:148) at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2469) at picocli.CommandLine$RunLast.handle(CommandLine.java:2461) at picocli.CommandLine$RunLast.handle(CommandLine.java:2423) at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2277) at picocli.CommandLine$RunLast.execute(CommandLine.java:2425) at org.apache.cassandra.simulator.SimulatorUtils.lambda$prepareRunner$11(SimulatorUtils.java:92) at picocli.CommandLine.execute(CommandLine.java:2174) at org.apache.cassandra.simulator.SimulatorUtils.executeWithExceptionThrowing(SimulatorUtils.java:105) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner.executeWithExceptionThrowing(AccordSimulationRunner.java:104) at org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest(ShortAccordSimulationTest.java:97) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) Suppressed: org.apache.cassandra.simulator.paxos.HistoryViolation: Unknown write step on key 0 with value 341 is reachable from its happens-before relations at accord.verify.StrictSerializabilityVerifier$Step.receiveUnknownStepPredecessor(StrictSerializabilityVerifier.java:451) at accord.verify.StrictSerializabilityVerifier$Step.receiveKnowledgePhasedPredecessors(StrictSerializabilityVerifier.java:443) at accord.verify.StrictSerializabilityVerifier$Step.receiveUnknownStepPredecessor(StrictSerializabilityVerifier.java:459) at accord.verify.StrictSerializabilityVerifier$Step.receiveKnowledgePhasedPredecessors(StrictSerializabilityVerifier.java:438) at accord.verify.StrictSerializabilityVerifier$FutureWrites.receiveKnowledgePhasedPredecessors(StrictSerializabilityVerifier.java:536) at accord.verify.StrictSerializabilityVerifier$Register.propagateToDirectSuccessor(StrictSerializabilityVerifier.java:702) at accord.verify.StrictSerializabilityVerifier$Register.onChange(StrictSerializabilityVerifier.java:732) at accord.verify.StrictSerializabilityVerifier$UnknownStepHolder.run(StrictSerializabilityVerifier.java:214) at accord.verify.StrictSerializabilityVerifier$Register.onChange(StrictSerializabilityVerifier.java:738) at accord.verify.StrictSerializabilityVerifier$UnknownStepHolder.discoveredStepIndex(StrictSerializabilityVerifier.java:197) at accord.verify.StrictSerializabilityVerifier$FutureWrites.newSequence(StrictSerializabilityVerifier.java:510) at accord.verify.StrictSerializabilityVerifier$Register.updateSequence(StrictSerializabilityVerifier.java:635) at accord.verify.StrictSerializabilityVerifier.apply(StrictSerializabilityVerifier.java:870) at org.apache.cassandra.simulator.paxos.StrictSerializabilityValidator$1.lambda$close$0(StrictSerializabilityValidator.java:66) at org.apache.cassandra.simulator.paxos.StrictSerializabilityValidator.convertHistoryViolation(StrictSerializabilityValidator.java:89) at org.apache.cassandra.simulator.paxos.StrictSerializabilityValidator$1.close(StrictSerializabilityValidator.java:66) at org.apache.cassandra.simulator.paxos.PairOfSequencesAccordSimulation$ReadWriteOperation.verify(PairOfSequencesAccordSimulation.java:232) at org.apache.cassandra.simulator.paxos.PaxosSimulation$Operation.accept(PaxosSimulation.java:161) at org.apache.cassandra.simulator.paxos.PairOfSequencesAccordSimulation$ReadWriteOperation.accept(PairOfSequencesAccordSimulation.java:185) at org.apache.cassandra.simulator.paxos.PaxosSimulation$Operation.accept(PaxosSimulation.java:109) at org.apache.cassandra.simulator.systems.SimulatedActionCallable$1.run(SimulatedActionCallable.java:47) at org.apache.cassandra.simulator.systems.InterceptingExecutor$InterceptingPooledExecutor$WaitingThread.lambda$new$1(InterceptingExecutor.java:284) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.Thread.run(Thread.java:829) Suppressed: java.lang.NullPointerException at org.apache.cassandra.simulator.paxos.PaxosTopologyChangeVerifier.afterInternal(PaxosTopologyChangeVerifier.java:67) at org.apache.cassandra.simulator.paxos.PaxosTopologyChangeVerifier.after(PaxosTopologyChangeVerifier.java:61) at org.apache.cassandra.simulator.cluster.OnClusterChangeTopology.accept(OnClusterChangeTopology.java:69) at org.apache.cassandra.simulator.cluster.OnClusterChangeTopology.accept(OnClusterChangeTopology.java:32) at org.apache.cassandra.simulator.ActionListener$3.transitivelyAfter(ActionListener.java:90) at org.apache.cassandra.simulator.utils.CompactLists.safeForEach(CompactLists.java:116) at org.apache.cassandra.simulator.Action.transitivelyFinished(Action.java:771) at org.apache.cassandra.simulator.Action.transitivelyFinished(Action.java:760) at org.apache.cassandra.simulator.Action.finishedSelf(Action.java:746) at org.apache.cassandra.simulator.Action.invalidate(Action.java:549) at org.apache.cassandra.simulator.Action.invalidate(Action.java:523) at org.apache.cassandra.simulator.utils.SafeCollections.safeForEach(SafeCollections.java:35) at org.apache.cassandra.simulator.ActionSchedule.close(ActionSchedule.java:454) at org.apache.cassandra.simulator.paxos.PaxosSimulation$2.close(PaxosSimulation.java:294) at org.apache.cassandra.simulator.paxos.PaxosSimulation.run(PaxosSimulation.java:247) {code}","output":"Test failure: org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest on seed 0xca7dc33660ae3b8a"}
{"instruction":"Classify the status of this issue based on its description:","input":"Test failure: org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest on seed 0xca7dc33660ae3b8a\n\nhttps://ci-cassandra.apache.org/job/Cassandra-trunk/2250/testReport/junit/org.apache.cassandra.simulator.test/ShortAccordSimulationTest/Tests___simulator_dtest_jdk11___simulationTest__jdk11_x86_64/ {code} java.lang.RuntimeException: Simulation failed with exit code: 1 at org.apache.cassandra.simulator.SimulatorUtils.executeWithExceptionThrowing(SimulatorUtils.java:110) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner.executeWithExceptionThrowing(AccordSimulationRunner.java:104) at ","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Test failure: org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest on seed 0xca7dc33660ae3b8a\n\nhttps://ci-cassandra.apache.org/job/Cassandra-trunk/2250/testReport/junit/org.apache.cassandra.simulator.test/ShortAccordSimulationTest/Tests___simulator_dtest_jdk11___simulationTest__jdk11_x86_64/ {code} java.lang.RuntimeException: Simulation failed with exit code: 1 at org.apache.cassandra.simulator.SimulatorUtils.executeWithExceptionThrowing(SimulatorUtils.java:110) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner.executeWithExceptionThrowing(AccordSimulationRunner.java:104) at ","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Test failure: org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest on seed 0xca7dc33660ae3b8a\n\nhttps://ci-cassandra.apache.org/job/Cassandra-trunk/2250/testReport/junit/org.apache.cassandra.simulator.test/ShortAccordSimulationTest/Tests___simulator_dtest_jdk11___simulationTest__jdk11_x86_64/ {code} java.lang.RuntimeException: Simulation failed with exit code: 1 at org.apache.cassandra.simulator.SimulatorUtils.executeWithExceptionThrowing(SimulatorUtils.java:110) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner.executeWithExceptionThrowing(AccordSimulationRunner.java:104) at ","output":"https://ci-cassandra.apache.org/job/Cassandra-trunk/2250/testReport/junit/org.apache.cassandra.simulator.test/ShortAccordSimulationTest/Tests___simulator_dtest_jdk11___simulationTest__jdk11_x86_64/ {code} java.lang.RuntimeException: Simulation failed with exit code: 1 at org.apache.cassandra.simulat"}
{"instruction":"Extract key technical details from this issue:","input":"https://ci-cassandra.apache.org/job/Cassandra-trunk/2250/testReport/junit/org.apache.cassandra.simulator.test/ShortAccordSimulationTest/Tests___simulator_dtest_jdk11___simulationTest__jdk11_x86_64/ {code} java.lang.RuntimeException: Simulation failed with exit code: 1 at org.apache.cassandra.simulator.SimulatorUtils.executeWithExceptionThrowing(SimulatorUtils.java:110) at org.apache.cassandra.simulator.paxos.AccordSimulationRunner.executeWithExceptionThrowing(AccordSimulationRunner.java:104) at org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest(ShortAccordSimulationTest.java:97) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at jav","output":"Test failure: org.apache.cassandra.simulator.test.ShortAccordSimulationTest.simulationTest on seed 0xca7dc33660ae3b8a"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Test timeout: org.apache.cassandra.simulator.test.AccordHarrySimulationTest\n\nAccordHarrySimulationTest fails periodically on different CIs due to timeouts for a test execution or test split execution (1h). Examples for the failures: * https://ci-cassandra.apache.org/job/Cassandra-trunk/2239/testReport/junit/org.apache.cassandra.simulator.test/AccordHarrySimulationTest/Tests___simulator_dtest_jdk11___test_cassandra_testtag_IS_UNDEFINED/ * https://pre-ci.cassandra.apache.org/job/cassandra/68/pipeline-overview/?selected-node=534 It is paintful because it can impact an overall CI run execution - by causing a timeout for a test split execution, so the whole test CI run is aborted as a result. Example: https://pre-ci.cassandra.apache.org/job/cassandra/68/pipeline-overview/?selected-node=534","output":"Test timeout: org.apache.cassandra.simulator.test.AccordHarrySimulationTest"}
{"instruction":"Classify the status of this issue based on its description:","input":"Test timeout: org.apache.cassandra.simulator.test.AccordHarrySimulationTest\n\nAccordHarrySimulationTest fails periodically on different CIs due to timeouts for a test execution or test split execution (1h). Examples for the failures: * https://ci-cassandra.apache.org/job/Cassandra-trunk/2239/testReport/junit/org.apache.cassandra.simulator.test/AccordHarrySimulationTest/Tests___simulator_dtest_jdk11___test_cassandra_testtag_IS_UNDEFINED/ * https://pre-ci.cassandra.apache.org/job/cassandra/68/pipeline-overview/?selected-node=534 It is paintful because it can impact an overa","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Test timeout: org.apache.cassandra.simulator.test.AccordHarrySimulationTest\n\nAccordHarrySimulationTest fails periodically on different CIs due to timeouts for a test execution or test split execution (1h). Examples for the failures: * https://ci-cassandra.apache.org/job/Cassandra-trunk/2239/testReport/junit/org.apache.cassandra.simulator.test/AccordHarrySimulationTest/Tests___simulator_dtest_jdk11___test_cassandra_testtag_IS_UNDEFINED/ * https://pre-ci.cassandra.apache.org/job/cassandra/68/pipeline-overview/?selected-node=534 It is paintful because it can impact an overa","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Test timeout: org.apache.cassandra.simulator.test.AccordHarrySimulationTest\n\nAccordHarrySimulationTest fails periodically on different CIs due to timeouts for a test execution or test split execution (1h). Examples for the failures: * https://ci-cassandra.apache.org/job/Cassandra-trunk/2239/testReport/junit/org.apache.cassandra.simulator.test/AccordHarrySimulationTest/Tests___simulator_dtest_jdk11___test_cassandra_testtag_IS_UNDEFINED/ * https://pre-ci.cassandra.apache.org/job/cassandra/68/pipeline-overview/?selected-node=534 It is paintful because it can impact an overa","output":"AccordHarrySimulationTest fails periodically on different CIs due to timeouts for a test execution or test split execution (1h). Examples for the failures: * https://ci-cassandra.apache.org/job/Cassandra-trunk/2239/testReport/junit/org.apache.cassandra.simulator.test/AccordHarrySimulationTest/Tests_"}
{"instruction":"Continue the conversation about this technical issue:","input":"Test timeout: org.apache.cassandra.simulator.test.AccordHarrySimulationTest\n\nAccordHarrySimulationTest fails periodically on different CIs due to timeouts for a test execution or test split execution (1h). Examples for the failures: * https://ci-cassandra.apache.org/job/Cassan\n\nConversation:\nuser: I've noticed that it is possible to configure a time here: org.apache.cassandra.simulator.ClusterSimulation.Builder#secondsToSimulate(int) maybe it can be an option to make the execution time for the test more predictable..","output":"I've noticed that it is possible to configure a time here: org.apache.cassandra.simulator.ClusterSimulation.Builder#secondsToSimulate(int) maybe it can be an option to make the execution time for the test more predictable.."}
{"instruction":"Extract key technical details from this issue:","input":"AccordHarrySimulationTest fails periodically on different CIs due to timeouts for a test execution or test split execution (1h). Examples for the failures: * https://ci-cassandra.apache.org/job/Cassandra-trunk/2239/testReport/junit/org.apache.cassandra.simulator.test/AccordHarrySimulationTest/Tests___simulator_dtest_jdk11___test_cassandra_testtag_IS_UNDEFINED/ * https://pre-ci.cassandra.apache.org/job/cassandra/68/pipeline-overview/?selected-node=534 It is paintful because it can impact an overall CI run execution - by causing a timeout for a test split execution, so the whole test CI run is aborted as a result. Example: https://pre-ci.cassandra.apache.org/job/cassandra/68/pipeline-overview/?selected-node=534","output":"Test timeout: org.apache.cassandra.simulator.test.AccordHarrySimulationTest"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner\n\norg.apache.cassandra.simulator.test.AccordHarrySimulationTest print errors like this: {code:java} 23:42:59 [junit-timeout] 22:42:53,609 |-ERROR in ch.qos.logback.core.model.processor.DefaultProcessor@2d140a7 - Failed to traverse model define ch.qos.logback.core.model.processor.ModelHandlerException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at ch.qos.logback.core.model.processor.ModelHandlerException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at at ch.qos.logback.core.model.processor.DefineModelHandler.handle(DefineModelHandler.java:93) 23:42:59 [junit-timeout] at at ch.qos.logback.core.model.processor.DefaultProcessor.mainTraverse(DefaultProcessor.java:203) 23:42:59 [junit-timeout] at at ch.qos.logback.core.model.processor.DefaultProcessor.mainTraverse(DefaultProcessor.java:211) 23:42:59 [junit-timeout] at at ch.qos.logback.core.model.processor.DefaultProcessor.process(DefaultProcessor.java:104) 23:42:59 [junit-timeout] at at ch.qos.logback.core.joran.GenericXMLConfigurator.processModel(GenericXMLConfigurator.java:222) 23:42:59 [junit-timeout] at at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:178) 23:42:59 [junit-timeout] at at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:123) 23:42:59 [junit-timeout] at at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:66) 23:42:59 [junit-timeout] at at ch.qos.logback.classic.util.DefaultJoranConfigurator.configureByResource(DefaultJoranConfigurator.java:68) 23:42:59 [junit-timeout] at at ch.qos.logback.classic.util.DefaultJoranConfigurator.configure(DefaultJoranConfigurator.java:35) 23:42:59 [junit-timeout] at at ch.qos.logback.classic.util.ContextInitializer.invokeConfigure(ContextInitializer.java:142) 23:42:59 [junit-timeout] at at ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:101) 23:42:59 [junit-timeout] at at ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:67) 23:42:59 [junit-timeout] at at ch.qos.logback.classic.spi.LogbackServiceProvider.initializeLoggerContext(LogbackServiceProvider.java:51) 23:42:59 [junit-timeout] at at ch.qos.logback.classic.spi.LogbackServiceProvider.initialize(LogbackServiceProvider.java:44) 23:42:59 [junit-timeout] at at org.slf4j.LoggerFactory.bind(LoggerFactory.java:201) 23:42:59 [junit-timeout] at at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:187) 23:42:59 [junit-timeout] at at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:511) 23:42:59 [junit-timeout] at at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:497) 23:42:59 [junit-timeout] at at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:446) 23:42:59 [junit-timeout] at at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:472) 23:42:59 [junit-timeout] at at org.apache.cassandra.simulator.systems.InterceptingGlobalMethods. (InterceptingGlobalMethods.java:48) 23:42:59 [junit-timeout] at at org.apache.cassandra.simulator.test.SimulationTestBase.simulate(SimulationTestBase.java:390) 23:42:59 [junit-timeout] at at org.apache.cassandra.simulator.test.SimulationTestBase.simulate(SimulationTestBase.java:363) 23:42:59 [junit-timeout] at at org.apache.cassandra.simulator.test.AccordJournalSimulationTest.simpleRWTest(AccordJournalSimulationTest.java:60) 23:42:59 [junit-timeout] at at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 23:42:59 [junit-timeout] at at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) 23:42:59 [junit-timeout] at at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 23:42:59 [junit-timeout] at at java.base/java.lang.reflect.Method.invoke(Method.java:566) 23:42:59 [junit-timeout] at at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) 23:42:59 [junit-timeout] at at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) 23:42:59 [junit-timeout] at at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) 23:42:59 [junit-timeout] at at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) 23:42:59 [junit-timeout] at at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) 23:42:59 [junit-timeout] at at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) 23:42:59 [junit-timeout] at at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) 23:42:59 [junit-timeout] at at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) 23:42:59 [junit-timeout] at at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) 23:42:59 [junit-timeout] at at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) 23:42:59 [junit-timeout] at at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) 23:42:59 [junit-timeout] at at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) 23:42:59 [junit-timeout] at at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) 23:42:59 [junit-timeout] at at org.junit.runners.ParentRunner.run(ParentRunner.java:363) 23:42:59 [junit-timeout] at at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38) 23:42:59 [junit-timeout] at at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:534) 23:42:59 [junit-timeout] at at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1196) 23:42:59 [junit-timeout] at at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1041) 23:42:59 [junit-timeout] Caused by: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at at ch.qos.logback.core.util.OptionHelper.instantiateByClassNameAndParameter(OptionHelper.java:69) 23:42:59 [junit-timeout] at at ch.qos.logback.core.util.OptionHelper.instantiateByClassName(OptionHelper.java:44) 23:42:59 [junit-timeout] at at ch.qos.logback.core.util.OptionHelper.instantiateByClassName(OptionHelper.java:33) 23:42:59 [junit-timeout] at at ch.qos.logback.core.model.processor.DefineModelHandler.handle(DefineModelHandler.java:87) 23:42:59 [junit-timeout] at ... 46 common frames omitted 23:42:59 [junit-timeout] Caused by: java.lang.ExceptionInInitializerError 23:42:59 [junit-timeout] at at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) 23:42:59 [junit-timeout] at at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) 23:42:59 [junit-timeout] at at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) 23:42:59 [junit-timeout] at at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) 23:42:59 [junit-timeout] at at ch.qos.logback.core.util.OptionHelper.instantiateByClassNameAndParameter(OptionHelper.java:61) 23:42:59 [junit-timeout] at ... 49 common frames omitted 23:42:59 [junit-timeout] Caused by: java.lang.IllegalStateException 23:42:59 [junit-timeout] at at accord.utils.Invariants.createIllegalState(Invariants.java:77) 23:42:59 [junit-timeout] at at accord.utils.Invariants.illegalState(Invariants.java:82) 23:42:59 [junit-timeout] at at accord.utils.Invariants.illegalState(Invariants.java:92) 23:42:59 [junit-timeout] at at accord.utils.Invariants.require(Invariants.java:224) 23:42:59 [junit-timeout] at at org.apache.cassandra.simulator.logging.RunStartDefiner. (RunStartDefiner.java:29) 23:42:59 [junit-timeout] at ... 54 common frames omitted {code} If I got correctly it is caused by initializing a logger here: org.apache.cassandra.simulator.systems.InterceptingGlobalMethods {code} private static final Logger logger = LoggerFactory.getLogger(InterceptingGlobalMethods.class); {code} The logger is not actually used, so I suppose we can just remove the line. Based on the changes in a similar place in https://github.com/apache/cassandra/commit/e6cf2132ab33b2d6e68e79cb2e6d5c3a31103088#diff-d7c7bbcde5f2ce09a2113d707d824661d635ca7fb5dfb0c44cc9ce597e20ed1cR98 logger usage is not expected during an initialisation of simulation framework.","output":"Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner"}
{"instruction":"Classify the status of this issue based on its description:","input":"Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner\n\norg.apache.cassandra.simulator.test.AccordHarrySimulationTest print errors like this: {code:java} 23:42:59 [junit-timeout] 22:42:53,609 |-ERROR in ch.qos.logback.core.model.processor.DefaultProcessor@2d140a7 - Failed to traverse model define ch.qos.logback.core.model.processor.ModelHandlerException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at ch.qos.logback.core.model.processo","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner\n\norg.apache.cassandra.simulator.test.AccordHarrySimulationTest print errors like this: {code:java} 23:42:59 [junit-timeout] 22:42:53,609 |-ERROR in ch.qos.logback.core.model.processor.DefaultProcessor@2d140a7 - Failed to traverse model define ch.qos.logback.core.model.processor.ModelHandlerException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at ch.qos.logback.core.model.processo","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner\n\norg.apache.cassandra.simulator.test.AccordHarrySimulationTest print errors like this: {code:java} 23:42:59 [junit-timeout] 22:42:53,609 |-ERROR in ch.qos.logback.core.model.processor.DefaultProcessor@2d140a7 - Failed to traverse model define ch.qos.logback.core.model.processor.ModelHandlerException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at ch.qos.logback.core.model.processo","output":"org.apache.cassandra.simulator.test.AccordHarrySimulationTest print errors like this: {code:java} 23:42:59 [junit-timeout] 22:42:53,609 |-ERROR in ch.qos.logback.core.model.processor.DefaultProcessor@2d140a7 - Failed to traverse model define ch.qos.logback.core.model.processor.ModelHandlerException:"}
{"instruction":"Continue the conversation about this technical issue:","input":"Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner\n\norg.apache.cassandra.simulator.test.AccordHarrySimulationTest print errors like this: {code:java} 23:42:59 [junit-timeout] 22:42:53,609 |-ERROR in ch.qos.logback.core.model.processor.DefaultProcessor@\n\nConversation:\nuser: Other places with the same issue: {code} [2025-08-25T19:37:10.865Z] [junit-timeout] at at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:472) [2025-08-25T19:37:10.865Z] [junit-timeout] at at org.apache.cassandra.simulator.test.HarrySimulatorTest. (HarrySimulatorTest.java:187) {code} {code} [20\nassistant: Hm, we have at least the following tests where the assert is not true: HarrySimulatorTest AccordJournalSimulationTest MonitorMethodTransformerTest SemaphoreTest TrivialSimulationTest dcapwell benedict could you please help to clarify do we really need the require in RunStartDefiner? {code} public cl\nassistant: I think the reason is that simulator logs the cluster logs based off the seed, so if we don't know the seed when setting up logging we have a logging bug. Does this actually fail the test, or just breaks the seed separation of logging? I thought the last time I touched simulator it was just spam and\nassistant: {quote}I think the reason is that simulator logs the cluster logs based off the seed, so if we don't know the seed when setting up logging we have a logging bug. {quote} Actually we have 2 property definers: * org.apache.cassandra.simulator.logging.RunStartDefiner - provides simulation start time (a","output":"{quote}I think the reason is that simulator logs the cluster logs based off the seed, so if we don't know the seed when setting up logging we have a logging bug. {quote} Actually we have 2 property definers: * org.apache.cassandra.simulator.logging.RunStartDefiner - provides simulation start time (a"}
{"instruction":"Extract key technical details from this issue:","input":"org.apache.cassandra.simulator.test.AccordHarrySimulationTest print errors like this: {code:java} 23:42:59 [junit-timeout] 22:42:53,609 |-ERROR in ch.qos.logback.core.model.processor.DefaultProcessor@2d140a7 - Failed to traverse model define ch.qos.logback.core.model.processor.ModelHandlerException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at ch.qos.logback.core.model.processor.ModelHandlerException: ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner 23:42:59 [junit-timeout] at at ch.qos.logback.core.model.processor.DefineModelHandler.handle(DefineModelHandler.java:93) 23:42:59 [junit-t","output":"Failed to instantiate type org.apache.cassandra.simulator.logging.RunStartDefiner"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"cpp-driver donation\n\nReassignment of copyright, where approved, and relicensing. New repository will be github.com/apache/cassandra-cpp-driver https://github.com/datastax/cpp-driver/pull/573 The collection of agreements and CLAs is being tracked in this document: https://ibm.box.com/s/vbvvx2uabt6mdbed2t10p2sqohixzs9a","output":"cpp-driver donation"}
{"instruction":"Classify the status of this issue based on its description:","input":"cpp-driver donation\n\nReassignment of copyright, where approved, and relicensing. New repository will be github.com/apache/cassandra-cpp-driver https://github.com/datastax/cpp-driver/pull/573 The collection of agreements and CLAs is being tracked in this document: https://ibm.box.com/s/vbvvx2uabt6mdbed2t10p2sqohixzs9a","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"cpp-driver donation\n\nReassignment of copyright, where approved, and relicensing. New repository will be github.com/apache/cassandra-cpp-driver https://github.com/datastax/cpp-driver/pull/573 The collection of agreements and CLAs is being tracked in this document: https://ibm.box.com/s/vbvvx2uabt6mdbed2t10p2sqohixzs9a","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: cpp-driver donation\n\nReassignment of copyright, where approved, and relicensing. New repository will be github.com/apache/cassandra-cpp-driver https://github.com/datastax/cpp-driver/pull/573 The collection of agreements and CLAs is being tracked in this document: https://ibm.box.com/s/vbvvx2uabt6mdbed2t10p2sqohixzs9a","output":"Reassignment of copyright, where approved, and relicensing. New repository will be github.com/apache/cassandra-cpp-driver https://github.com/datastax/cpp-driver/pull/573 The collection of agreements and CLAs is being tracked in this document: https://ibm.box.com/s/vbvvx2uabt6mdbed2t10p2sqohixzs9a"}
{"instruction":"Extract key technical details from this issue:","input":"Reassignment of copyright, where approved, and relicensing. New repository will be github.com/apache/cassandra-cpp-driver https://github.com/datastax/cpp-driver/pull/573 The collection of agreements and CLAs is being tracked in this document: https://ibm.box.com/s/vbvvx2uabt6mdbed2t10p2sqohixzs9a","output":"cpp-driver donation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add virtual table to expose last N uncaught exceptions\n\nThere's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * Last Message * Last StackTrace * Last Occurence Time This will give more visibility into uncaught exceptions allowing operators to easily find unexpected issues that can be hidden in logs.","output":"Add virtual table to expose last N uncaught exceptions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add virtual table to expose last N uncaught exceptions\n\nThere's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * Last Message * Last StackTrace * Last Occurence Time This will give more visibility into uncaught exceptions allowing operators to easily find unexpected issues that can be hidden in logs.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add virtual table to expose last N uncaught exceptions\n\nThere's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * Last Message * Last StackTrace * Last Occurence Time This will give more visibility into uncaught exceptions allowing operators to easily find unexpected issues that can be hidden in logs.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add virtual table to expose last N uncaught exceptions\n\nThere's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * Last Message * Last StackTrace * Last Occurence Time This will give more visibility into uncaught exceptions allowing operators to easily find unexpected issues that can be hidden in logs.","output":"There's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * Last Message * Last StackTrace * Last Occurence Time This will give more visibility into uncaught exce"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add virtual table to expose last N uncaught exceptions\n\nThere's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * Last Message * Last StackTrace * Last Occurence Time This will give more visibility into uncaught exceptions allowing operators to easily find unexpected issues that can be hidden in logs.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add virtual table to expose last N uncaught exceptions\n\nThere's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * La\n\nConversation:\nuser: This is just too useful to not introduce everywhere we have system views tables at.\nassistant: {quote}Let's add a system_views.exceptions table with the following information: - ExceptionClass - Count - Last Message - Last StackTrace - Last Occurence Time{quote} I don't see why not keep the last message/timestamp/stack trace for the last N exceptions. We could perhaps keep a global count per \nassistant: yeah, already working on it\nassistant: paulo [https://github.com/apache/cassandra/pull/4355] I do not know how to invoke uncaught exception so I do not know how to test it, heh.\nassistant: As an option we can use Byteman for this purpose to inject an exception (if we want to emulate an end-to-end case), there are several tests which use this library to inject some faulty behaviour... Another simpler option is to invoke org.apache.cassandra.utils.JVMStabilityInspector#uncaughtException","output":"great contribution thanks!"}
{"instruction":"Extract key technical details from this issue:","input":"There's a metric {{StorageMetrics.uncaughtExceptions}} that tracks uncaught exception count. Let's add a {{system_views.exceptions}} table with the following information: * ExceptionClass * Count * Last Message * Last StackTrace * Last Occurence Time This will give more visibility into uncaught exceptions allowing operators to easily find unexpected issues that can be hidden in logs.","output":"Add virtual table to expose last N uncaught exceptions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions\n\nUPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, need to support multiple partitions within a single mutation.","output":"Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions\n\nUPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, need to support multiple partitions within a single mutation.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions\n\nUPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, need to support multiple partitions within a single mutation.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions\n\nUPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, need to support multiple partitions within a single mutation.","output":"UPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, need to support multiple partitions within a single mutation."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions\n\nUPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, need to support multiple partitions within a single mutation.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions\n\nUPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, n\n\nConversation:\nuser: +1 in GH","output":"+1 in GH"}
{"instruction":"Extract key technical details from this issue:","input":"UPDATE and DELETE are both able to update multiple partitions, but these queries would fail when using in BEGIN TRANSACTION as it assumed single partition only. To better support all CQL operations, need to support multiple partitions within a single mutation.","output":"Add support for BEGIN TRANSACTION to allow mutations that touch multiple partitions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"system_views.settings exposes encryption and TDE passwords in plaintext over CQL\n\nSelecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.settings}} can read these secrets. {code:java} cqlsh:system_views> select * from settings where name = 'client_encryption_options.truststore_password'; name | value -----------------------------------------------+---------- client_encryption_options.truststore_password | changeit (1 rows) cqlsh:system_views> select * from settings where name = 'client_encryption_options.keystore_password'; name | value ---------------------------------------------+---------- client_encryption_options.keystore_password | changeit (1 rows) cqlsh:system_views> select * from settings where name = 'server_encryption_options.truststore_password'; name | value -----------------------------------------------+---------- server_encryption_options.truststore_password | changeit (1 rows) cqlsh:system_views> select * from settings where name = 'server_encryption_options.keystore_password'; name | value ---------------------------------------------+---------- server_encryption_options.keystore_password | changeit (1 rows) cqlsh:system_views> select * from system_views.settings where name = 'transparent_data_encryption_options.key_provider.parameters'; name | value -------------------------------------------------------------+-------------------------------------------------------------------------------------------------- transparent_data_encryption_options.key_provider.parameters | {keystore_password=cassandra, keystore=conf/.keystore, store_type=JCEKS, key_password=cassandra} {code} Passwords and secrets should be handled as a special case and not exposed in plain text in any of the virtual tables. Observed in 4.1.x and 5.0.x","output":"system_views.settings exposes encryption and TDE passwords in plaintext over CQL"}
{"instruction":"Classify the status of this issue based on its description:","input":"system_views.settings exposes encryption and TDE passwords in plaintext over CQL\n\nSelecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.settings}} can read these secrets. {code:java} cqlsh:system_views> select * from settings where name = 'client_encryption_options.truststore_password'; name | value -----------------------------------------------+---------- client_encryption_options.truststore_password | changeit (1 rows) cqlsh:system","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"system_views.settings exposes encryption and TDE passwords in plaintext over CQL\n\nSelecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.settings}} can read these secrets. {code:java} cqlsh:system_views> select * from settings where name = 'client_encryption_options.truststore_password'; name | value -----------------------------------------------+---------- client_encryption_options.truststore_password | changeit (1 rows) cqlsh:system","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: system_views.settings exposes encryption and TDE passwords in plaintext over CQL\n\nSelecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.settings}} can read these secrets. {code:java} cqlsh:system_views> select * from settings where name = 'client_encryption_options.truststore_password'; name | value -----------------------------------------------+---------- client_encryption_options.truststore_password | changeit (1 rows) cqlsh:system","output":"Selecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.settings}} can read these secrets. {code:java} cqlsh:system_views> select * from settings where name ="}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"system_views.settings exposes encryption and TDE passwords in plaintext over CQL\n\nSelecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.settings}} can read these secrets. {code:java} cqlsh:system_views> select * from settings where name = 'client_encryption_options.truststore_password'; name | value -----------------------------------------------+---------- client_encryption_options.truststore_password | changeit (1 rows) cqlsh:system","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"system_views.settings exposes encryption and TDE passwords in plaintext over CQL\n\nSelecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.se\n\nConversation:\nuser: Good catch; we should completely obscure encryption related settings in the system_view.settings like we do in the logs: {noformat} .. client_encryption_options= .. {noformat} https://github.com/apache/cassandra/blob/12dcb130f783e7cc16401f2134766aeab3268a38/src/java/org/apache/cassandra/config/Confi\nassistant: what about using dynamic data masking on these columns ? only these users that have been grant the privileged can read the data ,otherwise masking data will be return . cc adelapena\nassistant: If a user with the CQL superuser privileges can undo the DDM, then DDM cannot be used as the solution.\nassistant: it all depends on how you implement it . it can only be used for virtual table\nassistant: are not only superusers allowed to see this table?","output":"Resolving this, will return to 4.1.x fix version and I ll bump it to 4.1.11 when 4.1.10 which is currently being released is out and we have new version in JIRA."}
{"instruction":"Extract key technical details from this issue:","input":"Selecting from the virtual table {{system_views.settings}} shows the property values cassandra.yaml faithfully, including the ones that contain passwords. Any user with {{SELECT}} on {{system_views.settings}} can read these secrets. {code:java} cqlsh:system_views> select * from settings where name = 'client_encryption_options.truststore_password'; name | value -----------------------------------------------+---------- client_encryption_options.truststore_password | changeit (1 rows) cqlsh:system_views> select * from settings where name = 'client_encryption_options.keystore_password'; name | value ---------------------------------------------+---------- client_encryption_options.keystore_password | changeit (1 rows) cqlsh:system_views> select * from settings where name = 'server_encryption_","output":"system_views.settings exposes encryption and TDE passwords in plaintext over CQL"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key\n\nIn some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big Partitioner: org.apache.cassandra.dht.Murmur3Partitioner Bloom Filter FP chance: 0.1 Minimum timestamp: 1755556756403000 (08/18/2025 18:39:16) Maximum timestamp: 1755776375237088 (08/21/2025 07:39:35) SSTable min local deletion time: 1755774034 (08/21/2025 07:00:34) SSTable max local deletion time: 2147483647 (no tombstones) Compressor: org.apache.cassandra.io.compress.LZ4Compressor Compression ratio: 0.3084167695600824 TTL min: 0 TTL max: 5263998 (60 days 22 hours 13 minutes 18 seconds) First token: -9218140013640741760 (1:5129229) Last token: 9191231194481845151 (1:971548616326) Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index: 1, Size: 1 at java.util.ArrayList.rangeCheck(ArrayList.java:659) at java.util.ArrayList.get(ArrayList.java:435) at org.apache.cassandra.tools.SSTableMetadataViewer.printSStableMetadata(SSTableMetadataViewer.java:369) at org.apache.cassandra.tools.SSTableMetadataViewer.main(SSTableMetadataViewer.java:548) {code} In this logic we have an implicit assumption that number of values in maxClusteringValues is always the same as for minClusteringValues but it is not true. For example, when we have a range tombstone: {code} List > clusteringTypes = header.getClusteringTypes(); List minClusteringValues = stats.minClusteringValues; List maxClusteringValues = stats.maxClusteringValues; String[] minValues = new String[clusteringTypes.size()]; String[] maxValues = new String[clusteringTypes.size()]; for (int i = 0; i < clusteringTypes.size(); i++) { minValues[i] = clusteringTypes.get(i).getString(minClusteringValues.get(i)); maxValues[i] = clusteringTypes.get(i).getString(maxClusteringValues.get(i)); // issue is here <========== } field(\"minClusteringValues\", Arrays.toString(minValues)); field(\"maxClusteringValues\", Arrays.toString(maxValues)); {code}","output":"sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key"}
{"instruction":"Classify the status of this issue based on its description:","input":"sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key\n\nIn some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big Partitioner: org.apache.cassandra.dht.Murmur3Partitioner Bloom Filter FP chance: 0.1 Minimum timestamp: 1755556756403000 (08/18/2025 18:39:16) Maximum timestamp: 1755776375237088 (08/21/2025 07:39:35) SSTable min local deletion time: 1755774034 (08/2","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key\n\nIn some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big Partitioner: org.apache.cassandra.dht.Murmur3Partitioner Bloom Filter FP chance: 0.1 Minimum timestamp: 1755556756403000 (08/18/2025 18:39:16) Maximum timestamp: 1755776375237088 (08/21/2025 07:39:35) SSTable min local deletion time: 1755774034 (08/2","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key\n\nIn some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big Partitioner: org.apache.cassandra.dht.Murmur3Partitioner Bloom Filter FP chance: 0.1 Minimum timestamp: 1755556756403000 (08/18/2025 18:39:16) Maximum timestamp: 1755776375237088 (08/21/2025 07:39:35) SSTable min local deletion time: 1755774034 (08/2","output":"In some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big Partitioner: org.apache.cassandra.dht.Murmur3Parti"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key\n\nIn some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big Partitioner: org.apache.cassandra.dht.Murmur3Partitioner Bloom Filter FP chance: 0.1 Minimum timestamp: 1755556756403000 (08/18/2025 18:39:16) Maximum timestamp: 1755776375237088 (08/21/2025 07:39:35) SSTable min local deletion time: 1755774034 (08/2","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key\n\nIn some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspac\n\nConversation:\nuser: Need to check but I suppose it is only 4.x issue because since 5.0 we have another logic in this area, introduced in CASSANDRA-18134\nassistant: Checked for 5.0 - it is not affected\nassistant: There is SSTableMetadataViewerTest we might add a test into which tests this. For the sake of the test it would be probably way more comfortable to create a tiny SSTable and commit it to test resources and then read it by that test instead of trying to construct that SSTable in a test directly (even\nassistant: yep, it is the main reason why the status is still in progress, a test is remaining (and the most time consuming :) ) part to add.\nassistant: I've added a test for the use case, a test SSTable is committed (to make the test faster) as well as the logic used to generate it","output":"+1"}
{"instruction":"Extract key technical details from this issue:","input":"In some cases we may get IndexOutOfBoundsException: {code} ./tools/bin/sstablemetadata /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big-Data.db SSTable: /cassandra/data/keyspace/table-1707f6907c6e11f0b1fabf128b8d57a9/nb-5-big Partitioner: org.apache.cassandra.dht.Murmur3Partitioner Bloom Filter FP chance: 0.1 Minimum timestamp: 1755556756403000 (08/18/2025 18:39:16) Maximum timestamp: 1755776375237088 (08/21/2025 07:39:35) SSTable min local deletion time: 1755774034 (08/21/2025 07:00:34) SSTable max local deletion time: 2147483647 (no tombstones) Compressor: org.apache.cassandra.io.compress.LZ4Compressor Compression ratio: 0.3084167695600824 TTL min: 0 TTL max: 5263998 (60 days 22 hours 13 minutes 18 seconds) First token: -9218140013640741760 (1:5129229) Last token:","output":"sstablemetadata throws IndexOutOfBoundsException if maxClustering is not a full clustering key"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support low-overhead async profiling via JMX/Nodetool with the async-profiler library\n\nThe https://github.com/async-profiler/async-profiler library is commonly used by the community to run low-overhead profiling on Cassandra processes due to its effectiveness and versatility. Following the discussion on https://lists.apache.org/thread/98y59qp42zwwrtbcvnzvlh254c5vyhoq this library would be a great tool to integrate directly into Cassandra and expose via JMX accompanied by a convenient `nodetool profile` command.","output":"Support low-overhead async profiling via JMX/Nodetool with the async-profiler library"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support low-overhead async profiling via JMX/Nodetool with the async-profiler library\n\nThe https://github.com/async-profiler/async-profiler library is commonly used by the community to run low-overhead profiling on Cassandra processes due to its effectiveness and versatility. Following the discussion on https://lists.apache.org/thread/98y59qp42zwwrtbcvnzvlh254c5vyhoq this library would be a great tool to integrate directly into Cassandra and expose via JMX accompanied by a convenient `nodetool profile` command.","output":"Changes Suggested"}
{"instruction":"Determine the priority level of this issue:","input":"Support low-overhead async profiling via JMX/Nodetool with the async-profiler library\n\nThe https://github.com/async-profiler/async-profiler library is commonly used by the community to run low-overhead profiling on Cassandra processes due to its effectiveness and versatility. Following the discussion on https://lists.apache.org/thread/98y59qp42zwwrtbcvnzvlh254c5vyhoq this library would be a great tool to integrate directly into Cassandra and expose via JMX accompanied by a convenient `nodetool profile` command.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support low-overhead async profiling via JMX/Nodetool with the async-profiler library\n\nThe https://github.com/async-profiler/async-profiler library is commonly used by the community to run low-overhead profiling on Cassandra processes due to its effectiveness and versatility. Following the discussion on https://lists.apache.org/thread/98y59qp42zwwrtbcvnzvlh254c5vyhoq this library would be a great tool to integrate directly into Cassandra and expose via JMX accompanied by a convenient `nodetool profile` command.","output":"The https://github.com/async-profiler/async-profiler library is commonly used by the community to run low-overhead profiling on Cassandra processes due to its effectiveness and versatility. Following the discussion on https://lists.apache.org/thread/98y59qp42zwwrtbcvnzvlh254c5vyhoq this library woul"}
{"instruction":"Continue the conversation about this technical issue:","input":"Support low-overhead async profiling via JMX/Nodetool with the async-profiler library\n\nThe https://github.com/async-profiler/async-profiler library is commonly used by the community to run low-overhead profiling on Cassandra processes due to its effectiveness and versatility. Following \n\nConversation:\nuser: Opened PR for initial review - [https://github.com/apache/cassandra/pull/4255] Tagging drohrer, paulo, and yifanc for visibility\nassistant: Looking good so far, added some comments in the PR.","output":"Looking good so far, added some comments in the PR."}
{"instruction":"Extract key technical details from this issue:","input":"The https://github.com/async-profiler/async-profiler library is commonly used by the community to run low-overhead profiling on Cassandra processes due to its effectiveness and versatility. Following the discussion on https://lists.apache.org/thread/98y59qp42zwwrtbcvnzvlh254c5vyhoq this library would be a great tool to integrate directly into Cassandra and expose via JMX accompanied by a convenient `nodetool profile` command.","output":"Support low-overhead async profiling via JMX/Nodetool with the async-profiler library"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Backport to pre-5.0 branches where we actually have JDK8\n\nThe below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/build.xml#L222-L229 Someone hit that issue today with JDK8 and cassandra-4.0 on a non-intel Mac. Considering that cassandra-4.0 and cassandra-4.1 are still maintained, I do not see a reason not to backport this non-controversial change.","output":"Backport to pre-5.0 branches where we actually have JDK8"}
{"instruction":"Classify the status of this issue based on its description:","input":"Backport to pre-5.0 branches where we actually have JDK8\n\nThe below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/build.xml#L222-L229 Someone hit that issue today with JDK8 and cassandra-4.0 on a non-intel Mac. Considering that cassandra-4.0 and cassandra-4.1 are still maintained, I do not see a reason not to backport this non-controversial change.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Backport to pre-5.0 branches where we actually have JDK8\n\nThe below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/build.xml#L222-L229 Someone hit that issue today with JDK8 and cassandra-4.0 on a non-intel Mac. Considering that cassandra-4.0 and cassandra-4.1 are still maintained, I do not see a reason not to backport this non-controversial change.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Backport to pre-5.0 branches where we actually have JDK8\n\nThe below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/build.xml#L222-L229 Someone hit that issue today with JDK8 and cassandra-4.0 on a non-intel Mac. Considering that cassandra-4.0 and cassandra-4.1 are still maintained, I do not see a reason not to backport this non-controversial change.","output":"The below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/build.xml#L222-L229 Someone hit that issue today with JDK8 and cassandra-4.0 on a non-intel Mac. Con"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Backport to pre-5.0 branches where we actually have JDK8\n\nThe below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/build.xml#L222-L229 Someone hit that issue today with JDK8 and cassandra-4.0 on a non-intel Mac. Considering that cassandra-4.0 and cassandra-4.1 are still maintained, I do not see a reason not to backport this non-controversial change.","output":"Won't Fix"}
{"instruction":"Continue the conversation about this technical issue:","input":"Backport to pre-5.0 branches where we actually have JDK8\n\nThe below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/\n\nConversation:\nuser: It seems like we will have to modify our scripts to navigate around the jvm-server.options file... I guess it is not worth it on an old released version. Even if we do, I realized we also need a JNA bump to make these C* versions start on Mac, and we already opted out of that. Closing the ticket as ","output":"It seems like we will have to modify our scripts to navigate around the jvm-server.options file... I guess it is not worth it on an old released version. Even if we do, I realized we also need a JNA bump to make these C* versions start on Mac, and we already opted out of that. Closing the ticket as "}
{"instruction":"Extract key technical details from this issue:","input":"The below was added to build.xml for people on arm. The comment points to JDK8, which was also dropped in 5.0, so maybe we don't even need it. - https://github.com/apache/cassandra/blob/cassandra-5.0/build.xml#L222-L229 Someone hit that issue today with JDK8 and cassandra-4.0 on a non-intel Mac. Considering that cassandra-4.0 and cassandra-4.1 are still maintained, I do not see a reason not to backport this non-controversial change.","output":"Backport to pre-5.0 branches where we actually have JDK8"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improving CONTRIBUTING.md for new contributors\n\nFleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc.","output":"Improving CONTRIBUTING.md for new contributors"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improving CONTRIBUTING.md for new contributors\n\nFleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Improving CONTRIBUTING.md for new contributors\n\nFleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improving CONTRIBUTING.md for new contributors\n\nFleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc.","output":"Fleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Improving CONTRIBUTING.md for new contributors\n\nFleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Improving CONTRIBUTING.md for new contributors\n\nFleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc.\n\nConversation:\nuser: PR for initial edits: https://github.com/apache/cassandra/pull/4327\nassistant: Revised PR per feedback: A little more wording on workflow being a recommendation, added step to fork the repo, provided info about related projects: https://github.com/apache/cassandra/pull/4327/files\nassistant: +1\nassistant: mick has approved the pr, I am going to merge it.\nassistant: maxwellguo are you going to merge?","output":"committed as eeb227be2f8d27392fe56e7818d5284e6f24e885"}
{"instruction":"Extract key technical details from this issue:","input":"Fleshing out CONTRIBUTING.md a bit to (A) Make it more welcoming to new contributors, (B) Provide pointers to key website documentation on development, testing, code style, etc.","output":"Improving CONTRIBUTING.md for new contributors"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Implement nodetool history command\n\nThere is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file and inspect it manually which is not comfortable.","output":"Implement nodetool history command"}
{"instruction":"Classify the status of this issue based on its description:","input":"Implement nodetool history command\n\nThere is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file and inspect it manually which is not comfortable.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Implement nodetool history command\n\nThere is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file and inspect it manually which is not comfortable.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Implement nodetool history command\n\nThere is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file and inspect it manually which is not comfortable.","output":"There is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file and inspect it manually which is not comfortable."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Implement nodetool history command\n\nThere is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file and inspect it manually which is not comfortable.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Implement nodetool history command\n\nThere is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file an\n\nConversation:\nuser: I have been trying to do something \"smart\" as reading from the end of the file etc. but performance wise it was actually worse when number of commands to print is cca equal to number of lines in history file. What I measured, it was not significantly faster on default output either (processing last \nassistant: +1 thank you for the patch!\nassistant: CI [https://pre-ci.cassandra.apache.org/job/cassandra/79/#showFailuresLink] the failing test was fixed locally, no reason to run CI again and burn credits.","output":"CI [https://pre-ci.cassandra.apache.org/job/cassandra/79/#showFailuresLink] the failing test was fixed locally, no reason to run CI again and burn credits."}
{"instruction":"Extract key technical details from this issue:","input":"There is already history file with all previous commands in `~/.cassandra/nodetool.history` but there is no corresponding nodetool command which would display it. A user just has to go to that file and inspect it manually which is not comfortable.","output":"Implement nodetool history command"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"List of PMC members on website is outdated\n\nThe https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names.","output":"List of PMC members on website is outdated"}
{"instruction":"Classify the status of this issue based on its description:","input":"List of PMC members on website is outdated\n\nThe https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"List of PMC members on website is outdated\n\nThe https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: List of PMC members on website is outdated\n\nThe https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names.","output":"The https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"List of PMC members on website is outdated\n\nThe https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"List of PMC members on website is outdated\n\nThe https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names.\n\nConversation:\nuser: should we just point to the automated asf page ? https://projects.apache.org/committee.html?cassandra\nassistant: I'm not that strongly opinionated, but other projects (e.g., https://spark.apache.org/committers.html, https://hbase.apache.org/team.html) maintain separate pages instead of pointing to the automated one so I've opened a PR updating it within the current framework.\nassistant: +1 to point to ASF automated page since that is auto-updated and also include committers - or somehow fetch it from there automatically. I think it's a bit elitist to mention only PMC members in the community page.\nassistant: Fine by me. Will update my PR to replace the static list with a button to the Committee page.\nassistant: Updated PR and built locally: !image-2025-08-19-10-52-25-512.png!","output":"live."}
{"instruction":"Extract key technical details from this issue:","input":"The https://cassandra.apache.org/_/community.html#meet-the-community hasn't been updated in 4 years and so is missing 11 names.","output":"List of PMC members on website is outdated"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"commons-lang vulnerability: CVE-2025-48924\n\n[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.6, and, from org.apache.commons:commons-lang3 3.0 before 3.18.0.","output":"commons-lang vulnerability: CVE-2025-48924"}
{"instruction":"Classify the status of this issue based on its description:","input":"commons-lang vulnerability: CVE-2025-48924\n\n[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.6, and, from org.apache.commons:commons-lang3 3.0 before 3.18.0.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"commons-lang vulnerability: CVE-2025-48924\n\n[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.6, and, from org.apache.commons:commons-lang3 3.0 before 3.18.0.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: commons-lang vulnerability: CVE-2025-48924\n\n[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.6, and, from org.apache.commons:commons-lang3 3.0 before 3.18.0.","output":"[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.6, and, from org.apache.commons:commons-lang3 3.0 before 3.18.0."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"commons-lang vulnerability: CVE-2025-48924\n\n[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.6, and, from org.apache.commons:commons-lang3 3.0 before 3.18.0.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"commons-lang vulnerability: CVE-2025-48924\n\n[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.\n\nConversation:\nuser: https://github.com/instaclustr/cassandra/tree/CASSANDRA-20848-20849-4.0 {noformat} java11_pre-commit_tests ✓ j11_build 2m 23s ✓ j11_cqlsh-dtests-py2-no-vnodes 5m 28s ✓ j11_cqlsh-dtests-py2-with-vnodes 5m 16s ✓ j11_cqlsh_dtests_py3 5m 44s ✓ j11_cqlsh_dtests_py311 5m 30s ✓ j11_cqlsh_dtests_py311_vnode\nassistant: all test results are included in CASSANDRA-20848","output":"all test results are included in CASSANDRA-20848"}
{"instruction":"Extract key technical details from this issue:","input":"[https://nvd.nist.gov/vuln/detail/CVE-2025-48924] Uncontrolled Recursion vulnerability in Apache Commons Lang. This issue affects Apache Commons Lang: Starting with commons-lang:commons-lang 2.0 to 2.6, and, from org.apache.commons:commons-lang3 3.0 before 3.18.0.","output":"commons-lang vulnerability: CVE-2025-48924"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"jackson-core vulnerability: CVE-2025-52999\n\nhttps://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.15.0, if a user parses an input file and it has deeply nested data, Jackson could end up throwing a StackoverflowError if the depth is particularly large.","output":"jackson-core vulnerability: CVE-2025-52999"}
{"instruction":"Classify the status of this issue based on its description:","input":"jackson-core vulnerability: CVE-2025-52999\n\nhttps://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.15.0, if a user parses an input file and it has deeply nested data, Jackson could end up throwing a StackoverflowError if the depth is particularly large.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"jackson-core vulnerability: CVE-2025-52999\n\nhttps://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.15.0, if a user parses an input file and it has deeply nested data, Jackson could end up throwing a StackoverflowError if the depth is particularly large.","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: jackson-core vulnerability: CVE-2025-52999\n\nhttps://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.15.0, if a user parses an input file and it has deeply nested data, Jackson could end up throwing a StackoverflowError if the depth is particularly large.","output":"https://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.15.0, if a user parses an input file and it has deeply nested data, Jackson could end up throwing a "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"jackson-core vulnerability: CVE-2025-52999\n\nhttps://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.15.0, if a user parses an input file and it has deeply nested data, Jackson could end up throwing a StackoverflowError if the depth is particularly large.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"jackson-core vulnerability: CVE-2025-52999\n\nhttps://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.\n\nConversation:\nuser: https://github.com/instaclustr/cassandra/tree/CASSANDRA-20848-20849-4.0 {noformat} java11_pre-commit_tests ✓ j11_build 2m 23s ✓ j11_cqlsh-dtests-py2-no-vnodes 5m 28s ✓ j11_cqlsh-dtests-py2-with-vnodes 5m 16s ✓ j11_cqlsh_dtests_py3 5m 44s ✓ j11_cqlsh_dtests_py311 5m 30s ✓ j11_cqlsh_dtests_py311_vnode\nassistant: The error is of this nature: {code} org.apache.cassandra.config.ConfigCompatibilityTest diff_5_0 java.lang.NoSuchMethodError: 'void org.yaml.snakeyaml.parser.ParserImpl. (org.yaml.snakeyaml.reader.StreamReader, org.yaml.snakeyaml.LoaderOptions)' at com.fasterxml.jackson.dataformat.yaml.YAMLParser. (\nassistant: https://github.com/instaclustr/cassandra/tree/CASSANDRA-20848-20849-4.1 {noformat} java11_pre-commit_tests ✓ j11_build 2m 47s ✓ j11_cqlsh_dtests_py311 5m 40s ✓ j11_cqlshlib_cython_tests 11m 20s ✓ j11_cqlshlib_tests 7m 33s ✓ j11_dtests_vnode 40m 12s ✓ j11_jvm_dtests 14m 25s ✓ j11_jvm_dtests_vnode 12m\nassistant: https://github.com/apache/cassandra/pull/4335 https://github.com/apache/cassandra/pull/4336 https://github.com/apache/cassandra/pull/4337 https://github.com/apache/cassandra/pull/4338\nassistant: +1","output":"+1"}
{"instruction":"Extract key technical details from this issue:","input":"https://nvd.nist.gov/vuln/detail/CVE-2025-52999 jackson-core contains core low-level incremental (\"streaming\") parser and generator abstractions used by Jackson Data Processor. In versions prior to 2.15.0, if a user parses an input file and it has deeply nested data, Jackson could end up throwing a StackoverflowError if the depth is particularly large.","output":"jackson-core vulnerability: CVE-2025-52999"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Accord fixes\n\nAccord fixes: - Fix erroneous call to registerWithDelay with absolute deadline - ExecuteSyncPoint should discount votes from unbootstrapped replicas - Bootstrap no longer needs to first ensure durability (now ExecuteSyncPoint discounts votes from unbootstrapped replicas) - Progress stall with home shard stopping before Stable is propagated to all shards - Only upgrade Durability.HasPhase if we have queried all shards - Incorrectly inferring Durability in CheckStatus.finish - Incorrectly inferring/propagating stable from fast unstable reply; clarify to prevent further mistakes - MaxDecidedRX should track separate hlc bounds for filtering non-RX dependencies - minGcBefore.hlc() can move backwards across epochs, even if each shard moves forwards; must track minHlc directly - TxnId.parse for RV Also improve: - Don't query recovery state if fast path durably decided - Support deferred partial dep deserialisation - Support both orientations of KeyDeps/RangeDeps - Support partialDeps as ByteBuffer - Don't inflate when reading from cache for CommandsForRanges - Improve Deps serialization and Journal skipping","output":"Accord fixes"}
{"instruction":"Classify the status of this issue based on its description:","input":"Accord fixes\n\nAccord fixes: - Fix erroneous call to registerWithDelay with absolute deadline - ExecuteSyncPoint should discount votes from unbootstrapped replicas - Bootstrap no longer needs to first ensure durability (now ExecuteSyncPoint discounts votes from unbootstrapped replicas) - Progress stall with home shard stopping before Stable is propagated to all shards - Only upgrade Durability.HasPhase if we have queried all shards - Incorrectly inferring Durability in CheckStatus.finish - Incorrectly inferrin","output":"Triage Needed"}
{"instruction":"Determine the priority level of this issue:","input":"Accord fixes\n\nAccord fixes: - Fix erroneous call to registerWithDelay with absolute deadline - ExecuteSyncPoint should discount votes from unbootstrapped replicas - Bootstrap no longer needs to first ensure durability (now ExecuteSyncPoint discounts votes from unbootstrapped replicas) - Progress stall with home shard stopping before Stable is propagated to all shards - Only upgrade Durability.HasPhase if we have queried all shards - Incorrectly inferring Durability in CheckStatus.finish - Incorrectly inferrin","output":"Normal"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Accord fixes\n\nAccord fixes: - Fix erroneous call to registerWithDelay with absolute deadline - ExecuteSyncPoint should discount votes from unbootstrapped replicas - Bootstrap no longer needs to first ensure durability (now ExecuteSyncPoint discounts votes from unbootstrapped replicas) - Progress stall with home shard stopping before Stable is propagated to all shards - Only upgrade Durability.HasPhase if we have queried all shards - Incorrectly inferring Durability in CheckStatus.finish - Incorrectly inferrin","output":"Accord fixes: - Fix erroneous call to registerWithDelay with absolute deadline - ExecuteSyncPoint should discount votes from unbootstrapped replicas - Bootstrap no longer needs to first ensure durability (now ExecuteSyncPoint discounts votes from unbootstrapped replicas) - Progress stall with home s"}
{"instruction":"Extract key technical details from this issue:","input":"Accord fixes: - Fix erroneous call to registerWithDelay with absolute deadline - ExecuteSyncPoint should discount votes from unbootstrapped replicas - Bootstrap no longer needs to first ensure durability (now ExecuteSyncPoint discounts votes from unbootstrapped replicas) - Progress stall with home shard stopping before Stable is propagated to all shards - Only upgrade Durability.HasPhase if we have queried all shards - Incorrectly inferring Durability in CheckStatus.finish - Incorrectly inferring/propagating stable from fast unstable reply; clarify to prevent further mistakes - MaxDecidedRX should track separate hlc bounds for filtering non-RX dependencies - minGcBefore.hlc() can move backwards across epochs, even if each shard moves forwards; must track minHlc directly - TxnId.parse for R","output":"Accord fixes"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: Support for new auth type: User-bound SAS\n\nAdding support for new authentication type: user bound SAS","output":"ABFS: Support for new auth type: User-bound SAS"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: Support for new auth type: User-bound SAS\n\nAdding support for new authentication type: user bound SAS","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: Support for new auth type: User-bound SAS\n\nAdding support for new authentication type: user bound SAS","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: Support for new auth type: User-bound SAS\n\nAdding support for new authentication type: user bound SAS","output":"Adding support for new authentication type: user bound SAS"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: Support for new auth type: User-bound SAS\n\nAdding support for new authentication type: user bound SAS\n\nConversation:\nuser: manika137 opened a new pull request, #8051: URL: https://github.com/apache/hadoop/pull/8051 ### Description of PR Adding support for new authentication type: user bound SAS ### How was this patch tested? Test suite will be run for the patch\nassistant: hadoop-yetus commented on PR #8051: URL: https://github.com/apache/hadoop/pull/8051#issuecomment-3442714485 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 20m 52s | | Docker mode activated. | |\nassistant: hadoop-yetus commented on PR #8051: URL: https://github.com/apache/hadoop/pull/8051#issuecomment-3454395745 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -\nassistant: hadoop-yetus commented on PR #8051: URL: https://github.com/apache/hadoop/pull/8051#issuecomment-3454455082 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -\nassistant: hadoop-yetus commented on PR #8051: URL: https://github.com/apache/hadoop/pull/8051#issuecomment-3454654532 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -","output":"anmolanmol1234 commented on code in PR #8051: URL: https://github.com/apache/hadoop/pull/8051#discussion_r2481350011 ########## hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azurebfs/extensions/MockUserBoundSASTokenProvider.java: ########## @@ -0,0 +1,166 @@ +/** + * Licensed to the A"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: Adding request priority for prefetches\n\nAdding low traffic request priority (behind a config flag) for prefetches to reduce load on server during throttling","output":"ABFS: Adding request priority for prefetches"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: Adding request priority for prefetches\n\nAdding low traffic request priority (behind a config flag) for prefetches to reduce load on server during throttling","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: Adding request priority for prefetches\n\nAdding low traffic request priority (behind a config flag) for prefetches to reduce load on server during throttling","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: Adding request priority for prefetches\n\nAdding low traffic request priority (behind a config flag) for prefetches to reduce load on server during throttling","output":"Adding low traffic request priority (behind a config flag) for prefetches to reduce load on server during throttling"}
{"instruction":"Extract key technical details from this issue:","input":"Adding low traffic request priority (behind a config flag) for prefetches to reduce load on server during throttling","output":"ABFS: Adding request priority for prefetches"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\"\n\nExperienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90s later *and* a \"hadoop s3guards uploads\" call listed the outstanding uploads of the failing tests. Hypothesis: a transient failure meant the server receiving the POST calls to complete the uploads was mistakenly reporting no upload IDs. Outcome: all active write operations failed, without any retry attempts. This can lose data and fail jobs, even though the store may recover. Proposed. The multipart uploads, especially block output stream, retry on this error; treat it as a connectivity issue.","output":"S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\""}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\"\n\nExperienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90s later *and* a \"hadoop s3guards uploads\" call listed the outstanding uploads of the failing tests. Hypothesis: a transient failure meant the server receiving the POST calls to complete the uploads was mistakenly reporting no upload IDs. Outcome: all active write operations failed, without any retry","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\"\n\nExperienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90s later *and* a \"hadoop s3guards uploads\" call listed the outstanding uploads of the failing tests. Hypothesis: a transient failure meant the server receiving the POST calls to complete the uploads was mistakenly reporting no upload IDs. Outcome: all active write operations failed, without any retry","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\"\n\nExperienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90s later *and* a \"hadoop s3guards uploads\" call listed the outstanding uploads of the failing tests. Hypothesis: a transient failure meant the server receiving the POST calls to complete the uploads was mistakenly reporting no upload IDs. Outcome: all active write operations failed, without any retry","output":"Experienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90s later *and* a \"hadoop s3guards uploads\" call listed the outstanding uploads of the failing tests. "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\"\n\nExperienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90s later *and* a \"hadoop s3guards uploads\" call listed the outstanding uploads of the failing tests. Hypothesis: a transient failure meant the server receiving the POST calls to complete the uploads was mistakenly reporting no upload IDs. Outcome: all active write operations failed, without any retry","output":"Invalid"}
{"instruction":"Continue the conversation about this technical issue:","input":"S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\"\n\nExperienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90\n\nConversation:\nuser: {code} [ERROR] ITestS3AHugeMagicCommits.test_030_postCreationAssertions:192 » AWSBadRequest Completing multipart upload on job-00/test/tests3ascale/ITestS3AHugeMagicCommits/commit/commit.bin: software.amazon.awssdk.services.s3.model.S3Exception: One or more of the specified parts could not be found.\nassistant: And stack on a write failure. {code} [ERROR] org.apache.hadoop.fs.s3a.scale.ITestS3AHugeFilesArrayBlocks.test_010_CreateHugeFile -- Time elapsed: 2.870 s <<< ERROR! org.apache.hadoop.fs.s3a.AWSBadRequestException: Completing multipart upload on job-00/test/tests3ascale/array/src/hugefile: software.a\nassistant: + any tracking in block output stream should record when the POST to initiate the MPU was issued. That way if an error still surfaces but the output stream has been open for three days, we have a good cause \"stream open too long\"\nassistant: this is actually me making a mess of checksum config if the sdk checksum clalculation is set to \"always\" then the user MUST choose a checksum algorithm for s3 uploads (proposed: CRC32). I\"m going to leave checksum calculation off by default for performance and compatibility","output":"this is actually me making a mess of checksum config if the sdk checksum clalculation is set to \"always\" then the user MUST choose a checksum algorithm for s3 uploads (proposed: CRC32). I\"m going to leave checksum calculation off by default for performance and compatibility"}
{"instruction":"Extract key technical details from this issue:","input":"Experienced transient failure in test run of https://github.com/apache/hadoop/pull/7882 : all MPU complete posts failed because the request or parts were not found...the tests started succeeding 60-90s later *and* a \"hadoop s3guards uploads\" call listed the outstanding uploads of the failing tests. Hypothesis: a transient failure meant the server receiving the POST calls to complete the uploads was mistakenly reporting no upload IDs. Outcome: all active write operations failed, without any retry attempts. This can lose data and fail jobs, even though the store may recover. Proposed. The multipart uploads, especially block output stream, retry on this error; treat it as a connectivity issue.","output":"S3A: retry on MPU completion failure \"One or more of the specified parts could not be found\""}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"S3A: Credentials provider classes not found despite setting `fs.s3a.classloader.isolation` to `false`\n\nHADOOP-18993 added the option `fs.s3a.classloader.isolation` to support, for example, a Spark job using an AWS credentials provider class that is bundled into the Spark job JAR. In testing this, the AWS credentials provider classes are still not found. I think the cause is: * `fs.s3a.classloader.isolation` is implemented by setting (or not setting) a classloader on the `Configuration` * However, code paths to load AWS credential provider call `S3AUtils.getInstanceFromReflection`, which uses the classloader that loaded the S3AUtils class. That's likely to be the built-in application classloader, which won't be able to load classes in a Spark job JAR. And the fix seems small: * Change `S3AUtils.getInstanceFromReflection` to load classes using the `Configuration`'s classloader. Luckily we already have the Configuration in this method.","output":"S3A: Credentials provider classes not found despite setting `fs.s3a.classloader.isolation` to `false`"}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A: Credentials provider classes not found despite setting `fs.s3a.classloader.isolation` to `false`\n\nHADOOP-18993 added the option `fs.s3a.classloader.isolation` to support, for example, a Spark job using an AWS credentials provider class that is bundled into the Spark job JAR. In testing this, the AWS credentials provider classes are still not found. I think the cause is: * `fs.s3a.classloader.isolation` is implemented by setting (or not setting) a classloader on the `Configuration` * However, code paths to load AWS credential provider call `S3AUtils.getInstanceFromReflection`, which uses the ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"S3A: Credentials provider classes not found despite setting `fs.s3a.classloader.isolation` to `false`\n\nHADOOP-18993 added the option `fs.s3a.classloader.isolation` to support, for example, a Spark job using an AWS credentials provider class that is bundled into the Spark job JAR. In testing this, the AWS credentials provider classes are still not found. I think the cause is: * `fs.s3a.classloader.isolation` is implemented by setting (or not setting) a classloader on the `Configuration` * However, code paths to load AWS credential provider call `S3AUtils.getInstanceFromReflection`, which uses the ","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A: Credentials provider classes not found despite setting `fs.s3a.classloader.isolation` to `false`\n\nHADOOP-18993 added the option `fs.s3a.classloader.isolation` to support, for example, a Spark job using an AWS credentials provider class that is bundled into the Spark job JAR. In testing this, the AWS credentials provider classes are still not found. I think the cause is: * `fs.s3a.classloader.isolation` is implemented by setting (or not setting) a classloader on the `Configuration` * However, code paths to load AWS credential provider call `S3AUtils.getInstanceFromReflection`, which uses the ","output":"HADOOP-18993 added the option `fs.s3a.classloader.isolation` to support, for example, a Spark job using an AWS credentials provider class that is bundled into the Spark job JAR. In testing this, the AWS credentials provider classes are still not found. I think the cause is: * `fs.s3a.classloader.iso"}
{"instruction":"Continue the conversation about this technical issue:","input":"S3A: Credentials provider classes not found despite setting `fs.s3a.classloader.isolation` to `false`\n\nHADOOP-18993 added the option `fs.s3a.classloader.isolation` to support, for example, a Spark job using an AWS credentials provider class that is bundled into the Spark job JAR. In testing this, the A\n\nConversation:\nuser: I haven't contributed to Hadoop or other Apache projects before, but this approachable for a first contribution. I'll open a PR.\nassistant: brandonvin opened a new pull request, #8048: URL: https://github.com/apache/hadoop/pull/8048 …lassloader ### Description of PR Follow-up to [HADOOP-18993](https://issues.apache.org/jira/browse/HADOOP-18993) and [HADOOP-19733](https://issues.apache.org/jira/browse/HADOOP-19733) before it. With `fs.s3\nassistant: brandonvin commented on code in PR #8048: URL: https://github.com/apache/hadoop/pull/8048#discussion_r2453905622 ########## hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3AFileSystemIsolatedClassloader.java: ########## @@ -77,19 +109,9 @@ private void assertInNewFilesystem(Map\nassistant: hadoop-yetus commented on PR #8048: URL: https://github.com/apache/hadoop/pull/8048#issuecomment-3435132657 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 20s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #8048: URL: https://github.com/apache/hadoop/pull/8048#issuecomment-3435205771 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 21s | | Docker mode activated. | ||","output":"brandonvin commented on code in PR #8048: URL: https://github.com/apache/hadoop/pull/8048#discussion_r2456994430 ########## hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/ITestS3AFileSystemIsolatedClassloader.java: ########## @@ -77,19 +109,9 @@ private void assertInNewFilesystem(Map"}
{"instruction":"Extract key technical details from this issue:","input":"HADOOP-18993 added the option `fs.s3a.classloader.isolation` to support, for example, a Spark job using an AWS credentials provider class that is bundled into the Spark job JAR. In testing this, the AWS credentials provider classes are still not found. I think the cause is: * `fs.s3a.classloader.isolation` is implemented by setting (or not setting) a classloader on the `Configuration` * However, code paths to load AWS credential provider call `S3AUtils.getInstanceFromReflection`, which uses the classloader that loaded the S3AUtils class. That's likely to be the built-in application classloader, which won't be able to load classes in a Spark job JAR. And the fix seems small: * Change `S3AUtils.getInstanceFromReflection` to load classes using the `Configuration`'s classloader. Luckily we alr","output":"S3A: Credentials provider classes not found despite setting `fs.s3a.classloader.isolation` to `false`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)\n\nThe delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the namenode is not acceptable to anyone. After the AD change, the new realm was updated, but some jobs are still using the old realm as users are updating them gradually. This migration process will take time, and during this period, other jobs are still catching up with the new realm configuration. However, the namenode down disrupts all of them. {code:java} ERROR org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager: ExpiredTokenRemover thread received unexpected exception java.lang.IllegalArgumentException: Illegal principal name hive/xxxxx@yyyy.COM org.apache.hadoop.security.authentication.util.KerberosName$NoMatchingRule: No rules applied to hive/xxxxx@yyyy.COM at org.apache.hadoop.security.User. (User.java:51) at org.apache.hadoop.security.User. (User.java:43) at org.apache.hadoop.security.UserGroupInformation.createRemoteUser(UserGroupInformation.java:1417) at org.apache.hadoop.security.UserGroupInformation.createRemoteUser(UserGroupInformation.java:1401) at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenIdentifier.getUser(AbstractDelegationTokenIdentifier.java:80) at org.apache.hadoop.hdfs.security.token.delegation.DelegationTokenIdentifier.getUser(DelegationTokenIdentifier.java:81) at org.apache.hadoop.hdfs.security.token.delegation.DelegationTokenIdentifier.toString(DelegationTokenIdentifier.java:91) at java.lang.String.valueOf(String.java:2994) at java.lang.StringBuilder.append(StringBuilder.java:137) at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager.formatTokenId(AbstractDelegationTokenSecretManager.java:58) at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager.logExpireTokens(AbstractDelegationTokenSecretManager.java:642) at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager.removeExpiredToken(AbstractDelegationTokenSecretManager.java:635) at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager.access$400(AbstractDelegationTokenSecretManager.java:51) at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$ExpiredTokenRemover.run(AbstractDelegationTokenSecretManager.java:694) at java.lang.Thread.run(Thread.java:750) Caused by: org.apache.hadoop.security.authentication.util.KerberosName$NoMatchingRule: No rules applied to hive/xxxxx@yyyy.COM at org.apache.hadoop.security.authentication.util.KerberosName.getShortName(KerberosName.java:429) at org.apache.hadoop.security.User. (User.java:48) ... 14 more {code}","output":"Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)\n\nThe delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the namenode is not acceptable to anyone. After the AD change, the new realm was updated, but some jobs are still using the old realm as users are updating them gradually. This migration process will take time, and during this period, other jobs are still catching up with the new realm configuration. H","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)\n\nThe delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the namenode is not acceptable to anyone. After the AD change, the new realm was updated, but some jobs are still using the old realm as users are updating them gradually. This migration process will take time, and during this period, other jobs are still catching up with the new realm configuration. H","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)\n\nThe delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the namenode is not acceptable to anyone. After the AD change, the new realm was updated, but some jobs are still using the old realm as users are updating them gradually. This migration process will take time, and during this period, other jobs are still catching up with the new realm configuration. H","output":"The delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the namenode is not acceptable to anyone. After the AD change, the new realm was updated, but some jobs"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)\n\nThe delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the namenode is not acceptable to anyone. After the AD change, the new realm was updated, but some jobs are still using the old realm as users are updating them gradually. This migration process will take time, and during this period, other jobs are still catching up with the new realm configuration. H","output":"Duplicate"}
{"instruction":"Continue the conversation about this technical issue:","input":"Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)\n\nThe delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the\n\nConversation:\nuser: looks a duplicate of HDFS-17138. kpalanisamy please set the hadoop version you saw it with. If it is a version without HDFS-17138 -please upgrade. closing as a duplicate. If it surfaces on branches with HDFS-17138, re-open\nassistant: You’re right stevel@apache.org. My user version is 3.1.1, so it is missing this HDFS-17138 fix, which clearly addresses my user scenarios. Thanks for checking so quickly. I should have checked it, but unfortunately I taken your time :)","output":"You’re right stevel@apache.org. My user version is 3.1.1, so it is missing this HDFS-17138 fix, which clearly addresses my user scenarios. Thanks for checking so quickly. I should have checked it, but unfortunately I taken your time :)"}
{"instruction":"Extract key technical details from this issue:","input":"The delegation token renewer enters runtime exit when a _NoMatchingRule_ error, which caused the entire namenode to crash. I think returning an error to the client should be fine but bringing down the namenode is not acceptable to anyone. After the AD change, the new realm was updated, but some jobs are still using the old realm as users are updating them gradually. This migration process will take time, and during this period, other jobs are still catching up with the new realm configuration. However, the namenode down disrupts all of them. {code:java} ERROR org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager: ExpiredTokenRemover thread received unexpected exception java.lang.IllegalArgumentException: Illegal principal name hive/xxxxx@yyyy.COM org.apache.hadoo","output":"Namenode Crash Due to Delegation Renewer Runtime Exit (NoMatchingRule)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix SpotBugs warnings introduced after SpotBugs version upgrade.\n\nFollowing the upgrade to SpotBugs {*}4.9.7{*}, several new warnings have emerged. We plan to address these warnings to improve code safety and maintain compatibility with the updated analysis rules.","output":"Fix SpotBugs warnings introduced after SpotBugs version upgrade."}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix SpotBugs warnings introduced after SpotBugs version upgrade.\n\nFollowing the upgrade to SpotBugs {*}4.9.7{*}, several new warnings have emerged. We plan to address these warnings to improve code safety and maintain compatibility with the updated analysis rules.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Fix SpotBugs warnings introduced after SpotBugs version upgrade.\n\nFollowing the upgrade to SpotBugs {*}4.9.7{*}, several new warnings have emerged. We plan to address these warnings to improve code safety and maintain compatibility with the updated analysis rules.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix SpotBugs warnings introduced after SpotBugs version upgrade.\n\nFollowing the upgrade to SpotBugs {*}4.9.7{*}, several new warnings have emerged. We plan to address these warnings to improve code safety and maintain compatibility with the updated analysis rules.","output":"Following the upgrade to SpotBugs {*}4.9.7{*}, several new warnings have emerged. We plan to address these warnings to improve code safety and maintain compatibility with the updated analysis rules."}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix SpotBugs warnings introduced after SpotBugs version upgrade.\n\nFollowing the upgrade to SpotBugs {*}4.9.7{*}, several new warnings have emerged. We plan to address these warnings to improve code safety and maintain compatibility with the updated analysis rules.\n\nConversation:\nuser: Hi slfan1989 Thanks for tracking this. We do have a bunch of PRs open that are facing issue reported here. What are the expectations here? Do we need to address all warnings with the PR itself or they can be ignored and taken later as part of this Jira? I think later would be better. It will help ke\nassistant: I agree with your point. We’ll work on submitting a common PR that includes a SpotBugs rule to temporarily suppress the new static analysis warnings and restore the state back to the 4.2.0 level.\nassistant: Sounds awesome. Thanks for all the efforts.\nassistant: zhtttylz opened a new pull request, #8053: URL: https://github.com/apache/hadoop/pull/8053 ### Description of PR HADOOP-19731. Fix SpotBugs warnings introduced after SpotBugs version upgrade. ### How was this patch tested? Ran `mvn -Dspotbugs.skip=false spotbugs:spotbugs` on affected modules and ver\nassistant: slfan1989 commented on PR #8053: URL: https://github.com/apache/hadoop/pull/8053#issuecomment-3470749232 @zhtttylz Thank you for following up on this issue.","output":"hadoop-yetus commented on PR #8053: URL: https://github.com/apache/hadoop/pull/8053#issuecomment-3471069512 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 29s | | Docker mode activated. | ||"}
{"instruction":"Extract key technical details from this issue:","input":"Following the upgrade to SpotBugs {*}4.9.7{*}, several new warnings have emerged. We plan to address these warnings to improve code safety and maintain compatibility with the updated analysis rules.","output":"Fix SpotBugs warnings introduced after SpotBugs version upgrade."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"upgrade bouncycastle to 1.82 due to CVE-2025-8916\n\nhttps://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago.","output":"upgrade bouncycastle to 1.82 due to CVE-2025-8916"}
{"instruction":"Classify the status of this issue based on its description:","input":"upgrade bouncycastle to 1.82 due to CVE-2025-8916\n\nhttps://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"upgrade bouncycastle to 1.82 due to CVE-2025-8916\n\nhttps://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: upgrade bouncycastle to 1.82 due to CVE-2025-8916\n\nhttps://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago.","output":"https://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"upgrade bouncycastle to 1.82 due to CVE-2025-8916\n\nhttps://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"upgrade bouncycastle to 1.82 due to CVE-2025-8916\n\nhttps://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago.\n\nConversation:\nuser: pjfanning opened a new pull request, #8039: URL: https://github.com/apache/hadoop/pull/8039 ### Description of PR HADOOP-19730 ### How was this patch tested? ### For code changes: - [x] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADOOP-17799. Your PR title ...')? - \nassistant: hadoop-yetus commented on PR #8039: URL: https://github.com/apache/hadoop/pull/8039#issuecomment-3420366545 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 20m 22s | | Docker mode activated. | |\nassistant: slfan1989 merged PR #8039: URL: https://github.com/apache/hadoop/pull/8039\nassistant: slfan1989 commented on PR #8039: URL: https://github.com/apache/hadoop/pull/8039#issuecomment-3424343993 @pjfanning Thanks for the contribution! Merged into trunk. Could we also open a PR for branch-3.4?\nassistant: pjfanning opened a new pull request, #8047: URL: https://github.com/apache/hadoop/pull/8047 ### Description of PR backport #6976 * HADOOP-19730. Upgrade Bouncycastle to 1.82 due to CVE-2025-8916 ### How was this patch tested? ### For code changes: - [x] Does the title or this PR starts with the corr","output":"slfan1989 commented on PR #8047: URL: https://github.com/apache/hadoop/pull/8047#issuecomment-3449617778 @pjfanning Thanks for the contribution! Merged into trunk."}
{"instruction":"Extract key technical details from this issue:","input":"https://github.com/advisories/GHSA-4cx2-fc23-5wg6 Thought it was tidier to upgrade to latest version even if the fix was a while ago.","output":"upgrade bouncycastle to 1.82 due to CVE-2025-8916"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: [Perf] Network Profiling of Tailing Requests and Killing Bad Connections Proactively\n\nIt has been observed that certain requests taking more time than expected to complete hinders the performance of whole workload. Such requests are known as tailing requests. They can be taking more time due to a number of reasons and the prominent among them is a bad network connection. In Abfs driver we cache network connections and keeping such bad connections in cache and reusing them can be bad for perf. In this effort we try to identify such connections and close them so that new good connetions can be established and perf can be improved. There are two parts of this effort. # Identifying Tailing Requests: This involves profiling all the network calls and getting percentiles value optimally. By default we consider p99 as the tail latency and all the future requests taking more than tail latency will be considere as Tailing requests. # Proactively Killing Socket Connections: With Apache client, we can now kill the socket connection and fail the tailing request. Such failures will not be thrown back to user and retried immediately without any sleep but from another socket connection.","output":"ABFS: [Perf] Network Profiling of Tailing Requests and Killing Bad Connections Proactively"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: [Perf] Network Profiling of Tailing Requests and Killing Bad Connections Proactively\n\nIt has been observed that certain requests taking more time than expected to complete hinders the performance of whole workload. Such requests are known as tailing requests. They can be taking more time due to a number of reasons and the prominent among them is a bad network connection. In Abfs driver we cache network connections and keeping such bad connections in cache and reusing them can be bad for perf. In this effort we try to identify such connections and close them so that new good conne","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: [Perf] Network Profiling of Tailing Requests and Killing Bad Connections Proactively\n\nIt has been observed that certain requests taking more time than expected to complete hinders the performance of whole workload. Such requests are known as tailing requests. They can be taking more time due to a number of reasons and the prominent among them is a bad network connection. In Abfs driver we cache network connections and keeping such bad connections in cache and reusing them can be bad for perf. In this effort we try to identify such connections and close them so that new good conne","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: [Perf] Network Profiling of Tailing Requests and Killing Bad Connections Proactively\n\nIt has been observed that certain requests taking more time than expected to complete hinders the performance of whole workload. Such requests are known as tailing requests. They can be taking more time due to a number of reasons and the prominent among them is a bad network connection. In Abfs driver we cache network connections and keeping such bad connections in cache and reusing them can be bad for perf. In this effort we try to identify such connections and close them so that new good conne","output":"It has been observed that certain requests taking more time than expected to complete hinders the performance of whole workload. Such requests are known as tailing requests. They can be taking more time due to a number of reasons and the prominent among them is a bad network connection. In Abfs driv"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: [Perf] Network Profiling of Tailing Requests and Killing Bad Connections Proactively\n\nIt has been observed that certain requests taking more time than expected to complete hinders the performance of whole workload. Such requests are known as tailing requests. They can be taking more ti\n\nConversation:\nuser: hadoop-yetus commented on PR #8043: URL: https://github.com/apache/hadoop/pull/8043#issuecomment-3448411577 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 11m 8s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #8043: URL: https://github.com/apache/hadoop/pull/8043#issuecomment-3449602331 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 21s | | Docker mode activated. | ||\nassistant: anmolanmol1234 commented on code in PR #8043: URL: https://github.com/apache/hadoop/pull/8043#discussion_r2464810768 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AbfsConfiguration.java: ########## @@ -1824,4 +1860,41 @@ public int getBlobRenameDirConsumptionParall\nassistant: anmolanmol1234 commented on code in PR #8043: URL: https://github.com/apache/hadoop/pull/8043#discussion_r2464820798 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AbfsConfiguration.java: ########## @@ -1824,4 +1860,41 @@ public int getBlobRenameDirConsumptionParall\nassistant: anmolanmol1234 commented on code in PR #8043: URL: https://github.com/apache/hadoop/pull/8043#discussion_r2465174540 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/constants/FileSystemConfigurations.java: ########## @@ -266,5 +266,15 @@ public final class FileSystem","output":"hadoop-yetus commented on PR #8043: URL: https://github.com/apache/hadoop/pull/8043#issuecomment-3473551869 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 32s | | Docker mode activated. | ||"}
{"instruction":"Extract key technical details from this issue:","input":"It has been observed that certain requests taking more time than expected to complete hinders the performance of whole workload. Such requests are known as tailing requests. They can be taking more time due to a number of reasons and the prominent among them is a bad network connection. In Abfs driver we cache network connections and keeping such bad connections in cache and reusing them can be bad for perf. In this effort we try to identify such connections and close them so that new good connetions can be established and perf can be improved. There are two parts of this effort. # Identifying Tailing Requests: This involves profiling all the network calls and getting percentiles value optimally. By default we consider p99 as the tail latency and all the future requests taking more than ta","output":"ABFS: [Perf] Network Profiling of Tailing Requests and Killing Bad Connections Proactively"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"S3A: add ipv6 support\n\nSupport IPv6 with a flag to enable/disable dual stack endpoints https://docs.aws.amazon.com/AmazonS3/latest/API/ipv6-access.html","output":"S3A: add ipv6 support"}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A: add ipv6 support\n\nSupport IPv6 with a flag to enable/disable dual stack endpoints https://docs.aws.amazon.com/AmazonS3/latest/API/ipv6-access.html","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"S3A: add ipv6 support\n\nSupport IPv6 with a flag to enable/disable dual stack endpoints https://docs.aws.amazon.com/AmazonS3/latest/API/ipv6-access.html","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A: add ipv6 support\n\nSupport IPv6 with a flag to enable/disable dual stack endpoints https://docs.aws.amazon.com/AmazonS3/latest/API/ipv6-access.html","output":"Support IPv6 with a flag to enable/disable dual stack endpoints https://docs.aws.amazon.com/AmazonS3/latest/API/ipv6-access.html"}
{"instruction":"Extract key technical details from this issue:","input":"Support IPv6 with a flag to enable/disable dual stack endpoints https://docs.aws.amazon.com/AmazonS3/latest/API/ipv6-access.html","output":"S3A: add ipv6 support"}
{"instruction":"Classify the status of this issue based on its description:","input":"Release hadoop-thirdparty 1.5.0\n\nRelease hadoop-thirdparty 1.5.0","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Release hadoop-thirdparty 1.5.0\n\nRelease hadoop-thirdparty 1.5.0","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Release hadoop-thirdparty 1.5.0\n\nRelease hadoop-thirdparty 1.5.0","output":"Release hadoop-thirdparty 1.5.0"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module\n\nCurrently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java} java.lang.IllegalStateException: Failed to set environment variable\tat org.apache.hadoop.fs.tosfs.util.TestUtility.setSystemEnv(TestUtility.java:120)\tat org.apache.hadoop.fs.tosfs.object.ObjectStorageTestBase.setUp(ObjectStorageTestBase.java:59)\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not \"opens java.util\" to unnamed module @69eee410\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\tat org.apache.hadoop.fs.tosfs.util.TestUtility.setSystemEnv(TestUtility.java:116)\t... 4 more {code} This error occurs due to the module system restrictions in JDK 17, where reflection cannot access private fields in the java.util.Collections$UnmodifiableMap class. To resolve this issue, JDK 17 compile options have been added to ensure the maven-surefire-plugin works correctly in a JDK 17 environment. This PR adds the necessary compile options for maven-surefire-plugin to support JDK 17, fixing the error and ensuring that unit tests can run smoothly.","output":"Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module\n\nCurrently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java} java.lang.IllegalStateException: Failed to set environment variable\tat org.apache.hadoop.fs.tosfs.util.TestUtility.setSystemEnv(TestUtility.java:120)\tat org.apache.hadoop.fs.tosfs.object.ObjectStorageTestBase.setUp(ObjectStorageTestBase.java:59)\tat java.base/java.lang.reflect.Method.invoke(Method.j","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module\n\nCurrently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java} java.lang.IllegalStateException: Failed to set environment variable\tat org.apache.hadoop.fs.tosfs.util.TestUtility.setSystemEnv(TestUtility.java:120)\tat org.apache.hadoop.fs.tosfs.object.ObjectStorageTestBase.setUp(ObjectStorageTestBase.java:59)\tat java.base/java.lang.reflect.Method.invoke(Method.j","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module\n\nCurrently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java} java.lang.IllegalStateException: Failed to set environment variable\tat org.apache.hadoop.fs.tosfs.util.TestUtility.setSystemEnv(TestUtility.java:120)\tat org.apache.hadoop.fs.tosfs.object.ObjectStorageTestBase.setUp(ObjectStorageTestBase.java:59)\tat java.base/java.lang.reflect.Method.invoke(Method.j","output":"Currently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java} java.lang.IllegalStateException: Failed to set environment variable\tat org.apache.hadoop.fs.tosfs.u"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module\n\nCurrently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java} java.lang.IllegalStateException: Failed to set environment variable\tat org.apache.hadoop.fs.tosfs.util.TestUtility.setSystemEnv(TestUtility.java:120)\tat org.apache.hadoop.fs.tosfs.object.ObjectStorageTestBase.setUp(ObjectStorageTestBase.java:59)\tat java.base/java.lang.reflect.Method.invoke(Method.j","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module\n\nCurrently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java}\n\nConversation:\nuser: slfan1989 opened a new pull request, #8029: URL: https://github.com/apache/hadoop/pull/8029 ### Description of PR JIRA: HADOOP-19726. [JDK17] Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module. ### How was this patch tested? CI ### For code changes: - [ ] Does the title or thi\nassistant: hadoop-yetus commented on PR #8029: URL: https://github.com/apache/hadoop/pull/8029#issuecomment-3395542255 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 8m 39s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #8029: URL: https://github.com/apache/hadoop/pull/8029#issuecomment-3411382684 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 21s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #8029: URL: https://github.com/apache/hadoop/pull/8029#issuecomment-3411690102 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 21s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #8029: URL: https://github.com/apache/hadoop/pull/8029#issuecomment-3412145538 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 44s | | Docker mode activated. | ||","output":"slfan1989 merged PR #8029: URL: https://github.com/apache/hadoop/pull/8029"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, the {{hadoop-tos}} module does not have the JDK 17 compile options configured for the {{{}maven-surefire-plugin{}}}, which causes the following error during unit test execution: {code:java} java.lang.IllegalStateException: Failed to set environment variable\tat org.apache.hadoop.fs.tosfs.util.TestUtility.setSystemEnv(TestUtility.java:120)\tat org.apache.hadoop.fs.tosfs.object.ObjectStorageTestBase.setUp(ObjectStorageTestBase.java:59)\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module ja","output":"Add JDK 17 compile options for maven-surefire-plugin in hadoop-tos module"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade SpotBugs Version to Support JDK 17 Compilation\n\nThe current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the code quality check tool in a JDK 17 environment, SpotBugs needs to be upgraded to the latest version that supports JDK 17.","output":"Upgrade SpotBugs Version to Support JDK 17 Compilation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade SpotBugs Version to Support JDK 17 Compilation\n\nThe current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the code quality check tool in a JDK 17 environment, SpotBugs needs to be upgraded to the latest version that supports JDK 17.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade SpotBugs Version to Support JDK 17 Compilation\n\nThe current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the code quality check tool in a JDK 17 environment, SpotBugs needs to be upgraded to the latest version that supports JDK 17.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade SpotBugs Version to Support JDK 17 Compilation\n\nThe current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the code quality check tool in a JDK 17 environment, SpotBugs needs to be upgraded to the latest version that supports JDK 17.","output":"The current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the code quality check tool in a JDK 17 environment, SpotBugs needs to be upgraded to the latest version th"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade SpotBugs Version to Support JDK 17 Compilation\n\nThe current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the code quality check tool in a JDK 17 environment, SpotBugs needs to be upgraded to the latest version that supports JDK 17.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade SpotBugs Version to Support JDK 17 Compilation\n\nThe current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the cod\n\nConversation:\nuser: slfan1989 opened a new pull request, #8028: URL: https://github.com/apache/hadoop/pull/8028 ### Description of PR JIRA: [JDK17] Upgrade SpotBugs Version to Support JDK 17 Compilation. ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR starts with the corresponding J\nassistant: slfan1989 commented on PR #8028: URL: https://github.com/apache/hadoop/pull/8028#issuecomment-3397979702 @cnauroth @szetszwo After upgrading to JDK 17, I found that spotbug could not run properly because the current version does not support JDK 17. To resolve this issue, I upgraded the versions of t\nassistant: hadoop-yetus commented on PR #8028: URL: https://github.com/apache/hadoop/pull/8028#issuecomment-3398540465 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 14m 35s | | Docker mode activated. | |\nassistant: slfan1989 commented on PR #8028: URL: https://github.com/apache/hadoop/pull/8028#issuecomment-3399438331 I have completed the investigation of the mvnsite build issues and confirmed that the problem is related to the JDIFF module. We plan to submit a separate PR to fix and optimize this issue.\nassistant: slfan1989 commented on PR #8028: URL: https://github.com/apache/hadoop/pull/8028#issuecomment-3401292116 @steveloughran Could you please review this PR? Thank you very much!","output":"slfan1989 commented on PR #8028: URL: https://github.com/apache/hadoop/pull/8028#issuecomment-3411067429 @szetszwo @steveloughran @Hexiaoqiao @zhtttylz Thank you very much for reviewing the code!"}
{"instruction":"Extract key technical details from this issue:","input":"The current SpotBugs version used in the project is 4.2.2 (SpotBugs) and 4.2.0 (SpotBugs Maven Plugin), which is not fully compatible with JDK 17 compilation. To ensure proper functionality of the code quality check tool in a JDK 17 environment, SpotBugs needs to be upgraded to the latest version that supports JDK 17.","output":"Upgrade SpotBugs Version to Support JDK 17 Compilation"}
{"instruction":"Classify the status of this issue based on its description:","input":"[RISC-V] Add rv bulk CRC32 (non-CRC32C) optimized path\n\n","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"[RISC-V] Add rv bulk CRC32 (non-CRC32C) optimized path\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [RISC-V] Add rv bulk CRC32 (non-CRC32C) optimized path\n\n","output":""}
{"instruction":"Continue the conversation about this technical issue:","input":"[RISC-V] Add rv bulk CRC32 (non-CRC32C) optimized path\n\n\n\nConversation:\nuser: PeterPtroc opened a new pull request, #8031: URL: https://github.com/apache/hadoop/pull/8031 ### Description of PR - Introduces a riscv64 native implementation path for CRC32 (CRC32C not optimized). - Adds runtime CPU feature detection on linux-riscv64 to enable hardware-accelerated CRC32 when avail\nassistant: hadoop-yetus commented on PR #8031: URL: https://github.com/apache/hadoop/pull/8031#issuecomment-3398778305 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 23m 29s | | Docker mode activated. | |\nassistant: PeterPtroc commented on PR #8031: URL: https://github.com/apache/hadoop/pull/8031#issuecomment-3401469367 @steveloughran could you please review this PR if you have time? thanks!","output":"PeterPtroc commented on PR #8031: URL: https://github.com/apache/hadoop/pull/8031#issuecomment-3401469367 @steveloughran could you please review this PR if you have time? thanks!"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Build multi-arch hadoop image\n\nBuild {{apache/hadoop}} Docker image for both amd64 and arm64.","output":"Build multi-arch hadoop image"}
{"instruction":"Classify the status of this issue based on its description:","input":"Build multi-arch hadoop image\n\nBuild {{apache/hadoop}} Docker image for both amd64 and arm64.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Build multi-arch hadoop image\n\nBuild {{apache/hadoop}} Docker image for both amd64 and arm64.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Build multi-arch hadoop image\n\nBuild {{apache/hadoop}} Docker image for both amd64 and arm64.","output":"Build {{apache/hadoop}} Docker image for both amd64 and arm64."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Build multi-arch hadoop image\n\nBuild {{apache/hadoop}} Docker image for both amd64 and arm64.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Build multi-arch hadoop image\n\nBuild {{apache/hadoop}} Docker image for both amd64 and arm64.\n\nConversation:\nuser: adoroszlai opened a new pull request, #8023: URL: https://github.com/apache/hadoop/pull/8023 ## What changes were proposed in this pull request? - Update `Dockerfile` (on branch `docker-hadoop-3.4.2-lean`) to support building for `arm64`, too. - Use `ghcr.io/apache/hadoop-runner:jdk11-u2204` as base\nassistant: slfan1989 commented on PR #8023: URL: https://github.com/apache/hadoop/pull/8023#issuecomment-3385915162 LGTM.\nassistant: slfan1989 commented on PR #8023: URL: https://github.com/apache/hadoop/pull/8023#issuecomment-3385930578 @adoroszlai Thank you for the contribution. If there are no additional comments, I’ll proceed to merge this PR shortly.\nassistant: adoroszlai commented on PR #8023: URL: https://github.com/apache/hadoop/pull/8023#issuecomment-3386892439 @smengcl would you like to take a look?\nassistant: slfan1989 commented on PR #8023: URL: https://github.com/apache/hadoop/pull/8023#issuecomment-3388049001 > @smengcl would you like to take a look? @smengcl I believe this PR is fine, and since @adoroszlai has extensive experience with this, any issues that may arise in the future can be quickly addr","output":"smengcl commented on PR #8023: URL: https://github.com/apache/hadoop/pull/8023#issuecomment-3388411324 Thanks @adoroszlai . The patch looks good. Thanks @slfan1989 for reviewing this as well."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Pin robotframework version\n\n{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too.","output":"Pin robotframework version"}
{"instruction":"Classify the status of this issue based on its description:","input":"Pin robotframework version\n\n{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Pin robotframework version\n\n{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Pin robotframework version\n\n{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too.","output":"{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Pin robotframework version\n\n{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Pin robotframework version\n\n{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too.\n\nConversation:\nuser: adoroszlai opened a new pull request, #8025: URL: https://github.com/apache/hadoop/pull/8025 ## What changes were proposed in this pull request? `hadoop-runner` installs `robotframework` without version definition. Re-building the image for unrelated changes may unexpectedly upgrade `robotframework`\nassistant: smengcl merged PR #8025: URL: https://github.com/apache/hadoop/pull/8025\nassistant: adoroszlai commented on PR #8025: URL: https://github.com/apache/hadoop/pull/8025#issuecomment-3395090403 Thanks @slfan1989, @smengcl for the review.","output":"adoroszlai commented on PR #8025: URL: https://github.com/apache/hadoop/pull/8025#issuecomment-3395090403 Thanks @slfan1989, @smengcl for the review."}
{"instruction":"Extract key technical details from this issue:","input":"{{hadoop-runner}} installs {{robotframework}} without version definition. Re-building the image for unrelated changes may unexpectedly upgrade {{robotframework}}, too.","output":"Pin robotframework version"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade hadoop-runner to Ubuntu 24.04\n\nLatest {{hadoop-runner}} images are based on Ubuntu 22.04. Upgrade to 24.04.","output":"Upgrade hadoop-runner to Ubuntu 24.04"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade hadoop-runner to Ubuntu 24.04\n\nLatest {{hadoop-runner}} images are based on Ubuntu 22.04. Upgrade to 24.04.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade hadoop-runner to Ubuntu 24.04\n\nLatest {{hadoop-runner}} images are based on Ubuntu 22.04. Upgrade to 24.04.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade hadoop-runner to Ubuntu 24.04\n\nLatest {{hadoop-runner}} images are based on Ubuntu 22.04. Upgrade to 24.04.","output":"Latest {{hadoop-runner}} images are based on Ubuntu 22.04. Upgrade to 24.04."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Publish multi-arch hadoop-runner image to GitHub\n\nCreate GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64.","output":"Publish multi-arch hadoop-runner image to GitHub"}
{"instruction":"Classify the status of this issue based on its description:","input":"Publish multi-arch hadoop-runner image to GitHub\n\nCreate GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Publish multi-arch hadoop-runner image to GitHub\n\nCreate GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Publish multi-arch hadoop-runner image to GitHub\n\nCreate GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64.","output":"Create GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Publish multi-arch hadoop-runner image to GitHub\n\nCreate GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Publish multi-arch hadoop-runner image to GitHub\n\nCreate GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64.\n\nConversation:\nuser: adoroszlai opened a new pull request, #8021: URL: https://github.com/apache/hadoop/pull/8021 ## What changes were proposed in this pull request? Add workflow to publish `apache/hadoop-runner` (`jdk11-u2204` in this case) to GitHub Container Registry. https://issues.apache.org/jira/browse/HADOOP-1972\nassistant: slfan1989 commented on PR #8021: URL: https://github.com/apache/hadoop/pull/8021#issuecomment-3383664657 @adoroszlai Many thanks for your contribution. Could we consider upgrading the image to ubuntu 24.04?\nassistant: smengcl merged PR #8021: URL: https://github.com/apache/hadoop/pull/8021\nassistant: smengcl commented on PR #8021: URL: https://github.com/apache/hadoop/pull/8021#issuecomment-3383797788 > @adoroszlai Many thanks for your contribution. Could we consider upgrading the image to ubuntu 24.04? We could file a new jira for that task.\nassistant: slfan1989 commented on PR #8021: URL: https://github.com/apache/hadoop/pull/8021#issuecomment-3383809271 > > @adoroszlai Many thanks for your contribution. Could we consider upgrading the image to ubuntu 24.04? > > We could file a new jira for that task. You’ve got a valid point. The branch name is ","output":"adoroszlai commented on PR #8021: URL: https://github.com/apache/hadoop/pull/8021#issuecomment-3384254098 Thanks @slfan1989, @smengcl for the review."}
{"instruction":"Extract key technical details from this issue:","input":"Create GitHub Actions workflow to publish the apache/hadoop-runner Docker image to GitHub Container Registry. Build for both amd64 and arm64.","output":"Publish multi-arch hadoop-runner image to GitHub"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade to wildfly version with support for openssl 3\n\nWildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fefd9a0e41ad7954ece80d 2.2.5.Final does the openssl 3 support.","output":"Upgrade to wildfly version with support for openssl 3"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade to wildfly version with support for openssl 3\n\nWildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fefd9a0e41ad7954ece80d 2.2.5.Final does the openssl 3 support.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade to wildfly version with support for openssl 3\n\nWildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fefd9a0e41ad7954ece80d 2.2.5.Final does the openssl 3 support.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade to wildfly version with support for openssl 3\n\nWildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fefd9a0e41ad7954ece80d 2.2.5.Final does the openssl 3 support.","output":"Wildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fefd9a0e41ad7954ece80d 2.2.5.Final does the openssl 3 support."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade to wildfly version with support for openssl 3\n\nWildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fefd9a0e41ad7954ece80d 2.2.5.Final does the openssl 3 support.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade to wildfly version with support for openssl 3\n\nWildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fef\n\nConversation:\nuser: steveloughran opened a new pull request, #8019: URL: https://github.com/apache/hadoop/pull/8019 ### How was this patch tested? Going to see if it works on a mac... ### For code changes: - [X] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADOOP-17799. Your PR title ...\nassistant: steveloughran commented on PR #8019: URL: https://github.com/apache/hadoop/pull/8019#issuecomment-3381330281 the test which is parameterized on ssl (and storediag when a store is forced to OpenSSL) ``` [ERROR] org.apache.hadoop.fs.contract.s3a.ITestS3AContractSeek.testReadFullyZeroBytebufferPastEOF\nassistant: steveloughran commented on PR #8019: URL: https://github.com/apache/hadoop/pull/8019#issuecomment-3381381104 s3a tests all good, s3 london `-Dparallel-tests -DtestsThreadCount=8`\nassistant: steveloughran commented on PR #8019: URL: https://github.com/apache/hadoop/pull/8019#issuecomment-3405882774 OK, 2.2.5 doesn't include the arm linux binaries. It does in our private builds, which is why I was confused.\nassistant: steveloughran merged PR #8019: URL: https://github.com/apache/hadoop/pull/8019","output":"steveloughran merged PR #8019: URL: https://github.com/apache/hadoop/pull/8019"}
{"instruction":"Extract key technical details from this issue:","input":"Wildfly 2.1.4 * doesn't work with openssl 3 (that symbol change...why did they do that?) we need a version with https://github.com/wildfly-security/wildfly-openssl-natives/commit/6cecd42a254cd78585fefd9a0e41ad7954ece80d 2.2.5.Final does the openssl 3 support.","output":"Upgrade to wildfly version with support for openssl 3"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[ABFS]: Throw HTTPException when AAD token fetch fails\n\nReported by enigma25 : In [this code snippet](https://github.com/Azure/azure-data-lake-store-java/blob/26eca936da60286aa70b0dd7823ff5e627987bc4/src/main/java/com/microsoft/azure/datalake/store/oauth2/AzureADAuthenticator.java#L252-L293) from AzureADAuthenticator, the `conn` is being returned as null due to a (possibly) corrupted connection between Azure Data Lake Store Client and AAD while fetching AAD token. The code snippet linked, runs into an NPE. I wanted to know from the maintainers and community if this bug/symptom has been seen by them earlier and what might be the best way to handle this? Secondly, I wanted to know the right place for the fix too - whether it should be the application code or the SDK code itself should handle such NPEs and fail more gracefully? Open to thoughts and comments. Cheers, Nikhil ``` java.util.concurrent.ExecutionException: java.lang.NullPointerException: Cannot invoke \"java.io.InputStream.read(byte[], int, int)\" because \"inStream\" is null at org.apache.kafka.connect.util.ConvertingFutureCallback.result(ConvertingFutureCallback.java:135) at org.apache.kafka.connect.util.ConvertingFutureCallback.get(ConvertingFutureCallback.java:122) at org.apache.kafka.connect.runtime.rest.resources.ConnectorPluginsResource.validateConfigs(ConnectorPluginsResource.java:129) at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) at java.base/java.lang.reflect.Method.invoke(Method.java:580) at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177) at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81) at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478) at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400) at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81) at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:256) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244) at org.glassfish.jersey.internal.Errors.process(Errors.java:292) at org.glassfish.jersey.internal.Errors.process(Errors.java:274) at org.glassfish.jersey.internal.Errors.process(Errors.java:244) at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265) at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:235) at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684) at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394) at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205) at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799) at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:554) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:234) at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:181) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) at org.eclipse.jetty.server.Server.handle(Server.java:516) at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487) at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479) at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) at java.base/java.lang.Thread.run(Thread.java:1583) Caused by: java.lang.NullPointerException: Cannot invoke \"java.io.InputStream.read(byte[], int, int)\" because \"inStream\" is null at org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.consumeInputStream(AzureADAuthenticator.java:345) at org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenSingleCall(AzureADAuthenticator.java:275) at org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenCall(AzureADAuthenticator.java:216) at org.apache.hadoop.fs.azurebfs.oauth2.AzureADAuthenticator.getTokenUsingClientCreds(AzureADAuthenticator.java:95) at org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider.refreshToken(ClientCredsTokenProvider.java:58) at org.apache.hadoop.fs.azurebfs.oauth2.AccessTokenProvider.getToken(AccessTokenProvider.java:50) at org.apache.hadoop.fs.azurebfs.services.AbfsClient.getAccessToken(AbfsClient.java:583) at org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.executeHttpOperation(AbfsRestOperation.java:162) at org.apache.hadoop.fs.azurebfs.services.AbfsRestOperation.execute(AbfsRestOperation.java:134) at org.apache.hadoop.fs.azurebfs.services.AbfsClient.getFilesystemProperties(AbfsClient.java:205) at io.confluent.connect.azure.datalake.gen2.validation.Validations.verifyClient(Validations.java:175) at io.confluent.connect.azure.datalake.gen2.validation.Validations.createAndValidateClient(Validations.java:395) at io.confluent.connect.azure.datalake.gen2.validation.Validations.validateAll(Validations.java:131) at io.confluent.connect.utils.validators.all.ConfigValidation.lambda$callValidators$0(ConfigValidation.java:222) at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) at io.confluent.connect.utils.validators.all.ConfigValidation.callValidators(ConfigValidation.java:222) at io.confluent.connect.utils.validators.all.ConfigValidation.validate(ConfigValidation.java:182) at io.confluent.connect.azure.datalake.gen2.AzureDataLakeGen2SinkConnector.validate(AzureDataLakeGen2SinkConnector.java:97) at org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:641) at org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$7(AbstractHerder.java:493) at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ... 1 more ```","output":"[ABFS]: Throw HTTPException when AAD token fetch fails"}
{"instruction":"Classify the status of this issue based on its description:","input":"[ABFS]: Throw HTTPException when AAD token fetch fails\n\nReported by enigma25 : In [this code snippet](https://github.com/Azure/azure-data-lake-store-java/blob/26eca936da60286aa70b0dd7823ff5e627987bc4/src/main/java/com/microsoft/azure/datalake/store/oauth2/AzureADAuthenticator.java#L252-L293) from AzureADAuthenticator, the `conn` is being returned as null due to a (possibly) corrupted connection between Azure Data Lake Store Client and AAD while fetching AAD token. The code snippet linked, runs into an NPE. I wanted to know from the maintainers and co","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"[ABFS]: Throw HTTPException when AAD token fetch fails\n\nReported by enigma25 : In [this code snippet](https://github.com/Azure/azure-data-lake-store-java/blob/26eca936da60286aa70b0dd7823ff5e627987bc4/src/main/java/com/microsoft/azure/datalake/store/oauth2/AzureADAuthenticator.java#L252-L293) from AzureADAuthenticator, the `conn` is being returned as null due to a (possibly) corrupted connection between Azure Data Lake Store Client and AAD while fetching AAD token. The code snippet linked, runs into an NPE. I wanted to know from the maintainers and co","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [ABFS]: Throw HTTPException when AAD token fetch fails\n\nReported by enigma25 : In [this code snippet](https://github.com/Azure/azure-data-lake-store-java/blob/26eca936da60286aa70b0dd7823ff5e627987bc4/src/main/java/com/microsoft/azure/datalake/store/oauth2/AzureADAuthenticator.java#L252-L293) from AzureADAuthenticator, the `conn` is being returned as null due to a (possibly) corrupted connection between Azure Data Lake Store Client and AAD while fetching AAD token. The code snippet linked, runs into an NPE. I wanted to know from the maintainers and co","output":"Reported by enigma25 : In [this code snippet](https://github.com/Azure/azure-data-lake-store-java/blob/26eca936da60286aa70b0dd7823ff5e627987bc4/src/main/java/com/microsoft/azure/datalake/store/oauth2/AzureADAuthenticator.java#L252-L293) from AzureADAuthenticator, the `conn` is being returned as null"}
{"instruction":"Extract key technical details from this issue:","input":"Reported by enigma25 : In [this code snippet](https://github.com/Azure/azure-data-lake-store-java/blob/26eca936da60286aa70b0dd7823ff5e627987bc4/src/main/java/com/microsoft/azure/datalake/store/oauth2/AzureADAuthenticator.java#L252-L293) from AzureADAuthenticator, the `conn` is being returned as null due to a (possibly) corrupted connection between Azure Data Lake Store Client and AAD while fetching AAD token. The code snippet linked, runs into an NPE. I wanted to know from the maintainers and community if this bug/symptom has been seen by them earlier and what might be the best way to handle this? Secondly, I wanted to know the right place for the fix too - whether it should be the application code or the SDK code itself should handle such NPEs and fail more gracefully? Open to thoughts an","output":"[ABFS]: Throw HTTPException when AAD token fetch fails"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Resolve build error caused by missing Checker Framework (NonNull not recognized)\n\nIn the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[216,50] package org.checkerframework.checker.nullness.qual does not exist [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[2509,30] cannot find symbol [ERROR] symbol: class NonNull [ERROR] location: class org.apache.hadoop.hdfs.server.federation.router.RouterRpcServer.AsyncThreadFactory {code} I checked the usage in the related modules, and we should use *org.apache.hadoop.thirdparty.org.checkerframework.checker.nullness.qual.NonNull* instead of directly using {*}org.checkerframework.checker.nullness.qual.NonNull{*}.","output":"Resolve build error caused by missing Checker Framework (NonNull not recognized)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Resolve build error caused by missing Checker Framework (NonNull not recognized)\n\nIn the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[216,50] package org.checkerframework.checker.nullness.qual does not exist [ERROR] /home/jenkins/jenkins-a","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Resolve build error caused by missing Checker Framework (NonNull not recognized)\n\nIn the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[216,50] package org.checkerframework.checker.nullness.qual does not exist [ERROR] /home/jenkins/jenkins-a","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Resolve build error caused by missing Checker Framework (NonNull not recognized)\n\nIn the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[216,50] package org.checkerframework.checker.nullness.qual does not exist [ERROR] /home/jenkins/jenkins-a","output":"In the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoo"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Resolve build error caused by missing Checker Framework (NonNull not recognized)\n\nIn the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[216,50] package org.checkerframework.checker.nullness.qual does not exist [ERROR] /home/jenkins/jenkins-a","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Resolve build error caused by missing Checker Framework (NonNull not recognized)\n\nIn the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/j\n\nConversation:\nuser: slfan1989 opened a new pull request, #8015: URL: https://github.com/apache/hadoop/pull/8015 ### Description of PR JIRA: HADOOP-19717. Resolve build error caused by missing Checker Framework (NonNull not recognized). ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR\nassistant: pan3793 commented on code in PR #8015: URL: https://github.com/apache/hadoop/pull/8015#discussion_r2409341008 ########## hadoop-cloud-storage-project/hadoop-tos/src/main/java/org/apache/hadoop/fs/tosfs/util/Iterables.java: ########## @@ -19,7 +19,7 @@ package org.apache.hadoop.fs.tosfs.util; import \nassistant: hadoop-yetus commented on PR #8015: URL: https://github.com/apache/hadoop/pull/8015#issuecomment-3375421893 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 8m 31s | | Docker mode activated. | ||\nassistant: slfan1989 commented on code in PR #8015: URL: https://github.com/apache/hadoop/pull/8015#discussion_r2410285097 ########## hadoop-cloud-storage-project/hadoop-tos/src/main/java/org/apache/hadoop/fs/tosfs/util/Iterables.java: ########## @@ -19,7 +19,7 @@ package org.apache.hadoop.fs.tosfs.util; impor\nassistant: slfan1989 commented on code in PR #8015: URL: https://github.com/apache/hadoop/pull/8015#discussion_r2410285097 ########## hadoop-cloud-storage-project/hadoop-tos/src/main/java/org/apache/hadoop/fs/tosfs/util/Iterables.java: ########## @@ -19,7 +19,7 @@ package org.apache.hadoop.fs.tosfs.util; impor","output":"this is complicating the new thirdparty release FWIW. this should all be using the unshaded javax. Nullable/nonnull. And the hadoop-thirdparty release needs to address this stuff getting left out so 1.5.0 can be a drop-in replacement for 1.4.0 {code} [ERROR] Failed to execute goal org.apache.maven.p"}
{"instruction":"Extract key technical details from this issue:","input":"In the recent build, we encountered the following issue: *org.checkerframework.checker.nullness.qual.NonNull* could not be recognized, and the following error was observed. {code:java} [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[216,50] package org.checkerframework.checker.nullness.qual does not exist [ERROR] /home/jenkins/jenkins-agent/workspace/hadoop-multibranch_PR-8011/ubuntu-focal/src/hadoop-hdfs-project/hadoop-hdfs-rbf/src/main/java/org/apache/hadoop/hdfs/server/federation/router/RouterRpcServer.java:[2509,30] cannot find symbol [ERROR] symbol: class NonNull [ERROR] location: class org.apache.hadoop.hdfs.server.federatio","output":"Resolve build error caused by missing Checker Framework (NonNull not recognized)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Create lean docker image\n\nCreate a new docker image based on the lean tarball. hadoop-3.4.2-lean.tar.gz","output":"Create lean docker image"}
{"instruction":"Classify the status of this issue based on its description:","input":"Create lean docker image\n\nCreate a new docker image based on the lean tarball. hadoop-3.4.2-lean.tar.gz","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Create lean docker image\n\nCreate a new docker image based on the lean tarball. hadoop-3.4.2-lean.tar.gz","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Create lean docker image\n\nCreate a new docker image based on the lean tarball. hadoop-3.4.2-lean.tar.gz","output":"Create a new docker image based on the lean tarball. hadoop-3.4.2-lean.tar.gz"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Create lean docker image\n\nCreate a new docker image based on the lean tarball. hadoop-3.4.2-lean.tar.gz","output":"Done"}
{"instruction":"Continue the conversation about this technical issue:","input":"Create lean docker image\n\nCreate a new docker image based on the lean tarball. hadoop-3.4.2-lean.tar.gz\n\nConversation:\nuser: adoroszlai opened a new pull request, #8013: URL: https://github.com/apache/hadoop/pull/8013 ### Description of PR Create a new docker image based on `hadoop-3.4.2-lean.tar.gz`, which omits AWS `bundle-2.29.52.jar`. This PR should not be merged. I will push it from CLI as a new branch to publish the\nassistant: steveloughran commented on PR #8013: URL: https://github.com/apache/hadoop/pull/8013#issuecomment-3371636931 I did check the url resolved, BTW. Note that in #7980 packaging will change where we move hadoop-aws and hadoop azure to common/lib, with all dependencies except bundle.jar; that'll come iff \nassistant: adoroszlai commented on PR #8013: URL: https://github.com/apache/hadoop/pull/8013#issuecomment-3371660323 Thanks @steveloughran for the review. Pushed 4cb319a9a98350bb0711029cf13c170f3c9ce043 to `docker-hadoop-3.4.2-lean`.\nassistant: adoroszlai closed pull request #8013: HADOOP-19716. Create lean docker image URL: https://github.com/apache/hadoop/pull/8013\nassistant: slfan1989 commented on PR #8013: URL: https://github.com/apache/hadoop/pull/8013#issuecomment-3375033744 > Thanks @steveloughran for the review. Pushed [4cb319a](https://github.com/apache/hadoop/commit/4cb319a9a98350bb0711029cf13c170f3c9ce043) to `docker-hadoop-3.4.2-lean`. @adoroszlai Thanks for th","output":"slfan1989 commented on PR #8013: URL: https://github.com/apache/hadoop/pull/8013#issuecomment-3375033744 > Thanks @steveloughran for the review. Pushed [4cb319a](https://github.com/apache/hadoop/commit/4cb319a9a98350bb0711029cf13c170f3c9ce043) to `docker-hadoop-3.4.2-lean`. @adoroszlai Thanks for th"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1\n\nThe project is currently using {{restrict-imports-enforcer-rule}} version {*}2.0.0{*}, which was released in *2021* and is now outdated. Since then, several new versions have been released with important bug fixes, performance improvements, and enhanced compatibility. To maintain a modern and stable build environment, it is necessary to upgrade to version {*}2.6.1{*}.","output":"Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1\n\nThe project is currently using {{restrict-imports-enforcer-rule}} version {*}2.0.0{*}, which was released in *2021* and is now outdated. Since then, several new versions have been released with important bug fixes, performance improvements, and enhanced compatibility. To maintain a modern and stable build environment, it is necessary to upgrade to version {*}2.6.1{*}.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1\n\nThe project is currently using {{restrict-imports-enforcer-rule}} version {*}2.0.0{*}, which was released in *2021* and is now outdated. Since then, several new versions have been released with important bug fixes, performance improvements, and enhanced compatibility. To maintain a modern and stable build environment, it is necessary to upgrade to version {*}2.6.1{*}.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1\n\nThe project is currently using {{restrict-imports-enforcer-rule}} version {*}2.0.0{*}, which was released in *2021* and is now outdated. Since then, several new versions have been released with important bug fixes, performance improvements, and enhanced compatibility. To maintain a modern and stable build environment, it is necessary to upgrade to version {*}2.6.1{*}.","output":"The project is currently using {{restrict-imports-enforcer-rule}} version {*}2.0.0{*}, which was released in *2021* and is now outdated. Since then, several new versions have been released with important bug fixes, performance improvements, and enhanced compatibility. To maintain a modern and stable"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1\n\nThe project is currently using {{restrict-imports-enforcer-rule}} version {*}2.0.0{*}, which was released in *2021* and is now outdated. Since then, several new versions have been released with import\n\nConversation:\nuser: slfan1989 opened a new pull request, #8012: URL: https://github.com/apache/hadoop/pull/8012 ### Description of PR JIRA: HADOOP-19715. Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1. ### How was this patch tested? CI. ### For code changes: - [ ] Does the title or this PR starts with the co\nassistant: hadoop-yetus commented on PR #8012: URL: https://github.com/apache/hadoop/pull/8012#issuecomment-3379348657 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 43s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #8012: URL: https://github.com/apache/hadoop/pull/8012#issuecomment-3379885563 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 41s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #8012: URL: https://github.com/apache/hadoop/pull/8012#issuecomment-3383838383 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 42s | | Docker mode activated. | ||","output":"hadoop-yetus commented on PR #8012: URL: https://github.com/apache/hadoop/pull/8012#issuecomment-3383838383 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 42s | | Docker mode activated. | ||"}
{"instruction":"Extract key technical details from this issue:","input":"The project is currently using {{restrict-imports-enforcer-rule}} version {*}2.0.0{*}, which was released in *2021* and is now outdated. Since then, several new versions have been released with important bug fixes, performance improvements, and enhanced compatibility. To maintain a modern and stable build environment, it is necessary to upgrade to version {*}2.6.1{*}.","output":"Update restrict-imports-enforcer-rule from 2.0.0 to 2.6.1"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"make container build work on macOS Tahoe\n\nmacOS Tahoe includes a native container daemon and runtime and it is supposed to be near feature-compatible with docker. In principle, it should be possible to run the container build using the container command line on macOS Tahoe. It would be great if we can add this functionality to the build script so folks can build on macOS natively without creating another VM.","output":"make container build work on macOS Tahoe"}
{"instruction":"Classify the status of this issue based on its description:","input":"make container build work on macOS Tahoe\n\nmacOS Tahoe includes a native container daemon and runtime and it is supposed to be near feature-compatible with docker. In principle, it should be possible to run the container build using the container command line on macOS Tahoe. It would be great if we can add this functionality to the build script so folks can build on macOS natively without creating another VM.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"make container build work on macOS Tahoe\n\nmacOS Tahoe includes a native container daemon and runtime and it is supposed to be near feature-compatible with docker. In principle, it should be possible to run the container build using the container command line on macOS Tahoe. It would be great if we can add this functionality to the build script so folks can build on macOS natively without creating another VM.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: make container build work on macOS Tahoe\n\nmacOS Tahoe includes a native container daemon and runtime and it is supposed to be near feature-compatible with docker. In principle, it should be possible to run the container build using the container command line on macOS Tahoe. It would be great if we can add this functionality to the build script so folks can build on macOS natively without creating another VM.","output":"macOS Tahoe includes a native container daemon and runtime and it is supposed to be near feature-compatible with docker. In principle, it should be possible to run the container build using the container command line on macOS Tahoe. It would be great if we can add this functionality to the build scr"}
{"instruction":"Continue the conversation about this technical issue:","input":"make container build work on macOS Tahoe\n\nmacOS Tahoe includes a native container daemon and runtime and it is supposed to be near feature-compatible with docker. In principle, it should be possible to run the container build using the contai\n\nConversation:\nuser: This could be someone's good hack project.\nassistant: this means you can run linux in it? cool. puts it on a par with windows -though that has the advantage you can just dual boot the machine to linux or just replace windows entirely\nassistant: Correct. This is a container daemon/runtime that runs natively on Apple (Silicon), which does pretty much all the things that a Docker runtime would do without involving VMs. Also, I understand you can install this on macOS before Tahoe. Here's one article (among many out there): [https://www.infoq.\nassistant: after the NPM attack last month, I'm thinking I should do all builds which pull in remote artifacts in its own container, one with restricted access to the rest of the system lyes, complicates getting aws credentials, but that's part of what I want to lock down). ...","output":"after the NPM attack last month, I'm thinking I should do all builds which pull in remote artifacts in its own container, one with restricted access to the rest of the system lyes, complicates getting aws credentials, but that's part of what I want to lock down). ..."}
{"instruction":"Extract key technical details from this issue:","input":"macOS Tahoe includes a native container daemon and runtime and it is supposed to be near feature-compatible with docker. In principle, it should be possible to run the container build using the container command line on macOS Tahoe. It would be great if we can add this functionality to the build script so folks can build on macOS natively without creating another VM.","output":"make container build work on macOS Tahoe"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()\n\nWe have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {code} jdk.internal.misc.Unsafe.park(Native Method) java.util.concurrent.locks.LockSupport.park(LockSupport.java:341) java.util.concurrent.ForkJoinTask.awaitDone(ForkJoinTask.java:468) java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:687) java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:927) java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) org.apache.hadoop.fs.statistics.impl.EvaluatingStatisticsMap.entrySet(EvaluatingStatisticsMap.java:166) java.util.Collections$UnmodifiableMap.entrySet(Collections.java:1529) org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.copyMap(IOStatisticsBinding.java:172) org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.snapshotMap(IOStatisticsBinding.java:216) org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.snapshotMap(IOStatisticsBinding.java:199) org.apache.hadoop.fs.statistics.IOStatisticsSnapshot.snapshot(IOStatisticsSnapshot.java:165) org.apache.hadoop.fs.statistics.IOStatisticsSnapshot. (IOStatisticsSnapshot.java:125) org.apache.hadoop.fs.statistics.IOStatisticsSupport.snapshotIOStatistics(IOStatisticsSupport.java:49) {code} the code in question is calling `parallelStream()`, which uses a fixed pool of threads shared by all uses of the API {code} Set > r = evalEntries.parallelStream().map((e) -> new EntryImpl<>(e.getKey(), e.getValue().apply(e.getKey()))) .collect(Collectors.toSet()); {code} Proposed: * move off parallelStream() to stream() * review code to if there is any other way this iteration can lead to a deadlock, e.g. the apply() calls. * could we do the merge more efficiently?","output":"S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()"}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()\n\nWe have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {code} jdk.internal.misc.Unsafe.park(Native Method) java.util.concurrent.locks.LockSupport.park(LockSupport.java:341) java.util.concurrent.ForkJoinTask.awaitDone(ForkJoinTask.java:468) java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:687) java.util.stream.ReduceOps$ReduceOp.evaluateParallel","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()\n\nWe have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {code} jdk.internal.misc.Unsafe.park(Native Method) java.util.concurrent.locks.LockSupport.park(LockSupport.java:341) java.util.concurrent.ForkJoinTask.awaitDone(ForkJoinTask.java:468) java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:687) java.util.stream.ReduceOps$ReduceOp.evaluateParallel","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()\n\nWe have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {code} jdk.internal.misc.Unsafe.park(Native Method) java.util.concurrent.locks.LockSupport.park(LockSupport.java:341) java.util.concurrent.ForkJoinTask.awaitDone(ForkJoinTask.java:468) java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:687) java.util.stream.ReduceOps$ReduceOp.evaluateParallel","output":"We have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {code} jdk.internal.misc.Unsafe.park(Native Method) java.util.concurrent.locks.LockSupport.park(LockS"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()\n\nWe have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {code} jdk.internal.misc.Unsafe.park(Native Method) java.util.concurrent.locks.LockSupport.park(LockSupport.java:341) java.util.concurrent.ForkJoinTask.awaitDone(ForkJoinTask.java:468) java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:687) java.util.stream.ReduceOps$ReduceOp.evaluateParallel","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()\n\nWe have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {\n\nConversation:\nuser: steveloughran opened a new pull request, #8006: URL: https://github.com/apache/hadoop/pull/8006 Reworked how entrySet() and values() work, using .forEach() iterators after reviewing what ConcurrentHashMap does internally; it does a (safe) traverse. Add EvaluatingStatisticsMap.forEach() implementatio\nassistant: steveloughran commented on PR #8006: URL: https://github.com/apache/hadoop/pull/8006#issuecomment-3357467095 tested s3 london args ` -Dparallel-tests -DtestsThreadCount=8 -Dscale` ``` [ERROR] Failures: [ERROR] ITestS3APrefetchingInputStream.testReadLargeFileFully:130 [Maxiumum named action_executor_\nassistant: hadoop-yetus commented on PR #8006: URL: https://github.com/apache/hadoop/pull/8006#issuecomment-3358241968 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 51s | | Docker mode activated. | ||\nassistant: steveloughran commented on PR #8006: URL: https://github.com/apache/hadoop/pull/8006#issuecomment-3365176292 build failures are in the yarn-ui; it complains that node is too old ``` [INFO] -\nassistant: steveloughran commented on PR #8006: URL: https://github.com/apache/hadoop/pull/8006#issuecomment-3365209898 I see yarn-ui failure is already covered in a yarn jira.","output":"steveloughran merged PR #8006: URL: https://github.com/apache/hadoop/pull/8006"}
{"instruction":"Extract key technical details from this issue:","input":"We have evidence that `IOStatisticsSupport.snapshotIOStatistics()` can hang, specifically on the statistics collected by an S3AInputStream, whose statistics are merged in to the FS stats in close(); {code} jdk.internal.misc.Unsafe.park(Native Method) java.util.concurrent.locks.LockSupport.park(LockSupport.java:341) java.util.concurrent.ForkJoinTask.awaitDone(ForkJoinTask.java:468) java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:687) java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:927) java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) org.apache.hadoop.fs.statistics.impl.EvaluatingStatisticsMap.entrySet(EvaluatingStatisticsMap.java:166) java.util.Collections$Unmodifiable","output":"S3A: Deadlock observed in IOStatistics EvaluatingStatisticsMap.entryset()"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade hadoop3 docker scripts to 3.4.2\n\nThe Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2.","output":"Upgrade hadoop3 docker scripts to 3.4.2"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade hadoop3 docker scripts to 3.4.2\n\nThe Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade hadoop3 docker scripts to 3.4.2\n\nThe Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade hadoop3 docker scripts to 3.4.2\n\nThe Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2.","output":"The Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade hadoop3 docker scripts to 3.4.2\n\nThe Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade hadoop3 docker scripts to 3.4.2\n\nThe Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2.\n\nConversation:\nuser: slfan1989 opened a new pull request, #8005: URL: https://github.com/apache/hadoop/pull/8005 ### Description of PR ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADOOP-17799. Your PR title ...')? - [ ] Object st\nassistant: slfan1989 commented on PR #8005: URL: https://github.com/apache/hadoop/pull/8005#issuecomment-3355515590 @jojochuang @adoroszlai @ayushtkn Hadoop 3.4.2 has been released, and we are preparing a corresponding Docker image for Hadoop 3.4.2. I have created this PR to complete the Docker image release. \nassistant: adoroszlai commented on code in PR #8005: URL: https://github.com/apache/hadoop/pull/8005#discussion_r2394132623 ########## Dockerfile: ########## @@ -14,7 +14,7 @@ # limitations under the License. FROM apache/hadoop-runner -ARG HADOOP_URL=https://dlcdn.apache.org/hadoop/common/hadoop-3.4.1/hadoop-3\nassistant: slfan1989 commented on code in PR #8005: URL: https://github.com/apache/hadoop/pull/8005#discussion_r2396443322 ########## Dockerfile: ########## @@ -14,7 +14,7 @@ # limitations under the License. FROM apache/hadoop-runner -ARG HADOOP_URL=https://dlcdn.apache.org/hadoop/common/hadoop-3.4.1/hadoop-3.\nassistant: slfan1989 commented on PR #8005: URL: https://github.com/apache/hadoop/pull/8005#issuecomment-3358754054 > Thanks @slfan1989 for the patch. > > ``` > $ docker run -it --rm ghcr.io/slfan1989/hadoop:3.4.2 hadoop version > ... > Hadoop 3.4.2 > Source code repository https://github.com/apache/hadoop.git","output":"slfan1989 commented on PR #8005: URL: https://github.com/apache/hadoop/pull/8005#issuecomment-3369556514 @adoroszlai @ahmarsuhail Thank you very much for helping review the code!"}
{"instruction":"Extract key technical details from this issue:","input":"The Hadoop 3.4.2 version has been released, and we need to update the Hadoop Docker image to version 3.4.2.","output":"Upgrade hadoop3 docker scripts to 3.4.2"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: Read Buffer Manager V2 should not be allowed untill implemented\n\nRead Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2.","output":"ABFS: Read Buffer Manager V2 should not be allowed untill implemented"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: Read Buffer Manager V2 should not be allowed untill implemented\n\nRead Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: Read Buffer Manager V2 should not be allowed untill implemented\n\nRead Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: Read Buffer Manager V2 should not be allowed untill implemented\n\nRead Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2.","output":"Read Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2."}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: Read Buffer Manager V2 should not be allowed untill implemented\n\nRead Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2.\n\nConversation:\nuser: anujmodi2021 opened a new pull request, #8002: URL: https://github.com/apache/hadoop/pull/8002 Read Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2. JIRA: https://issues.apache.org/jira/browse/HADOOP-\nassistant: hadoop-yetus commented on PR #8002: URL: https://github.com/apache/hadoop/pull/8002#issuecomment-3346210665 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 9m 52s | | Docker mode activated. | ||\nassistant: anujmodi2021 merged PR #8002: URL: https://github.com/apache/hadoop/pull/8002","output":"anujmodi2021 merged PR #8002: URL: https://github.com/apache/hadoop/pull/8002"}
{"instruction":"Extract key technical details from this issue:","input":"Read Buffer Manager V2 is a Work in progress and not yet fully ready to be used. This is to stop any user explicitly enabling the config to enable RBMV2.","output":"ABFS: Read Buffer Manager V2 should not be allowed untill implemented"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Add debian:12 and debian:13 as a build platform with JDK-17 as default\n\nAdd a new Dockerfiles to compile Hadoop on latest Debian:12 and Debian:13 with JDK17 as the default compiler.","output":"[JDK17] Add debian:12 and debian:13 as a build platform with JDK-17 as default"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Add debian:12 and debian:13 as a build platform with JDK-17 as default\n\nAdd a new Dockerfiles to compile Hadoop on latest Debian:12 and Debian:13 with JDK17 as the default compiler.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Add debian:12 and debian:13 as a build platform with JDK-17 as default\n\nAdd a new Dockerfiles to compile Hadoop on latest Debian:12 and Debian:13 with JDK17 as the default compiler.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Add debian:12 and debian:13 as a build platform with JDK-17 as default\n\nAdd a new Dockerfiles to compile Hadoop on latest Debian:12 and Debian:13 with JDK17 as the default compiler.","output":"Add a new Dockerfiles to compile Hadoop on latest Debian:12 and Debian:13 with JDK17 as the default compiler."}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK17] Add debian:12 and debian:13 as a build platform with JDK-17 as default\n\nAdd a new Dockerfiles to compile Hadoop on latest Debian:12 and Debian:13 with JDK17 as the default compiler.\n\nConversation:\nuser: vinayakumarb opened a new pull request, #8001: URL: https://github.com/apache/hadoop/pull/8001 This commit introduces support for Debian 12 (Bookworm) and Debian 13 (Trixie) as build platforms, following the approach established for Ubuntu 24. Key changes include: - Creation of `Dockerfile_debian_12\nassistant: hadoop-yetus commented on PR #8001: URL: https://github.com/apache/hadoop/pull/8001#issuecomment-3341301544 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 23m 38s | | Docker mode activated. | |\nassistant: pan3793 commented on PR #8001: URL: https://github.com/apache/hadoop/pull/8001#issuecomment-3342170970 Previously, there were concerns about having many versions of Linux dist Dockerfiles, how about upgrading Debian 10 to 13 directly?\nassistant: slfan1989 commented on PR #8001: URL: https://github.com/apache/hadoop/pull/8001#issuecomment-3349642263 > Previously, there were concerns about having many versions of Linux dist Dockerfiles, how about upgrading Debian 10 to 13 directly? @vinayakumarb Thank you very much for your contribution. Howe\nassistant: vinayakumarb commented on PR #8001: URL: https://github.com/apache/hadoop/pull/8001#issuecomment-3376374939 > > Previously, there were concerns about having many versions of Linux dist Dockerfiles, how about upgrading Debian 10 to 13 directly? > > @vinayakumarb Thank you very much for your contribut","output":"vinayakumarb merged PR #8001: URL: https://github.com/apache/hadoop/pull/8001"}
{"instruction":"Extract key technical details from this issue:","input":"Add a new Dockerfiles to compile Hadoop on latest Debian:12 and Debian:13 with JDK17 as the default compiler.","output":"[JDK17] Add debian:12 and debian:13 as a build platform with JDK-17 as default"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"volcano tos: disable shading when -DskipShade is set on a build\n\nhadoop-tos is shaded, includes things like httpclient5, which leads to a big 4M artifact, with unknown content inside {code} 92K share/hadoop/common/lib/hadoop-aliyun-3.5.0-20250916.124028-685.jar 912K share/hadoop/common/lib/hadoop-aws-3.5.0-20250916.124028-686.jar 808K share/hadoop/common/lib/hadoop-azure-3.5.0-20250916.124028-685.jar 36K share/hadoop/common/lib/hadoop-azure-datalake-3.5.0-20250916.124028-685.jar 72K share/hadoop/common/lib/hadoop-cos-3.5.0-20250916.124028-683.jar 136K share/hadoop/common/lib/hadoop-gcp-3.5.0-SNAPSHOT.jar 140K share/hadoop/common/lib/hadoop-huaweicloud-3.5.0-SNAPSHOT.jar 3.8M share/hadoop/common/lib/hadoop-tos-3.5.0-20250916.124028-202.jar {code} One thing it includes is yet-another mozilla/public-suffix-list.txt. These are a recurrent PITA and I don't want to find them surfacing again. {code} 15. Required Resources ====================== resource: mozilla/public-suffix-list.txt jar:file:/Users/stevel/Projects/Releases/hadoop-3.5.0-SNAPSHOT/share/hadoop/common/lib/hadoop-tos-3.5.0-20250916.124028-202.jar!/mozilla/public-suffix-list.txt {code} Plan * Move the shade stage behind a profile; off for ASF releases. Exclude mozilla/public-suffix-list.txt * Explicitly declare and manage httpclient5 dependency * hadoop-cloud-storage pom to include hadoop-tos but not dependencies in build, unless asked. * LICENSE-binary to declare optional redist of ve-tos-java-sdk-hadoop and its license.","output":"volcano tos: disable shading when -DskipShade is set on a build"}
{"instruction":"Classify the status of this issue based on its description:","input":"volcano tos: disable shading when -DskipShade is set on a build\n\nhadoop-tos is shaded, includes things like httpclient5, which leads to a big 4M artifact, with unknown content inside {code} 92K share/hadoop/common/lib/hadoop-aliyun-3.5.0-20250916.124028-685.jar 912K share/hadoop/common/lib/hadoop-aws-3.5.0-20250916.124028-686.jar 808K share/hadoop/common/lib/hadoop-azure-3.5.0-20250916.124028-685.jar 36K share/hadoop/common/lib/hadoop-azure-datalake-3.5.0-20250916.124028-685.jar 72K share/hadoop/common/lib/hadoop-cos-3.5.0-20250916.124028-683.jar 136K share/h","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"volcano tos: disable shading when -DskipShade is set on a build\n\nhadoop-tos is shaded, includes things like httpclient5, which leads to a big 4M artifact, with unknown content inside {code} 92K share/hadoop/common/lib/hadoop-aliyun-3.5.0-20250916.124028-685.jar 912K share/hadoop/common/lib/hadoop-aws-3.5.0-20250916.124028-686.jar 808K share/hadoop/common/lib/hadoop-azure-3.5.0-20250916.124028-685.jar 36K share/hadoop/common/lib/hadoop-azure-datalake-3.5.0-20250916.124028-685.jar 72K share/hadoop/common/lib/hadoop-cos-3.5.0-20250916.124028-683.jar 136K share/h","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: volcano tos: disable shading when -DskipShade is set on a build\n\nhadoop-tos is shaded, includes things like httpclient5, which leads to a big 4M artifact, with unknown content inside {code} 92K share/hadoop/common/lib/hadoop-aliyun-3.5.0-20250916.124028-685.jar 912K share/hadoop/common/lib/hadoop-aws-3.5.0-20250916.124028-686.jar 808K share/hadoop/common/lib/hadoop-azure-3.5.0-20250916.124028-685.jar 36K share/hadoop/common/lib/hadoop-azure-datalake-3.5.0-20250916.124028-685.jar 72K share/hadoop/common/lib/hadoop-cos-3.5.0-20250916.124028-683.jar 136K share/h","output":"hadoop-tos is shaded, includes things like httpclient5, which leads to a big 4M artifact, with unknown content inside {code} 92K share/hadoop/common/lib/hadoop-aliyun-3.5.0-20250916.124028-685.jar 912K share/hadoop/common/lib/hadoop-aws-3.5.0-20250916.124028-686.jar 808K share/hadoop/common/lib/hado"}
{"instruction":"Continue the conversation about this technical issue:","input":"volcano tos: disable shading when -DskipShade is set on a build\n\nhadoop-tos is shaded, includes things like httpclient5, which leads to a big 4M artifact, with unknown content inside {code} 92K share/hadoop/common/lib/hadoop-aliyun-3.5.0-20250916.124028-685.jar 912\n\nConversation:\nuser: doing this inside HADOOP-19696, as that's where I need the leaner artifacts\nassistant: (note the shading is troubled anyway {code} [INFO] Dependency-reduced POM written at: /Users/stevel/Projects/hadoop-trunk/hadoop-cloud-storage-project/hadoop-tos/dependency-reduced-pom.xml [WARNING] httpclient5-5.3.jar, httpcore5-5.2.4.jar, httpcore5-h2-5.2.4.jar define 3 overlapping resources: [WAR","output":"(note the shading is troubled anyway {code} [INFO] Dependency-reduced POM written at: /Users/stevel/Projects/hadoop-trunk/hadoop-cloud-storage-project/hadoop-tos/dependency-reduced-pom.xml [WARNING] httpclient5-5.3.jar, httpcore5-5.2.4.jar, httpcore5-h2-5.2.4.jar define 3 overlapping resources: [WAR"}
{"instruction":"Extract key technical details from this issue:","input":"hadoop-tos is shaded, includes things like httpclient5, which leads to a big 4M artifact, with unknown content inside {code} 92K share/hadoop/common/lib/hadoop-aliyun-3.5.0-20250916.124028-685.jar 912K share/hadoop/common/lib/hadoop-aws-3.5.0-20250916.124028-686.jar 808K share/hadoop/common/lib/hadoop-azure-3.5.0-20250916.124028-685.jar 36K share/hadoop/common/lib/hadoop-azure-datalake-3.5.0-20250916.124028-685.jar 72K share/hadoop/common/lib/hadoop-cos-3.5.0-20250916.124028-683.jar 136K share/hadoop/common/lib/hadoop-gcp-3.5.0-SNAPSHOT.jar 140K share/hadoop/common/lib/hadoop-huaweicloud-3.5.0-SNAPSHOT.jar 3.8M share/hadoop/common/lib/hadoop-tos-3.5.0-20250916.124028-202.jar {code} One thing it includes is yet-another mozilla/public-suffix-list.txt. These are a recurrent PITA and I don't w","output":"volcano tos: disable shading when -DskipShade is set on a build"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Surefire upgrade leads to increased report output, can cause Jenkins OOM\n\nThe Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in many cases. In my test environment, that leads to {code} Recording test results ERROR: Step ‘Publish JUnit test result report’ aborted due to exception: java.lang.OutOfMemoryError: Java heap space {code} Capturing stdout seems useful when doing ad-hoc testing or smaller test runs. I'd propose adding a profile to set enableOutErrElements=false for CI environments where that extra output can cause problems.","output":"Surefire upgrade leads to increased report output, can cause Jenkins OOM"}
{"instruction":"Classify the status of this issue based on its description:","input":"Surefire upgrade leads to increased report output, can cause Jenkins OOM\n\nThe Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in many cases. In my test environment, that leads to {code} Recording test results ERROR: Step ‘Publish JUnit test result report’ aborted due to exception: java.lang.OutOfMemoryError: Java heap space {code} Capturing stdout seems useful when doing ad-hoc testing or smaller test runs. I'd propose adding a","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Surefire upgrade leads to increased report output, can cause Jenkins OOM\n\nThe Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in many cases. In my test environment, that leads to {code} Recording test results ERROR: Step ‘Publish JUnit test result report’ aborted due to exception: java.lang.OutOfMemoryError: Java heap space {code} Capturing stdout seems useful when doing ad-hoc testing or smaller test runs. I'd propose adding a","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Surefire upgrade leads to increased report output, can cause Jenkins OOM\n\nThe Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in many cases. In my test environment, that leads to {code} Recording test results ERROR: Step ‘Publish JUnit test result report’ aborted due to exception: java.lang.OutOfMemoryError: Java heap space {code} Capturing stdout seems useful when doing ad-hoc testing or smaller test runs. I'd propose adding a","output":"The Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in many cases. In my test environment, that leads to {code} Recording test results ERROR: Step ‘Publish J"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Surefire upgrade leads to increased report output, can cause Jenkins OOM\n\nThe Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in many cases. In my test environment, that leads to {code} Recording test results ERROR: Step ‘Publish JUnit test result report’ aborted due to exception: java.lang.OutOfMemoryError: Java heap space {code} Capturing stdout seems useful when doing ad-hoc testing or smaller test runs. I'd propose adding a","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Surefire upgrade leads to increased report output, can cause Jenkins OOM\n\nThe Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in ma\n\nConversation:\nuser: MikaelSmith opened a new pull request, #7998: URL: https://github.com/apache/hadoop/pull/7998 ### Description of PR Adds the `quiet-surefire` profile to set enableOutErrElements=false for maven-surefire-plugin. This restores the behavior prior to Surefire 3.3 that stdout/stderr are not included in t\nassistant: hadoop-yetus commented on PR #7998: URL: https://github.com/apache/hadoop/pull/7998#issuecomment-3336586704 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 21m 28s | | Docker mode activated. | |\nassistant: steveloughran merged PR #7998: URL: https://github.com/apache/hadoop/pull/7998","output":"steveloughran merged PR #7998: URL: https://github.com/apache/hadoop/pull/7998"}
{"instruction":"Extract key technical details from this issue:","input":"The Surefire upgrade to 3.3+ added enableOutErrElements which defaults to true and includes system-out and system-err in the xml artifacts. This significantly increases their size: ~45KB to ~1MB in many cases. In my test environment, that leads to {code} Recording test results ERROR: Step ‘Publish JUnit test result report’ aborted due to exception: java.lang.OutOfMemoryError: Java heap space {code} Capturing stdout seems useful when doing ad-hoc testing or smaller test runs. I'd propose adding a profile to set enableOutErrElements=false for CI environments where that extra output can cause problems.","output":"Surefire upgrade leads to increased report output, can cause Jenkins OOM"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support Java Modularity\n\nThis is an umbrella JIRA for supporting Java 9 Modularity.","output":"Support Java Modularity"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support Java Modularity\n\nThis is an umbrella JIRA for supporting Java 9 Modularity.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Support Java Modularity\n\nThis is an umbrella JIRA for supporting Java 9 Modularity.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support Java Modularity\n\nThis is an umbrella JIRA for supporting Java 9 Modularity.","output":"This is an umbrella JIRA for supporting Java 9 Modularity."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Do not use Long(long) and similar constructors\n\n'Long(long)' is deprecated since version 9 and marked for removal.","output":"[JDK17] Do not use Long(long) and similar constructors"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Do not use Long(long) and similar constructors\n\n'Long(long)' is deprecated since version 9 and marked for removal.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Do not use Long(long) and similar constructors\n\n'Long(long)' is deprecated since version 9 and marked for removal.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Do not use Long(long) and similar constructors\n\n'Long(long)' is deprecated since version 9 and marked for removal.","output":"'Long(long)' is deprecated since version 9 and marked for removal."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"UserGroupInformation.java is using a non-support operation in JDK25\n\nHello, I'm trying to upgrade my version of ParquetJava and I'm seeing the following error locally {code:java} java.lang.UnsupportedOperationException: getSubject is not supported at java.base/javax.security.auth.Subject.getSubject(Subject.java:277) at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:577) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3852) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3842) at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3630) at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:557) at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:290) at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:541) at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365) at org.apache.parquet.hadoop.util.HadoopOutputFile.fromPath(HadoopOutputFile.java:58) at com.amazon.networkvalidator.parquet.ParquetWriter.write(ParquetWriter.kt:75) at com.amazon.networkvalidator.parquet.ParquetWriterTest$test writing to parquet$1.invokeSuspend(ParquetWriterTest.kt:88) at com.amazon.networkvalidator.parquet.ParquetWriterTest$test writing to parquet$1.invoke(ParquetWriterTest.kt) at com.amazon.networkvalidator.parquet.ParquetWriterTest$test writing to parquet$1.invoke(ParquetWriterTest.kt) at kotlinx.coroutines.test.TestBuildersKt__TestBuildersKt$runTest$2$1$1.invokeSuspend(TestBuilders.kt:318) at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33) at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101) at kotlinx.coroutines.test.TestDispatcher.processEvent$kotlinx_coroutines_test(TestDispatcher.kt:24) at kotlinx.coroutines.test.TestCoroutineScheduler.tryRunNextTaskUnless$kotlinx_coroutines_test(TestCoroutineScheduler.kt:99) at kotlinx.coroutines.test.TestBuildersKt__TestBuildersKt$runTest$2$1$workRunner$1.invokeSuspend(TestBuilders.kt:327) at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33) at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101) at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:263) at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:95) at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:69) at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source) at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:47) at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source) at kotlinx.coroutines.test.TestBuildersJvmKt.createTestResult(TestBuildersJvm.kt:10) at kotlinx.coroutines.test.TestBuildersKt__TestBuildersKt.runTest-8Mi8wO0(TestBuilders.kt:310) at kotlinx.coroutines.test.TestBuildersKt.runTest-8Mi8wO0(Unknown Source) at kotlinx.coroutines.test.TestBuildersKt__TestBuildersKt.runTest-8Mi8wO0(TestBuilders.kt:168) at kotlinx.coroutines.test.TestBuildersKt.runTest-8Mi8wO0(Unknown Source) at kotlinx.coroutines.test.TestBuildersKt__TestBuildersKt.runTest-8Mi8wO0$default(TestBuilders.kt:160) at kotlinx.coroutines.test.TestBuildersKt.runTest-8Mi8wO0$default(Unknown Source) at com.amazon.networkvalidator.parquet.ParquetWriterTest.test writing to parquet(ParquetWriterTest.kt:76) {code} The class making this unsupported call is UserGroupInformation, which is part of the common hadoop pkg - https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common/3.4.2","output":"UserGroupInformation.java is using a non-support operation in JDK25"}
{"instruction":"Classify the status of this issue based on its description:","input":"UserGroupInformation.java is using a non-support operation in JDK25\n\nHello, I'm trying to upgrade my version of ParquetJava and I'm seeing the following error locally {code:java} java.lang.UnsupportedOperationException: getSubject is not supported at java.base/javax.security.auth.Subject.getSubject(Subject.java:277) at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:577) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3852) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3842) at org.apache.ha","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"UserGroupInformation.java is using a non-support operation in JDK25\n\nHello, I'm trying to upgrade my version of ParquetJava and I'm seeing the following error locally {code:java} java.lang.UnsupportedOperationException: getSubject is not supported at java.base/javax.security.auth.Subject.getSubject(Subject.java:277) at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:577) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3852) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3842) at org.apache.ha","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: UserGroupInformation.java is using a non-support operation in JDK25\n\nHello, I'm trying to upgrade my version of ParquetJava and I'm seeing the following error locally {code:java} java.lang.UnsupportedOperationException: getSubject is not supported at java.base/javax.security.auth.Subject.getSubject(Subject.java:277) at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:577) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3852) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3842) at org.apache.ha","output":"Hello, I'm trying to upgrade my version of ParquetJava and I'm seeing the following error locally {code:java} java.lang.UnsupportedOperationException: getSubject is not supported at java.base/javax.security.auth.Subject.getSubject(Subject.java:277) at org.apache.hadoop.security.UserGroupInformation."}
{"instruction":"Continue the conversation about this technical issue:","input":"UserGroupInformation.java is using a non-support operation in JDK25\n\nHello, I'm trying to upgrade my version of ParquetJava and I'm seeing the following error locally {code:java} java.lang.UnsupportedOperationException: getSubject is not supported at java.base/javax.se\n\nConversation:\nuser: Hadoop only supports Java 11. https://cwiki.apache.org/confluence/display/HADOOP/Hadoop+Java+Versions There is work in progress to support Java 17. Java 21 and 25 will be worked on later. HADOOP-19486\nassistant: Appreciate the link, thanks PJ, will keep a watch on that :)","output":"Appreciate the link, thanks PJ, will keep a watch on that :)"}
{"instruction":"Extract key technical details from this issue:","input":"Hello, I'm trying to upgrade my version of ParquetJava and I'm seeing the following error locally {code:java} java.lang.UnsupportedOperationException: getSubject is not supported at java.base/javax.security.auth.Subject.getSubject(Subject.java:277) at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:577) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3852) at org.apache.hadoop.fs.FileSystem$Cache$Key. (FileSystem.java:3842) at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3630) at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:557) at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:290) at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:541) at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365) at org.apac","output":"UserGroupInformation.java is using a non-support operation in JDK25"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update non-thirdparty Guava version to 33.4.8-jre\n\nKeep in sync with recently upgraded thirdparty Guava","output":"Update non-thirdparty Guava version to 33.4.8-jre"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update non-thirdparty Guava version to 33.4.8-jre\n\nKeep in sync with recently upgraded thirdparty Guava","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update non-thirdparty Guava version to 33.4.8-jre\n\nKeep in sync with recently upgraded thirdparty Guava","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update non-thirdparty Guava version to 33.4.8-jre\n\nKeep in sync with recently upgraded thirdparty Guava","output":"Keep in sync with recently upgraded thirdparty Guava"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update non-thirdparty Guava version to 33.4.8-jre\n\nKeep in sync with recently upgraded thirdparty Guava","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update non-thirdparty Guava version to 33.4.8-jre\n\nKeep in sync with recently upgraded thirdparty Guava\n\nConversation:\nuser: stoty opened a new pull request, #7994: URL: https://github.com/apache/hadoop/pull/7994 ### Description of PR Update non-thirdparty Guava version to 33.4.8-jre The motivation is the same as for updating the thirdparty one. ### How was this patch tested? CI ### For code changes: - [X] Does the title \nassistant: hadoop-yetus commented on PR #7994: URL: https://github.com/apache/hadoop/pull/7994#issuecomment-3326537486 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 8m 28s | | Docker mode activated. | ||\nassistant: slfan1989 commented on PR #7994: URL: https://github.com/apache/hadoop/pull/7994#issuecomment-3332389576 @stoty In my opinion, there is no issue with this PR. I have one question, why not upgrade to 33.5.0-jre?\nassistant: stoty commented on PR #7994: URL: https://github.com/apache/hadoop/pull/7994#issuecomment-3332540273 > @stoty In my opinion, there is no issue with this PR. I have one question, why not upgrade to 33.5.0-jre? The hadoop-thirdparty guava is being updated to 33.4.8-jre, and I thought that it's easier \nassistant: slfan1989 commented on PR #7994: URL: https://github.com/apache/hadoop/pull/7994#issuecomment-3349644523 If there are no further comments, I will merge this PR today.","output":"slfan1989 commented on PR #7994: URL: https://github.com/apache/hadoop/pull/7994#issuecomment-3364494335 @stoty Thanks for the contribution! Merged into trunk."}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove invalid `licenses` field of `hadoop-aliyun` SBOM by upgradding `cyclonedx` to 2.9.1\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Remove invalid `licenses` field of `hadoop-aliyun` SBOM by upgradding `cyclonedx` to 2.9.1\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove invalid `licenses` field of `hadoop-aliyun` SBOM by upgradding `cyclonedx` to 2.9.1\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Remove invalid `licenses` field of `hadoop-aliyun` SBOM by upgradding `cyclonedx` to 2.9.1\n\n","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Remove invalid `licenses` field of `hadoop-aliyun` SBOM by upgradding `cyclonedx` to 2.9.1\n\n\n\nConversation:\nuser: dongjoon-hyun opened a new pull request, #7990: URL: https://github.com/apache/hadoop/pull/7990 … ### Description of PR ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADOOP-17799. Your PR title ...')? - [ ] Obj\nassistant: dongjoon-hyun commented on PR #7990: URL: https://github.com/apache/hadoop/pull/7990#issuecomment-3322518878 Thank you, @slfan1989 .\nassistant: hadoop-yetus commented on PR #7990: URL: https://github.com/apache/hadoop/pull/7990#issuecomment-3325310193 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 52s | | Docker mode activated. | ||\nassistant: dongjoon-hyun commented on PR #7990: URL: https://github.com/apache/hadoop/pull/7990#issuecomment-3325322984 All tests passes except `test4tests` and `unit` tests which checks new or revised test cases. So, I believe this PR is ready.\nassistant: slfan1989 merged PR #7990: URL: https://github.com/apache/hadoop/pull/7990","output":"dongjoon-hyun commented on PR #7990: URL: https://github.com/apache/hadoop/pull/7990#issuecomment-3326405610 Thank you so much, @slfan1989 ."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"hadoop-thirdparty build to update maven plugin dependencies\n\ngithub action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. dependency checker 11+ {code} Mandatory Upgrade Notice Upgrading to 10.0.2 or later is mandatory Older versions of dependency-check are causing numerous, duplicative requests that end in processing failures are causing unnecassary load on the NVD API. Dependency-check 10.0.2 uses an updated User-Agent header that will allow the NVD to block calls from the older client. {code} ---- The upgraded dependency checker now *requires* java11+, and *prefers* the provision of an API key for the national vulnerabilities database. It also skips the sonatype check as that no longer supports anonymous checks at all","output":"hadoop-thirdparty build to update maven plugin dependencies"}
{"instruction":"Classify the status of this issue based on its description:","input":"hadoop-thirdparty build to update maven plugin dependencies\n\ngithub action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. dependency checker 11+ {code} Mandatory Upgrade Notice Upgrading to 10.0.2 or later is mandatory Older versions of dependency-check are causing numerous, duplicative requests that end in processing failures are causing unnecassary load on the NVD API. Dependency-check 10.0.2 uses an updated User-Agent h","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"hadoop-thirdparty build to update maven plugin dependencies\n\ngithub action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. dependency checker 11+ {code} Mandatory Upgrade Notice Upgrading to 10.0.2 or later is mandatory Older versions of dependency-check are causing numerous, duplicative requests that end in processing failures are causing unnecassary load on the NVD API. Dependency-check 10.0.2 uses an updated User-Agent h","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: hadoop-thirdparty build to update maven plugin dependencies\n\ngithub action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. dependency checker 11+ {code} Mandatory Upgrade Notice Upgrading to 10.0.2 or later is mandatory Older versions of dependency-check are causing numerous, duplicative requests that end in processing failures are causing unnecassary load on the NVD API. Dependency-check 10.0.2 uses an updated User-Agent h","output":"github action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. dependency checker 11+ {code} Mandatory Upgrade Notice Upgrading to 10.0.2 or later is mandatory Older v"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"hadoop-thirdparty build to update maven plugin dependencies\n\ngithub action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. dependency checker 11+ {code} Mandatory Upgrade Notice Upgrading to 10.0.2 or later is mandatory Older versions of dependency-check are causing numerous, duplicative requests that end in processing failures are causing unnecassary load on the NVD API. Dependency-check 10.0.2 uses an updated User-Agent h","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"hadoop-thirdparty build to update maven plugin dependencies\n\ngithub action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. depe\n\nConversation:\nuser: 10.x cannot parse the current DB files, even if it manages to download them, stevel@apache.org.\nassistant: latest pr does it, just needs java11 for that action. And I've turned off the sonatype checking","output":"latest pr does it, just needs java11 for that action. And I've turned off the sonatype checking"}
{"instruction":"Extract key technical details from this issue:","input":"github action builds of PRs for hadoopHthirdparty fail because of throttling NVE throttling of requests; needs an update to a later version with either retries or use of a github source cve list. dependency checker 11+ {code} Mandatory Upgrade Notice Upgrading to 10.0.2 or later is mandatory Older versions of dependency-check are causing numerous, duplicative requests that end in processing failures are causing unnecassary load on the NVD API. Dependency-check 10.0.2 uses an updated User-Agent header that will allow the NVD to block calls from the older client. {code} ---- The upgraded dependency checker now *requires* java11+, and *prefers* the provision of an API key for the national vulnerabilities database. It also skips the sonatype check as that no longer supports anonymous checks at","output":"hadoop-thirdparty build to update maven plugin dependencies"}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A Analytics-Accelerator: Update LICENSE-binary\n\nupdate LICENSE-binary to include AAL dependency","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"S3A Analytics-Accelerator: Update LICENSE-binary\n\nupdate LICENSE-binary to include AAL dependency","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A Analytics-Accelerator: Update LICENSE-binary\n\nupdate LICENSE-binary to include AAL dependency","output":"update LICENSE-binary to include AAL dependency"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"S3A Analytics-Accelerator: Update LICENSE-binary\n\nupdate LICENSE-binary to include AAL dependency","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"S3A Analytics-Accelerator: Update LICENSE-binary\n\nupdate LICENSE-binary to include AAL dependency\n\nConversation:\nuser: ahmarsuhail opened a new pull request, #7982: URL: https://github.com/apache/hadoop/pull/7982 ### Description of PR Adds in AAL dependency to License-binary. ### How was this patch tested? not required. ### For code changes: - [ ] Does the title or this PR starts with the corresponding JIRA issue id\nassistant: ahmarsuhail commented on PR #7982: URL: https://github.com/apache/hadoop/pull/7982#issuecomment-3306787342 @steveloughran PR to add in license binary.\nassistant: hadoop-yetus commented on PR #7982: URL: https://github.com/apache/hadoop/pull/7982#issuecomment-3307163564 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 52s | | Docker mode activated. | |\nassistant: steveloughran merged PR #7982: URL: https://github.com/apache/hadoop/pull/7982","output":"steveloughran merged PR #7982: URL: https://github.com/apache/hadoop/pull/7982"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"google gs connector registration failing\n\nSurfaced during HADOOP-19696 and work with all the cloud connectors on the classpath. There's a missing dependency causing the gcs connector to fail to register *when the first filesystem is instantiated*, because the service registration process loads the gcs connector class, instantiates one and asks for its schema. As well as a sign of a problem, it's better to just add an entry in core-default.xml as this saves all classloading overhead. It's what the other asf bundled ones do.","output":"google gs connector registration failing"}
{"instruction":"Classify the status of this issue based on its description:","input":"google gs connector registration failing\n\nSurfaced during HADOOP-19696 and work with all the cloud connectors on the classpath. There's a missing dependency causing the gcs connector to fail to register *when the first filesystem is instantiated*, because the service registration process loads the gcs connector class, instantiates one and asks for its schema. As well as a sign of a problem, it's better to just add an entry in core-default.xml as this saves all classloading overhead. It's what the other asf bundled ones do.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"google gs connector registration failing\n\nSurfaced during HADOOP-19696 and work with all the cloud connectors on the classpath. There's a missing dependency causing the gcs connector to fail to register *when the first filesystem is instantiated*, because the service registration process loads the gcs connector class, instantiates one and asks for its schema. As well as a sign of a problem, it's better to just add an entry in core-default.xml as this saves all classloading overhead. It's what the other asf bundled ones do.","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: google gs connector registration failing\n\nSurfaced during HADOOP-19696 and work with all the cloud connectors on the classpath. There's a missing dependency causing the gcs connector to fail to register *when the first filesystem is instantiated*, because the service registration process loads the gcs connector class, instantiates one and asks for its schema. As well as a sign of a problem, it's better to just add an entry in core-default.xml as this saves all classloading overhead. It's what the other asf bundled ones do.","output":"Surfaced during HADOOP-19696 and work with all the cloud connectors on the classpath. There's a missing dependency causing the gcs connector to fail to register *when the first filesystem is instantiated*, because the service registration process loads the gcs connector class, instantiates one and a"}
{"instruction":"Continue the conversation about this technical issue:","input":"google gs connector registration failing\n\nSurfaced during HADOOP-19696 and work with all the cloud connectors on the classpath. There's a missing dependency causing the gcs connector to fail to register *when the first filesystem is instantia\n\nConversation:\nuser: Trying to list local root If there are dependencies needed in the HADOOP-19696 let's make sure they get into common/lib, but this registration process mustn't fail this way, so let's just have a fs.gs.impl declararation in core-default.xml {code} bin/hadoop fs -ls file:/// 2025-09-17 15:03:47,688 [m\nassistant: Hi stevel@apache.org. Not fully caught up on this one, but there is a {{fs.gs.impl}} entry in core-default.xml now. Was that all we needed? https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/resources/core-default.xml#L4508","output":"Hi stevel@apache.org. Not fully caught up on this one, but there is a {{fs.gs.impl}} entry in core-default.xml now. Was that all we needed? https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/resources/core-default.xml#L4508"}
{"instruction":"Extract key technical details from this issue:","input":"Surfaced during HADOOP-19696 and work with all the cloud connectors on the classpath. There's a missing dependency causing the gcs connector to fail to register *when the first filesystem is instantiated*, because the service registration process loads the gcs connector class, instantiates one and asks for its schema. As well as a sign of a problem, it's better to just add an entry in core-default.xml as this saves all classloading overhead. It's what the other asf bundled ones do.","output":"google gs connector registration failing"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"hadoop binary distribution to move cloud connectors to hadoop common/lib\n\nPlace all the cloud connector hadoop-* artifacts and dependencies into hadoop/common/lib so that the stores can be directly accessed. * filesystem operations against abfs, s3a, gcs, etc don't need any effort setting things up. * Releases without the aws bundle.jar can be trivially updated by adding any version of the sdk libraries to the common/lib dir. This adds a lot more stuff into the distribution, so I'm doing the following design * all hadoop-* modules in common/lib * minimal dependencies for hadoop-azure and hadoop-gcs (once we get those right!) * hadoop-aws: everything except bundle.jar * other connectors: only included with explicit profiles. ASF releases will support azure out the box, the others once you add the dependencies. And anyone can build their own release with everything One concern here, we make hadoop-cloud-storage artifact incomplete at pulling in things when depended on. We may need a separate module for the distro setup. Noticed during this that the hadoop-tos component is shaded and includes stuff (httpclient5) that we need under control. Filed HADOOP-19708 and incorporating here.","output":"hadoop binary distribution to move cloud connectors to hadoop common/lib"}
{"instruction":"Classify the status of this issue based on its description:","input":"hadoop binary distribution to move cloud connectors to hadoop common/lib\n\nPlace all the cloud connector hadoop-* artifacts and dependencies into hadoop/common/lib so that the stores can be directly accessed. * filesystem operations against abfs, s3a, gcs, etc don't need any effort setting things up. * Releases without the aws bundle.jar can be trivially updated by adding any version of the sdk libraries to the common/lib dir. This adds a lot more stuff into the distribution, so I'm doing the following design * all hadoop-* modules in common/lib * minimal dependencies ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"hadoop binary distribution to move cloud connectors to hadoop common/lib\n\nPlace all the cloud connector hadoop-* artifacts and dependencies into hadoop/common/lib so that the stores can be directly accessed. * filesystem operations against abfs, s3a, gcs, etc don't need any effort setting things up. * Releases without the aws bundle.jar can be trivially updated by adding any version of the sdk libraries to the common/lib dir. This adds a lot more stuff into the distribution, so I'm doing the following design * all hadoop-* modules in common/lib * minimal dependencies ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: hadoop binary distribution to move cloud connectors to hadoop common/lib\n\nPlace all the cloud connector hadoop-* artifacts and dependencies into hadoop/common/lib so that the stores can be directly accessed. * filesystem operations against abfs, s3a, gcs, etc don't need any effort setting things up. * Releases without the aws bundle.jar can be trivially updated by adding any version of the sdk libraries to the common/lib dir. This adds a lot more stuff into the distribution, so I'm doing the following design * all hadoop-* modules in common/lib * minimal dependencies ","output":"Place all the cloud connector hadoop-* artifacts and dependencies into hadoop/common/lib so that the stores can be directly accessed. * filesystem operations against abfs, s3a, gcs, etc don't need any effort setting things up. * Releases without the aws bundle.jar can be trivially updated by adding "}
{"instruction":"Continue the conversation about this technical issue:","input":"hadoop binary distribution to move cloud connectors to hadoop common/lib\n\nPlace all the cloud connector hadoop-* artifacts and dependencies into hadoop/common/lib so that the stores can be directly accessed. * filesystem operations against abfs, s3a, gcs, etc don't need any\n\nConversation:\nuser: steveloughran opened a new pull request, #7980: URL: https://github.com/apache/hadoop/pull/7980 * new assembly for hadoop cloud storage * hadoop-cloud-storage does the assembly on -Pdist * layout stitching to move into share/hadoop/common/lib * remove connectors from hadoop-tools-dist * cut old jack\nassistant: steveloughran commented on PR #7980: URL: https://github.com/apache/hadoop/pull/7980#issuecomment-3303127263 * This puts the hadoop-azure, hadoop-aws &c binaries into common/lib and so on the classpath everywhere * some problem with gcs instantiation during enum (will file later, as while it surface\nassistant: steveloughran commented on PR #7980: URL: https://github.com/apache/hadoop/pull/7980#issuecomment-3303133677 for contrast, here's 3.4.2 ``` ../hadoop-3.4.2/: total 272 drwxr-xr-x@ 13 stevel staff 416 Aug 7 12:58 bin -rw-r--r--@ 1 stevel staff 824 Aug 27 16:58 binding.xml drwxr-xr-x@ 3 stevel staff 9\nassistant: steveloughran commented on PR #7980: URL: https://github.com/apache/hadoop/pull/7980#issuecomment-3303139199 by contrast: 3.4.2 ``` total 98048 -rw-r--r--@ 1 stevel staff 3448 Aug 7 12:16 animal-sniffer-annotations-1.17.jar -rw-r--r--@ 1 stevel staff 20891 Aug 7 12:16 audience-annotations-0.12.0.jar\nassistant: steveloughran commented on PR #7980: URL: https://github.com/apache/hadoop/pull/7980#issuecomment-3303435683 Having audited the files coming off the cloud connectors, we have about a dozen whose licenses aren't in the binary ``` analyticsaccelerator-s3-1.3.0.jar cos_api-bundle-5.6.19.jar dom4j-2.1.4","output":"cnauroth commented on code in PR #7980: URL: https://github.com/apache/hadoop/pull/7980#discussion_r2449857037 ########## BUILDING.txt: ########## @@ -388,6 +388,57 @@ Create a local staging version of the website (in /tmp/hadoop-site) Note that the site needs to be built in a second pass after othe"}
{"instruction":"Extract key technical details from this issue:","input":"Place all the cloud connector hadoop-* artifacts and dependencies into hadoop/common/lib so that the stores can be directly accessed. * filesystem operations against abfs, s3a, gcs, etc don't need any effort setting things up. * Releases without the aws bundle.jar can be trivially updated by adding any version of the sdk libraries to the common/lib dir. This adds a lot more stuff into the distribution, so I'm doing the following design * all hadoop-* modules in common/lib * minimal dependencies for hadoop-azure and hadoop-gcs (once we get those right!) * hadoop-aws: everything except bundle.jar * other connectors: only included with explicit profiles. ASF releases will support azure out the box, the others once you add the dependencies. And anyone can build their own release with everythin","output":"hadoop binary distribution to move cloud connectors to hadoop common/lib"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add dual-stack/IPv6 Support to HttpServer2\n\nTo support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the solution more elegant. To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to resolve the IP addresses of a host. When the system property java.net.preferIPv4Stack is set to true, only IPv4 addresses are returned, and any IPv6 addresses are ignored, so no extra check is needed to exclude IPv6. When java.net.preferIPv4Stack is false, both IPv4 and IPv6 addresses may be returned, and any IPv6 addresses will also be added as connectors. To disable IPv4, you need to configure the OS at the system level.","output":"Add dual-stack/IPv6 Support to HttpServer2"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add dual-stack/IPv6 Support to HttpServer2\n\nTo support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the solution more elegant. To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to resolve the IP addresses of a host. When the system property java.net.preferIPv4Stack is set to true, only IPv4 addresses are returned, and any IPv6 addresses are ignored, so no extra check is needed ","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add dual-stack/IPv6 Support to HttpServer2\n\nTo support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the solution more elegant. To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to resolve the IP addresses of a host. When the system property java.net.preferIPv4Stack is set to true, only IPv4 addresses are returned, and any IPv6 addresses are ignored, so no extra check is needed ","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add dual-stack/IPv6 Support to HttpServer2\n\nTo support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the solution more elegant. To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to resolve the IP addresses of a host. When the system property java.net.preferIPv4Stack is set to true, only IPv4 addresses are returned, and any IPv6 addresses are ignored, so no extra check is needed ","output":"To support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the solution more elegant. To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add dual-stack/IPv6 Support to HttpServer2\n\nTo support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the solution more elegant. To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to resolve the IP addresses of a host. When the system property java.net.preferIPv4Stack is set to true, only IPv4 addresses are returned, and any IPv6 addresses are ignored, so no extra check is needed ","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add dual-stack/IPv6 Support to HttpServer2\n\nTo support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the sol\n\nConversation:\nuser: ferdelyi opened a new pull request, #7979: URL: https://github.com/apache/hadoop/pull/7979 To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to resolve the IP addresses of a host. When the system property java.net.preferIPv4Stack is set to true, only IPv4 addresses are ret\nassistant: hadoop-yetus commented on PR #7979: URL: https://github.com/apache/hadoop/pull/7979#issuecomment-3303626071 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 47s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7979: URL: https://github.com/apache/hadoop/pull/7979#issuecomment-3304428637 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 48s | | Docker mode activated. | ||\nassistant: brumi1024 commented on code in PR #7979: URL: https://github.com/apache/hadoop/pull/7979#discussion_r2359223851 ########## hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java: ########## @@ -549,25 +550,50 @@ public HttpServer2 build() throws IOException { } for\nassistant: ferdelyi commented on code in PR #7979: URL: https://github.com/apache/hadoop/pull/7979#discussion_r2359742305 ########## hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/http/HttpServer2.java: ########## @@ -549,25 +550,50 @@ public HttpServer2 build() throws IOException { } for ","output":"brumi1024 merged PR #7979: URL: https://github.com/apache/hadoop/pull/7979"}
{"instruction":"Extract key technical details from this issue:","input":"To support clients connecting to JHS via IPv6, we need to equip the YARN WebApp class to bind to an IPv6 address. WebApp uses the HttpServer2, and adding the IPv6 connector to this class makes the solution more elegant. To enable dual-stack or IPv6 support, use InetAddress.getAllByName(hostname) to resolve the IP addresses of a host. When the system property java.net.preferIPv4Stack is set to true, only IPv4 addresses are returned, and any IPv6 addresses are ignored, so no extra check is needed to exclude IPv6. When java.net.preferIPv4Stack is false, both IPv4 and IPv6 addresses may be returned, and any IPv6 addresses will also be added as connectors. To disable IPv4, you need to configure the OS at the system level.","output":"Add dual-stack/IPv6 Support to HttpServer2"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Bump guava to 33.4.8-jre due to EOL\n\nWe can use the latest 33.4.8-jre version as the current one is quite old.","output":"Bump guava to 33.4.8-jre due to EOL"}
{"instruction":"Classify the status of this issue based on its description:","input":"Bump guava to 33.4.8-jre due to EOL\n\nWe can use the latest 33.4.8-jre version as the current one is quite old.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Bump guava to 33.4.8-jre due to EOL\n\nWe can use the latest 33.4.8-jre version as the current one is quite old.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Bump guava to 33.4.8-jre due to EOL\n\nWe can use the latest 33.4.8-jre version as the current one is quite old.","output":"We can use the latest 33.4.8-jre version as the current one is quite old."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Bump guava to 33.4.8-jre due to EOL\n\nWe can use the latest 33.4.8-jre version as the current one is quite old.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Bump guava to 33.4.8-jre due to EOL\n\nWe can use the latest 33.4.8-jre version as the current one is quite old.\n\nConversation:\nuser: When I do a thirdparty build I now get a warning of duplicate module 9 info. {code} [INFO] No artifact matching filter org.checkerframework:checker-qual [WARNING] error_prone_annotations-2.36.0.jar, guava-33.4.8-jre.jar, failureaccess-1.0.3.jar, jspecify-1.0.0.jar, j2objc-annotations-3.0.0.jar defin\nassistant: ahh, the later versions of guava exclude a dependency on checkerframework. So any references in our code (there are four) fail. Which means we have to manually add it if we want a drop in replacement. PITA.","output":"ahh, the later versions of guava exclude a dependency on checkerframework. So any references in our code (there are four) fail. Which means we have to manually add it if we want a drop in replacement. PITA."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update Java 24 to 25 in docker images\n\nTemurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images.","output":"Update Java 24 to 25 in docker images"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update Java 24 to 25 in docker images\n\nTemurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update Java 24 to 25 in docker images\n\nTemurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update Java 24 to 25 in docker images\n\nTemurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images.","output":"Temurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update Java 24 to 25 in docker images\n\nTemurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update Java 24 to 25 in docker images\n\nTemurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images.\n\nConversation:\nuser: The ubuntu packages have been released.\nassistant: stoty opened a new pull request, #7991: URL: https://github.com/apache/hadoop/pull/7991 ### Description of PR Update Java 24 to 25 in docker images ### How was this patch tested? Built ubuntu_20 and ubuntu_24 x64 images, and ran java 25 in them. ### For code changes: - [X] Does the title or this PR \nassistant: stoty commented on PR #7991: URL: https://github.com/apache/hadoop/pull/7991#issuecomment-3322708226 PTAL @slfan1989\nassistant: hadoop-yetus commented on PR #7991: URL: https://github.com/apache/hadoop/pull/7991#issuecomment-3322950127 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 31m 53s | | Docker mode activated. | \nassistant: hadoop-yetus commented on PR #7991: URL: https://github.com/apache/hadoop/pull/7991#issuecomment-3323181520 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 27m 28s | | Docker mode activated. | |","output":"slfan1989 commented on PR #7991: URL: https://github.com/apache/hadoop/pull/7991#issuecomment-3369570388 @stoty Thanks for the contribution!"}
{"instruction":"Extract key technical details from this issue:","input":"Temurin JDK25 packages are expected to be available shortly, update JDK 24 to 25 in the docker images.","output":"Update Java 24 to 25 in docker images"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Exclude junit 4 transitive dependency\n\nHADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies.","output":"Exclude junit 4 transitive dependency"}
{"instruction":"Classify the status of this issue based on its description:","input":"Exclude junit 4 transitive dependency\n\nHADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Exclude junit 4 transitive dependency\n\nHADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Exclude junit 4 transitive dependency\n\nHADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies.","output":"HADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Exclude junit 4 transitive dependency\n\nHADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Exclude junit 4 transitive dependency\n\nHADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies.\n\nConversation:\nuser: {code} [INFO] ------------------ ------------------- [INFO] Building Apache Hadoop Common 3.5.0-SNAPSHOT [11/117] [INFO] from hadoop-common-project/hadoop-common/pom.xml ... [INFO] +- com.squareup.okhttp3:mockwebserver:jar:4.11.0:test [INFO] | +- com.squareup.okhttp3:okhttp:jar:4.11.0:test [INFO] | \nassistant: {code} [INFO] ---------------- ---------------- [INFO] Building Apache Hadoop HttpFS 3.5.0-SNAPSHOT [19/117] [INFO] from hadoop-hdfs-project/hadoop-hdfs-httpfs/pom.xml ... [INFO] +- com.googlecode.json-simple:json-simple:jar:1.1.1:compile [INFO] | \\- junit:junit:jar:4.10:compile {code}\nassistant: {code} [INFO] ----- ------ [INFO] Building Apache Hadoop YARN Application Catalog Webapp 3.5.0-SNAPSHOT [63/117] [INFO] from hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-catalog/hadoop-yarn-applications-catalog-webapp/pom.xml ... [INFO] +- org.apache.solr:solr-te\nassistant: {code} [INFO] -- -- [INFO] Building Apache Hadoop YARN Application MaWo 3.5.0-SNAPSHOT [65/117] [INFO] from hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-mawo/pom.xml ... [INFO] +- com.googlecode.json-simple:json-simple:jar:1.1.1:compile [INFO] | \\- junit:junit:ja\nassistant: szetszwo opened a new pull request, #7978: URL: https://github.com/apache/hadoop/pull/7978 ### Description of PR HADOOP-19692 The direct junit 4 dependency was removed by HADOOP-19617. However, junit 4 is still pulled transitively by other dependencies. ### How was this patch tested? By the pull req","output":"slfan1989 commented on PR #7978: URL: https://github.com/apache/hadoop/pull/7978#issuecomment-3310127385 > Thanks @cnauroth and @slfan1989 for reviewing this! @szetszwo Thank you for the contribution!"}
{"instruction":"Extract key technical details from this issue:","input":"HADOOP-19617 removed direct junit 4 dependency. However, junit 4 is still pulled transitively by other dependencies.","output":"Exclude junit 4 transitive dependency"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Disallow JUnit4 Imports After JUnit5 Migration\n\nAs our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, avoid regressions, and allow safe removal of legacy dependencies. This task involves identifying and eliminating any remaining JUnit4 imports, and introducing static code analysis or linting rules to ban future usage.","output":"[JDK17] Disallow JUnit4 Imports After JUnit5 Migration"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Disallow JUnit4 Imports After JUnit5 Migration\n\nAs our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, avoid regressions, and allow safe removal of legacy dependencies. This task involves identifying and eliminating any remaining JUnit4 imports, and introducing static code analysis or linting rules to ban future usage.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Disallow JUnit4 Imports After JUnit5 Migration\n\nAs our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, avoid regressions, and allow safe removal of legacy dependencies. This task involves identifying and eliminating any remaining JUnit4 imports, and introducing static code analysis or linting rules to ban future usage.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Disallow JUnit4 Imports After JUnit5 Migration\n\nAs our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, avoid regressions, and allow safe removal of legacy dependencies. This task involves identifying and eliminating any remaining JUnit4 imports, and introducing static code analysis or linting rules to ban future usage.","output":"As our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, avoid regressions, and allow safe removal of legacy dependencies. This task involves identifying and "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[JDK17] Disallow JUnit4 Imports After JUnit5 Migration\n\nAs our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, avoid regressions, and allow safe removal of legacy dependencies. This task involves identifying and eliminating any remaining JUnit4 imports, and introducing static code analysis or linting rules to ban future usage.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK17] Disallow JUnit4 Imports After JUnit5 Migration\n\nAs our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, a\n\nConversation:\nuser: slfan1989 commented on PR #7976: URL: https://github.com/apache/hadoop/pull/7976#issuecomment-3297850797 @TaoYang526 We are currently working on upgrading the project to JUnit 5, and I have added a validation rule to prevent users from reintroducing JUnit 4 dependencies. During the review, I found t\nassistant: hadoop-yetus commented on PR #7976: URL: https://github.com/apache/hadoop/pull/7976#issuecomment-3300118538 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 52s | | Docker mode activated. | ||\nassistant: slfan1989 commented on PR #7976: URL: https://github.com/apache/hadoop/pull/7976#issuecomment-3300985791 > +1. Thanks @slfan1989 . > > I was going to suggest also banning `org.hamcrest`, but it looks like there is still a tiny amount of hamcrest remaining in YARN. Maybe this is a topic for a differe\nassistant: hadoop-yetus commented on PR #7976: URL: https://github.com/apache/hadoop/pull/7976#issuecomment-3312878887 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 55s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7976: URL: https://github.com/apache/hadoop/pull/7976#issuecomment-3328740044 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 22m 34s | | Docker mode activated. | |","output":"slfan1989 merged PR #7976: URL: https://github.com/apache/hadoop/pull/7976"}
{"instruction":"Extract key technical details from this issue:","input":"As our project has fully migrated to JUnit5, we should now enforce a rule that prevents the import and usage of JUnit4 classes (such as org.junit.Test, org.junit.Assert, etc.) to ensure consistency, avoid regressions, and allow safe removal of legacy dependencies. This task involves identifying and eliminating any remaining JUnit4 imports, and introducing static code analysis or linting rules to ban future usage.","output":"[JDK17] Disallow JUnit4 Imports After JUnit5 Migration"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Bump commons-lang3 to 3.18.0 due to CVE-2025-48924\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best to upgrade them together.","output":"Bump commons-lang3 to 3.18.0 due to CVE-2025-48924"}
{"instruction":"Classify the status of this issue based on its description:","input":"Bump commons-lang3 to 3.18.0 due to CVE-2025-48924\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best to upgrade them together.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Bump commons-lang3 to 3.18.0 due to CVE-2025-48924\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best to upgrade them together.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Bump commons-lang3 to 3.18.0 due to CVE-2025-48924\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best to upgrade them together.","output":"https://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best to upgrade them together."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Bump commons-lang3 to 3.18.0 due to CVE-2025-48924\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best to upgrade them together.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Bump commons-lang3 to 3.18.0 due to CVE-2025-48924\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best \n\nConversation:\nuser: pjfanning opened a new pull request, #7970: URL: https://github.com/apache/hadoop/pull/7970 ### Description of PR CVE-2025-48924 See https://issues.apache.org/jira/browse/HADOOP-19690 for reason to upgrade commons-text too. ### How was this patch tested? ### For code changes: - [x] Does the title or\nassistant: hadoop-yetus commented on PR #7970: URL: https://github.com/apache/hadoop/pull/7970#issuecomment-3305413646 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 22s | | Docker mode activated. | ||\nassistant: slfan1989 merged PR #7970: URL: https://github.com/apache/hadoop/pull/7970\nassistant: slfan1989 commented on PR #7970: URL: https://github.com/apache/hadoop/pull/7970#issuecomment-3310116432 @pjfanning Thanks for the contribution! The unit test errors are unrelated to this PR. Could you please take a look at the branch-3.4? I think this PR should also be backported there.\nassistant: pjfanning opened a new pull request, #7985: URL: https://github.com/apache/hadoop/pull/7985 * relates to #7970 * HADOOP-19690. bump commons-lang3 to 3.18.0 due to CVE-2025-48924 ### Description of PR ### How was this patch tested? ### For code changes: - [x] Does the title or this PR starts with the","output":"slfan1989 commented on PR #7985: URL: https://github.com/apache/hadoop/pull/7985#issuecomment-3322481127 @pjfanning Thanks for the contribution! Merged into branch-3.4."}
{"instruction":"Extract key technical details from this issue:","input":"https://www.cve.org/CVERecord?id=CVE-2025-48924 Will update commons-text to 1.14.0 which was released with commons-lang3 3.18.0. Due to https://issues.apache.org/jira/browse/HADOOP-19532 - seems best to upgrade them together.","output":"Bump commons-lang3 to 3.18.0 due to CVE-2025-48924"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Bump netty to 4.1.127 due to CVE-2025-58057\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-58057 fixed in 4.1.125 but no harm upgrading to latest","output":"Bump netty to 4.1.127 due to CVE-2025-58057"}
{"instruction":"Classify the status of this issue based on its description:","input":"Bump netty to 4.1.127 due to CVE-2025-58057\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-58057 fixed in 4.1.125 but no harm upgrading to latest","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Bump netty to 4.1.127 due to CVE-2025-58057\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-58057 fixed in 4.1.125 but no harm upgrading to latest","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Bump netty to 4.1.127 due to CVE-2025-58057\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-58057 fixed in 4.1.125 but no harm upgrading to latest","output":"https://www.cve.org/CVERecord?id=CVE-2025-58057 fixed in 4.1.125 but no harm upgrading to latest"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Bump netty to 4.1.127 due to CVE-2025-58057\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-58057 fixed in 4.1.125 but no harm upgrading to latest","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Bump netty to 4.1.127 due to CVE-2025-58057\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-58057 fixed in 4.1.125 but no harm upgrading to latest\n\nConversation:\nuser: pjfanning opened a new pull request, #7969: URL: https://github.com/apache/hadoop/pull/7969 ### Description of PR Upgrade netty due to CVE-2025-58057 ### How was this patch tested? ### For code changes: - [x] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADOOP-17799. \nassistant: slfan1989 merged PR #7969: URL: https://github.com/apache/hadoop/pull/7969\nassistant: slfan1989 commented on PR #7969: URL: https://github.com/apache/hadoop/pull/7969#issuecomment-3310122835 @pjfanning Thanks for the contribution! Merged into trunk. The branch-3.4 should also be taken into consideration.\nassistant: pjfanning opened a new pull request, #7984: URL: https://github.com/apache/hadoop/pull/7984 * HADOOP-19689: bump netty to 4.1.127.Final due to CVE-2025-58057 Signed-off-by: Shilun Fan Update LICENSE-binary ### Description of PR ### How was this patch tested? ### For code changes: - [x] Does the titl\nassistant: hadoop-yetus commented on PR #7984: URL: https://github.com/apache/hadoop/pull/7984#issuecomment-3314414435 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 13m 42s | | Docker mode activated. | |","output":"slfan1989 commented on PR #7984: URL: https://github.com/apache/hadoop/pull/7984#issuecomment-3322482594 @pjfanning Thanks for the contribution! Merged into branch-3.4."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"S3A: ITestS3ACommitterMRJob failing on Junit5\n\nNPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a codepath in FileInputFormat NPEs. Fix is in test code, though FileInputFormat has its NPE messages improved to help understand what is going wrong.","output":"S3A: ITestS3ACommitterMRJob failing on Junit5"}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A: ITestS3ACommitterMRJob failing on Junit5\n\nNPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a codepath in FileInputFormat NPEs. Fix is in test code, though FileInputFormat has its NPE messages improved to help understand what is going wrong.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"S3A: ITestS3ACommitterMRJob failing on Junit5\n\nNPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a codepath in FileInputFormat NPEs. Fix is in test code, though FileInputFormat has its NPE messages improved to help understand what is going wrong.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A: ITestS3ACommitterMRJob failing on Junit5\n\nNPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a codepath in FileInputFormat NPEs. Fix is in test code, though FileInputFormat has its NPE messages improved to help understand what is going wrong.","output":"NPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a codepath in FileInputFormat NPEs. Fix is in test code, though FileInputFormat has its NPE messages im"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"S3A: ITestS3ACommitterMRJob failing on Junit5\n\nNPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a codepath in FileInputFormat NPEs. Fix is in test code, though FileInputFormat has its NPE messages improved to help understand what is going wrong.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"S3A: ITestS3ACommitterMRJob failing on Junit5\n\nNPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a c\n\nConversation:\nuser: steveloughran opened a new pull request, #7968: URL: https://github.com/apache/hadoop/pull/7968 Adds extra logging as to what is happening, passes in actual test dir set at class level. ### How was this patch tested? s3 london ### For code changes: - [X] Does the title or this PR starts with the cor\nassistant: steveloughran commented on PR #7968: URL: https://github.com/apache/hadoop/pull/7968#issuecomment-3293282933 ``` [INFO] Running org.apache.hadoop.fs.s3a.commit.integration.ITestS3ACommitterMRJob [INFO] Running org.apache.hadoop.fs.s3a.commit.integration.ITestS3ACommitterMRJob [INFO] Tests run: 4, Fa\nassistant: steveloughran commented on PR #7968: URL: https://github.com/apache/hadoop/pull/7968#issuecomment-3293285487 fyi @slfan1989 @ahmarsuhail @mukund-thakur one of the final nits of junit5 migration\nassistant: hadoop-yetus commented on PR #7968: URL: https://github.com/apache/hadoop/pull/7968#issuecomment-3294044978 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 34s | | Docker mode activated. | |\nassistant: slfan1989 commented on PR #7968: URL: https://github.com/apache/hadoop/pull/7968#issuecomment-3294374360 LGTM","output":"steveloughran merged PR #7968: URL: https://github.com/apache/hadoop/pull/7968"}
{"instruction":"Extract key technical details from this issue:","input":"NPE in test200 of ITestS3ACommitterMRJob. Cause is * test dir setup and propagation calls Path.getRoot().toUri() which returns the /home dir * somehow the locatedFileStatus of that path being 1 so a codepath in FileInputFormat NPEs. Fix is in test code, though FileInputFormat has its NPE messages improved to help understand what is going wrong.","output":"S3A: ITestS3ACommitterMRJob failing on Junit5"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864\n\n*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled recursion. NOTE: this is independent of the Gson 2.11.0 issue because the Connect2id product could have checked the JSON object nesting depth, regardless of what limits (if any) were imposed by Gson. Severity: 6.9 (medium)","output":"Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864\n\n*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled recursion. NOTE: this is independent of the Gson 2.11.0 issue because the Connect2id product could have checked the JSON object nesting depth, regardless of what limits (if any) were imposed by Gson. Severity: 6.9 (medium)","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864\n\n*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled recursion. NOTE: this is independent of the Gson 2.11.0 issue because the Connect2id product could have checked the JSON object nesting depth, regardless of what limits (if any) were imposed by Gson. Severity: 6.9 (medium)","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864\n\n*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled recursion. NOTE: this is independent of the Gson 2.11.0 issue because the Connect2id product could have checked the JSON object nesting depth, regardless of what limits (if any) were imposed by Gson. Severity: 6.9 (medium)","output":"*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled recursion. NOTE: this is independent of the Gson 2.11.0 issue because the Connect2id product could h"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864\n\n*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled recursion. NOTE: this is independent of the Gson 2.11.0 issue because the Connect2id product could have checked the JSON object nesting depth, regardless of what limits (if any) were imposed by Gson. Severity: 6.9 (medium)","output":"Duplicate"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864\n\n*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled \n\nConversation:\nuser: rohit-kb opened a new pull request, #7965: URL: https://github.com/apache/hadoop/pull/7965 ### Description of PR 1. Bumping nimbus-jose-jwt to 10.4 due to CVEs 2. com.github.stephenc.jcip:jcip-annotations is being shaded and is no more a transitive dependency from nimbus starting from versions 9.38,\nassistant: duplicate of HADOOP-19632 for which there are already PRs\nassistant: rohit-kb commented on PR #7965: URL: https://github.com/apache/hadoop/pull/7965#issuecomment-3302275652 Hi @pjfanning, can we use this patch instead of the original one as I don't see any progress on that? We need this upgrade in the downstream soon. Also, it seems like the original patch hasn't han\nassistant: pjfanning commented on PR #7965: URL: https://github.com/apache/hadoop/pull/7965#issuecomment-3302315128 Could you rebase this to force a new CI run? The tests crashed in the last run.\nassistant: pjfanning commented on PR #7965: URL: https://github.com/apache/hadoop/pull/7965#issuecomment-3302343034 Could you change the name of the PR and the git commit to use [HADOOP-19632](https://issues.apache.org/jira/browse/HADOOP-19632)?","output":"pjfanning commented on PR #7965: URL: https://github.com/apache/hadoop/pull/7965#issuecomment-3302343034 Could you change the name of the PR and the git commit to use [HADOOP-19632](https://issues.apache.org/jira/browse/HADOOP-19632)?"}
{"instruction":"Extract key technical details from this issue:","input":"*CVE-2025-53864:* Connect2id Nimbus JOSE + JWT before 10.0.2 allows a remote attacker to cause a denial of service via a deeply nested JSON object supplied in a JWT claim set, because of uncontrolled recursion. NOTE: this is independent of the Gson 2.11.0 issue because the Connect2id product could have checked the JSON object nesting depth, regardless of what limits (if any) were imposed by Gson. Severity: 6.9 (medium)","output":"Upgrade nimbus-jose-jwt to 10.0.2+ due to CVE-2025-53864"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Clover breaks on double semicolon\n\nBuilding with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/impl/ITestS3APutIfMatchAndIfNoneMatch.java:43:43:unexpected token: ; ... Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/hadoop-aws/target/clover/src-test-instrumented] directory -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/hadoop-aws/target/clover/src-test-instrumented] directory {code} It doesn't seem to like a double semicolon in ITestS3APutIfMatchAndIfNoneMatch.java that was added in HADOOP-19256.","output":"Clover breaks on double semicolon"}
{"instruction":"Classify the status of this issue based on its description:","input":"Clover breaks on double semicolon\n\nBuilding with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/impl/ITestS3APutIfMatchAndIfNoneMatch.java:43:43:unexpected token: ; ... Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/hadoop-aws/target/clover/src","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Clover breaks on double semicolon\n\nBuilding with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/impl/ITestS3APutIfMatchAndIfNoneMatch.java:43:43:unexpected token: ; ... Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/hadoop-aws/target/clover/src","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Clover breaks on double semicolon\n\nBuilding with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/impl/ITestS3APutIfMatchAndIfNoneMatch.java:43:43:unexpected token: ; ... Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/hadoop-aws/target/clover/src","output":"Building with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/impl/ITestS3APutIfMatchAndIfNoneMatch.java:43:43:unexpected token: ; ... Failed to execute goal org."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Clover breaks on double semicolon\n\nBuilding with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/impl/ITestS3APutIfMatchAndIfNoneMatch.java:43:43:unexpected token: ; ... Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/hadoop-aws/target/clover/src","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Clover breaks on double semicolon\n\nBuilding with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/\n\nConversation:\nuser: MikaelSmith opened a new pull request, #7956: URL: https://github.com/apache/hadoop/pull/7956 ### Description of PR Removes the extra semicolon after an import that causes `-Pclover` to fail with com.atlassian.clover.api.CloverException: hadoop/hadoop-tools/ hadoop-aws/src/test/java/org/apache/hadoo\nassistant: hadoop-yetus commented on PR #7956: URL: https://github.com/apache/hadoop/pull/7956#issuecomment-3287077606 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 15m 13s | | Docker mode activated. | \nassistant: cnauroth closed pull request #7956: HADOOP-19685. Fix double semicolon breaking clover URL: https://github.com/apache/hadoop/pull/7956\nassistant: cnauroth commented on PR #7956: URL: https://github.com/apache/hadoop/pull/7956#issuecomment-3287154332 I committed this to trunk and branch-3.4. Thank you for the patch @MikaelSmith !","output":"cnauroth commented on PR #7956: URL: https://github.com/apache/hadoop/pull/7956#issuecomment-3287154332 I committed this to trunk and branch-3.4. Thank you for the patch @MikaelSmith !"}
{"instruction":"Extract key technical details from this issue:","input":"Building with {{-Pclover}} fails with {code} [INFO] Instrumentation error com.atlassian.clover.api.CloverException: /home/jenkins/hadoop/hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/impl/ITestS3APutIfMatchAndIfNoneMatch.java:43:43:unexpected token: ; ... Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/hadoop-aws/target/clover/src-test-instrumented] directory -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.openclover:clover-maven-plugin:4.4.1:setup (clover-setup) on project hadoop-aws: Clover has failed to instrument the source files in the [/home/jenkins/hadoop/hadoop-tools/had","output":"Clover breaks on double semicolon"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add JDK 21 to Ubuntu 20.04 docker development images\n\nWe want to support JDK21, we better have it available in the development image for testing.","output":"Add JDK 21 to Ubuntu 20.04 docker development images"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add JDK 21 to Ubuntu 20.04 docker development images\n\nWe want to support JDK21, we better have it available in the development image for testing.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add JDK 21 to Ubuntu 20.04 docker development images\n\nWe want to support JDK21, we better have it available in the development image for testing.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add JDK 21 to Ubuntu 20.04 docker development images\n\nWe want to support JDK21, we better have it available in the development image for testing.","output":"We want to support JDK21, we better have it available in the development image for testing."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add JDK 21 to Ubuntu 20.04 docker development images\n\nWe want to support JDK21, we better have it available in the development image for testing.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add JDK 21 to Ubuntu 20.04 docker development images\n\nWe want to support JDK21, we better have it available in the development image for testing.\n\nConversation:\nuser: stoty opened a new pull request, #7947: URL: https://github.com/apache/hadoop/pull/7947 ### Description of PR Add JDK 21 to Ubuntu 20.04 and 24.04 docker development images ### How was this patch tested? Built the default image locally and started JDK21. ### For code changes: - [X] Does the title or\nassistant: hadoop-yetus commented on PR #7947: URL: https://github.com/apache/hadoop/pull/7947#issuecomment-3275227945 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -\nassistant: pan3793 commented on code in PR #7947: URL: https://github.com/apache/hadoop/pull/7947#discussion_r2340621524 ########## dev-support/docker/pkg-resolver/packages.json: ########## @@ -268,17 +268,20 @@ ], \"ubuntu:focal\": [ \"temurin-24-jdk\", + \"temurin-21-jdk\", Review Comment: the ubuntu official apt \nassistant: pan3793 commented on PR #7947: URL: https://github.com/apache/hadoop/pull/7947#issuecomment-3280408907 The Jenkins failure should be fixed by https://github.com/apache/hadoop/pull/7938, @slfan1989 can you help merging that to unblock this patch?\nassistant: stoty commented on code in PR #7947: URL: https://github.com/apache/hadoop/pull/7947#discussion_r2340811930 ########## dev-support/docker/pkg-resolver/packages.json: ########## @@ -268,17 +268,20 @@ ], \"ubuntu:focal\": [ \"temurin-24-jdk\", + \"temurin-21-jdk\", Review Comment: Thanks. Done @pan3793 .","output":"slfan1989 commented on PR #7947: URL: https://github.com/apache/hadoop/pull/7947#issuecomment-3289299477 @stoty Thanks for the contribution! @pan3793 Thanks for the review!"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix incorrect link from current3 of hadoop-site\n\nFix hadoop site incorrect link which reported by https://lists.apache.org/thread/ozvkh0x7qdr8d3vr0tbm5g7jx1jprbct.","output":"Fix incorrect link from current3 of hadoop-site"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix incorrect link from current3 of hadoop-site\n\nFix hadoop site incorrect link which reported by https://lists.apache.org/thread/ozvkh0x7qdr8d3vr0tbm5g7jx1jprbct.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix incorrect link from current3 of hadoop-site\n\nFix hadoop site incorrect link which reported by https://lists.apache.org/thread/ozvkh0x7qdr8d3vr0tbm5g7jx1jprbct.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix incorrect link from current3 of hadoop-site\n\nFix hadoop site incorrect link which reported by https://lists.apache.org/thread/ozvkh0x7qdr8d3vr0tbm5g7jx1jprbct.","output":"Fix hadoop site incorrect link which reported by https://lists.apache.org/thread/ozvkh0x7qdr8d3vr0tbm5g7jx1jprbct."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix incorrect link from current3 of hadoop-site\n\nFix hadoop site incorrect link which reported by https://lists.apache.org/thread/ozvkh0x7qdr8d3vr0tbm5g7jx1jprbct.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Fix hadoop site incorrect link which reported by https://lists.apache.org/thread/ozvkh0x7qdr8d3vr0tbm5g7jx1jprbct.","output":"Fix incorrect link from current3 of hadoop-site"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix S3A failing to initialize S3 buckets having namespace with dot followed by number\n\nS3A fails to initialize when S3 bucket namespace is having dot followed by a number. {*}Specific Problem{*}: URI parsing fails when S3 bucket names contain a dot followed by a number (like {{{}bucket-v1.1-us-east-1{}}}). Java's URI.getHost() method incorrectly interprets the dot-number pattern as a port specification, causing it to return null. {{}} {code:java} hadoop dfs -ls s3a://bucket-v1.1-us-east-1/ WARNING: Use of this script to execute dfs is deprecated. WARNING: Attempting to execute replacement \"hdfs dfs\" instead. 2025-09-08 06:13:06,670 WARN fs.FileSystem: Failed to initialize filesystem s3://bucket-v1.1-us-east-1/: java.lang.IllegalArgumentException: bucket is null/empty -ls: bucket is null/empty{code} {*}Please Note{*}: Although there has been discussion on not allowing S3 buckets with such a namespace ([https://aws.amazon.com/blogs/aws/amazon-s3-path-deprecation-plan-the-rest-of-the-story/]) , Amazon S3 still allows you to create a bucket with such a namespace.","output":"Fix S3A failing to initialize S3 buckets having namespace with dot followed by number"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix S3A failing to initialize S3 buckets having namespace with dot followed by number\n\nS3A fails to initialize when S3 bucket namespace is having dot followed by a number. {*}Specific Problem{*}: URI parsing fails when S3 bucket names contain a dot followed by a number (like {{{}bucket-v1.1-us-east-1{}}}). Java's URI.getHost() method incorrectly interprets the dot-number pattern as a port specification, causing it to return null. {{}} {code:java} hadoop dfs -ls s3a://bucket-v1.1-us-east-1/ WARNING: Use of this script to execute dfs is deprecated. WARNING: Attempting to execute rep","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Fix S3A failing to initialize S3 buckets having namespace with dot followed by number\n\nS3A fails to initialize when S3 bucket namespace is having dot followed by a number. {*}Specific Problem{*}: URI parsing fails when S3 bucket names contain a dot followed by a number (like {{{}bucket-v1.1-us-east-1{}}}). Java's URI.getHost() method incorrectly interprets the dot-number pattern as a port specification, causing it to return null. {{}} {code:java} hadoop dfs -ls s3a://bucket-v1.1-us-east-1/ WARNING: Use of this script to execute dfs is deprecated. WARNING: Attempting to execute rep","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix S3A failing to initialize S3 buckets having namespace with dot followed by number\n\nS3A fails to initialize when S3 bucket namespace is having dot followed by a number. {*}Specific Problem{*}: URI parsing fails when S3 bucket names contain a dot followed by a number (like {{{}bucket-v1.1-us-east-1{}}}). Java's URI.getHost() method incorrectly interprets the dot-number pattern as a port specification, causing it to return null. {{}} {code:java} hadoop dfs -ls s3a://bucket-v1.1-us-east-1/ WARNING: Use of this script to execute dfs is deprecated. WARNING: Attempting to execute rep","output":"S3A fails to initialize when S3 bucket namespace is having dot followed by a number. {*}Specific Problem{*}: URI parsing fails when S3 bucket names contain a dot followed by a number (like {{{}bucket-v1.1-us-east-1{}}}). Java's URI.getHost() method incorrectly interprets the dot-number pattern as a "}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix S3A failing to initialize S3 buckets having namespace with dot followed by number\n\nS3A fails to initialize when S3 bucket namespace is having dot followed by a number. {*}Specific Problem{*}: URI parsing fails when S3 bucket names contain a dot followed by a number (like {{{}bucket-\n\nConversation:\nuser: shameersss1 opened a new pull request, #7942: URL: https://github.com/apache/hadoop/pull/7942 ### Description of PR S3A fails to initialize when S3 bucket namespace is having dot followed by a number. Specific Problem: URI parsing fails when S3 bucket names contain a dot followed by a number (like b\nassistant: shameersss1 commented on PR #7942: URL: https://github.com/apache/hadoop/pull/7942#issuecomment-3267057573 Test `ITestBucketTool,ITestS3ACommitterMRJob` are failing even without the change.\nassistant: shameersss1 commented on PR #7942: URL: https://github.com/apache/hadoop/pull/7942#issuecomment-3267074576 @steveloughran : Could you please review the changes.\nassistant: hadoop-yetus commented on PR #7942: URL: https://github.com/apache/hadoop/pull/7942#issuecomment-3267937541 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 15m 0s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7942: URL: https://github.com/apache/hadoop/pull/7942#issuecomment-3269845775 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 40s | | Docker mode activated. | |","output":"steveloughran commented on code in PR #7942: URL: https://github.com/apache/hadoop/pull/7942#discussion_r2376222445 ########## hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/S3AFileSystem.java: ########## @@ -573,8 +573,11 @@ private static void addDeprecatedKeys() { */ public void i"}
{"instruction":"Extract key technical details from this issue:","input":"S3A fails to initialize when S3 bucket namespace is having dot followed by a number. {*}Specific Problem{*}: URI parsing fails when S3 bucket names contain a dot followed by a number (like {{{}bucket-v1.1-us-east-1{}}}). Java's URI.getHost() method incorrectly interprets the dot-number pattern as a port specification, causing it to return null. {{}} {code:java} hadoop dfs -ls s3a://bucket-v1.1-us-east-1/ WARNING: Use of this script to execute dfs is deprecated. WARNING: Attempting to execute replacement \"hdfs dfs\" instead. 2025-09-08 06:13:06,670 WARN fs.FileSystem: Failed to initialize filesystem s3://bucket-v1.1-us-east-1/: java.lang.IllegalArgumentException: bucket is null/empty -ls: bucket is null/empty{code} {*}Please Note{*}: Although there has been discussion on not allowing S3 buck","output":"Fix S3A failing to initialize S3 buckets having namespace with dot followed by number"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update non-thirdparty Guava version to 32.0.1\n\nGuava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing up on static scanners. Sync the non-thirdparty Guava version to the thirdparty one.","output":"Update non-thirdparty Guava version to 32.0.1"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update non-thirdparty Guava version to 32.0.1\n\nGuava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing up on static scanners. Sync the non-thirdparty Guava version to the thirdparty one.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update non-thirdparty Guava version to 32.0.1\n\nGuava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing up on static scanners. Sync the non-thirdparty Guava version to the thirdparty one.","output":"Critical"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update non-thirdparty Guava version to 32.0.1\n\nGuava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing up on static scanners. Sync the non-thirdparty Guava version to the thirdparty one.","output":"Guava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing up on static scanners. Sync the non-thirdparty Guava version to the thirdparty one."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update non-thirdparty Guava version to 32.0.1\n\nGuava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing up on static scanners. Sync the non-thirdparty Guava version to the thirdparty one.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update non-thirdparty Guava version to 32.0.1\n\nGuava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing\n\nConversation:\nuser: stoty opened a new pull request, #7940: URL: https://github.com/apache/hadoop/pull/7940 same as the current thirdparty Guava version ### Description of PR Guava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming f\nassistant: hadoop-yetus commented on PR #7940: URL: https://github.com/apache/hadoop/pull/7940#issuecomment-3264930118 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 57s | | Docker mode activated. | ||\nassistant: pan3793 commented on PR #7940: URL: https://github.com/apache/hadoop/pull/7940#issuecomment-3280459780 cc @cnauroth\nassistant: slfan1989 commented on PR #7940: URL: https://github.com/apache/hadoop/pull/7940#issuecomment-3289303390 > +1 Thank you @stoty . I'm good with this change. Ideally, I would like to see at least one more committer +1, just in case there are some downstream impacts I haven't thought of. > > CC: @steve\nassistant: stoty commented on PR #7940: URL: https://github.com/apache/hadoop/pull/7940#issuecomment-3289335562 For what it's worth: I've fought a LOT with guava versions in the last six years, but I haven't seen any issue (apart from Google adding new annotation libraries which throw off some shading tests) w","output":"slfan1989 commented on PR #7977: URL: https://github.com/apache/hadoop/pull/7977#issuecomment-3310107461 @stoty Sorry for the late reply, thanks for the contribution!"}
{"instruction":"Extract key technical details from this issue:","input":"Guava has been already updated to 32.0.1 in hadoop-thirdparty. However, Hadoop also dependency manages the non-thirdparty guava version (coming from dependencies), which is still at 27.0-jre , showing up on static scanners. Sync the non-thirdparty Guava version to the thirdparty one.","output":"Update non-thirdparty Guava version to 32.0.1"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Maven site task fails with Java 17\n\nIf I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site ... [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report: IllegalArgumentException -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347) at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175) at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76) at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163) at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73) at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173) at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101) at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910) at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283) at org.apache.maven.cli.MavenCli.main (MavenCli.java:206) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77) at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke (Method.java:569) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283) at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407) at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348) Caused by: org.apache.maven.plugin.MojoExecutionException: Error generating maven-dependency-plugin:3.0.2:analyze-report report at org.apache.maven.plugins.site.render.SiteMojo.execute (SiteMojo.java:153) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126) at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342) at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175) at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76) at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163) at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73) at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173) at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101) at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910) at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283) at org.apache.maven.cli.MavenCli.main (MavenCli.java:206) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77) at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke (Method.java:569) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283) at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407) at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348) Caused by: org.apache.maven.doxia.siterenderer.RendererException: Error generating maven-dependency-plugin:3.0.2:analyze-report report at org.apache.maven.plugins.site.render.ReportDocumentRenderer.renderDocument (ReportDocumentRenderer.java:247) at org.apache.maven.doxia.siterenderer.DefaultSiteRenderer.render (DefaultSiteRenderer.java:349) at org.apache.maven.plugins.site.render.SiteMojo.renderLocale (SiteMojo.java:194) at org.apache.maven.plugins.site.render.SiteMojo.execute (SiteMojo.java:143) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126) at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342) at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175) at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76) at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163) at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73) at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173) at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101) at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910) at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283) at org.apache.maven.cli.MavenCli.main (MavenCli.java:206) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77) at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke (Method.java:569) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283) at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407) at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348) Caused by: java.lang.IllegalArgumentException at org.objectweb.asm.ClassReader. (Unknown Source) at org.objectweb.asm.ClassReader. (Unknown Source) at org.objectweb.asm.ClassReader. (Unknown Source) at org.apache.maven.shared.dependency.analyzer.asm.DependencyClassFileVisitor.visitClass (DependencyClassFileVisitor.java:65) at org.apache.maven.shared.dependency.analyzer.ClassFileVisitorUtils.visitClass (ClassFileVisitorUtils.java:163) at org.apache.maven.shared.dependency.analyzer.ClassFileVisitorUtils.acceptDirectory (ClassFileVisitorUtils.java:143) at org.apache.maven.shared.dependency.analyzer.ClassFileVisitorUtils.accept (ClassFileVisitorUtils.java:71) at org.apache.maven.shared.dependency.analyzer.asm.ASMDependencyAnalyzer.analyze (ASMDependencyAnalyzer.java:50) at org.apache.maven.shared.dependency.analyzer.DefaultProjectDependencyAnalyzer.buildDependencyClasses (DefaultProjectDependencyAnalyzer.java:211) at org.apache.maven.shared.dependency.analyzer.DefaultProjectDependencyAnalyzer.buildDependencyClasses (DefaultProjectDependencyAnalyzer.java:198) at org.apache.maven.shared.dependency.analyzer.DefaultProjectDependencyAnalyzer.analyze (DefaultProjectDependencyAnalyzer.java:74) at org.apache.maven.plugins.dependency.analyze.AnalyzeReportMojo.executeReport (AnalyzeReportMojo.java:138) at org.apache.maven.reporting.AbstractMavenReport.generate (AbstractMavenReport.java:255) at org.apache.maven.plugins.site.render.ReportDocumentRenderer.renderDocument (ReportDocumentRenderer.java:226) at org.apache.maven.doxia.siterenderer.DefaultSiteRenderer.render (DefaultSiteRenderer.java:349) at org.apache.maven.plugins.site.render.SiteMojo.renderLocale (SiteMojo.java:194) at org.apache.maven.plugins.site.render.SiteMojo.execute (SiteMojo.java:143) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126) at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342) at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175) at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76) at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163) at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39) at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73) at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261) at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173) at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101) at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910) at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283) at org.apache.maven.cli.MavenCli.main (MavenCli.java:206) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method) at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77) at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke (Method.java:569) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283) at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407) at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348) [ERROR] [ERROR] Re-run Maven using the -X switch to enable full debug logging. [ERROR] [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException [ERROR] [ERROR] After correcting the problems, you can resume the build with the command [ERROR] mvn -rf :hadoop-annotations {code} Updating to the latest maven-dependency-plugin version (3.8.1) fixes it for me.","output":"Maven site task fails with Java 17"}
{"instruction":"Classify the status of this issue based on its description:","input":"Maven site task fails with Java 17\n\nIf I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site ... [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report: IllegalArgumentException -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Fail","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Maven site task fails with Java 17\n\nIf I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site ... [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report: IllegalArgumentException -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Fail","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Maven site task fails with Java 17\n\nIf I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site ... [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report: IllegalArgumentException -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Fail","output":"If I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site ... [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Maven site task fails with Java 17\n\nIf I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site ... [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report: IllegalArgumentException -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Fail","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Maven site task fails with Java 17\n\nIf I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site .\n\nConversation:\nuser: MikaelSmith opened a new pull request, #7936: URL: https://github.com/apache/hadoop/pull/7936 ### Description of PR Updates maven-dependency-plugin to 3.8.1 to fix an IllegalArgumentException when running the `site:site` Maven task with Java 17. ### How was this patch tested? Ran `mvn -e -Dmaven.jav\nassistant: hadoop-yetus commented on PR #7936: URL: https://github.com/apache/hadoop/pull/7936#issuecomment-3262110832 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 21s | | Docker mode activated. | ||\nassistant: szetszwo merged PR #7936: URL: https://github.com/apache/hadoop/pull/7936\nassistant: The pull request is now merged. Thanks, MikaelSmith!\nassistant: Thanks! PR was merged against trunk, so I think current Fix Version would be 3.5.0.","output":"You are right -- updated it to 3.5.0."}
{"instruction":"Extract key technical details from this issue:","input":"If I try to build site with Java 17, I get an IllegalArgumentException from analyze-report {code} $ mvn -e -Dmaven.javadoc.skip=true -Dhbase.profile=2.0 -DskipTests -DskipITs clean install site:site ... [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report: IllegalArgumentException -> [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.9.1:site (default-cli) on project hadoop-annotations: Error generating maven-dependency-plugin:3.0.2:analyze-report report at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347) at org.apache.maven.lifecy","output":"Maven site task fails with Java 17"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Remove powermock dependency\n\nThe powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore/pom.xml but not used anywhere. We should remove it.","output":"[JDK17] Remove powermock dependency"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Remove powermock dependency\n\nThe powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore/pom.xml but not used anywhere. We should remove it.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Remove powermock dependency\n\nThe powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore/pom.xml but not used anywhere. We should remove it.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Remove powermock dependency\n\nThe powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore/pom.xml but not used anywhere. We should remove it.","output":"The powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore/pom.xml but not used anywhere. We should remove it."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[JDK17] Remove powermock dependency\n\nThe powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore/pom.xml but not used anywhere. We should remove it.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK17] Remove powermock dependency\n\nThe powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore\n\nConversation:\nuser: Will include this in HADOOP-19677.\nassistant: Reopen for removing unused powermock dependencies.\nassistant: szetszwo opened a new pull request, #7939: URL: https://github.com/apache/hadoop/pull/7939 ### Description of PR HADOOP-19678 The powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-tim\nassistant: hadoop-yetus commented on PR #7939: URL: https://github.com/apache/hadoop/pull/7939#issuecomment-3264013057 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 14m 3s | | Docker mode activated. | ||\nassistant: slfan1989 merged PR #7939: URL: https://github.com/apache/hadoop/pull/7939","output":"szetszwo commented on PR #7939: URL: https://github.com/apache/hadoop/pull/7939#issuecomment-3267073155 @slfan1989 , @pan3793 , thanks a lot for reviewing this!"}
{"instruction":"Extract key technical details from this issue:","input":"The powermock dependency is specified in - hadoop-cloud-storage-project/hadoop-huaweicloud/pom.xml - hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-documentstore/pom.xml but not used anywhere. We should remove it.","output":"[JDK17] Remove powermock dependency"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Remove mockito-all 1.10.19 and powermock\n\n- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incompatible with JDK17. -* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-catalog/hadoop-yarn-applications-catalog-webapp/pom.xml","output":"[JDK17] Remove mockito-all 1.10.19 and powermock"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Remove mockito-all 1.10.19 and powermock\n\n- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incompatible with JDK17. -* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-catalog/hadoop-yarn-applications-catalog-webapp/pom.xml","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Remove mockito-all 1.10.19 and powermock\n\n- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incompatible with JDK17. -* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-catalog/hadoop-yarn-applications-catalog-webapp/pom.xml","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Remove mockito-all 1.10.19 and powermock\n\n- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incompatible with JDK17. -* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-catalog/hadoop-yarn-applications-catalog-webapp/pom.xml","output":"- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incompatible with JDK17. -* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applicati"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[JDK17] Remove mockito-all 1.10.19 and powermock\n\n- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incompatible with JDK17. -* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-catalog/hadoop-yarn-applications-catalog-webapp/pom.xml","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK17] Remove mockito-all 1.10.19 and powermock\n\n- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incomp\n\nConversation:\nuser: szetszwo opened a new pull request, #7935: URL: https://github.com/apache/hadoop/pull/7935 ### Description of PR The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. ### How was this patch tested? By updating existing tests ### For code changes: - [X] Does the title or this PR\nassistant: hadoop-yetus commented on PR #7935: URL: https://github.com/apache/hadoop/pull/7935#issuecomment-3260267569 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 23m 29s | | Docker mode activated. | |\nassistant: hadoop-yetus commented on PR #7935: URL: https://github.com/apache/hadoop/pull/7935#issuecomment-3260284208 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 1m 0s | | Docker mode activated. | |||\nassistant: hadoop-yetus commented on PR #7935: URL: https://github.com/apache/hadoop/pull/7935#issuecomment-3262843831 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 52s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7935: URL: https://github.com/apache/hadoop/pull/7935#issuecomment-3262979489 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 51s | | Docker mode activated. | ||","output":"The pull request was merged. Resolving ..."}
{"instruction":"Extract key technical details from this issue:","input":"- The mockito-all 1.10.19 dependency should be replaced by mockito-core 4.11. - The powermock dependency is specified in the pom below. We should replace it with mockito since it is known to be incompatible with JDK17. -* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-catalog/hadoop-yarn-applications-catalog-webapp/pom.xml","output":"[JDK17] Remove mockito-all 1.10.19 and powermock"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Close stale PRs updated over 100 days ago.\n\nClose stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh","output":"Close stale PRs updated over 100 days ago."}
{"instruction":"Classify the status of this issue based on its description:","input":"Close stale PRs updated over 100 days ago.\n\nClose stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Close stale PRs updated over 100 days ago.\n\nClose stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Close stale PRs updated over 100 days ago.\n\nClose stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh","output":"Close stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Close stale PRs updated over 100 days ago.\n\nClose stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Close stale PRs updated over 100 days ago.\n\nClose stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh\n\nConversation:\nuser: Hexiaoqiao opened a new pull request, #7930: URL: https://github.com/apache/hadoop/pull/7930 ### Description of PR This PR adds a GitHub workflow to automatically close stale PRs which have no activity over 100 days. ### How was this patch tested? No. ### For code changes: - [Y] Does the title or th\nassistant: hadoop-yetus commented on PR #7930: URL: https://github.com/apache/hadoop/pull/7930#issuecomment-3252923998 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 55s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7930: URL: https://github.com/apache/hadoop/pull/7930#issuecomment-3253473455 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 55s | | Docker mode activated. | |\nassistant: Hexiaoqiao commented on PR #7930: URL: https://github.com/apache/hadoop/pull/7930#issuecomment-3257436978 Thanks @slfan1989 . ping @ayushtkn @KeeProMise @ahmarsuhail and other guys, any more suggestions here? Thanks.\nassistant: ahmarsuhail commented on code in PR #7930: URL: https://github.com/apache/hadoop/pull/7930#discussion_r2324404204 ########## .github/workflows/stale.yml: ########## @@ -0,0 +1,44 @@ +# +# Licensed to the Apache Software Foundation (ASF) under one +# or more contributor license agreements. See the NO","output":"Hexiaoqiao commented on PR #7930: URL: https://github.com/apache/hadoop/pull/7930#issuecomment-3298596092 Thanks @ahmarsuhail , Yes, it works fine from my side. ref: https://github.com/apache/hadoop/actions/workflows/stale.yml It will keep for a long time because rate limit. I didn't dig if the rate"}
{"instruction":"Extract key technical details from this issue:","input":"Close stale PRs on GitHub which updated over 100 days ago, base on the voting thread: https://lists.apache.org/thread/7x6c029fp9k62bxt2995dz6q6j6sg0bh","output":"Close stale PRs updated over 100 days ago."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK 17] Implementation of JAXB-API has not been found on module path or classpath\n\nWhen i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. 2. java.lang.IllegalStateException: Unable to perform operation: create on org.apache.hadoop.yarn.webapp.MyTestJAXBContextResolver {noformat} Repro steps: - run: ./start-build-env.sh ubuntu_24 - in docker run: mvn clean install -Pjdk17+ -T 32 -DskipTests - in hadoop-yarn-common modul run: mvn test -Dtest=org.apache.hadoop.yarn.webapp.TestWebApp I found a similar error here: https://issues.apache.org/jira/browse/HDDS-5068 Based on my understanding the problem is the JDK11+ environments does not have the JAXB runtime, so we have to explicit provide them. Maybe this is just a temporal solution, till the whole Jakarta upgrade can be done. {panel:title=Full error log} {code} [ERROR] testRobotsText Time elapsed: 0.064 s (ApplicationHandler.java:261) at org.glassfish.jersey.servlet.WebComponent. (WebComponent.java:314) at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154) at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:360) at javax.servlet.GenericServlet.init(GenericServlet.java:244) at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632) ... 104 more Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. - with linked exception: [java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory] at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:232) at javax.xml.bind.ContextFinder.find(ContextFinder.java:375) at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691) at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632) at org.glassfish.jersey.jettison.JettisonJaxbContext. (JettisonJaxbContext.java:73) at org.glassfish.jersey.jettison.JettisonJaxbContext. (JettisonJaxbContext.java:54) at org.apache.hadoop.yarn.webapp.MyTestJAXBContextResolver. (MyTestJAXBContextResolver.java:45) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) at org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1356) at org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:248) at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:342) ... 132 more Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:538) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:92) at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:125) at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:230) ... 146 more {code} {panel}","output":"[JDK 17] Implementation of JAXB-API has not been found on module path or classpath"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK 17] Implementation of JAXB-API has not been found on module path or classpath\n\nWhen i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. 2. java.lang.IllegalStateException: Unable to perform operation: create on org.apache.hadoop.yarn.webapp.MyTestJAXBContextResolver {noformat} Repro steps: - run: ./start-build-env.sh ubuntu_24 - in docker run:","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK 17] Implementation of JAXB-API has not been found on module path or classpath\n\nWhen i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. 2. java.lang.IllegalStateException: Unable to perform operation: create on org.apache.hadoop.yarn.webapp.MyTestJAXBContextResolver {noformat} Repro steps: - run: ./start-build-env.sh ubuntu_24 - in docker run:","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK 17] Implementation of JAXB-API has not been found on module path or classpath\n\nWhen i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. 2. java.lang.IllegalStateException: Unable to perform operation: create on org.apache.hadoop.yarn.webapp.MyTestJAXBContextResolver {noformat} Repro steps: - run: ./start-build-env.sh ubuntu_24 - in docker run:","output":"When i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. 2. java.l"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[JDK 17] Implementation of JAXB-API has not been found on module path or classpath\n\nWhen i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. 2. java.lang.IllegalStateException: Unable to perform operation: create on org.apache.hadoop.yarn.webapp.MyTestJAXBContextResolver {noformat} Repro steps: - run: ./start-build-env.sh ubuntu_24 - in docker run:","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK 17] Implementation of JAXB-API has not been found on module path or classpath\n\nWhen i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind\n\nConversation:\nuser: Thank you. I was able to repro the problem Do you plan to provide a patch bkosztolnik ?\nassistant: K0K0V0K opened a new pull request, #7928: URL: https://github.com/apache/hadoop/pull/7928 https://issues.apache.org/jira/browse/HADOOP-19674 ### Description of PR When we try to create an instance of `JettisonJaxbContext` a `JAXBContext.newInstance` call will happen. With my understanding JAXB is re\nassistant: Hi stoty! Yes, just now. I am not 100% sure this is a good solution in point of architecture, security or long term maintenance, so i am grateful to every review. Thanks!\nassistant: I have looked into this a bit: In 3.4, jaxb-impl is a transitive dependency of jersey-json: {noformat} [INFO] +- com.github.pjfanning:jersey-json:jar:1.22.0:compile [INFO] | \\- com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:compile [INFO] | \\- javax.xml.bind:jaxb-api:jar:2.2.11:compile {noformat} In 3.5 Jer\nassistant: stoty commented on code in PR #7928: URL: https://github.com/apache/hadoop/pull/7928#discussion_r2319677719 ########## hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/pom.xml: ########## @@ -144,6 +144,11 @@ jersey-media-jaxb test + Review Comment: How did you decide whe","output":"K0K0V0K commented on PR #7928: URL: https://github.com/apache/hadoop/pull/7928#issuecomment-3270292832 Thanks! @stoty @slfan1989 @brumi1024 @susheelgupta7 for the review and for the help here!"}
{"instruction":"Extract key technical details from this issue:","input":"When i try to run the *org.apache.hadoop.yarn.webapp.TestWebApp* tests over JDK17 i am facing the following errors: {noformat} Caused by: A MultiException has 2 exceptions. They are: 1. javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath. 2. java.lang.IllegalStateException: Unable to perform operation: create on org.apache.hadoop.yarn.webapp.MyTestJAXBContextResolver {noformat} Repro steps: - run: ./start-build-env.sh ubuntu_24 - in docker run: mvn clean install -Pjdk17+ -T 32 -DskipTests - in hadoop-yarn-common modul run: mvn test -Dtest=org.apache.hadoop.yarn.webapp.TestWebApp I found a similar error here: https://issues.apache.org/jira/browse/HDDS-5068 Based on my understanding the problem is the JDK11+ environments does not have the J","output":"[JDK 17] Implementation of JAXB-API has not been found on module path or classpath"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"BloomMapFile: invalid io.mapfile.bloom.error.rate (≤0 or ≥1) causes NaN/zero vector size and writer construction failure\n\n{{BloomMapFile.Writer#initBloomFilter(Configuration)}} computes the Bloom filter vector size as: {code:java} int numKeys = conf.getInt(IO_MAPFILE_BLOOM_SIZE_KEY, IO_MAPFILE_BLOOM_SIZE_DEFAULT); float errorRate = conf.getFloat(IO_MAPFILE_BLOOM_ERROR_RATE_KEY, IO_MAPFILE_BLOOM_ERROR_RATE_DEFAULT); int vectorSize = (int) Math.ceil( (double)(-HASH_COUNT * numKeys) / Math.log(1.0 - Math.pow(errorRate, 1.0 / HASH_COUNT)) ); {code} When {{io.mapfile.bloom.error.rate}} is *≤ 0* or {*}≥ 1{*}: * {{Math.pow(errorRate, 1/k)}} produces *NaN* (negative base with non-integer exponent) or an invalid value; * {{Math.log(1 - NaN)}} becomes {*}NaN{*}; * {{Math.ceil(NaN)}} cast to {{int}} yields {*}0{*}, so {{{}vectorSize == 0{}}}; * constructing {{DynamicBloomFilter}} subsequently fails, and {{BloomMapFile.Writer}} construction fails (observed as assertion failure in tests). The code misses input validation for {{io.mapfile.bloom.error.rate}} which should be strictly within {{{}(0, 1){}}}. With invalid values, the math silently degrades to NaN/0 and fails at runtime. *Reproduction* Injected values: {{io.mapfile.bloom.error.rate = 0,-1}} Test: {{org.apache.hadoop.io.TestBloomMapFile#testBloomMapFileConstructors}} {code:java} [INFO] Running org.apache.hadoop.io.TestBloomMapFile [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.358 s <<< FAILURE! - in org.apache.hadoop.io.TestBloomMapFile [ERROR] org.apache.hadoop.io.TestBloomMapFile.testBloomMapFileConstructors Time elapsed: 0.272 s <<< FAILURE! java.lang.AssertionError: testBloomMapFileConstructors error !!! at org.apache.hadoop.io.TestBloomMapFile.testBloomMapFileConstructors(TestBloomMapFile.java:287{code}","output":"BloomMapFile: invalid io.mapfile.bloom.error.rate (≤0 or ≥1) causes NaN/zero vector size and writer construction failure"}
{"instruction":"Classify the status of this issue based on its description:","input":"BloomMapFile: invalid io.mapfile.bloom.error.rate (≤0 or ≥1) causes NaN/zero vector size and writer construction failure\n\n{{BloomMapFile.Writer#initBloomFilter(Configuration)}} computes the Bloom filter vector size as: {code:java} int numKeys = conf.getInt(IO_MAPFILE_BLOOM_SIZE_KEY, IO_MAPFILE_BLOOM_SIZE_DEFAULT); float errorRate = conf.getFloat(IO_MAPFILE_BLOOM_ERROR_RATE_KEY, IO_MAPFILE_BLOOM_ERROR_RATE_DEFAULT); int vectorSize = (int) Math.ceil( (double)(-HASH_COUNT * numKeys) / Math.log(1.0 - Math.pow(errorRate, 1.0 / HASH_COUNT)) ); {code} When {{io.mapfile.bloom.error.rate}} is *≤ 0* or {*}≥ 1{*}: * {{Math.po","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"BloomMapFile: invalid io.mapfile.bloom.error.rate (≤0 or ≥1) causes NaN/zero vector size and writer construction failure\n\n{{BloomMapFile.Writer#initBloomFilter(Configuration)}} computes the Bloom filter vector size as: {code:java} int numKeys = conf.getInt(IO_MAPFILE_BLOOM_SIZE_KEY, IO_MAPFILE_BLOOM_SIZE_DEFAULT); float errorRate = conf.getFloat(IO_MAPFILE_BLOOM_ERROR_RATE_KEY, IO_MAPFILE_BLOOM_ERROR_RATE_DEFAULT); int vectorSize = (int) Math.ceil( (double)(-HASH_COUNT * numKeys) / Math.log(1.0 - Math.pow(errorRate, 1.0 / HASH_COUNT)) ); {code} When {{io.mapfile.bloom.error.rate}} is *≤ 0* or {*}≥ 1{*}: * {{Math.po","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: BloomMapFile: invalid io.mapfile.bloom.error.rate (≤0 or ≥1) causes NaN/zero vector size and writer construction failure\n\n{{BloomMapFile.Writer#initBloomFilter(Configuration)}} computes the Bloom filter vector size as: {code:java} int numKeys = conf.getInt(IO_MAPFILE_BLOOM_SIZE_KEY, IO_MAPFILE_BLOOM_SIZE_DEFAULT); float errorRate = conf.getFloat(IO_MAPFILE_BLOOM_ERROR_RATE_KEY, IO_MAPFILE_BLOOM_ERROR_RATE_DEFAULT); int vectorSize = (int) Math.ceil( (double)(-HASH_COUNT * numKeys) / Math.log(1.0 - Math.pow(errorRate, 1.0 / HASH_COUNT)) ); {code} When {{io.mapfile.bloom.error.rate}} is *≤ 0* or {*}≥ 1{*}: * {{Math.po","output":"{{BloomMapFile.Writer#initBloomFilter(Configuration)}} computes the Bloom filter vector size as: {code:java} int numKeys = conf.getInt(IO_MAPFILE_BLOOM_SIZE_KEY, IO_MAPFILE_BLOOM_SIZE_DEFAULT); float errorRate = conf.getFloat(IO_MAPFILE_BLOOM_ERROR_RATE_KEY, IO_MAPFILE_BLOOM_ERROR_RATE_DEFAULT); int"}
{"instruction":"Extract key technical details from this issue:","input":"{{BloomMapFile.Writer#initBloomFilter(Configuration)}} computes the Bloom filter vector size as: {code:java} int numKeys = conf.getInt(IO_MAPFILE_BLOOM_SIZE_KEY, IO_MAPFILE_BLOOM_SIZE_DEFAULT); float errorRate = conf.getFloat(IO_MAPFILE_BLOOM_ERROR_RATE_KEY, IO_MAPFILE_BLOOM_ERROR_RATE_DEFAULT); int vectorSize = (int) Math.ceil( (double)(-HASH_COUNT * numKeys) / Math.log(1.0 - Math.pow(errorRate, 1.0 / HASH_COUNT)) ); {code} When {{io.mapfile.bloom.error.rate}} is *≤ 0* or {*}≥ 1{*}: * {{Math.pow(errorRate, 1/k)}} produces *NaN* (negative base with non-integer exponent) or an invalid value; * {{Math.log(1 - NaN)}} becomes {*}NaN{*}; * {{Math.ceil(NaN)}} cast to {{int}} yields {*}0{*}, so {{{}vectorSize == 0{}}}; * constructing {{DynamicBloomFilter}} subsequently fails, and {{BloomMapFile.W","output":"BloomMapFile: invalid io.mapfile.bloom.error.rate (≤0 or ≥1) causes NaN/zero vector size and writer construction failure"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: Network Error-Based Client Switchover: Apache to JDK (continuous failure))\n\n","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: Network Error-Based Client Switchover: Apache to JDK (continuous failure))\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: Network Error-Based Client Switchover: Apache to JDK (continuous failure))\n\n","output":""}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: Network Error-Based Client Switchover: Apache to JDK (continuous failure))\n\n\n\nConversation:\nuser: bhattmanish98 opened a new pull request, #7967: URL: https://github.com/apache/hadoop/pull/7967 JIRA – https://issues.apache.org/jira/browse/HADOOP-19672 In case of a network error while using the Apache client, we allow the client to switch over from Apache to JDK. This network fallback occurs in t\nassistant: hadoop-yetus commented on PR #7967: URL: https://github.com/apache/hadoop/pull/7967#issuecomment-3293191749 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 36s | | Docker mode activated. | |\nassistant: hadoop-yetus commented on PR #7967: URL: https://github.com/apache/hadoop/pull/7967#issuecomment-3293931499 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 15m 49s | | Docker mode activated. | \nassistant: anmolanmol1234 commented on code in PR #7967: URL: https://github.com/apache/hadoop/pull/7967#discussion_r2381728892 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/services/AbfsApacheHttpClient.java: ########## @@ -73,18 +80,21 @@ static boolean usable() { } AbfsApa\nassistant: anmolanmol1234 commented on code in PR #7967: URL: https://github.com/apache/hadoop/pull/7967#discussion_r2381745959 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/services/AbfsClient.java: ########## @@ -254,7 +259,8 @@ private AbfsClient(final URL baseUrl, abfsApa","output":"bhattmanish98 commented on PR #7967: URL: https://github.com/apache/hadoop/pull/7967#issuecomment-3435042669 > Do you want this in 3.4.3? if so do a backport PR ASAP The previous PR that includes the Apache client changes was also not included in release 3.4.3. We’re planning to include this change "}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Migrate to AssertJ for Assertion Verification\n\nCurrently, the unit tests in the project do not fully leverage modern assertion capabilities, resulting in lower readability and maintainability of the test code. To improve test clarity and extensibility, we plan to migrate the existing assertion library to {*}AssertJ{*}. *Objective:* * Migrate all assertions in existing tests from JUnit or other assertion libraries to AssertJ. * Utilize AssertJ’s rich assertion methods (e.g., fluent API, more readable assertions) to enhance the expressiveness of unit tests. * Ensure that all existing unit tests continue to run correctly after migration. *Implementation Steps:* # Analyze existing unit test code to identify assertions that need to be replaced. # Replace existing assertions with AssertJ assertion syntax. # Run unit tests to ensure the tests pass and function correctly after migration. # Update relevant documentation to ensure the team is aware of how to use AssertJ for assertions.","output":"Migrate to AssertJ for Assertion Verification"}
{"instruction":"Classify the status of this issue based on its description:","input":"Migrate to AssertJ for Assertion Verification\n\nCurrently, the unit tests in the project do not fully leverage modern assertion capabilities, resulting in lower readability and maintainability of the test code. To improve test clarity and extensibility, we plan to migrate the existing assertion library to {*}AssertJ{*}. *Objective:* * Migrate all assertions in existing tests from JUnit or other assertion libraries to AssertJ. * Utilize AssertJ’s rich assertion methods (e.g., fluent API, more readable assertions) to enhance the expressiveness ","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Migrate to AssertJ for Assertion Verification\n\nCurrently, the unit tests in the project do not fully leverage modern assertion capabilities, resulting in lower readability and maintainability of the test code. To improve test clarity and extensibility, we plan to migrate the existing assertion library to {*}AssertJ{*}. *Objective:* * Migrate all assertions in existing tests from JUnit or other assertion libraries to AssertJ. * Utilize AssertJ’s rich assertion methods (e.g., fluent API, more readable assertions) to enhance the expressiveness ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Migrate to AssertJ for Assertion Verification\n\nCurrently, the unit tests in the project do not fully leverage modern assertion capabilities, resulting in lower readability and maintainability of the test code. To improve test clarity and extensibility, we plan to migrate the existing assertion library to {*}AssertJ{*}. *Objective:* * Migrate all assertions in existing tests from JUnit or other assertion libraries to AssertJ. * Utilize AssertJ’s rich assertion methods (e.g., fluent API, more readable assertions) to enhance the expressiveness ","output":"Currently, the unit tests in the project do not fully leverage modern assertion capabilities, resulting in lower readability and maintainability of the test code. To improve test clarity and extensibility, we plan to migrate the existing assertion library to {*}AssertJ{*}. *Objective:* * Migrate all"}
{"instruction":"Continue the conversation about this technical issue:","input":"Migrate to AssertJ for Assertion Verification\n\nCurrently, the unit tests in the project do not fully leverage modern assertion capabilities, resulting in lower readability and maintainability of the test code. To improve test clarity and extensibi\n\nConversation:\nuser: stevel@apache.org The JUnit 5 upgrade for Hadoop is nearing completion, and I will soon initiate a new upgrade plan to migrate the unit tests to AssertJ in order to improve test readability and maintainability. We need to establish a new set of unit testing standards. If you have any relevant sugges","output":"stevel@apache.org The JUnit 5 upgrade for Hadoop is nearing completion, and I will soon initiate a new upgrade plan to migrate the unit tests to AssertJ in order to improve test readability and maintainability. We need to establish a new set of unit testing standards. If you have any relevant sugges"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, the unit tests in the project do not fully leverage modern assertion capabilities, resulting in lower readability and maintainability of the test code. To improve test clarity and extensibility, we plan to migrate the existing assertion library to {*}AssertJ{*}. *Objective:* * Migrate all assertions in existing tests from JUnit or other assertion libraries to AssertJ. * Utilize AssertJ’s rich assertion methods (e.g., fluent API, more readable assertions) to enhance the expressiveness of unit tests. * Ensure that all existing unit tests continue to run correctly after migration. *Implementation Steps:* # Analyze existing unit test code to identify assertions that need to be replaced. # Replace existing assertions with AssertJ assertion syntax. # Run unit tests to ensure the tests","output":"Migrate to AssertJ for Assertion Verification"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update Daemon to restore pre JDK22 Subject behaviour in Threads\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update Daemon to restore pre JDK22 Subject behaviour in Threads\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update Daemon to restore pre JDK22 Subject behaviour in Threads\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update Daemon to restore pre JDK22 Subject behaviour in Threads\n\n","output":"Duplicate"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update Daemon to restore pre JDK22 Subject behaviour in Threads\n\n\n\nConversation:\nuser: Merged into HADOOP-196668","output":"Merged into HADOOP-196668"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add SubjectInheritingThread to restore pre JDK22 Subject behaviour in Threads\n\nThis is the first part of HADOOP-19574 which adds the compatibility code, and fixes Daemon, but does not replace native Thread instances.","output":"Add SubjectInheritingThread to restore pre JDK22 Subject behaviour in Threads"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add SubjectInheritingThread to restore pre JDK22 Subject behaviour in Threads\n\nThis is the first part of HADOOP-19574 which adds the compatibility code, and fixes Daemon, but does not replace native Thread instances.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add SubjectInheritingThread to restore pre JDK22 Subject behaviour in Threads\n\nThis is the first part of HADOOP-19574 which adds the compatibility code, and fixes Daemon, but does not replace native Thread instances.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add SubjectInheritingThread to restore pre JDK22 Subject behaviour in Threads\n\nThis is the first part of HADOOP-19574 which adds the compatibility code, and fixes Daemon, but does not replace native Thread instances.","output":"This is the first part of HADOOP-19574 which adds the compatibility code, and fixes Daemon, but does not replace native Thread instances."}
{"instruction":"Extract key technical details from this issue:","input":"This is the first part of HADOOP-19574 which adds the compatibility code, and fixes Daemon, but does not replace native Thread instances.","output":"Add SubjectInheritingThread to restore pre JDK22 Subject behaviour in Threads"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Clarify legal value constraints for hadoop.security.crypto.buffer.size (min=512; floor to cipher block size)\n\nIn core-default.xml, the property hadoop.security.crypto.buffer.size is currently documented as “The buffer size used by CryptoInputStream and CryptoOutputStream.” It does not specify the legal value constraints. {code:java} hadoop.security.crypto.buffer.size 8192 The buffer size used by CryptoInputStream and CryptoOutputStream. {code} The runtime enforces two hidden constraints that are not documented: 1. Minimum value is 512 bytes. Values below 512 cause IllegalArgumentException at stream construction time. 2. Block-size flooring: The effective buffer size is floored to a multiple of the cipher algorithm’s block size (e.g., 16 bytes for AES/CTR/NoPadding). As a result, users may be surprised that: 1. Setting a value like 4100 results in an actual capacity of 4096. 2. Setting values <512 fails fast with IllegalArgumentException. *Expected* core-default.xml (and user-facing docs) should explicitly document: 1. Minimum legal value: 512 bytes. 2. The effective value is floored to the nearest multiple of the cipher algorithm block size (e.g., 16 for AES).","output":"Clarify legal value constraints for hadoop.security.crypto.buffer.size (min=512; floor to cipher block size)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Clarify legal value constraints for hadoop.security.crypto.buffer.size (min=512; floor to cipher block size)\n\nIn core-default.xml, the property hadoop.security.crypto.buffer.size is currently documented as “The buffer size used by CryptoInputStream and CryptoOutputStream.” It does not specify the legal value constraints. {code:java} hadoop.security.crypto.buffer.size 8192 The buffer size used by CryptoInputStream and CryptoOutputStream. {code} The runtime enforces two hidden constraints that are not documented: 1. Minimum value is 512 bytes. Values below 512 cause IllegalArgumentException at stream cons","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Clarify legal value constraints for hadoop.security.crypto.buffer.size (min=512; floor to cipher block size)\n\nIn core-default.xml, the property hadoop.security.crypto.buffer.size is currently documented as “The buffer size used by CryptoInputStream and CryptoOutputStream.” It does not specify the legal value constraints. {code:java} hadoop.security.crypto.buffer.size 8192 The buffer size used by CryptoInputStream and CryptoOutputStream. {code} The runtime enforces two hidden constraints that are not documented: 1. Minimum value is 512 bytes. Values below 512 cause IllegalArgumentException at stream cons","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Clarify legal value constraints for hadoop.security.crypto.buffer.size (min=512; floor to cipher block size)\n\nIn core-default.xml, the property hadoop.security.crypto.buffer.size is currently documented as “The buffer size used by CryptoInputStream and CryptoOutputStream.” It does not specify the legal value constraints. {code:java} hadoop.security.crypto.buffer.size 8192 The buffer size used by CryptoInputStream and CryptoOutputStream. {code} The runtime enforces two hidden constraints that are not documented: 1. Minimum value is 512 bytes. Values below 512 cause IllegalArgumentException at stream cons","output":"In core-default.xml, the property hadoop.security.crypto.buffer.size is currently documented as “The buffer size used by CryptoInputStream and CryptoOutputStream.” It does not specify the legal value constraints. {code:java} hadoop.security.crypto.buffer.size 8192 The buffer size used by CryptoInput"}
{"instruction":"Continue the conversation about this technical issue:","input":"Clarify legal value constraints for hadoop.security.crypto.buffer.size (min=512; floor to cipher block size)\n\nIn core-default.xml, the property hadoop.security.crypto.buffer.size is currently documented as “The buffer size used by CryptoInputStream and CryptoOutputStream.” It does not specify the legal value \n\nConversation:\nuser: please provide a pull request in trunk which updates the file with the relevant information. hadoop-hdfs-project/hadoop-hdfs/src/site/markdown/TransparentEncryption.md\nassistant: zzz0706 opened a new pull request, #7907: URL: https://github.com/apache/hadoop/pull/7907 ### Description of PR Docs-only change to **TransparentEncryption.md** clarifying the hidden constraints for `hadoop.security.crypto.buffer.size`: - **Minimum value is 512 bytes** (values 4096`, `8195 -> 8192`.\nassistant: Thanks for the guidance. I’ve opened a PR against trunk updating the requested file.\nassistant: hadoop-yetus commented on PR #7907: URL: https://github.com/apache/hadoop/pull/7907#issuecomment-3228575609 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 14m 55s | | Docker mode activated. | ","output":"hadoop-yetus commented on PR #7907: URL: https://github.com/apache/hadoop/pull/7907#issuecomment-3228575609 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 14m 55s | | Docker mode activated. | "}
{"instruction":"Extract key technical details from this issue:","input":"In core-default.xml, the property hadoop.security.crypto.buffer.size is currently documented as “The buffer size used by CryptoInputStream and CryptoOutputStream.” It does not specify the legal value constraints. {code:java} hadoop.security.crypto.buffer.size 8192 The buffer size used by CryptoInputStream and CryptoOutputStream. {code} The runtime enforces two hidden constraints that are not documented: 1. Minimum value is 512 bytes. Values below 512 cause IllegalArgumentException at stream construction time. 2. Block-size flooring: The effective buffer size is floored to a multiple of the cipher algorithm’s block size (e.g., 16 bytes for AES/CTR/NoPadding). As a result, users may be surprised that: 1. Setting a value like 4100 results in an actual capacity of 4096. 2. Setting values <512 ","output":"Clarify legal value constraints for hadoop.security.crypto.buffer.size (min=512; floor to cipher block size)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add hardware-accelerated CRC32 support for riscv64 using the v,zbc,zvbc extension\n\nThis PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v and vclmulh.v (carry-less multiply) instructions for data folding and computes the final checksum via Barrett reduction. Key Features: 1. Runtime Hardware Detection The PR uses kernel hardware probing and cpuinfo parsing to dynamically detect hardware support for CRC32 acceleration (via v, zbc, and zvbc extensions) at runtime. 2. Performance Improvement Hardware-accelerated CRC32 achieves a performance boost of over *3x* compared to the software implementation.","output":"Add hardware-accelerated CRC32 support for riscv64 using the v,zbc,zvbc extension"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add hardware-accelerated CRC32 support for riscv64 using the v,zbc,zvbc extension\n\nThis PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v and vclmulh.v (carry-less multiply) instructions for data folding and computes the final checksum via Barrett reduction. Key Features: 1. Runtime Hardware Detection The PR uses kernel hardware probing and cpuinfo parsing to dynamically detect hardware support for CRC32 acceleration (via v, zbc, and","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add hardware-accelerated CRC32 support for riscv64 using the v,zbc,zvbc extension\n\nThis PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v and vclmulh.v (carry-less multiply) instructions for data folding and computes the final checksum via Barrett reduction. Key Features: 1. Runtime Hardware Detection The PR uses kernel hardware probing and cpuinfo parsing to dynamically detect hardware support for CRC32 acceleration (via v, zbc, and","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add hardware-accelerated CRC32 support for riscv64 using the v,zbc,zvbc extension\n\nThis PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v and vclmulh.v (carry-less multiply) instructions for data folding and computes the final checksum via Barrett reduction. Key Features: 1. Runtime Hardware Detection The PR uses kernel hardware probing and cpuinfo parsing to dynamically detect hardware support for CRC32 acceleration (via v, zbc, and","output":"This PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v and vclmulh.v (carry-less multiply) instructions for data folding and computes the final checksum v"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add hardware-accelerated CRC32 support for riscv64 using the v,zbc,zvbc extension\n\nThis PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v\n\nConversation:\nuser: leiwen2025 opened a new pull request, #7912: URL: https://github.com/apache/hadoop/pull/7912 This PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v and vc\nassistant: hadoop-yetus commented on PR #7912: URL: https://github.com/apache/hadoop/pull/7912#issuecomment-3232576752 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 13m 5s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7912: URL: https://github.com/apache/hadoop/pull/7912#issuecomment-3233497529 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 21s | | Docker mode activated. | ||\nassistant: leiwen2025 commented on PR #7912: URL: https://github.com/apache/hadoop/pull/7912#issuecomment-3409341544 @steveloughran @ayushtkn Hi, this PR has been open for a while. Could you please take a look when you have time? Thanks!\nassistant: steveloughran commented on PR #7912: URL: https://github.com/apache/hadoop/pull/7912#issuecomment-3416334594 It's been a long time since I did C code, I'll have to stare at this a while. In #7903 that creation of the file bulk_crc32_riscv.c should be what the new code goes into; work with @PeterPtro","output":"Thanks! This patch implements CRC32 on RISC-V using Zvbc vector instructions, while HADOOP-19655 uses Zbc scalar ones. Happy to work together with peterptroc to coordinate and test both implementations."}
{"instruction":"Extract key technical details from this issue:","input":"This PR implements vector-accelerated CRC32 using the RISC-V V, Zbc and Zvbc instruction sets, with full functional verification and performance testing completed. The implementation uses the vclmul.v and vclmulh.v (carry-less multiply) instructions for data folding and computes the final checksum via Barrett reduction. Key Features: 1. Runtime Hardware Detection The PR uses kernel hardware probing and cpuinfo parsing to dynamically detect hardware support for CRC32 acceleration (via v, zbc, and zvbc extensions) at runtime. 2. Performance Improvement Hardware-accelerated CRC32 achieves a performance boost of over *3x* compared to the software implementation.","output":"Add hardware-accelerated CRC32 support for riscv64 using the v,zbc,zvbc extension"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[kms] Negative hadoop.security.kms.client.encrypted.key.cache.expiry causes KMSClientProvider init failure with generic IllegalArgumentException;\n\nWhen the client-side config hadoop.security.kms.client.encrypted.key.cache.expiry is set to a negative value in core-site.xml, any tool that initializes KMSClientProvider (e.g., KeyShell) fails immediately with: {code:java} java.lang.IllegalArgumentException: expiry must be > 0 at org.apache.hadoop.crypto.key.kms.ValueQueue. (ValueQueue.java:xxx) at org.apache.hadoop.crypto.key.kms.KMSClientProvider. (KMSClientProvider.java:xxx) ... {code} This is a controlled failure (JVM doesn’t crash), but the error message does not mention which property and what value triggered it. Users typically see a stack trace without a clear remediation hint. *Expected behavior* Fail fast with a clear configuration error that names the property and value, e.g.: Invalid configuration: hadoop.security.kms.client.encrypted.key.cache.expiry = -1 (must be > 0 ms) *Steps to Reproduce* 1. In the client core-site.xml, set: {code:xml} hadoop.security.kms.client.encrypted.key.cache.expiry -1 {code} 2. Ensure the conf is active (echo $HADOOP_CONF_DIR points to this dir). 3. Run: {code:java} ./bin/hadoop key list -provider kms://http@localhost:9600/kms -metadata {code}","output":"[kms] Negative hadoop.security.kms.client.encrypted.key.cache.expiry causes KMSClientProvider init failure with generic IllegalArgumentException;"}
{"instruction":"Classify the status of this issue based on its description:","input":"[kms] Negative hadoop.security.kms.client.encrypted.key.cache.expiry causes KMSClientProvider init failure with generic IllegalArgumentException;\n\nWhen the client-side config hadoop.security.kms.client.encrypted.key.cache.expiry is set to a negative value in core-site.xml, any tool that initializes KMSClientProvider (e.g., KeyShell) fails immediately with: {code:java} java.lang.IllegalArgumentException: expiry must be > 0 at org.apache.hadoop.crypto.key.kms.ValueQueue. (ValueQueue.java:xxx) at org.apache.hadoop.crypto.key.kms.KMSClientProvider. (KMSClientProvider.java:xxx) ... {code} This is a controlled failure (JVM doesn’t crash), but th","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"[kms] Negative hadoop.security.kms.client.encrypted.key.cache.expiry causes KMSClientProvider init failure with generic IllegalArgumentException;\n\nWhen the client-side config hadoop.security.kms.client.encrypted.key.cache.expiry is set to a negative value in core-site.xml, any tool that initializes KMSClientProvider (e.g., KeyShell) fails immediately with: {code:java} java.lang.IllegalArgumentException: expiry must be > 0 at org.apache.hadoop.crypto.key.kms.ValueQueue. (ValueQueue.java:xxx) at org.apache.hadoop.crypto.key.kms.KMSClientProvider. (KMSClientProvider.java:xxx) ... {code} This is a controlled failure (JVM doesn’t crash), but th","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [kms] Negative hadoop.security.kms.client.encrypted.key.cache.expiry causes KMSClientProvider init failure with generic IllegalArgumentException;\n\nWhen the client-side config hadoop.security.kms.client.encrypted.key.cache.expiry is set to a negative value in core-site.xml, any tool that initializes KMSClientProvider (e.g., KeyShell) fails immediately with: {code:java} java.lang.IllegalArgumentException: expiry must be > 0 at org.apache.hadoop.crypto.key.kms.ValueQueue. (ValueQueue.java:xxx) at org.apache.hadoop.crypto.key.kms.KMSClientProvider. (KMSClientProvider.java:xxx) ... {code} This is a controlled failure (JVM doesn’t crash), but th","output":"When the client-side config hadoop.security.kms.client.encrypted.key.cache.expiry is set to a negative value in core-site.xml, any tool that initializes KMSClientProvider (e.g., KeyShell) fails immediately with: {code:java} java.lang.IllegalArgumentException: expiry must be > 0 at org.apache.hadoop."}
{"instruction":"Extract key technical details from this issue:","input":"When the client-side config hadoop.security.kms.client.encrypted.key.cache.expiry is set to a negative value in core-site.xml, any tool that initializes KMSClientProvider (e.g., KeyShell) fails immediately with: {code:java} java.lang.IllegalArgumentException: expiry must be > 0 at org.apache.hadoop.crypto.key.kms.ValueQueue. (ValueQueue.java:xxx) at org.apache.hadoop.crypto.key.kms.KMSClientProvider. (KMSClientProvider.java:xxx) ... {code} This is a controlled failure (JVM doesn’t crash), but the error message does not mention which property and what value triggered it. Users typically see a stack trace without a clear remediation hint. *Expected behavior* Fail fast with a clear configuration error that names the property and value, e.g.: Invalid configuration: hadoop.security.kms.client.e","output":"[kms] Negative hadoop.security.kms.client.encrypted.key.cache.expiry causes KMSClientProvider init failure with generic IllegalArgumentException;"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"S3A Analytics-Accelerator: Move AAL to use Java sync client\n\nJava sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently.","output":"S3A Analytics-Accelerator: Move AAL to use Java sync client"}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A Analytics-Accelerator: Move AAL to use Java sync client\n\nJava sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"S3A Analytics-Accelerator: Move AAL to use Java sync client\n\nJava sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A Analytics-Accelerator: Move AAL to use Java sync client\n\nJava sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently.","output":"Java sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"S3A Analytics-Accelerator: Move AAL to use Java sync client\n\nJava sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"S3A Analytics-Accelerator: Move AAL to use Java sync client\n\nJava sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently.\n\nConversation:\nuser: sync or async?\nassistant: Sync. It's using async currently. But the readVectored + AAL use case is not ideal for the async client. As we already have our own thread pool, and each thread is responsible for making a single S3 request, and start reading data from that input stream immediately to fill the internal buffers.. Wit\nassistant: internal benchmarking has been showing a 4-5% improvement with the Sync client consistently.\nassistant: ahmarsuhail opened a new pull request, #7909: URL: https://github.com/apache/hadoop/pull/7909 ### Description of PR Moves AAL to use the Java sync client as this is giving us the best performance in internal benchmarks. ### How was this patch tested? Tested in ### For code changes: - [ ] Does the ti\nassistant: ahmarsuhail commented on PR #7909: URL: https://github.com/apache/hadoop/pull/7909#issuecomment-3228451753 @steveloughran @mukund-thakur @shameersss1 small PR to move to AAL to use the Java sync client","output":"steveloughran commented on PR #7909: URL: https://github.com/apache/hadoop/pull/7909#issuecomment-3304093797 @ahmarsuhail can you do a followup to add the library to LICENSE-binary? thanks"}
{"instruction":"Extract key technical details from this issue:","input":"Java sync client is giving the best performance for our use case, especially for readVectored() where a large number of requests can be made concurrently.","output":"S3A Analytics-Accelerator: Move AAL to use Java sync client"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration\n\nEstablish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations.","output":"Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration\n\nEstablish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration\n\nEstablish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration\n\nEstablish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations.","output":"Establish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration\n\nEstablish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration\n\nEstablish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations.\n\nConversation:\nuser: PeterPtroc opened a new pull request, #7903: URL: https://github.com/apache/hadoop/pull/7903 ### Description of PR Add a RISC-V-specific compilation unit: org/apache/hadoop/util/bulk_crc32_riscv.c. - Contains a no-op constructor reserved for future HW capability detection and dispatch. - Keeps runti\nassistant: hadoop-yetus commented on PR #7903: URL: https://github.com/apache/hadoop/pull/7903#issuecomment-3225752648 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 22m 29s | | Docker mode activated. | |\nassistant: hadoop-yetus commented on PR #7903: URL: https://github.com/apache/hadoop/pull/7903#issuecomment-3226747056 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 35s | | Docker mode activated. | ||\nassistant: PeterPtroc commented on PR #7903: URL: https://github.com/apache/hadoop/pull/7903#issuecomment-3228926064 Due to some CI infrastructure issues, I will paste the result of validating this patch on a RISC-V machine. Below are the command and the results. Command： ``` mvn -Pnative \\ -Dtest=org.apache.h\nassistant: PeterPtroc commented on PR #7903: URL: https://github.com/apache/hadoop/pull/7903#issuecomment-3228966982 Hi @pan3793 @slfan1989 , could you please take a look when you have a moment? This PR adds RISC-V CRC32 scaffolding and keeps behavior unchanged. Happy to address any feedback. Thanks!","output":"PeterPtroc commented on PR #7903: URL: https://github.com/apache/hadoop/pull/7903#issuecomment-3386121381 Thanks @pan3793 @steveloughran for the review and the merge!"}
{"instruction":"Extract key technical details from this issue:","input":"Establish the foundational build infrastructure for RISC-V CRC32 hardware acceleration support while maintaining full backward compatibility with existing software implementations.","output":"Add RISC-V build infrastructure and placeholder implementation for CRC32 acceleration"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove duplicate include of gcc_optimizations.h in bulk_crc32_x86.c\n\n## Description There is a duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c` at lines 29-30. ## Current Code ```c #include \"gcc_optimizations.h\" #include \"gcc_optimizations.h\" ```","output":"Remove duplicate include of gcc_optimizations.h in bulk_crc32_x86.c"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove duplicate include of gcc_optimizations.h in bulk_crc32_x86.c\n\n## Description There is a duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c` at lines 29-30. ## Current Code ```c #include \"gcc_optimizations.h\" #include \"gcc_optimizations.h\" ```","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove duplicate include of gcc_optimizations.h in bulk_crc32_x86.c\n\n## Description There is a duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c` at lines 29-30. ## Current Code ```c #include \"gcc_optimizations.h\" #include \"gcc_optimizations.h\" ```","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove duplicate include of gcc_optimizations.h in bulk_crc32_x86.c\n\n## Description There is a duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c` at lines 29-30. ## Current Code ```c #include \"gcc_optimizations.h\" #include \"gcc_optimizations.h\" ```","output":"## Description There is a duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c` at lines 29-30. ## Current Code ```c #include \"gcc_optimizations.h\" #include \"gcc_optimizations.h\" ```"}
{"instruction":"Continue the conversation about this technical issue:","input":"Remove duplicate include of gcc_optimizations.h in bulk_crc32_x86.c\n\n## Description There is a duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c` at lines 29-30. ## Current Code ```c #include \"gcc_optimizations.h\" #include \"gcc_optimizations.h\"\n\nConversation:\nuser: PeterPtroc opened a new pull request, #7899: URL: https://github.com/apache/hadoop/pull/7899 …_crc32_x86.c Removes duplicate #include \"gcc_optimizations.h\" statement. ### Description of PR Removes duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c`. ### How was this patch tes\nassistant: hadoop-yetus commented on PR #7899: URL: https://github.com/apache/hadoop/pull/7899#issuecomment-3224065363 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 28m 36s | | Docker mode activated. | |\nassistant: PeterPtroc commented on PR #7899: URL: https://github.com/apache/hadoop/pull/7899#issuecomment-3224106808 I'll push an empty commit to re-run the tests.\nassistant: hadoop-yetus commented on PR #7899: URL: https://github.com/apache/hadoop/pull/7899#issuecomment-3224890091 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 50s | | Docker mode activated. | ||","output":"hadoop-yetus commented on PR #7899: URL: https://github.com/apache/hadoop/pull/7899#issuecomment-3224890091 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 50s | | Docker mode activated. | ||"}
{"instruction":"Extract key technical details from this issue:","input":"## Description There is a duplicate include statement for `gcc_optimizations.h` in `bulk_crc32_x86.c` at lines 29-30. ## Current Code ```c #include \"gcc_optimizations.h\" #include \"gcc_optimizations.h\" ```","output":"Remove duplicate include of gcc_optimizations.h in bulk_crc32_x86.c"}
{"instruction":"Classify the status of this issue based on its description:","input":"Migrate CentOS 8 to Rocky Linux 8 in build env Dockerfile\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Migrate CentOS 8 to Rocky Linux 8 in build env Dockerfile\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Migrate CentOS 8 to Rocky Linux 8 in build env Dockerfile\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Migrate CentOS 8 to Rocky Linux 8 in build env Dockerfile\n\n","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Migrate CentOS 8 to Rocky Linux 8 in build env Dockerfile\n\n\n\nConversation:\nuser: pan3793 opened a new pull request, #7900: URL: https://github.com/apache/hadoop/pull/7900 ### Description of PR Rocky Linux is supposed to be a drop-in replacement for the discontinued CentOS. See more details at https://rockylinux.org/about ### How was this patch tested? ``` $ ./start-build-env.sh \nassistant: hadoop-yetus commented on PR #7900: URL: https://github.com/apache/hadoop/pull/7900#issuecomment-3223525111 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -\nassistant: hadoop-yetus commented on PR #7900: URL: https://github.com/apache/hadoop/pull/7900#issuecomment-3223527763 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -\nassistant: hadoop-yetus commented on PR #7900: URL: https://github.com/apache/hadoop/pull/7900#issuecomment-3223534265 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -\nassistant: pan3793 commented on PR #7900: URL: https://github.com/apache/hadoop/pull/7900#issuecomment-3223579339 Looks like Yetus finds Dockerfile from the trunk branch instead of the PR branch, I'm not very familiar with this part. If the behavior is not easy to change, I'm afraid this PR must be committed f","output":"slfan1989 commented on PR #7938: URL: https://github.com/apache/hadoop/pull/7938#issuecomment-3282884265 @pan3793 Thanks for the contribution! @GauthamBanasandra Thanks for the review!"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: Proposed Enhancement in WorkloadIdentityTokenProvider\n\nExternally Reported Enhancement: *Current Limitation* The current WorkloadIdentityTokenProvider implementation works well for file-based token scenarios, but it's tightly coupled to file system operations and cannot be easily extended for alternative token sources {*}Use Case{*}: *Kubernetes TokenRequest API* In modern Kubernetes environments, the recommended approach is to use the TokenRequest API to generate short-lived, on-demand service account tokens rather than relying on projected volume mounts. *Proposed Enhancement* I propose modifying WorkloadIdentityTokenProvider to accept a Supplier for token retrieval instead of being hardcoded to file operations:","output":"ABFS: Proposed Enhancement in WorkloadIdentityTokenProvider"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: Proposed Enhancement in WorkloadIdentityTokenProvider\n\nExternally Reported Enhancement: *Current Limitation* The current WorkloadIdentityTokenProvider implementation works well for file-based token scenarios, but it's tightly coupled to file system operations and cannot be easily extended for alternative token sources {*}Use Case{*}: *Kubernetes TokenRequest API* In modern Kubernetes environments, the recommended approach is to use the TokenRequest API to generate short-lived, on-demand service account tokens rather than relying on projected volume ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: Proposed Enhancement in WorkloadIdentityTokenProvider\n\nExternally Reported Enhancement: *Current Limitation* The current WorkloadIdentityTokenProvider implementation works well for file-based token scenarios, but it's tightly coupled to file system operations and cannot be easily extended for alternative token sources {*}Use Case{*}: *Kubernetes TokenRequest API* In modern Kubernetes environments, the recommended approach is to use the TokenRequest API to generate short-lived, on-demand service account tokens rather than relying on projected volume ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: Proposed Enhancement in WorkloadIdentityTokenProvider\n\nExternally Reported Enhancement: *Current Limitation* The current WorkloadIdentityTokenProvider implementation works well for file-based token scenarios, but it's tightly coupled to file system operations and cannot be easily extended for alternative token sources {*}Use Case{*}: *Kubernetes TokenRequest API* In modern Kubernetes environments, the recommended approach is to use the TokenRequest API to generate short-lived, on-demand service account tokens rather than relying on projected volume ","output":"Externally Reported Enhancement: *Current Limitation* The current WorkloadIdentityTokenProvider implementation works well for file-based token scenarios, but it's tightly coupled to file system operations and cannot be easily extended for alternative token sources {*}Use Case{*}: *Kubernetes TokenRe"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: Proposed Enhancement in WorkloadIdentityTokenProvider\n\nExternally Reported Enhancement: *Current Limitation* The current WorkloadIdentityTokenProvider implementation works well for file-based token scenarios, but it's tightly coupled to file system operat\n\nConversation:\nuser: anujmodi can you assign this to me?\nassistant: Draft PR without test to see if the structure looks okay - [https://github.com/apache/hadoop/pull/7901] cc: anujmodi\nassistant: Its not showing your name somehow\nassistant: hadoop-yetus commented on PR #7901: URL: https://github.com/apache/hadoop/pull/7901#issuecomment-3224527888 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 21m 38s | | Docker mode activated. | |\nassistant: anujmodi2021 commented on PR #7901: URL: https://github.com/apache/hadoop/pull/7901#issuecomment-3256894074 Thanks for the patch @kunalmnnit We will review this PR and add comments if any.","output":"anujmodi2021 merged PR #7901: URL: https://github.com/apache/hadoop/pull/7901"}
{"instruction":"Extract key technical details from this issue:","input":"Externally Reported Enhancement: *Current Limitation* The current WorkloadIdentityTokenProvider implementation works well for file-based token scenarios, but it's tightly coupled to file system operations and cannot be easily extended for alternative token sources {*}Use Case{*}: *Kubernetes TokenRequest API* In modern Kubernetes environments, the recommended approach is to use the TokenRequest API to generate short-lived, on-demand service account tokens rather than relying on projected volume mounts. *Proposed Enhancement* I propose modifying WorkloadIdentityTokenProvider to accept a Supplier for token retrieval instead of being hardcoded to file operations:","output":"ABFS: Proposed Enhancement in WorkloadIdentityTokenProvider"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade Debian 10 to 11 in build env Dockerfile\n\nDebian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debian.org/debian-security buster/updates InRelease Ign:3 http://deb.debian.org/debian buster-updates InRelease Err:4 http://deb.debian.org/debian buster Release 404 Not Found [IP: 151.101.90.132 80] Err:5 http://deb.debian.org/debian-security buster/updates Release 404 Not Found [IP: 151.101.90.132 80] Err:6 http://deb.debian.org/debian buster-updates Release 404 Not Found [IP: 151.101.90.132 80] Reading package lists... Done E: The repository 'http://deb.debian.org/debian buster Release' does not have a Release file. N: Updating from such a repository can't be done securely, and is therefore disabled by default. N: See apt-secure(8) manpage for repository creation and user configuration details. E: The repository 'http://deb.debian.org/debian-security buster/updates Release' does not have a Release file. N: Updating from such a repository can't be done securely, and is therefore disabled by default. N: See apt-secure(8) manpage for repository creation and user configuration details. E: The repository 'http://deb.debian.org/debian buster-updates Release' does not have a Release file. N: Updating from such a repository can't be done securely, and is therefore disabled by default. N: See apt-secure(8) manpage for repository creation and user configuration details. root@bc2a4c509cb3:/# {code}","output":"Upgrade Debian 10 to 11 in build env Dockerfile"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade Debian 10 to 11 in build env Dockerfile\n\nDebian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debian.org/debian-security buster/updates InRelease Ign:3 http://deb.debian.org/debian buster-updates InRelease Err:4 http://deb.debian.org/debian buster Release 404 Not Found [IP: 151.101.90.132 80] Err:5 http://deb.debian.org/debian-security buster/updates Release 404 Not Found [IP: 151.101.90.132 80] ","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade Debian 10 to 11 in build env Dockerfile\n\nDebian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debian.org/debian-security buster/updates InRelease Ign:3 http://deb.debian.org/debian buster-updates InRelease Err:4 http://deb.debian.org/debian buster Release 404 Not Found [IP: 151.101.90.132 80] Err:5 http://deb.debian.org/debian-security buster/updates Release 404 Not Found [IP: 151.101.90.132 80] ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade Debian 10 to 11 in build env Dockerfile\n\nDebian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debian.org/debian-security buster/updates InRelease Ign:3 http://deb.debian.org/debian buster-updates InRelease Err:4 http://deb.debian.org/debian buster Release 404 Not Found [IP: 151.101.90.132 80] Err:5 http://deb.debian.org/debian-security buster/updates Release 404 Not Found [IP: 151.101.90.132 80] ","output":"Debian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debian.org/debian-security buster/updates InRelease Ign:3 http://deb.debian.org/debian buster-updates InR"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade Debian 10 to 11 in build env Dockerfile\n\nDebian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debian.org/debian-security buster/updates InRelease Ign:3 http://deb.debian.org/debian buster-updates InRelease Err:4 http://deb.debian.org/debian buster Release 404 Not Found [IP: 151.101.90.132 80] Err:5 http://deb.debian.org/debian-security buster/updates Release 404 Not Found [IP: 151.101.90.132 80] ","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade Debian 10 to 11 in build env Dockerfile\n\nDebian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debia\n\nConversation:\nuser: pan3793 opened a new pull request, #7898: URL: https://github.com/apache/hadoop/pull/7898 ### Description of PR Debian 10 EOL, and the apt repo is unavailable, this PR upgrades it to Debian 11 ``` docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian b\nassistant: pan3793 commented on code in PR #7898: URL: https://github.com/apache/hadoop/pull/7898#discussion_r2299802155 ########## start-build-env.sh: ########## @@ -93,7 +93,7 @@ RUN userdel -r \\$(getent passwd ${USER_ID} | cut -d: -f1) 2>/dev/null || : RUN groupadd --non-unique -g ${GROUP_ID} ${USER_NAME} R\nassistant: slfan1989 commented on PR #7898: URL: https://github.com/apache/hadoop/pull/7898#issuecomment-3223070232 LGTM.\nassistant: hadoop-yetus commented on PR #7898: URL: https://github.com/apache/hadoop/pull/7898#issuecomment-3223228361 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 22m 6s | | Docker mode activated. | ||\nassistant: pan3793 commented on PR #7898: URL: https://github.com/apache/hadoop/pull/7898#issuecomment-3223320943 > We need to solve the compilation error issue. The building error occurs on CentOS 8 stage, looks like I need to fix it first","output":"slfan1989 commented on PR #7932: URL: https://github.com/apache/hadoop/pull/7932#issuecomment-3289300445 @pan3793 Thanks for the contribution!"}
{"instruction":"Extract key technical details from this issue:","input":"Debian 10 EOL, and the apt repo is unavailable {code:bash} docker run --rm -it debian:10 bash root@bc2a4c509cb3:/# apt update Ign:1 http://deb.debian.org/debian buster InRelease Ign:2 http://deb.debian.org/debian-security buster/updates InRelease Ign:3 http://deb.debian.org/debian buster-updates InRelease Err:4 http://deb.debian.org/debian buster Release 404 Not Found [IP: 151.101.90.132 80] Err:5 http://deb.debian.org/debian-security buster/updates Release 404 Not Found [IP: 151.101.90.132 80] Err:6 http://deb.debian.org/debian buster-updates Release 404 Not Found [IP: 151.101.90.132 80] Reading package lists... Done E: The repository 'http://deb.debian.org/debian buster Release' does not have a Release file. N: Updating from such a repository can't be done securely, and is therefore disa","output":"Upgrade Debian 10 to 11 in build env Dockerfile"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: [FNS Over Blob] Support create and rename idempotency on FNS Blob from client side\n\nSupport create and rename idempotency on FNS Blob from client side","output":"ABFS: [FNS Over Blob] Support create and rename idempotency on FNS Blob from client side"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: [FNS Over Blob] Support create and rename idempotency on FNS Blob from client side\n\nSupport create and rename idempotency on FNS Blob from client side","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: [FNS Over Blob] Support create and rename idempotency on FNS Blob from client side\n\nSupport create and rename idempotency on FNS Blob from client side","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: [FNS Over Blob] Support create and rename idempotency on FNS Blob from client side\n\nSupport create and rename idempotency on FNS Blob from client side","output":"Support create and rename idempotency on FNS Blob from client side"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: [FNS Over Blob] Support create and rename idempotency on FNS Blob from client side\n\nSupport create and rename idempotency on FNS Blob from client side\n\nConversation:\nuser: hadoop-yetus commented on PR #7914: URL: https://github.com/apache/hadoop/pull/7914#issuecomment-3234744350 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 50s | | Docker mode activated. | |\nassistant: hadoop-yetus commented on PR #7914: URL: https://github.com/apache/hadoop/pull/7914#issuecomment-3234745585 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 51s | | Docker mode activated. | |\nassistant: anujmodi2021 commented on code in PR #7914: URL: https://github.com/apache/hadoop/pull/7914#discussion_r2309688341 ########## hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azurebfs/ITestAzureBlobFileSystemCreate.java: ########## @@ -2236,6 +2238,98 @@ public void testFailureInGetPathS\nassistant: hadoop-yetus commented on PR #7914: URL: https://github.com/apache/hadoop/pull/7914#issuecomment-3236588656 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 21m 17s | | Docker mode activated. | \nassistant: hadoop-yetus commented on PR #7914: URL: https://github.com/apache/hadoop/pull/7914#issuecomment-3237131417 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 51s | | Docker mode activated. | |","output":"anujmodi2021 merged PR #7914: URL: https://github.com/apache/hadoop/pull/7914"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update 3.4.2 docs landing page to highlight changes shipped in the release\n\nThe landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes.","output":"Update 3.4.2 docs landing page to highlight changes shipped in the release"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update 3.4.2 docs landing page to highlight changes shipped in the release\n\nThe landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update 3.4.2 docs landing page to highlight changes shipped in the release\n\nThe landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update 3.4.2 docs landing page to highlight changes shipped in the release\n\nThe landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes.","output":"The landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update 3.4.2 docs landing page to highlight changes shipped in the release\n\nThe landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Update 3.4.2 docs landing page to highlight changes shipped in the release\n\nThe landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes.\n\nConversation:\nuser: ahmarsuhail opened a new pull request, #7887: URL: https://github.com/apache/hadoop/pull/7887 ### Description of PR Updates landing page with 3.4.2 changes. ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADOOP-\nassistant: ahmarsuhail commented on PR #7887: URL: https://github.com/apache/hadoop/pull/7887#issuecomment-3200748949 @anujmodi2021 could you please review the ABFS changes, and let me know if there's anything else you want to highlight. @steveloughran anything else in S3A we want to highlight? I'll merge this\nassistant: hadoop-yetus commented on PR #7887: URL: https://github.com/apache/hadoop/pull/7887#issuecomment-3201009350 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 7m 4s | | Docker mode activated. | ||\nassistant: iwasakims commented on code in PR #7887: URL: https://github.com/apache/hadoop/pull/7887#discussion_r2286735439 ########## hadoop-project/src/site/markdown/index.md.vm: ########## @@ -23,75 +23,33 @@ Overview of Changes Users are encouraged to read the full set of release notes. This page provides a\nassistant: anujmodi2021 commented on code in PR #7887: URL: https://github.com/apache/hadoop/pull/7887#discussion_r2286959916 ########## hadoop-project/src/site/markdown/index.md.vm: ########## @@ -23,75 +23,33 @@ Overview of Changes Users are encouraged to read the full set of release notes. This page provide","output":"hadoop-yetus commented on PR #7887: URL: https://github.com/apache/hadoop/pull/7887#issuecomment-3205356855 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 0s | | Docker mode activated. | | -"}
{"instruction":"Extract key technical details from this issue:","input":"The landing page for the 3.4.2 docs mostly lists changes that already shipped in 3.4.0. Update this to highlight 3.4.2 changes.","output":"Update 3.4.2 docs landing page to highlight changes shipped in the release"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix hadoop-client-minicluster\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix hadoop-client-minicluster\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix hadoop-client-minicluster\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix hadoop-client-minicluster\n\n","output":"Not A Problem"}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix hadoop-client-minicluster\n\n\n\nConversation:\nuser: can you please fill the description of the ticket, it isn't conclusive from the ticket, like what is broken which needs to be fixed\nassistant: I should close this ticket, the issue was fixed by HADOOP-19652","output":"I should close this ticket, the issue was fixed by HADOOP-19652"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add RISC-V Zbc (CLMUL) hardware-accelerated CRC32/CRC32C implementation\n\nThis patch introduces hardware-accelerated CRC32 and CRC32C algorithms for RISC-V platforms supporting the Zbc extension (CLMUL instructions) in bulk_crc32_riscv.c. Key changes: * Implements optimized CRC32 and CRC32C routines using CLMUL instructions for zlib and Castagnoli polynomials. * Automatically switches to hardware acceleration when Zbc is available, otherwise falls back to generic table-based software implementation. * Maintains compatibility with platforms lacking Zbc support. This optimization improves CRC performance on RISC-V CPUs with Zbc extension.","output":"Add RISC-V Zbc (CLMUL) hardware-accelerated CRC32/CRC32C implementation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add RISC-V Zbc (CLMUL) hardware-accelerated CRC32/CRC32C implementation\n\nThis patch introduces hardware-accelerated CRC32 and CRC32C algorithms for RISC-V platforms supporting the Zbc extension (CLMUL instructions) in bulk_crc32_riscv.c. Key changes: * Implements optimized CRC32 and CRC32C routines using CLMUL instructions for zlib and Castagnoli polynomials. * Automatically switches to hardware acceleration when Zbc is available, otherwise falls back to generic table-based software implementation. * Maintains compatibility with platforms lacking Zbc support. This op","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add RISC-V Zbc (CLMUL) hardware-accelerated CRC32/CRC32C implementation\n\nThis patch introduces hardware-accelerated CRC32 and CRC32C algorithms for RISC-V platforms supporting the Zbc extension (CLMUL instructions) in bulk_crc32_riscv.c. Key changes: * Implements optimized CRC32 and CRC32C routines using CLMUL instructions for zlib and Castagnoli polynomials. * Automatically switches to hardware acceleration when Zbc is available, otherwise falls back to generic table-based software implementation. * Maintains compatibility with platforms lacking Zbc support. This op","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add RISC-V Zbc (CLMUL) hardware-accelerated CRC32/CRC32C implementation\n\nThis patch introduces hardware-accelerated CRC32 and CRC32C algorithms for RISC-V platforms supporting the Zbc extension (CLMUL instructions) in bulk_crc32_riscv.c. Key changes: * Implements optimized CRC32 and CRC32C routines using CLMUL instructions for zlib and Castagnoli polynomials. * Automatically switches to hardware acceleration when Zbc is available, otherwise falls back to generic table-based software implementation. * Maintains compatibility with platforms lacking Zbc support. This op","output":"This patch introduces hardware-accelerated CRC32 and CRC32C algorithms for RISC-V platforms supporting the Zbc extension (CLMUL instructions) in bulk_crc32_riscv.c. Key changes: * Implements optimized CRC32 and CRC32C routines using CLMUL instructions for zlib and Castagnoli polynomials. * Automatic"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add RISC-V Zbc (CLMUL) hardware-accelerated CRC32/CRC32C implementation\n\nThis patch introduces hardware-accelerated CRC32 and CRC32C algorithms for RISC-V platforms supporting the Zbc extension (CLMUL instructions) in bulk_crc32_riscv.c. Key changes: * Implements optimized\n\nConversation:\nuser: PeterPtroc opened a new pull request, #7896: URL: https://github.com/apache/hadoop/pull/7896 ### Description of PR - Implements a CLMUL-based 16B fold + Barrett reduction algorithm, adapted from riscv-crc32-clmul. - True interleaved (round-robin) multi-block pipeline (1–3 blocks) to increase ILP. - \nassistant: hadoop-yetus commented on PR #7896: URL: https://github.com/apache/hadoop/pull/7896#issuecomment-3222853817 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 27m 44s | | Docker mode activated. | |\nassistant: hadoop-yetus commented on PR #7896: URL: https://github.com/apache/hadoop/pull/7896#issuecomment-3222859121 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 29m 24s | | Docker mode activated. | |","output":"hadoop-yetus commented on PR #7896: URL: https://github.com/apache/hadoop/pull/7896#issuecomment-3222859121 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 29m 24s | | Docker mode activated. | |"}
{"instruction":"Extract key technical details from this issue:","input":"This patch introduces hardware-accelerated CRC32 and CRC32C algorithms for RISC-V platforms supporting the Zbc extension (CLMUL instructions) in bulk_crc32_riscv.c. Key changes: * Implements optimized CRC32 and CRC32C routines using CLMUL instructions for zlib and Castagnoli polynomials. * Automatically switches to hardware acceleration when Zbc is available, otherwise falls back to generic table-based software implementation. * Maintains compatibility with platforms lacking Zbc support. This optimization improves CRC performance on RISC-V CPUs with Zbc extension.","output":"Add RISC-V Zbc (CLMUL) hardware-accelerated CRC32/CRC32C implementation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade AWS SDK to 2.35.4\n\nUpgrade to a recent version of 2.33.x or later while off the critical path of things. HADOOP-19485 froze the sdk at a version which worked with third party stores. Apparently the new version works; early tests show that Bulk Delete calls with third party stores complain about lack of md5 headers, so some tuning is clearly going to be needed.","output":"Upgrade AWS SDK to 2.35.4"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade AWS SDK to 2.35.4\n\nUpgrade to a recent version of 2.33.x or later while off the critical path of things. HADOOP-19485 froze the sdk at a version which worked with third party stores. Apparently the new version works; early tests show that Bulk Delete calls with third party stores complain about lack of md5 headers, so some tuning is clearly going to be needed.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade AWS SDK to 2.35.4\n\nUpgrade to a recent version of 2.33.x or later while off the critical path of things. HADOOP-19485 froze the sdk at a version which worked with third party stores. Apparently the new version works; early tests show that Bulk Delete calls with third party stores complain about lack of md5 headers, so some tuning is clearly going to be needed.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade AWS SDK to 2.35.4\n\nUpgrade to a recent version of 2.33.x or later while off the critical path of things. HADOOP-19485 froze the sdk at a version which worked with third party stores. Apparently the new version works; early tests show that Bulk Delete calls with third party stores complain about lack of md5 headers, so some tuning is clearly going to be needed.","output":"Upgrade to a recent version of 2.33.x or later while off the critical path of things. HADOOP-19485 froze the sdk at a version which worked with third party stores. Apparently the new version works; early tests show that Bulk Delete calls with third party stores complain about lack of md5 headers, so"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade AWS SDK to 2.35.4\n\nUpgrade to a recent version of 2.33.x or later while off the critical path of things. HADOOP-19485 froze the sdk at a version which worked with third party stores. Apparently the new version works; ea\n\nConversation:\nuser: steveloughran opened a new pull request, #7882: URL: https://github.com/apache/hadoop/pull/7882 ### How was this patch tested? Testing in progress; still trying to get the ITests working. JUnit5 update complicates things here, as it highlights that minicluster tests aren't working. ### For code chan\nassistant: pan3793 commented on PR #7882: URL: https://github.com/apache/hadoop/pull/7882#issuecomment-3201364651 > JUnit5 update complicates things here, as it highlights that minicluster tests aren't working. I found `hadoop-client-runtime` and `hadoop-client-minicluster` broken during integration with Spark\nassistant: steveloughran commented on PR #7882: URL: https://github.com/apache/hadoop/pull/7882#issuecomment-3201641390 @pan3793 maybe. what is unrelated is out the box the SDK doesn't do bulk delete with third party stores which support it (Dell ECS). ``` org.apache.hadoop.fs.s3a.AWSBadRequestException: bulkD\nassistant: steveloughran commented on PR #7882: URL: https://github.com/apache/hadoop/pull/7882#issuecomment-3201646178 @pan3793 no, it's lifecycle related. Test needs to set up that minicluster before the test cases. and that's somehow not happening\nassistant: hadoop-yetus commented on PR #7882: URL: https://github.com/apache/hadoop/pull/7882#issuecomment-3209266234 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 32s | | Docker mode activated. | ||","output":"hadoop-yetus commented on PR #7882: URL: https://github.com/apache/hadoop/pull/7882#issuecomment-3446382053 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 23s | | Docker mode activated. | ||"}
{"instruction":"Extract key technical details from this issue:","input":"Upgrade to a recent version of 2.33.x or later while off the critical path of things. HADOOP-19485 froze the sdk at a version which worked with third party stores. Apparently the new version works; early tests show that Bulk Delete calls with third party stores complain about lack of md5 headers, so some tuning is clearly going to be needed.","output":"Upgrade AWS SDK to 2.35.4"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK25] Bump ByteBuddy 1.17.6 and ASM 9.8 to support Java 25 bytecode\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK25] Bump ByteBuddy 1.17.6 and ASM 9.8 to support Java 25 bytecode\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK25] Bump ByteBuddy 1.17.6 and ASM 9.8 to support Java 25 bytecode\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[JDK25] Bump ByteBuddy 1.17.6 and ASM 9.8 to support Java 25 bytecode\n\n","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK25] Bump ByteBuddy 1.17.6 and ASM 9.8 to support Java 25 bytecode\n\n\n\nConversation:\nuser: pan3793 opened a new pull request, #7879: URL: https://github.com/apache/hadoop/pull/7879 …tecode ### Description of PR ``` ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADOOP-17799. Your PR title ...')? - [ ]\nassistant: slfan1989 commented on code in PR #7879: URL: https://github.com/apache/hadoop/pull/7879#discussion_r2281285636 ########## hadoop-project/pom.xml: ########## @@ -146,7 +146,7 @@ 4.1.118.Final 1.1.10.4 1.7.1 - 1.15.11 + 1.17.6 Review Comment: Should the LICENSE-binary be updated?\nassistant: pan3793 commented on code in PR #7879: URL: https://github.com/apache/hadoop/pull/7879#discussion_r2281290385 ########## hadoop-project/pom.xml: ########## @@ -146,7 +146,7 @@ 4.1.118.Final 1.1.10.4 1.7.1 - 1.15.11 + 1.17.6 Review Comment: they are test-only deps, not present in LICENSE/NOTICE files\nassistant: slfan1989 commented on code in PR #7879: URL: https://github.com/apache/hadoop/pull/7879#discussion_r2281293747 ########## hadoop-project/pom.xml: ########## @@ -146,7 +146,7 @@ 4.1.118.Final 1.1.10.4 1.7.1 - 1.15.11 + 1.17.6 Review Comment: LGTM.\nassistant: hadoop-yetus commented on PR #7879: URL: https://github.com/apache/hadoop/pull/7879#issuecomment-3195141474 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 34s | | Docker mode activated. | ||","output":"slfan1989 commented on PR #7879: URL: https://github.com/apache/hadoop/pull/7879#issuecomment-3198832279 @pan3793 Thanks for the contribution! @stoty Thanks for the review!"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix dependency exclusion list of hadoop-client-runtime.\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix dependency exclusion list of hadoop-client-runtime.\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix dependency exclusion list of hadoop-client-runtime.\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix dependency exclusion list of hadoop-client-runtime.\n\n","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix dependency exclusion list of hadoop-client-runtime.\n\n\n\nConversation:\nuser: pan3793 opened a new pull request, #7878: URL: https://github.com/apache/hadoop/pull/7878 ### Description of PR When trying to use the Hadoop trunk version client with Spark 4.0.0, `NoClassDefFoundError` was raised. ``` Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/hadoop/sha\nassistant: pan3793 commented on PR #7878: URL: https://github.com/apache/hadoop/pull/7878#issuecomment-3194939043 cc @slfan1989 @cnauroth, this is caused by Jersey upgrading.\nassistant: pan3793 commented on PR #7878: URL: https://github.com/apache/hadoop/pull/7878#issuecomment-3194946944 AFAIK, there is no solid integration test for the Hadoop Shaded client, I will continue to test it with Spark and fix issues I encounter.\nassistant: hadoop-yetus commented on PR #7878: URL: https://github.com/apache/hadoop/pull/7878#issuecomment-3195086656 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 33s | | Docker mode activated. | ||\nassistant: slfan1989 commented on code in PR #7878: URL: https://github.com/apache/hadoop/pull/7878#discussion_r2281293084 ########## hadoop-client-modules/hadoop-client-runtime/pom.xml: ########## @@ -176,14 +176,11 @@ org.glassfish.jersey.core:* org.glassfish.hk2.external:* org.glassfish.jaxb:* - jakarta.ws.","output":"slfan1989 commented on PR #7878: URL: https://github.com/apache/hadoop/pull/7878#issuecomment-3203410020 @pan3793 Thanks for the contribution! Merged into trunk."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade libopenssl to 3.5.2-1 needed for rsync\n\nThe currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same and thus it fails to build the docker image for Windows. {code} 00:25:33 SUCCESS: Specified value was saved. 00:25:46 Removing intermediate container 5ce7355571a1 00:25:46 ---> a13a4bc69545 00:25:46 Step 21/78 : RUN powershell Invoke-WebRequest -Uri https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst -OutFile $Env:TEMP\\libopenssl-3.1.4-1-x86_64.pkg.tar.zst 00:25:46 ---> Running in d2dafad446f9 00:25:54 \u001b[91mInvoke-WebRequest : The remote server returned an error: (404) Not Found. 00:25:54 \u001b[0m\u001b[91mAt line:1 char:1 00:25:54 \u001b[0m\u001b[91m+ Invoke-WebRequest -Uri https://repo.msys2.org/msys/x86_64/libopenssl- ... 00:25:54 + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 00:25:54 \u001b[0m\u001b[91m + CategoryInfo : InvalidOperation: (System.Net.HttpWebRequest:Htt {code} Thus, we need to upgrade to the latest version to address this.","output":"Upgrade libopenssl to 3.5.2-1 needed for rsync"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade libopenssl to 3.5.2-1 needed for rsync\n\nThe currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same and thus it fails to build the docker image for Windows. {code} 00:25:33 SUCCESS: Specified value was saved. 00:25:46 Removing intermediate container 5ce7355571a1 00:25:46 ---> a13a4bc69545 00:25:46 Step 21/78 : RUN powershell Invoke-WebRequest -Uri https://repo.msys2.org/msys/x86_64/libopenssl-3.1.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade libopenssl to 3.5.2-1 needed for rsync\n\nThe currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same and thus it fails to build the docker image for Windows. {code} 00:25:33 SUCCESS: Specified value was saved. 00:25:46 Removing intermediate container 5ce7355571a1 00:25:46 ---> a13a4bc69545 00:25:46 Step 21/78 : RUN powershell Invoke-WebRequest -Uri https://repo.msys2.org/msys/x86_64/libopenssl-3.1.","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade libopenssl to 3.5.2-1 needed for rsync\n\nThe currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same and thus it fails to build the docker image for Windows. {code} 00:25:33 SUCCESS: Specified value was saved. 00:25:46 Removing intermediate container 5ce7355571a1 00:25:46 ---> a13a4bc69545 00:25:46 Step 21/78 : RUN powershell Invoke-WebRequest -Uri https://repo.msys2.org/msys/x86_64/libopenssl-3.1.","output":"The currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same and thus it fails to build the docker image for Windows. {code} 00:25:33 SUCCESS: Specified value wa"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade libopenssl to 3.5.2-1 needed for rsync\n\nThe currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same and thus it fails to build the docker image for Windows. {code} 00:25:33 SUCCESS: Specified value was saved. 00:25:46 Removing intermediate container 5ce7355571a1 00:25:46 ---> a13a4bc69545 00:25:46 Step 21/78 : RUN powershell Invoke-WebRequest -Uri https://repo.msys2.org/msys/x86_64/libopenssl-3.1.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade libopenssl to 3.5.2-1 needed for rsync\n\nThe currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same \n\nConversation:\nuser: GauthamBanasandra opened a new pull request, #7875: URL: https://github.com/apache/hadoop/pull/7875 ### Description of PR The currently used `libopenssl-3.1.4-1` is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fai\nassistant: hadoop-yetus commented on PR #7875: URL: https://github.com/apache/hadoop/pull/7875#issuecomment-3192521324 (!) A patch to the testing environment has been detected. Re-executing against the patched versions to perform further tests. The console is at https://ci-hadoop.apache.org/job/hadoop-multibra\nassistant: hadoop-yetus commented on PR #7875: URL: https://github.com/apache/hadoop/pull/7875#issuecomment-3192810626 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 25m 21s | | Docker mode activated. | \nassistant: GauthamBanasandra commented on PR #7875: URL: https://github.com/apache/hadoop/pull/7875#issuecomment-3193865491 Build is going through now - https://ci-hadoop.apache.org/view/Hadoop/job/hadoop-qbt-trunk-java8-win10-x86_64/1030/console.\nassistant: GauthamBanasandra merged PR #7875: URL: https://github.com/apache/hadoop/pull/7875","output":"Merged PR to trunk - https://github.com/apache/hadoop/pull/7875."}
{"instruction":"Extract key technical details from this issue:","input":"The currently used libopenssl-3.1.4-1 is no longer available on the msys repo - https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst The Jenkins CI thus fails to download the same and thus it fails to build the docker image for Windows. {code} 00:25:33 SUCCESS: Specified value was saved. 00:25:46 Removing intermediate container 5ce7355571a1 00:25:46 ---> a13a4bc69545 00:25:46 Step 21/78 : RUN powershell Invoke-WebRequest -Uri https://repo.msys2.org/msys/x86_64/libopenssl-3.1.4-1-x86_64.pkg.tar.zst -OutFile $Env:TEMP\\libopenssl-3.1.4-1-x86_64.pkg.tar.zst 00:25:46 ---> Running in d2dafad446f9 00:25:54 \u001b[91mInvoke-WebRequest : The remote server returned an error: (404) Not Found. 00:25:54 \u001b[0m\u001b[91mAt line:1 char:1 00:25:54 \u001b[0m\u001b[91m+ Invoke-WebRequest -Uri https://repo.msy","output":"Upgrade libopenssl to 3.5.2-1 needed for rsync"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: NPE when close() called on uninitialized filesystem\n\ncode {code} public void testABFSConstructor() throws Throwable { new AzureBlobFileSystem().close(); } {code} stack {code} [ERROR] org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor -- Time elapsed: 0.003 s <<< ERROR! java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getClient()\" because \"this.abfsStore\" is null at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.close(AzureBlobFileSystem.java:800) at org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor(TestRuntimeValid.java:49) {code}","output":"ABFS: NPE when close() called on uninitialized filesystem"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: NPE when close() called on uninitialized filesystem\n\ncode {code} public void testABFSConstructor() throws Throwable { new AzureBlobFileSystem().close(); } {code} stack {code} [ERROR] org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor -- Time elapsed: 0.003 s <<< ERROR! java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getClient()\" because \"this.abfsStore\" is null at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.close(AzureBlobFileSystem.java:800) at org.apache.hadoop.validator.T","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: NPE when close() called on uninitialized filesystem\n\ncode {code} public void testABFSConstructor() throws Throwable { new AzureBlobFileSystem().close(); } {code} stack {code} [ERROR] org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor -- Time elapsed: 0.003 s <<< ERROR! java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getClient()\" because \"this.abfsStore\" is null at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.close(AzureBlobFileSystem.java:800) at org.apache.hadoop.validator.T","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: NPE when close() called on uninitialized filesystem\n\ncode {code} public void testABFSConstructor() throws Throwable { new AzureBlobFileSystem().close(); } {code} stack {code} [ERROR] org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor -- Time elapsed: 0.003 s <<< ERROR! java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getClient()\" because \"this.abfsStore\" is null at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.close(AzureBlobFileSystem.java:800) at org.apache.hadoop.validator.T","output":"code {code} public void testABFSConstructor() throws Throwable { new AzureBlobFileSystem().close(); } {code} stack {code} [ERROR] org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor -- Time elapsed: 0.003 s <<< ERROR! java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.fs.a"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: NPE when close() called on uninitialized filesystem\n\ncode {code} public void testABFSConstructor() throws Throwable { new AzureBlobFileSystem().close(); } {code} stack {code} [ERROR] org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor -- Ti\n\nConversation:\nuser: Thanks for reporting this. Will work on the patch on priority.\nassistant: hadoop-yetus commented on PR #7880: URL: https://github.com/apache/hadoop/pull/7880#issuecomment-3197386039 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 51s | | Docker mode activated. | |\nassistant: steveloughran commented on code in PR #7880: URL: https://github.com/apache/hadoop/pull/7880#discussion_r2282920640 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystem.java: ########## @@ -148,7 +150,7 @@ public class AzureBlobFileSystem extends FileS\nassistant: hadoop-yetus commented on PR #7880: URL: https://github.com/apache/hadoop/pull/7880#issuecomment-3197699593 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 15m 15s | | Docker mode activated. | \nassistant: hadoop-yetus commented on PR #7880: URL: https://github.com/apache/hadoop/pull/7880#issuecomment-3201478753 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 50s | | Docker mode activated. | |","output":"hadoop-yetus commented on PR #7920: URL: https://github.com/apache/hadoop/pull/7920#issuecomment-3236755969 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 40s | | Docker mode activated. | |"}
{"instruction":"Extract key technical details from this issue:","input":"code {code} public void testABFSConstructor() throws Throwable { new AzureBlobFileSystem().close(); } {code} stack {code} [ERROR] org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor -- Time elapsed: 0.003 s <<< ERROR! java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.getClient()\" because \"this.abfsStore\" is null at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.close(AzureBlobFileSystem.java:800) at org.apache.hadoop.validator.TestRuntimeValid.testABFSConstructor(TestRuntimeValid.java:49) {code}","output":"ABFS: NPE when close() called on uninitialized filesystem"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade\n\nAfter https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR","output":"ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade\n\nAfter https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade\n\nAfter https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade\n\nAfter https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR","output":"After https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade\n\nAfter https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade\n\nAfter https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR\n\nConversation:\nuser: anujmodi2021 opened a new pull request, #7868: URL: https://github.com/apache/hadoop/pull/7868 ### Description of PR After https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR ### How was this patch tested? Test\nassistant: Copilot commented on code in PR #7868: URL: https://github.com/apache/hadoop/pull/7868#discussion_r2272827582 ########## hadoop-tools/hadoop-azure/src/test/java/org/apache/hadoop/fs/azurebfs/ITestAzureBlobFileSystemAppend.java: ########## @@ -608,12 +608,12 @@ public void testCreateExplicitDirectory\nassistant: hadoop-yetus commented on PR #7868: URL: https://github.com/apache/hadoop/pull/7868#issuecomment-3183429913 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 14m 4s | | Docker mode activated. | |\nassistant: slfan1989 commented on PR #7868: URL: https://github.com/apache/hadoop/pull/7868#issuecomment-3186336426 @anujmodi2021 Thank you for your contribution! LGTM.\nassistant: anujmodi2021 commented on PR #7868: URL: https://github.com/apache/hadoop/pull/7868#issuecomment-3187064274 ------------------------------ :::: AGGREGATED TEST RESULT :::: ============================================================ HNS-OAuth-DFS =====================================================","output":"slfan1989 commented on PR #7868: URL: https://github.com/apache/hadoop/pull/7868#issuecomment-3199287275 > @slfan1989 are we pursuing this upgrade for upcoming 3.4.2 release as well? Or is it targetted for 3.5.0 only? Personally, I think it’s needed, but it hasn’t gone through community discussion y"}
{"instruction":"Extract key technical details from this issue:","input":"After https://issues.apache.org/jira/browse/HADOOP-19425 most of the integration tests are getting skipped. All tests need to be fixed with this PR","output":"ABFS: Fixing Test Failures and Wrong assumptions after Junit Upgrade"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"cos use token credential will lost token field\n\nHi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the session token. This causes all subsequent operations that rely on these temporary credentials to fail. Furthermore, this re-initialization step seems unnecessary. Instead of creating a new client with incomplete credentials, the existing credential provider (which already contains the AK, SK, and token) should be passed down directly. !image-2025-08-11-10-37-12-451.png|width=1048,height=540! !image-2025-08-11-10-42-36-375.png!","output":"cos use token credential will lost token field"}
{"instruction":"Classify the status of this issue based on its description:","input":"cos use token credential will lost token field\n\nHi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the session token. This causes all subsequent operations that rely on these temporary credentials to fail. Furthermore, this re-initialization step seems unnecessary. Instead of creating a new client wit","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"cos use token credential will lost token field\n\nHi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the session token. This causes all subsequent operations that rely on these temporary credentials to fail. Furthermore, this re-initialization step seems unnecessary. Instead of creating a new client wit","output":"Critical"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: cos use token credential will lost token field\n\nHi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the session token. This causes all subsequent operations that rely on these temporary credentials to fail. Furthermore, this re-initialization step seems unnecessary. Instead of creating a new client wit","output":"Hi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"cos use token credential will lost token field\n\nHi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the session token. This causes all subsequent operations that rely on these temporary credentials to fail. Furthermore, this re-initialization step seems unnecessary. Instead of creating a new client wit","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"cos use token credential will lost token field\n\nHi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, w\n\nConversation:\nuser: leosanqing opened a new pull request, #7866: URL: https://github.com/apache/hadoop/pull/7866 ### Description of PR In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the ses\nassistant: leosanqing closed pull request #7866: HADOOP-19648. [hotfix] Cos use token credential will lose token field URL: https://github.com/apache/hadoop/pull/7866\nassistant: leosanqing opened a new pull request, #7867: URL: https://github.com/apache/hadoop/pull/7867 ### Description of PR In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the ses\nassistant: hadoop-yetus commented on PR #7867: URL: https://github.com/apache/hadoop/pull/7867#issuecomment-3173339571 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 21m 11s | | Docker mode activated. | |\nassistant: hadoop-yetus commented on PR #7867: URL: https://github.com/apache/hadoop/pull/7867#issuecomment-3175078496 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 50s | | Docker mode activated. | |","output":"cnauroth commented on PR #7911: URL: https://github.com/apache/hadoop/pull/7911#issuecomment-3245771396 > > Thank you again @leosanqing . I committed this to branch-3.4. > > Hey，thank you for your merging. > > I'm not sure if branch-3.3 is still being maintained, but I have tested this PR against br"}
{"instruction":"Extract key technical details from this issue:","input":"Hi, I've discovered a bug when accessing COSN using temporary credentials (access key, secret key, and session token). In the org.apache.hadoop.fs.cosn.CosNativeFileSystemStore#initCOSClient method, when the client is initialized, it only passes the access key and secret key, completely ignoring the session token. This causes all subsequent operations that rely on these temporary credentials to fail. Furthermore, this re-initialization step seems unnecessary. Instead of creating a new client with incomplete credentials, the existing credential provider (which already contains the AK, SK, and token) should be passed down directly. !image-2025-08-11-10-37-12-451.png|width=1048,height=540! !image-2025-08-11-10-42-36-375.png!","output":"cos use token credential will lost token field"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: Read Policy set in openFileOptions should be considered for enabling various optimizations\n\nAbfsInputStream should take in account the Read Policy set by user with Open File Options. Based on the read policy set, appropriate optimizations should be enabled and kicked in.","output":"ABFS: Read Policy set in openFileOptions should be considered for enabling various optimizations"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: Read Policy set in openFileOptions should be considered for enabling various optimizations\n\nAbfsInputStream should take in account the Read Policy set by user with Open File Options. Based on the read policy set, appropriate optimizations should be enabled and kicked in.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: Read Policy set in openFileOptions should be considered for enabling various optimizations\n\nAbfsInputStream should take in account the Read Policy set by user with Open File Options. Based on the read policy set, appropriate optimizations should be enabled and kicked in.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: Read Policy set in openFileOptions should be considered for enabling various optimizations\n\nAbfsInputStream should take in account the Read Policy set by user with Open File Options. Based on the read policy set, appropriate optimizations should be enabled and kicked in.","output":"AbfsInputStream should take in account the Read Policy set by user with Open File Options. Based on the read policy set, appropriate optimizations should be enabled and kicked in."}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: Read Policy set in openFileOptions should be considered for enabling various optimizations\n\nAbfsInputStream should take in account the Read Policy set by user with Open File Options. Based on the read policy set, appropriate optimizations should be enabled and kicked in.\n\nConversation:\nuser: key ones are random, whole file and sequential, with recognising avro, parquet, a bonus * parquet does now open files with \"parquet\" as first entry * distcp always uses whole-file where a few large 64MB+ blocks deliver great performance","output":"key ones are random, whole file and sequential, with recognising avro, parquet, a bonus * parquet does now open files with \"parquet\" as first entry * distcp always uses whole-file where a few large 64MB+ blocks deliver great performance"}
{"instruction":"Extract key technical details from this issue:","input":"AbfsInputStream should take in account the Read Policy set by user with Open File Options. Based on the read policy set, appropriate optimizations should be enabled and kicked in.","output":"ABFS: Read Policy set in openFileOptions should be considered for enabling various optimizations"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions\n\nThis task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framework and improve maintainability. h4. Scope of changes: * Replace usages of {{{}Assume.assumeTrue(...){}}}, {{{}Assume.assumeFalse(...){}}}, etc., with the corresponding methods from JUnit5, such as {{{}Assumptions.assumeTrue(...){}}}; * Ensure the assertion logic remains consistent with the original behavior; * Update any outdated import statements referencing JUnit4's {{{}Assume{}}}; * Verify that all affected unit tests pass correctly under JUnit5.","output":"S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions"}
{"instruction":"Classify the status of this issue based on its description:","input":"S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions\n\nThis task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framework and improve maintainability. h4. Scope of changes: * Replace usages of {{{}Assume.assumeTrue(...){}}}, {{{}Assume.assumeFalse(...){}}}, etc., with the corresponding methods from JUnit5, such as {{{}Assumptions.assumeTrue(...){}}}; * Ensure the assertion logic remains consistent with the original b","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions\n\nThis task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framework and improve maintainability. h4. Scope of changes: * Replace usages of {{{}Assume.assumeTrue(...){}}}, {{{}Assume.assumeFalse(...){}}}, etc., with the corresponding methods from JUnit5, such as {{{}Assumptions.assumeTrue(...){}}}; * Ensure the assertion logic remains consistent with the original b","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions\n\nThis task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framework and improve maintainability. h4. Scope of changes: * Replace usages of {{{}Assume.assumeTrue(...){}}}, {{{}Assume.assumeFalse(...){}}}, etc., with the corresponding methods from JUnit5, such as {{{}Assumptions.assumeTrue(...){}}}; * Ensure the assertion logic remains consistent with the original b","output":"This task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framework and improve maintainability. h4. Scope of changes: * Replace usages of {{{}Assume.assumeTrue(...){"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions\n\nThis task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framework and improve maintainability. h4. Scope of changes: * Replace usages of {{{}Assume.assumeTrue(...){}}}, {{{}Assume.assumeFalse(...){}}}, etc., with the corresponding methods from JUnit5, such as {{{}Assumptions.assumeTrue(...){}}}; * Ensure the assertion logic remains consistent with the original b","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions\n\nThis task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framewor\n\nConversation:\nuser: slfan1989 opened a new pull request, #7858: URL: https://github.com/apache/hadoop/pull/7858 ### Description of PR JIRA: HADOOP-19646. [JDK17] Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions. ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR start\nassistant: hadoop-yetus commented on PR #7858: URL: https://github.com/apache/hadoop/pull/7858#issuecomment-3157797389 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 52s | | Docker mode activated. | |\nassistant: slfan1989 commented on PR #7858: URL: https://github.com/apache/hadoop/pull/7858#issuecomment-3158154572 @steveloughran @anujmodi2021 Could you please review this PR? Thank you very much!\nassistant: steveloughran commented on PR #7858: URL: https://github.com/apache/hadoop/pull/7858#issuecomment-3161012685 Can we move to AssertJ here? 1. it's a better syntax, and nicely extensible 1. it lets us cherrypick into java4 branches without any problems 1. everyone who has already used it knows the syn\nassistant: slfan1989 commented on PR #7858: URL: https://github.com/apache/hadoop/pull/7858#issuecomment-3162122354 > Can we move to AssertJ here? > > 1. it's a better syntax, and nicely extensible > 2. it lets us cherrypick into java4 branches without any problems > 3. everyone who has already used it knows t","output":"slfan1989 commented on PR #7951: URL: https://github.com/apache/hadoop/pull/7951#issuecomment-3286046276 @zhtttylz Thanks for the contriburion! @pan3793 @ahmarsuhail Thanks for the review!"}
{"instruction":"Extract key technical details from this issue:","input":"This task aims to migrate the test code in the {{hadoop-aws}} module from JUnit4's {{org.junit.Assume}} API to JUnit5's {{org.junit.jupiter.api.Assumptions}} API in order to unify the testing framework and improve maintainability. h4. Scope of changes: * Replace usages of {{{}Assume.assumeTrue(...){}}}, {{{}Assume.assumeFalse(...){}}}, etc., with the corresponding methods from JUnit5, such as {{{}Assumptions.assumeTrue(...){}}}; * Ensure the assertion logic remains consistent with the original behavior; * Update any outdated import statements referencing JUnit4's {{{}Assume{}}}; * Verify that all affected unit tests pass correctly under JUnit5.","output":"S3A: Migrate hadoop-aws module from JUnit4 Assume to JUnit5 Assumptions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done.\n\nThere are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in already present ClientRequestId header. Following are types of read we want to identify: # Direct Read: Read from a given position in remote file. This will be synchronous read # Normal Read: Read from current seeked position where read ahead was bypassed. This will be synchronous read. # Prefetch Read: Read triggered from background threads filling up in memory cache. This will be asynchronous read. # Missed Cache Read: Read triggered after nothing was received from read ahead. This will be synchronous read. # Footer Read: Read triggered as part of footer read optimization. This will be synchronous. # Small File Read: Read triggered as a part of small file read. This will be synchronous read. We will add another field in the Tracing Header (Client Request Id) for each request. We can call this field \"Operation Specific Header\" very similar to how we have \"Retry Header\" today. As part of this we will only use it for read operations keeping it empty for other operations. Moving ahead f we need to publish any operation specific info, same header can be used.","output":"ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done."}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done.\n\nThere are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in already present ClientRequestId header. Following are types of read we want to identify: # Direct Read: Read from a given position in remote file. This will be synchronous read # Normal Read: Read from current seeked position where read ahead was bypassed. This will be synchronous read. # Prefetch ","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done.\n\nThere are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in already present ClientRequestId header. Following are types of read we want to identify: # Direct Read: Read from a given position in remote file. This will be synchronous read # Normal Read: Read from current seeked position where read ahead was bypassed. This will be synchronous read. # Prefetch ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done.\n\nThere are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in already present ClientRequestId header. Following are types of read we want to identify: # Direct Read: Read from a given position in remote file. This will be synchronous read # Normal Read: Read from current seeked position where read ahead was bypassed. This will be synchronous read. # Prefetch ","output":"There are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in already present ClientRequestId header. Following are types of read we want to identify: # Direct R"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done.\n\nThere are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in already present ClientRequestId header. Following are types of read we want to identify: # Direct Read: Read from a given position in remote file. This will be synchronous read # Normal Read: Read from current seeked position where read ahead was bypassed. This will be synchronous read. # Prefetch ","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done.\n\nThere are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in\n\nConversation:\nuser: hadoop-yetus commented on PR #7837: URL: https://github.com/apache/hadoop/pull/7837#issuecomment-3135193019 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 55s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7837: URL: https://github.com/apache/hadoop/pull/7837#issuecomment-3135296997 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 47s | | Docker mode activated. | ||\nassistant: hadoop-yetus commented on PR #7837: URL: https://github.com/apache/hadoop/pull/7837#issuecomment-3135629353 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 1m 28s | | Docker mode activated. | ||\nassistant: anujmodi2021 commented on PR #7837: URL: https://github.com/apache/hadoop/pull/7837#issuecomment-3135851673 ----------------------------- :::: AGGREGATED TEST RESULT :::: ============================================================ HNS-OAuth-DFS ======================================================\nassistant: Copilot commented on code in PR #7837: URL: https://github.com/apache/hadoop/pull/7837#discussion_r2244303281 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/utils/TracingContext.java: ########## @@ -265,6 +289,34 @@ private String addFailureReasons(final String head","output":"anujmodi2021 merged PR #7881: URL: https://github.com/apache/hadoop/pull/7881"}
{"instruction":"Extract key technical details from this issue:","input":"There are a number of ways in which ABFS driver can trigger a network call to read data. We need a way to identify what type of read call was made from client. Plan is to add an indication for this in already present ClientRequestId header. Following are types of read we want to identify: # Direct Read: Read from a given position in remote file. This will be synchronous read # Normal Read: Read from current seeked position where read ahead was bypassed. This will be synchronous read. # Prefetch Read: Read triggered from background threads filling up in memory cache. This will be asynchronous read. # Missed Cache Read: Read triggered after nothing was received from read ahead. This will be synchronous read. # Footer Read: Read triggered as part of footer read optimization. This will be sync","output":"ABFS: [ReadAheadV2] Improve Metrics for Read Calls to identify type of read done."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"upgrade gson due to security fixes\n\nnot sure why https://github.com/google/gson/pull/2588 didn't attract a CVE linked to https://issues.apache.org/jira/browse/HADOOP-19632 - nimbus-jose-jwt uses gson","output":"upgrade gson due to security fixes"}
{"instruction":"Classify the status of this issue based on its description:","input":"upgrade gson due to security fixes\n\nnot sure why https://github.com/google/gson/pull/2588 didn't attract a CVE linked to https://issues.apache.org/jira/browse/HADOOP-19632 - nimbus-jose-jwt uses gson","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"upgrade gson due to security fixes\n\nnot sure why https://github.com/google/gson/pull/2588 didn't attract a CVE linked to https://issues.apache.org/jira/browse/HADOOP-19632 - nimbus-jose-jwt uses gson","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: upgrade gson due to security fixes\n\nnot sure why https://github.com/google/gson/pull/2588 didn't attract a CVE linked to https://issues.apache.org/jira/browse/HADOOP-19632 - nimbus-jose-jwt uses gson","output":"not sure why https://github.com/google/gson/pull/2588 didn't attract a CVE linked to https://issues.apache.org/jira/browse/HADOOP-19632 - nimbus-jose-jwt uses gson"}
{"instruction":"Continue the conversation about this technical issue:","input":"upgrade gson due to security fixes\n\nnot sure why https://github.com/google/gson/pull/2588 didn't attract a CVE linked to https://issues.apache.org/jira/browse/HADOOP-19632 - nimbus-jose-jwt uses gson\n\nConversation:\nuser: pjfanning opened a new pull request, #7833: URL: https://github.com/apache/hadoop/pull/7833 Update LICENSE-binary ### Description of PR https://issues.apache.org/jira/browse/HADOOP-19643 ### How was this patch tested? ### For code changes: - [x] Does the title or this PR starts with the correspondin\nassistant: hadoop-yetus commented on PR #7833: URL: https://github.com/apache/hadoop/pull/7833#issuecomment-3134038336 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 34s | | Docker mode activated. | ||","output":"hadoop-yetus commented on PR #7833: URL: https://github.com/apache/hadoop/pull/7833#issuecomment-3134038336 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 34s | | Docker mode activated. | ||"}
{"instruction":"Extract key technical details from this issue:","input":"not sure why https://github.com/google/gson/pull/2588 didn't attract a CVE linked to https://issues.apache.org/jira/browse/HADOOP-19632 - nimbus-jose-jwt uses gson","output":"upgrade gson due to security fixes"}
{"instruction":"Classify the status of this issue based on its description:","input":"upgrade nimbus-jose-jwt due to CVE-2025-53864\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-53864","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"upgrade nimbus-jose-jwt due to CVE-2025-53864\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-53864","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: upgrade nimbus-jose-jwt due to CVE-2025-53864\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-53864","output":"https://www.cve.org/CVERecord?id=CVE-2025-53864"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"upgrade nimbus-jose-jwt due to CVE-2025-53864\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-53864","output":"Duplicate"}
{"instruction":"Continue the conversation about this technical issue:","input":"upgrade nimbus-jose-jwt due to CVE-2025-53864\n\nhttps://www.cve.org/CVERecord?id=CVE-2025-53864\n\nConversation:\nuser: Hi fanningpj , working on a patch for this. I had raised Jira for the same https://issues.apache.org/jira/browse/HADOOP-19632.","output":"Hi fanningpj , working on a patch for this. I had raised Jira for the same https://issues.apache.org/jira/browse/HADOOP-19632."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: [ReadAheadV2] First Read should bypass ReadBufferManager\n\nWe have observed this across multiple workload runs that when we start reading data from input stream. The first read which came to input stream has to be read synchronously even if we trigger prefetch request for that particular offset. Most of the times we end up doing extra work of checking if the prefetch is trigerred, removing prefetch from the pending queue and go ahead to do a direct remote read in workload thread itself. To avoid all this overhead, we will always bypass read ahead for the very first read of each input stream and trigger read aheads for second read onwards.","output":"ABFS: [ReadAheadV2] First Read should bypass ReadBufferManager"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: [ReadAheadV2] First Read should bypass ReadBufferManager\n\nWe have observed this across multiple workload runs that when we start reading data from input stream. The first read which came to input stream has to be read synchronously even if we trigger prefetch request for that particular offset. Most of the times we end up doing extra work of checking if the prefetch is trigerred, removing prefetch from the pending queue and go ahead to do a direct remote read in workload thread itself. To avoid all this overhead, we will always bypass read ahead for th","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: [ReadAheadV2] First Read should bypass ReadBufferManager\n\nWe have observed this across multiple workload runs that when we start reading data from input stream. The first read which came to input stream has to be read synchronously even if we trigger prefetch request for that particular offset. Most of the times we end up doing extra work of checking if the prefetch is trigerred, removing prefetch from the pending queue and go ahead to do a direct remote read in workload thread itself. To avoid all this overhead, we will always bypass read ahead for th","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: [ReadAheadV2] First Read should bypass ReadBufferManager\n\nWe have observed this across multiple workload runs that when we start reading data from input stream. The first read which came to input stream has to be read synchronously even if we trigger prefetch request for that particular offset. Most of the times we end up doing extra work of checking if the prefetch is trigerred, removing prefetch from the pending queue and go ahead to do a direct remote read in workload thread itself. To avoid all this overhead, we will always bypass read ahead for th","output":"We have observed this across multiple workload runs that when we start reading data from input stream. The first read which came to input stream has to be read synchronously even if we trigger prefetch request for that particular offset. Most of the times we end up doing extra work of checking if th"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: [ReadAheadV2] First Read should bypass ReadBufferManager\n\nWe have observed this across multiple workload runs that when we start reading data from input stream. The first read which came to input stream has to be read synchronously even if we trigger prefetc\n\nConversation:\nuser: are you using the openFile seek policy as suggested? parquet will tell you when its a parquet file and its read policy is common: 8 byte footer, reall footer, rowgroups.\nassistant: Thanks for the feedback steve. We will definitely incorporate that. I will hold onto this PR and will make this change with the Read Policy suggested by user taken into consideration. Will work diligently on all the read policies and have reads happening in way optimal for each one of them.","output":"Thanks for the feedback steve. We will definitely incorporate that. I will hold onto this PR and will make this change with the Read Policy suggested by user taken into consideration. Will work diligently on all the read policies and have reads happening in way optimal for each one of them."}
{"instruction":"Extract key technical details from this issue:","input":"We have observed this across multiple workload runs that when we start reading data from input stream. The first read which came to input stream has to be read synchronously even if we trigger prefetch request for that particular offset. Most of the times we end up doing extra work of checking if the prefetch is trigerred, removing prefetch from the pending queue and go ahead to do a direct remote read in workload thread itself. To avoid all this overhead, we will always bypass read ahead for the very first read of each input stream and trigger read aheads for second read onwards.","output":"ABFS: [ReadAheadV2] First Read should bypass ReadBufferManager"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Resource leak in AssumedRoleCredentialProvider\n\nWhen `org.apache.hadoop.fs.s3a.auth.AssumedRoleCredentialProvider` is used in a Hadoop Configuration object, it will attempt to `resolveCredentials()` inside the constructor. (lines 165-167) {code:java} // and force in a fail-fast check just to keep the stack traces less // convoluted resolveCredentials();{code} If this method fails, because the current identity is not able to assume role, the constructor will throw an exception, and fail to close the `stsClient`, `stsProvider` and any other resources that are created in the constructor, leaking threads and other resources. In a long running application, that handles Hadoop S3 file systems, where the user can dynamically change to configured role to assume, and external id, this will lead to eventually the system running out of resources due to the leaked threads created by the AWS SDK clients that are not closed when a wrong role or external id is used. There are two potential fixes for this problem: - Don't attempt to `resolveCredentials()` inside the constructor - Wrap the `resolveCredentials()` in the constructor in a try/catch block, that cleans the resources and rethrows the exception in the catch block.","output":"Resource leak in AssumedRoleCredentialProvider"}
{"instruction":"Classify the status of this issue based on its description:","input":"Resource leak in AssumedRoleCredentialProvider\n\nWhen `org.apache.hadoop.fs.s3a.auth.AssumedRoleCredentialProvider` is used in a Hadoop Configuration object, it will attempt to `resolveCredentials()` inside the constructor. (lines 165-167) {code:java} // and force in a fail-fast check just to keep the stack traces less // convoluted resolveCredentials();{code} If this method fails, because the current identity is not able to assume role, the constructor will throw an exception, and fail to close the `stsClient`, `stsProvider` and any other res","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Resource leak in AssumedRoleCredentialProvider\n\nWhen `org.apache.hadoop.fs.s3a.auth.AssumedRoleCredentialProvider` is used in a Hadoop Configuration object, it will attempt to `resolveCredentials()` inside the constructor. (lines 165-167) {code:java} // and force in a fail-fast check just to keep the stack traces less // convoluted resolveCredentials();{code} If this method fails, because the current identity is not able to assume role, the constructor will throw an exception, and fail to close the `stsClient`, `stsProvider` and any other res","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Resource leak in AssumedRoleCredentialProvider\n\nWhen `org.apache.hadoop.fs.s3a.auth.AssumedRoleCredentialProvider` is used in a Hadoop Configuration object, it will attempt to `resolveCredentials()` inside the constructor. (lines 165-167) {code:java} // and force in a fail-fast check just to keep the stack traces less // convoluted resolveCredentials();{code} If this method fails, because the current identity is not able to assume role, the constructor will throw an exception, and fail to close the `stsClient`, `stsProvider` and any other res","output":"When `org.apache.hadoop.fs.s3a.auth.AssumedRoleCredentialProvider` is used in a Hadoop Configuration object, it will attempt to `resolveCredentials()` inside the constructor. (lines 165-167) {code:java} // and force in a fail-fast check just to keep the stack traces less // convoluted resolveCredent"}
{"instruction":"Extract key technical details from this issue:","input":"When `org.apache.hadoop.fs.s3a.auth.AssumedRoleCredentialProvider` is used in a Hadoop Configuration object, it will attempt to `resolveCredentials()` inside the constructor. (lines 165-167) {code:java} // and force in a fail-fast check just to keep the stack traces less // convoluted resolveCredentials();{code} If this method fails, because the current identity is not able to assume role, the constructor will throw an exception, and fail to close the `stsClient`, `stsProvider` and any other resources that are created in the constructor, leaking threads and other resources. In a long running application, that handles Hadoop S3 file systems, where the user can dynamically change to configured role to assume, and external id, this will lead to eventually the system running out of resources d","output":"Resource leak in AssumedRoleCredentialProvider"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"SecretManager configuration at runtime\n\nIn case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runtime. This can results with the following exception in FIPS environment: {code:java} java.security.InvalidParameterException: Key size for HMAC must be at least 112 bits in approved mode: SHA-1/HMAC at com.safelogic.cryptocomply.fips.core/com.safelogic.cryptocomply.jcajce.provider.BaseKeyGenerator.engineInit(Unknown Source) at java.base/javax.crypto.KeyGenerator.init(KeyGenerator.java:540) at java.base/javax.crypto.KeyGenerator.init(KeyGenerator.java:517) at org.apache.hadoop.security.token.SecretManager. (SecretManager.java:157) at org.apache.hadoop.yarn.security.client.BaseClientToAMTokenSecretManager. (BaseClientToAMTokenSecretManager.java:38) at org.apache.hadoop.yarn.security.client.ClientToAMTokenSecretManager. (ClientToAMTokenSecretManager.java:46) at org.apache.tez.common.security.TezClientToAMTokenSecretManager. (TezClientToAMTokenSecretManager.java:33) at org.apache.tez.dag.app.DAGAppMaster.serviceInit(DAGAppMaster.java:493) at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164) at org.apache.tez.dag.app.DAGAppMaster$9.run(DAGAppMaster.java:2649) at java.base/java.security.AccessController.doPrivileged(Native Method) at java.base/javax.security.auth.Subject.doAs(Subject.java:423) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1910) at org.apache.tez.dag.app.DAGAppMaster.initAndStartAppMaster(DAGAppMaster.java:2646) at org.apache.tez.dag.app.DAGAppMaster.main(DAGAppMaster.java:2440) {code} To mitigate the problem we should provide some ability for the component to be able to modify the configuration without corresponding config files on class path.","output":"SecretManager configuration at runtime"}
{"instruction":"Classify the status of this issue based on its description:","input":"SecretManager configuration at runtime\n\nIn case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runtime. This can results with the following exception in FIPS environment: {code:java} java.security.InvalidParameterException: Key size for HMAC must be at least 112 bits in approved mode: SHA-1/HMAC at com.safelogic.cryptocomply.fips.core/com.safelogic.cryptocomply.jcajce.provider.BaseKeyGenerator.eng","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"SecretManager configuration at runtime\n\nIn case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runtime. This can results with the following exception in FIPS environment: {code:java} java.security.InvalidParameterException: Key size for HMAC must be at least 112 bits in approved mode: SHA-1/HMAC at com.safelogic.cryptocomply.fips.core/com.safelogic.cryptocomply.jcajce.provider.BaseKeyGenerator.eng","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: SecretManager configuration at runtime\n\nIn case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runtime. This can results with the following exception in FIPS environment: {code:java} java.security.InvalidParameterException: Key size for HMAC must be at least 112 bits in approved mode: SHA-1/HMAC at com.safelogic.cryptocomply.fips.core/com.safelogic.cryptocomply.jcajce.provider.BaseKeyGenerator.eng","output":"In case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runtime. This can results with the following exception in FIPS environment: {code:java} java.security.Inv"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"SecretManager configuration at runtime\n\nIn case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runtime. This can results with the following exception in FIPS environment: {code:java} java.security.InvalidParameterException: Key size for HMAC must be at least 112 bits in approved mode: SHA-1/HMAC at com.safelogic.cryptocomply.fips.core/com.safelogic.cryptocomply.jcajce.provider.BaseKeyGenerator.eng","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"SecretManager configuration at runtime\n\nIn case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runti\n\nConversation:\nuser: K0K0V0K opened a new pull request, #7827: URL: https://github.com/apache/hadoop/pull/7827 ### Description of PR - static configuration of SecretManager is required because it has some static method what use the selected algorithm - in case if class path not contains the config values (for example TE\nassistant: let me add the motivation from Tez side as a context, so as bkosztolnik mentioned we faced a problem after YARN-11738, because Tez is supposed to work by runtime payloads (containing all the hadoop config), but in the hadoop layer, the options are initialized in the static initializer, so tez cannot\nassistant: abstractdog commented on code in PR #7827: URL: https://github.com/apache/hadoop/pull/7827#discussion_r2228219825 ########## hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/SecretManagerConfig.java: ########## @@ -0,0 +1,123 @@ + +package org.apache.hadoop.security\nassistant: abstractdog commented on code in PR #7827: URL: https://github.com/apache/hadoop/pull/7827#discussion_r2228222651 ########## hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/SecretManagerConfig.java: ########## @@ -0,0 +1,123 @@ + +package org.apache.hadoop.security\nassistant: abstractdog commented on code in PR #7827: URL: https://github.com/apache/hadoop/pull/7827#discussion_r2228223190 ########## hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/SecretManagerConfig.java: ########## @@ -0,0 +1,123 @@ + +package org.apache.hadoop.security","output":"slfan1989 commented on PR #7827: URL: https://github.com/apache/hadoop/pull/7827#issuecomment-3146149735 @K0K0V0K Thanks for the contribution! Merged into trunk. @abstractdog @Hean-Chhinling Thanks for the review!"}
{"instruction":"Extract key technical details from this issue:","input":"In case of TEZ *DAGAppMaster* the Hadoop *SecretManager* code can not read yarn config xml file, therefore the SELECTED_ALGORITHM and SELECTED_LENGTH variables in SecretManager can not be set at runtime. This can results with the following exception in FIPS environment: {code:java} java.security.InvalidParameterException: Key size for HMAC must be at least 112 bits in approved mode: SHA-1/HMAC at com.safelogic.cryptocomply.fips.core/com.safelogic.cryptocomply.jcajce.provider.BaseKeyGenerator.engineInit(Unknown Source) at java.base/javax.crypto.KeyGenerator.init(KeyGenerator.java:540) at java.base/javax.crypto.KeyGenerator.init(KeyGenerator.java:517) at org.apache.hadoop.security.token.SecretManager. (SecretManager.java:157) at org.apache.hadoop.yarn.security.client.BaseClientToAMTokenSecre","output":"SecretManager configuration at runtime"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Set Up CI Support JDK17 & JDK21\n\nPlan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing and validating future JDK 17 support and ensuring smooth integration with existing CI/CD processes.","output":"[JDK17] Set Up CI Support JDK17 & JDK21"}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Set Up CI Support JDK17 & JDK21\n\nPlan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing and validating future JDK 17 support and ensuring smooth integration with existing CI/CD processes.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Set Up CI Support JDK17 & JDK21\n\nPlan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing and validating future JDK 17 support and ensuring smooth integration with existing CI/CD processes.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Set Up CI Support JDK17 & JDK21\n\nPlan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing and validating future JDK 17 support and ensuring smooth integration with existing CI/CD processes.","output":"Plan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing and validating future JDK 17 support and ensuring smooth integration with existing CI/CD processes."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[JDK17] Set Up CI Support JDK17 & JDK21\n\nPlan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing and validating future JDK 17 support and ensuring smooth integration with existing CI/CD processes.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK17] Set Up CI Support JDK17 & JDK21\n\nPlan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing\n\nConversation:\nuser: slfan1989 opened a new pull request, #7831: URL: https://github.com/apache/hadoop/pull/7831 ### Description of PR JIRA: HADOOP-19638. [JDK17] Set Up CI Support JDK17. ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR starts with the corresponding JIRA issue id (e.g\nassistant: slfan1989 commented on PR #7831: URL: https://github.com/apache/hadoop/pull/7831#issuecomment-3121008019 @GauthamBanasandra I’m working on adding a new pipeline in Trunk to support JDK17. While reviewing the history, I noticed you've done in-depth work on this area, particularly around the upgrade t\nassistant: slfan1989 commented on PR #7831: URL: https://github.com/apache/hadoop/pull/7831#issuecomment-3121011939 @ayushtkn @aajisaka Could you kindly provide some help and guidance? I would really appreciate it.\nassistant: hadoop-yetus commented on PR #7831: URL: https://github.com/apache/hadoop/pull/7831#issuecomment-3121183709 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 1m 0s | | Docker mode activated. | |||\nassistant: GauthamBanasandra commented on PR #7831: URL: https://github.com/apache/hadoop/pull/7831#issuecomment-3122378936 @slfan1989 yes, what you've done in this PR should be sufficient to get the multi-JDK tests running. The multi-JDK unit tests are only run as part of the nightly CI and not for PRs. Could","output":"slfan1989 commented on PR #8030: URL: https://github.com/apache/hadoop/pull/8030#issuecomment-3411088399 @szetszwo @Hexiaoqiao @zhtttylz Thank you very much for reviewing the code!"}
{"instruction":"Extract key technical details from this issue:","input":"Plan to establish a new build pipeline using JDK 17 for Apache Hadoop, as part of the ongoing effort to upgrade the project’s Java compatibility. This pipeline will serve as the foundation for testing and validating future JDK 17 support and ensuring smooth integration with existing CI/CD processes.","output":"[JDK17] Set Up CI Support JDK17 & JDK21"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Attempted to build on CentOS Stream 9.\n\nWe aim to successfully compile Apache Hadoop on CentOS Stream 9 to verify the feasibility of using this platform in future development and deployment environments. This task may involve addressing potential compatibility issues related to GCC and libc versions. Initial attempts will focus on resolving compilation challenges and ensuring the platform meets the necessary requirements for Hadoop builds.","output":"[JDK17] Attempted to build on CentOS Stream 9."}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Attempted to build on CentOS Stream 9.\n\nWe aim to successfully compile Apache Hadoop on CentOS Stream 9 to verify the feasibility of using this platform in future development and deployment environments. This task may involve addressing potential compatibility issues related to GCC and libc versions. Initial attempts will focus on resolving compilation challenges and ensuring the platform meets the necessary requirements for Hadoop builds.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Attempted to build on CentOS Stream 9.\n\nWe aim to successfully compile Apache Hadoop on CentOS Stream 9 to verify the feasibility of using this platform in future development and deployment environments. This task may involve addressing potential compatibility issues related to GCC and libc versions. Initial attempts will focus on resolving compilation challenges and ensuring the platform meets the necessary requirements for Hadoop builds.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Attempted to build on CentOS Stream 9.\n\nWe aim to successfully compile Apache Hadoop on CentOS Stream 9 to verify the feasibility of using this platform in future development and deployment environments. This task may involve addressing potential compatibility issues related to GCC and libc versions. Initial attempts will focus on resolving compilation challenges and ensuring the platform meets the necessary requirements for Hadoop builds.","output":"We aim to successfully compile Apache Hadoop on CentOS Stream 9 to verify the feasibility of using this platform in future development and deployment environments. This task may involve addressing potential compatibility issues related to GCC and libc versions. Initial attempts will focus on resolvi"}
{"instruction":"Extract key technical details from this issue:","input":"We aim to successfully compile Apache Hadoop on CentOS Stream 9 to verify the feasibility of using this platform in future development and deployment environments. This task may involve addressing potential compatibility issues related to GCC and libc versions. Initial attempts will focus on resolving compilation challenges and ensuring the platform meets the necessary requirements for Hadoop builds.","output":"[JDK17] Attempted to build on CentOS Stream 9."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[JDK17] Remove CentOS 7 Support and Clean Up Dockerfile.\n\nRemoved build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related to these operating systems. Optimized the build logic to ensure that currently supported OS versions build successfully.","output":"[JDK17] Remove CentOS 7 Support and Clean Up Dockerfile."}
{"instruction":"Classify the status of this issue based on its description:","input":"[JDK17] Remove CentOS 7 Support and Clean Up Dockerfile.\n\nRemoved build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related to these operating systems. Optimized the build logic to ensure that currently supported OS versions build successfully.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[JDK17] Remove CentOS 7 Support and Clean Up Dockerfile.\n\nRemoved build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related to these operating systems. Optimized the build logic to ensure that currently supported OS versions build successfully.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [JDK17] Remove CentOS 7 Support and Clean Up Dockerfile.\n\nRemoved build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related to these operating systems. Optimized the build logic to ensure that currently supported OS versions build successfully.","output":"Removed build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related to these operating systems. Optimized the build logic to ensure that currently supported OS versions"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[JDK17] Remove CentOS 7 Support and Clean Up Dockerfile.\n\nRemoved build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related to these operating systems. Optimized the build logic to ensure that currently supported OS versions build successfully.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"[JDK17] Remove CentOS 7 Support and Clean Up Dockerfile.\n\nRemoved build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related \n\nConversation:\nuser: slfan1989 opened a new pull request, #7822: URL: https://github.com/apache/hadoop/pull/7822 ### Description of PR JIRA: HADOOP-19636. [JDK17] Remove EOL OS Support and Clean Up Dockerfile. ### How was this patch tested? test. ### For code changes: - [ ] Does the title or this PR starts with the corr\nassistant: hadoop-yetus commented on PR #7822: URL: https://github.com/apache/hadoop/pull/7822#issuecomment-3108826927 (!) A patch to the testing environment has been detected. Re-executing against the patched versions to perform further tests. The console is at https://ci-hadoop.apache.org/job/hadoop-multibra\nassistant: hadoop-yetus commented on PR #7822: URL: https://github.com/apache/hadoop/pull/7822#issuecomment-3109175364 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 2m 21s | | Docker mode activated. | |\nassistant: slfan1989 commented on PR #7822: URL: https://github.com/apache/hadoop/pull/7822#issuecomment-3111531611 @ayushtkn @GauthamBanasandra Could you please help review this PR? Thank you very much! cc: @pan3793\nassistant: pan3793 commented on code in PR #7822: URL: https://github.com/apache/hadoop/pull/7822#discussion_r2227179274 ########## dev-support/docker/Dockerfile_centos_8: ########## @@ -1,118 +0,0 @@ -# Licensed to the Apache Software Foundation (ASF) under one -# or more contributor license agreements. See t","output":"slfan1989 merged PR #7822: URL: https://github.com/apache/hadoop/pull/7822"}
{"instruction":"Extract key technical details from this issue:","input":"Removed build support for the following EOL (End-of-Life) operating system versions (e.g., CentOS 7, Debian 9, etc.). Cleaned up redundant code and dependency configurations in the Dockerfile related to these operating systems. Optimized the build logic to ensure that currently supported OS versions build successfully.","output":"[JDK17] Remove CentOS 7 Support and Clean Up Dockerfile."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ABFS: [FNS Over Blob] Marker creation fail exception should not be propagated\n\nMarker creation is attempted during certain operations such as {*}create{*}, {*}getPathStatus{*}, {*}setPathProperties{*}, and {*}rename{*}, in order to add a 0-byte file that signifies the existence of a folder at that path. However, if marker creation fails, the failure should not be propagated to the user.","output":"ABFS: [FNS Over Blob] Marker creation fail exception should not be propagated"}
{"instruction":"Classify the status of this issue based on its description:","input":"ABFS: [FNS Over Blob] Marker creation fail exception should not be propagated\n\nMarker creation is attempted during certain operations such as {*}create{*}, {*}getPathStatus{*}, {*}setPathProperties{*}, and {*}rename{*}, in order to add a 0-byte file that signifies the existence of a folder at that path. However, if marker creation fails, the failure should not be propagated to the user.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ABFS: [FNS Over Blob] Marker creation fail exception should not be propagated\n\nMarker creation is attempted during certain operations such as {*}create{*}, {*}getPathStatus{*}, {*}setPathProperties{*}, and {*}rename{*}, in order to add a 0-byte file that signifies the existence of a folder at that path. However, if marker creation fails, the failure should not be propagated to the user.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ABFS: [FNS Over Blob] Marker creation fail exception should not be propagated\n\nMarker creation is attempted during certain operations such as {*}create{*}, {*}getPathStatus{*}, {*}setPathProperties{*}, and {*}rename{*}, in order to add a 0-byte file that signifies the existence of a folder at that path. However, if marker creation fails, the failure should not be propagated to the user.","output":"Marker creation is attempted during certain operations such as {*}create{*}, {*}getPathStatus{*}, {*}setPathProperties{*}, and {*}rename{*}, in order to add a 0-byte file that signifies the existence of a folder at that path. However, if marker creation fails, the failure should not be propagated to"}
{"instruction":"Continue the conversation about this technical issue:","input":"ABFS: [FNS Over Blob] Marker creation fail exception should not be propagated\n\nMarker creation is attempted during certain operations such as {*}create{*}, {*}getPathStatus{*}, {*}setPathProperties{*}, and {*}rename{*}, in order to add a 0-byte file that signifies the existence \n\nConversation:\nuser: anmolanmol1234 opened a new pull request, #7825: URL: https://github.com/apache/hadoop/pull/7825 Marker creation is a best-effort operation performed during folder-related actions such as create, getPathStatus, setPathProperties, and rename. It involves writing a 0-byte file to indicate the presence\nassistant: hadoop-yetus commented on PR #7825: URL: https://github.com/apache/hadoop/pull/7825#issuecomment-3110072912 :confetti_ball: **+1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 59s | | Docker mode activated. | |\nassistant: anmolanmol1234 commented on PR #7825: URL: https://github.com/apache/hadoop/pull/7825#issuecomment-3114250873 ============================================================ HNS-OAuth-DFS ============================================================ [WARNING] Tests run: 177, Failures: 0, Errors: 0, Skip\nassistant: Copilot commented on code in PR #7825: URL: https://github.com/apache/hadoop/pull/7825#discussion_r2235023374 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/services/AbfsBlobClient.java: ########## @@ -1160,8 +1160,12 @@ public AbfsRestOperation setPathProperties(fi\nassistant: bhattmanish98 commented on code in PR #7825: URL: https://github.com/apache/hadoop/pull/7825#discussion_r2235073847 ########## hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/services/AbfsBlobClient.java: ########## @@ -1160,8 +1160,12 @@ public AbfsRestOperation setPathPropert","output":"anujmodi2021 merged PR #7825: URL: https://github.com/apache/hadoop/pull/7825"}
{"instruction":"Extract key technical details from this issue:","input":"Marker creation is attempted during certain operations such as {*}create{*}, {*}getPathStatus{*}, {*}setPathProperties{*}, and {*}rename{*}, in order to add a 0-byte file that signifies the existence of a folder at that path. However, if marker creation fails, the failure should not be propagated to the user.","output":"ABFS: [FNS Over Blob] Marker creation fail exception should not be propagated"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"acknowledge Guava license on LimitInputStream\n\nWhen ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code headers * add something to their LICENSE that mentions the source file and what license is on it * if the 3rd party project is Apache licensed but has a NOTICE file, we need to copy its contents to our NOTICE * these requirements are only negated if the original code is submitted to the ASF project by the code's copyright holder (the individual or company that wrote the original code). * Hadoop copy https://github.com/apache/hadoop/blob/c357e435fd691b4c184b82325bef6d7c65e5f32b/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LimitInputStream.java#L39 * Original code has a Guava copyright that we probably need to keep https://github.com/google/guava/blob/master/guava/src/com/google/common/io/ByteStreams.java","output":"acknowledge Guava license on LimitInputStream"}
{"instruction":"Classify the status of this issue based on its description:","input":"acknowledge Guava license on LimitInputStream\n\nWhen ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code headers * add something to their LICENSE that mentions the source file and what license is on it * if the 3rd party project is Apache licensed but has a NOTICE file, we need to copy its contents to our NOTICE * these requirements are only negated if the original code is submitted to the ASF project b","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"acknowledge Guava license on LimitInputStream\n\nWhen ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code headers * add something to their LICENSE that mentions the source file and what license is on it * if the 3rd party project is Apache licensed but has a NOTICE file, we need to copy its contents to our NOTICE * these requirements are only negated if the original code is submitted to the ASF project b","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: acknowledge Guava license on LimitInputStream\n\nWhen ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code headers * add something to their LICENSE that mentions the source file and what license is on it * if the 3rd party project is Apache licensed but has a NOTICE file, we need to copy its contents to our NOTICE * these requirements are only negated if the original code is submitted to the ASF project b","output":"When ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code headers * add something to their LICENSE that mentions the source file and what license is on it * if"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"acknowledge Guava license on LimitInputStream\n\nWhen ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code headers * add something to their LICENSE that mentions the source file and what license is on it * if the 3rd party project is Apache licensed but has a NOTICE file, we need to copy its contents to our NOTICE * these requirements are only negated if the original code is submitted to the ASF project b","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"acknowledge Guava license on LimitInputStream\n\nWhen ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code h\n\nConversation:\nuser: pjfanning opened a new pull request, #7821: URL: https://github.com/apache/hadoop/pull/7821 ### Description of PR See https://issues.apache.org/jira/browse/HADOOP-19634 ### How was this patch tested? ### For code changes: - [ ] Does the title or this PR starts with the corresponding JIRA issue id (e\nassistant: steveloughran merged PR #7821: URL: https://github.com/apache/hadoop/pull/7821","output":"steveloughran merged PR #7821: URL: https://github.com/apache/hadoop/pull/7821"}
{"instruction":"Extract key technical details from this issue:","input":"When ASF projects copy 3rd party code into their code bases, they are meant to: * check the orginal license is Category A - https://www.apache.org/legal/resolved.html * keep the original source code headers * add something to their LICENSE that mentions the source file and what license is on it * if the 3rd party project is Apache licensed but has a NOTICE file, we need to copy its contents to our NOTICE * these requirements are only negated if the original code is submitted to the ASF project by the code's copyright holder (the individual or company that wrote the original code). * Hadoop copy https://github.com/apache/hadoop/blob/c357e435fd691b4c184b82325bef6d7c65e5f32b/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/LimitInputStream.java#L39 * Original code has ","output":"acknowledge Guava license on LimitInputStream"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade nimbusds to 10.0.2\n\nIncludes fix for CVE-2025-53864","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade nimbusds to 10.0.2\n\nIncludes fix for CVE-2025-53864","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade nimbusds to 10.0.2\n\nIncludes fix for CVE-2025-53864","output":"Includes fix for CVE-2025-53864"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade nimbusds to 10.0.2\n\nIncludes fix for CVE-2025-53864","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Upgrade nimbusds to 10.0.2\n\nIncludes fix for CVE-2025-53864\n\nConversation:\nuser: ananysin the version is wrong - we need at least 10.0.2 to fix https://www.cve.org/CVERecord?id=CVE-2025-53864 I would suggest using the latest - 10.4\nassistant: Sure fanningpj\nassistant: AnanyaSingh2121 opened a new pull request, #7836: URL: https://github.com/apache/hadoop/pull/7836 (no comment)\nassistant: hadoop-yetus commented on PR #7836: URL: https://github.com/apache/hadoop/pull/7836#issuecomment-3135017183 :broken_heart: **-1 overall** | Vote | Subsystem | Runtime | Logfile | Comment | |:----:|----------:|--------:|:--------:|:-------:| | +0 :ok: | reexec | 0m 55s | | Docker mode activated. | ||\nassistant: pjfanning opened a new pull request, #7870: URL: https://github.com/apache/hadoop/pull/7870 ### Description of PR CVE-2025-53864 fix has now appeared in 9.37.4 ### How was this patch tested? ### For code changes: - [x] Does the title or this PR starts with the corresponding JIRA issue id (e.g. 'HADO","output":"steveloughran commented on PR #7836: URL: https://github.com/apache/hadoop/pull/7836#issuecomment-3329278859 yes it does; closing this"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Missing histogram info in DESCRIBE FORMATTED when executing another DESCRIBE FORMATTED before setting metastore.stats.fetch.kll\n\nI had already observed several times an issue with DESCRIBE FORMATTED: sometimes the \"histogram\" info is empty, even when setting hive.stats.kll.enable and metastore.stats.fetch.kll. This time I managed to create a MRE (minimum reproducible example): The following qfile shows the wrong behavior ({{{}histogram {}}}): {code:java} CREATE TABLE tab1 AS (SELECT 1 as key); DESCRIBE FORMATTED tab1 key; set metastore.stats.fetch.kll=true; CREATE TABLE tab2 AS (SELECT 1 as key); set hive.stats.kll.enable=true; ANALYZE TABLE tab2 COMPUTE STATISTICS FOR COLUMNS; DESCRIBE FORMATTED tab2 key; {code} While the following qfile works as expected: {code:java} CREATE TABLE tab1 AS (SELECT 1 as key); set metastore.stats.fetch.kll=true; DESCRIBE FORMATTED tab1 key; CREATE TABLE tab2 AS (SELECT 1 as key); set hive.stats.kll.enable=true; ANALYZE TABLE tab2 COMPUTE STATISTICS FOR COLUMNS; DESCRIBE FORMATTED tab2 key; {code} resulting in a {{histogram Q1: 1, Q2: 1, Q3: 1}} The only change is the order of {{set metastore.stats.fetch.kll=true;}} and {{DESCRIBE FORMATTED tab1 key;}}. Please note that the interchanged DESCRIBE FORMATTED is a command on an unrelated table!","output":"Missing histogram info in DESCRIBE FORMATTED when executing another DESCRIBE FORMATTED before setting metastore.stats.fetch.kll"}
{"instruction":"Classify the status of this issue based on its description:","input":"Missing histogram info in DESCRIBE FORMATTED when executing another DESCRIBE FORMATTED before setting metastore.stats.fetch.kll\n\nI had already observed several times an issue with DESCRIBE FORMATTED: sometimes the \"histogram\" info is empty, even when setting hive.stats.kll.enable and metastore.stats.fetch.kll. This time I managed to create a MRE (minimum reproducible example): The following qfile shows the wrong behavior ({{{}histogram {}}}): {code:java} CREATE TABLE tab1 AS (SELECT 1 as key); DESCRIBE FORMATTED tab1 key; set metastore.stats.fetch.kll=true; CREATE TABLE tab2 AS (SELECT 1 as key); set hive.stats.kll.enable","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Missing histogram info in DESCRIBE FORMATTED when executing another DESCRIBE FORMATTED before setting metastore.stats.fetch.kll\n\nI had already observed several times an issue with DESCRIBE FORMATTED: sometimes the \"histogram\" info is empty, even when setting hive.stats.kll.enable and metastore.stats.fetch.kll. This time I managed to create a MRE (minimum reproducible example): The following qfile shows the wrong behavior ({{{}histogram {}}}): {code:java} CREATE TABLE tab1 AS (SELECT 1 as key); DESCRIBE FORMATTED tab1 key; set metastore.stats.fetch.kll=true; CREATE TABLE tab2 AS (SELECT 1 as key); set hive.stats.kll.enable","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Missing histogram info in DESCRIBE FORMATTED when executing another DESCRIBE FORMATTED before setting metastore.stats.fetch.kll\n\nI had already observed several times an issue with DESCRIBE FORMATTED: sometimes the \"histogram\" info is empty, even when setting hive.stats.kll.enable and metastore.stats.fetch.kll. This time I managed to create a MRE (minimum reproducible example): The following qfile shows the wrong behavior ({{{}histogram {}}}): {code:java} CREATE TABLE tab1 AS (SELECT 1 as key); DESCRIBE FORMATTED tab1 key; set metastore.stats.fetch.kll=true; CREATE TABLE tab2 AS (SELECT 1 as key); set hive.stats.kll.enable","output":"I had already observed several times an issue with DESCRIBE FORMATTED: sometimes the \"histogram\" info is empty, even when setting hive.stats.kll.enable and metastore.stats.fetch.kll. This time I managed to create a MRE (minimum reproducible example): The following qfile shows the wrong behavior ({{{"}
{"instruction":"Extract key technical details from this issue:","input":"I had already observed several times an issue with DESCRIBE FORMATTED: sometimes the \"histogram\" info is empty, even when setting hive.stats.kll.enable and metastore.stats.fetch.kll. This time I managed to create a MRE (minimum reproducible example): The following qfile shows the wrong behavior ({{{}histogram {}}}): {code:java} CREATE TABLE tab1 AS (SELECT 1 as key); DESCRIBE FORMATTED tab1 key; set metastore.stats.fetch.kll=true; CREATE TABLE tab2 AS (SELECT 1 as key); set hive.stats.kll.enable=true; ANALYZE TABLE tab2 COMPUTE STATISTICS FOR COLUMNS; DESCRIBE FORMATTED tab2 key; {code} While the following qfile works as expected: {code:java} CREATE TABLE tab1 AS (SELECT 1 as key); set metastore.stats.fetch.kll=true; DESCRIBE FORMATTED tab1 key; CREATE TABLE tab2 AS (SELECT 1 as key); set ","output":"Missing histogram info in DESCRIBE FORMATTED when executing another DESCRIBE FORMATTED before setting metastore.stats.fetch.kll"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Wrong estimation for num rows in EXPLAIN with histogram statistics\n\nGiven a query {{{}SELECT 1 FROM sh2a WHERE k1 < 10 AND k2 < 250{}}}, with a selectivity of 0.02 for {{k1 < 10}} and 0.5 for {{{}k2 < 250{}}}, the combined selectivity should be 0.01 resulting in selecting 5 rows of the 500 rows of the table. If we activate histograms, the combined selectivity is estimated only with the last clause as approx 0.5, so estimating that 247 rows of 500 rows are selected. Reason: {{StatsRulesProcFactory.FilterStatsRule#evaluateComparatorWithHistogram}} needs to estimate the selectivity of the condition and multiply it by currNumRows.","output":"Wrong estimation for num rows in EXPLAIN with histogram statistics"}
{"instruction":"Classify the status of this issue based on its description:","input":"Wrong estimation for num rows in EXPLAIN with histogram statistics\n\nGiven a query {{{}SELECT 1 FROM sh2a WHERE k1 < 10 AND k2 < 250{}}}, with a selectivity of 0.02 for {{k1 < 10}} and 0.5 for {{{}k2 < 250{}}}, the combined selectivity should be 0.01 resulting in selecting 5 rows of the 500 rows of the table. If we activate histograms, the combined selectivity is estimated only with the last clause as approx 0.5, so estimating that 247 rows of 500 rows are selected. Reason: {{StatsRulesProcFactory.FilterStatsRule#evaluateComparatorWithHistogram}} needs to estimat","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Wrong estimation for num rows in EXPLAIN with histogram statistics\n\nGiven a query {{{}SELECT 1 FROM sh2a WHERE k1 < 10 AND k2 < 250{}}}, with a selectivity of 0.02 for {{k1 < 10}} and 0.5 for {{{}k2 < 250{}}}, the combined selectivity should be 0.01 resulting in selecting 5 rows of the 500 rows of the table. If we activate histograms, the combined selectivity is estimated only with the last clause as approx 0.5, so estimating that 247 rows of 500 rows are selected. Reason: {{StatsRulesProcFactory.FilterStatsRule#evaluateComparatorWithHistogram}} needs to estimat","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Wrong estimation for num rows in EXPLAIN with histogram statistics\n\nGiven a query {{{}SELECT 1 FROM sh2a WHERE k1 < 10 AND k2 < 250{}}}, with a selectivity of 0.02 for {{k1 < 10}} and 0.5 for {{{}k2 < 250{}}}, the combined selectivity should be 0.01 resulting in selecting 5 rows of the 500 rows of the table. If we activate histograms, the combined selectivity is estimated only with the last clause as approx 0.5, so estimating that 247 rows of 500 rows are selected. Reason: {{StatsRulesProcFactory.FilterStatsRule#evaluateComparatorWithHistogram}} needs to estimat","output":"Given a query {{{}SELECT 1 FROM sh2a WHERE k1 < 10 AND k2 < 250{}}}, with a selectivity of 0.02 for {{k1 < 10}} and 0.5 for {{{}k2 < 250{}}}, the combined selectivity should be 0.01 resulting in selecting 5 rows of the 500 rows of the table. If we activate histograms, the combined selectivity is est"}
{"instruction":"Extract key technical details from this issue:","input":"Given a query {{{}SELECT 1 FROM sh2a WHERE k1 < 10 AND k2 < 250{}}}, with a selectivity of 0.02 for {{k1 < 10}} and 0.5 for {{{}k2 < 250{}}}, the combined selectivity should be 0.01 resulting in selecting 5 rows of the 500 rows of the table. If we activate histograms, the combined selectivity is estimated only with the last clause as approx 0.5, so estimating that 247 rows of 500 rows are selected. Reason: {{StatsRulesProcFactory.FilterStatsRule#evaluateComparatorWithHistogram}} needs to estimate the selectivity of the condition and multiply it by currNumRows.","output":"Wrong estimation for num rows in EXPLAIN with histogram statistics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade Spring to 6.2.12 and spring-ldap-core to 3.3.4 to resolve CVE-2025-41249\n\nThere is http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2025-41249 for the current version of {*}spring-core 5.3.39{*}. Current version of *spring-ldap-core[2.4.4]* has spring-core-5.3.39 as dependency, therefore needs to be upgraded to *3.3.4* which is the next latest version not affected by this vulnerability ({*}depends on spring-core-6.2.12{*}).","output":"Upgrade Spring to 6.2.12 and spring-ldap-core to 3.3.4 to resolve CVE-2025-41249"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade Spring to 6.2.12 and spring-ldap-core to 3.3.4 to resolve CVE-2025-41249\n\nThere is http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2025-41249 for the current version of {*}spring-core 5.3.39{*}. Current version of *spring-ldap-core[2.4.4]* has spring-core-5.3.39 as dependency, therefore needs to be upgraded to *3.3.4* which is the next latest version not affected by this vulnerability ({*}depends on spring-core-6.2.12{*}).","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade Spring to 6.2.12 and spring-ldap-core to 3.3.4 to resolve CVE-2025-41249\n\nThere is http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2025-41249 for the current version of {*}spring-core 5.3.39{*}. Current version of *spring-ldap-core[2.4.4]* has spring-core-5.3.39 as dependency, therefore needs to be upgraded to *3.3.4* which is the next latest version not affected by this vulnerability ({*}depends on spring-core-6.2.12{*}).","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade Spring to 6.2.12 and spring-ldap-core to 3.3.4 to resolve CVE-2025-41249\n\nThere is http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2025-41249 for the current version of {*}spring-core 5.3.39{*}. Current version of *spring-ldap-core[2.4.4]* has spring-core-5.3.39 as dependency, therefore needs to be upgraded to *3.3.4* which is the next latest version not affected by this vulnerability ({*}depends on spring-core-6.2.12{*}).","output":"There is http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2025-41249 for the current version of {*}spring-core 5.3.39{*}. Current version of *spring-ldap-core[2.4.4]* has spring-core-5.3.39 as dependency, therefore needs to be upgraded to *3.3.4* which is the next latest version not affected by t"}
{"instruction":"Extract key technical details from this issue:","input":"There is http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2025-41249 for the current version of {*}spring-core 5.3.39{*}. Current version of *spring-ldap-core[2.4.4]* has spring-core-5.3.39 as dependency, therefore needs to be upgraded to *3.3.4* which is the next latest version not affected by this vulnerability ({*}depends on spring-core-6.2.12{*}).","output":"Upgrade Spring to 6.2.12 and spring-ldap-core to 3.3.4 to resolve CVE-2025-41249"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"The directory of the direct insert manifest files should be hidden from read queries\n\nIn HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side effect of this change, if there is an insert and the read query running at the same time on the same table, the manifest files are read by the the read query. This leads to exception like this {code:java} ERROR : Failed with exception java.io.IOException:java.lang.RuntimeException: ORC split generation failed with exception: org.apache.orc.FileFormatException: Malformed ORC file hdfs://ccycloud-1.kuczoram731.root.comops.site:8020/warehouse/tablespace/managed/hive/acid_test/-tmp.delta_0000002_0000002_0000/000000_0.manifest. Invalid postscript. java.io.IOException: java.lang.RuntimeException: ORC split generation failed with exception: org.apache.orc.FileFormatException: Malformed ORC file hdfs://ccycloud-1.kuczoram731.root.comops.site:8020/warehouse/tablespace/managed/hive/acid_test/-tmp.delta_0000002_0000002_0000/000000_0.manifest. Invalid postscript. at org.apache.hadoop.hive.ql.exec.FetchOperator.getNextRow(FetchOperator.java:646) at org.apache.hadoop.hive.ql.exec.FetchOperator.pushRow(FetchOperator.java:553) at org.apache.hadoop.hive.ql.exec.FetchTask.executeInner(FetchTask.java:217) at org.apache.hadoop.hive.ql.exec.FetchTask.execute(FetchTask.java:114) at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:819) at org.apache.hadoop.hive.ql.Driver.run(Driver.java:547) at org.apache.hadoop.hive.ql.Driver.run(Driver.java:541) at org.apache.hadoop.hive.ql.reexec.ReExecDriver.run(ReExecDriver.java:190) at org.apache.hive.service.cli.operation.SQLOperation.runQuery(SQLOperation.java:236) at org.apache.hive.service.cli.operation.SQLOperation.access$700(SQLOperation.java:92) at org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork$1.run(SQLOperation.java:341) at java.security.AccessController.doPrivileged(Native Method) at javax.security.auth.Subject.doAs(Subject.java:422) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1910) at org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork.run(SQLOperation.java:361) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748) Caused by: java.lang.RuntimeException: ORC split generation failed with exception: org.apache.orc.FileFormatException: Malformed ORC file hdfs://ccycloud-1.kuczoram731.root.comops.site:8020/warehouse/tablespace/managed/hive/acid_test/-tmp.delta_0000002_0000002_0000/000000_0.manifest. Invalid postscript. at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1891) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getSplits(OrcInputFormat.java:1980) at org.apache.hadoop.hive.ql.exec.FetchOperator.generateWrappedSplits(FetchOperator.java:457) at org.apache.hadoop.hive.ql.exec.FetchOperator.getNextSplits(FetchOperator.java:424) at org.apache.hadoop.hive.ql.exec.FetchOperator.getRecordReader(FetchOperator.java:328) at org.apache.hadoop.hive.ql.exec.FetchOperator.getNextRow(FetchOperator.java:584) ... 21 more Caused by: java.util.concurrent.ExecutionException: org.apache.orc.FileFormatException: Malformed ORC file hdfs://ccycloud-1.kuczoram731.root.comops.site:8020/warehouse/tablespace/managed/hive/acid_test/-tmp.delta_0000002_0000002_0000/000000_0.manifest. Invalid postscript. at java.util.concurrent.FutureTask.report(FutureTask.java:122) at java.util.concurrent.FutureTask.get(FutureTask.java:192) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1885) ... 26 more Caused by: org.apache.orc.FileFormatException: Malformed ORC file hdfs://ccycloud-1.kuczoram731.root.comops.site:8020/warehouse/tablespace/managed/hive/acid_test/-tmp.delta_0000002_0000002_0000/000000_0.manifest. Invalid postscript. at org.apache.orc.impl.ReaderImpl.ensureOrcFooter(ReaderImpl.java:464) at org.apache.orc.impl.ReaderImpl.extractFileTail(ReaderImpl.java:812) at org.apache.orc.impl.ReaderImpl. (ReaderImpl.java:567) at org.apache.hadoop.hive.ql.io.orc.ReaderImpl. (ReaderImpl.java:61) at org.apache.hadoop.hive.ql.io.orc.OrcFile.createReader(OrcFile.java:112) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:1686) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.callInternal(OrcInputFormat.java:1574) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.access$2900(OrcInputFormat.java:1357) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator$1.run(OrcInputFormat.java:1546) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator$1.run(OrcInputFormat.java:1543) at java.security.AccessController.doPrivileged(Native Method) at javax.security.auth.Subject.doAs(Subject.java:422) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1910) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:1543) at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:1357) ... 4 more {code}","output":"The directory of the direct insert manifest files should be hidden from read queries"}
{"instruction":"Classify the status of this issue based on its description:","input":"The directory of the direct insert manifest files should be hidden from read queries\n\nIn HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side effect of this change, if there is an insert and the read query running at the same time on the same table, the manifest files are read by the the read query. This leads to exception like this {code:java} ERROR : Failed with exception java.io.IOException:java.lang.RuntimeException: ORC split genera","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"The directory of the direct insert manifest files should be hidden from read queries\n\nIn HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side effect of this change, if there is an insert and the read query running at the same time on the same table, the manifest files are read by the the read query. This leads to exception like this {code:java} ERROR : Failed with exception java.io.IOException:java.lang.RuntimeException: ORC split genera","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: The directory of the direct insert manifest files should be hidden from read queries\n\nIn HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side effect of this change, if there is an insert and the read query running at the same time on the same table, the manifest files are read by the the read query. This leads to exception like this {code:java} ERROR : Failed with exception java.io.IOException:java.lang.RuntimeException: ORC split genera","output":"In HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side effect of this change, if there is an insert and the read query running at the same time on the sam"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"The directory of the direct insert manifest files should be hidden from read queries\n\nIn HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side effect of this change, if there is an insert and the read query running at the same time on the same table, the manifest files are read by the the read query. This leads to exception like this {code:java} ERROR : Failed with exception java.io.IOException:java.lang.RuntimeException: ORC split genera","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"The directory of the direct insert manifest files should be hidden from read queries\n\nIn HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side\n\nConversation:\nuser: Merged to master Thanks for the fix, kuczoram !","output":"Merged to master Thanks for the fix, kuczoram !"}
{"instruction":"Extract key technical details from this issue:","input":"In HIVE-27536 the value of the \"tmpPrefix\" variable in the Utilities class was changed to \"-tmp.\" from \"_tmp.\". This prefix was used to create the temporary directory for the manifest files. As a side effect of this change, if there is an insert and the read query running at the same time on the same table, the manifest files are read by the the read query. This leads to exception like this {code:java} ERROR : Failed with exception java.io.IOException:java.lang.RuntimeException: ORC split generation failed with exception: org.apache.orc.FileFormatException: Malformed ORC file hdfs://ccycloud-1.kuczoram731.root.comops.site:8020/warehouse/tablespace/managed/hive/acid_test/-tmp.delta_0000002_0000002_0000/000000_0.manifest. Invalid postscript. java.io.IOException: java.lang.RuntimeException: O","output":"The directory of the direct insert manifest files should be hidden from read queries"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove getPrimaryKeys codes from beeline module\n\nIf you send a select query from Beeline client with --color, you can see exception in HS2 logs: {code:java} ./apache-hive-beeline-4.2.0-SNAPSHOT/bin/beeline -u \"jdbc:hive2://127.0.0.1:10000/default hive\" --color{code} 2025-09-18T16:22:34,121 ERROR [HiveServer2-Handler-Pool: Thread-166] thrift.ThriftCLIService: Failed to get primary keys [request: TGetPrimaryKeysReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:56 22 37 10 00 2D 4B BB B6 FE 42 49 E2 25 75 1F, secret:C7 E6 BF 96 D1 82 4E F5 82 36 AC A7 A1 3E 7A A6)), catalogName:, tableName:test12)] org.apache.hive.service.cli.HiveSQLException: org.apache.thrift.protocol.TProtocolException: Required field 'db_name' is unset! Struct:PrimaryKeysRequest(db_name:null, tbl_name:test12, catName:hive) As i said in HIVE-29213 https://issues.apache.org/jira/browse/HIVE-29213?focusedCommentId=18033761&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-18033761 I believe retrieving the primary key of a table on the beeline side is meaningless (the original purpose was only for coloring the beeline output). {color:#172b4d}We do not need to investigate how to retrieve the correct db_name to ensure the method _HiveDatabaseMetaData::getPrimaryKeys(String catalog, String schema, String table)_ executes properly. {*}I believe removing this code logic would suffice{*}.{color}","output":"Remove getPrimaryKeys codes from beeline module"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove getPrimaryKeys codes from beeline module\n\nIf you send a select query from Beeline client with --color, you can see exception in HS2 logs: {code:java} ./apache-hive-beeline-4.2.0-SNAPSHOT/bin/beeline -u \"jdbc:hive2://127.0.0.1:10000/default hive\" --color{code} 2025-09-18T16:22:34,121 ERROR [HiveServer2-Handler-Pool: Thread-166] thrift.ThriftCLIService: Failed to get primary keys [request: TGetPrimaryKeysReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:56 22 37 10 00 2D 4B BB B6 FE 42 49 E2 25 75 1F, secret:C7 E6 BF 96 D1","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Remove getPrimaryKeys codes from beeline module\n\nIf you send a select query from Beeline client with --color, you can see exception in HS2 logs: {code:java} ./apache-hive-beeline-4.2.0-SNAPSHOT/bin/beeline -u \"jdbc:hive2://127.0.0.1:10000/default hive\" --color{code} 2025-09-18T16:22:34,121 ERROR [HiveServer2-Handler-Pool: Thread-166] thrift.ThriftCLIService: Failed to get primary keys [request: TGetPrimaryKeysReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:56 22 37 10 00 2D 4B BB B6 FE 42 49 E2 25 75 1F, secret:C7 E6 BF 96 D1","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove getPrimaryKeys codes from beeline module\n\nIf you send a select query from Beeline client with --color, you can see exception in HS2 logs: {code:java} ./apache-hive-beeline-4.2.0-SNAPSHOT/bin/beeline -u \"jdbc:hive2://127.0.0.1:10000/default hive\" --color{code} 2025-09-18T16:22:34,121 ERROR [HiveServer2-Handler-Pool: Thread-166] thrift.ThriftCLIService: Failed to get primary keys [request: TGetPrimaryKeysReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:56 22 37 10 00 2D 4B BB B6 FE 42 49 E2 25 75 1F, secret:C7 E6 BF 96 D1","output":"If you send a select query from Beeline client with --color, you can see exception in HS2 logs: {code:java} ./apache-hive-beeline-4.2.0-SNAPSHOT/bin/beeline -u \"jdbc:hive2://127.0.0.1:10000/default hive\" --color{code} 2025-09-18T16:22:34,121 ERROR [HiveServer2-Handler-Pool: Thread-166] thrift.Thrift"}
{"instruction":"Extract key technical details from this issue:","input":"If you send a select query from Beeline client with --color, you can see exception in HS2 logs: {code:java} ./apache-hive-beeline-4.2.0-SNAPSHOT/bin/beeline -u \"jdbc:hive2://127.0.0.1:10000/default hive\" --color{code} 2025-09-18T16:22:34,121 ERROR [HiveServer2-Handler-Pool: Thread-166] thrift.ThriftCLIService: Failed to get primary keys [request: TGetPrimaryKeysReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:56 22 37 10 00 2D 4B BB B6 FE 42 49 E2 25 75 1F, secret:C7 E6 BF 96 D1 82 4E F5 82 36 AC A7 A1 3E 7A A6)), catalogName:, tableName:test12)] org.apache.hive.service.cli.HiveSQLException: org.apache.thrift.protocol.TProtocolException: Required field 'db_name' is unset! Struct:PrimaryKeysRequest(db_name:null, tbl_name:test12, catName:hive) As i said in HIVE-29213 https:/","output":"Remove getPrimaryKeys codes from beeline module"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve SchemaTool features in HiveMetaStore\n\nThere are some improvements need to do, for Schema tool in the HiveMetaStore.","output":"Improve SchemaTool features in HiveMetaStore"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve SchemaTool features in HiveMetaStore\n\nThere are some improvements need to do, for Schema tool in the HiveMetaStore.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve SchemaTool features in HiveMetaStore\n\nThere are some improvements need to do, for Schema tool in the HiveMetaStore.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve SchemaTool features in HiveMetaStore\n\nThere are some improvements need to do, for Schema tool in the HiveMetaStore.","output":"There are some improvements need to do, for Schema tool in the HiveMetaStore."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Credential vending for external system access\n\n_Credential vending_ issues *short-lived, scoped credentials* to the query engine for accessing table storage. Instead of requiring long-term cloud storage keys or broad access, the engine is “vended” a temporary credential just-in-time for the query.","output":"Credential vending for external system access"}
{"instruction":"Classify the status of this issue based on its description:","input":"Credential vending for external system access\n\n_Credential vending_ issues *short-lived, scoped credentials* to the query engine for accessing table storage. Instead of requiring long-term cloud storage keys or broad access, the engine is “vended” a temporary credential just-in-time for the query.","output":"Closed"}
{"instruction":"Determine the priority level of this issue:","input":"Credential vending for external system access\n\n_Credential vending_ issues *short-lived, scoped credentials* to the query engine for accessing table storage. Instead of requiring long-term cloud storage keys or broad access, the engine is “vended” a temporary credential just-in-time for the query.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Credential vending for external system access\n\n_Credential vending_ issues *short-lived, scoped credentials* to the query engine for accessing table storage. Instead of requiring long-term cloud storage keys or broad access, the engine is “vended” a temporary credential just-in-time for the query.","output":"_Credential vending_ issues *short-lived, scoped credentials* to the query engine for accessing table storage. Instead of requiring long-term cloud storage keys or broad access, the engine is “vended” a temporary credential just-in-time for the query."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Credential vending for external system access\n\n_Credential vending_ issues *short-lived, scoped credentials* to the query engine for accessing table storage. Instead of requiring long-term cloud storage keys or broad access, the engine is “vended” a temporary credential just-in-time for the query.","output":"Duplicate"}
{"instruction":"Extract key technical details from this issue:","input":"_Credential vending_ issues *short-lived, scoped credentials* to the query engine for accessing table storage. Instead of requiring long-term cloud storage keys or broad access, the engine is “vended” a temporary credential just-in-time for the query.","output":"Credential vending for external system access"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Restrict using mapreduce.job.queuename config at tez session level\n\nQueries with config 'mapreduce.job.queuename' is allowing access to any queue if tez.queue.name is null (which is the default behavior). It is ideal to restrict 'mapreduce.job.queuename' from setting this at the Tez session.","output":"Restrict using mapreduce.job.queuename config at tez session level"}
{"instruction":"Classify the status of this issue based on its description:","input":"Restrict using mapreduce.job.queuename config at tez session level\n\nQueries with config 'mapreduce.job.queuename' is allowing access to any queue if tez.queue.name is null (which is the default behavior). It is ideal to restrict 'mapreduce.job.queuename' from setting this at the Tez session.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Restrict using mapreduce.job.queuename config at tez session level\n\nQueries with config 'mapreduce.job.queuename' is allowing access to any queue if tez.queue.name is null (which is the default behavior). It is ideal to restrict 'mapreduce.job.queuename' from setting this at the Tez session.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Restrict using mapreduce.job.queuename config at tez session level\n\nQueries with config 'mapreduce.job.queuename' is allowing access to any queue if tez.queue.name is null (which is the default behavior). It is ideal to restrict 'mapreduce.job.queuename' from setting this at the Tez session.","output":"Queries with config 'mapreduce.job.queuename' is allowing access to any queue if tez.queue.name is null (which is the default behavior). It is ideal to restrict 'mapreduce.job.queuename' from setting this at the Tez session."}
{"instruction":"Continue the conversation about this technical issue:","input":"Restrict using mapreduce.job.queuename config at tez session level\n\nQueries with config 'mapreduce.job.queuename' is allowing access to any queue if tez.queue.name is null (which is the default behavior). It is ideal to restrict 'mapreduce.job.queuename' from setting \n\nConversation:\nuser: Hi hemanth619, can you please set affected version(s)?","output":"Hi hemanth619, can you please set affected version(s)?"}
{"instruction":"Extract key technical details from this issue:","input":"Queries with config 'mapreduce.job.queuename' is allowing access to any queue if tez.queue.name is null (which is the default behavior). It is ideal to restrict 'mapreduce.job.queuename' from setting this at the Tez session.","output":"Restrict using mapreduce.job.queuename config at tez session level"}
{"instruction":"Classify the status of this issue based on its description:","input":"Do not call getMSC from client itself, this can lead to deadlock\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Do not call getMSC from client itself, this can lead to deadlock\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Do not call getMSC from client itself, this can lead to deadlock\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Do not call getMSC from client itself, this can lead to deadlock\n\n","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Do not call getMSC from client itself, this can lead to deadlock\n\n\n\nConversation:\nuser: Merged to master Thanks difin for the review!","output":"Merged to master Thanks difin for the review!"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Enabling \"hive.merge.nway.joins\" returns wrong resutls\n\nEnabling CBO and \"nway.joins\" returns wrong results. set hive.merge.nway.joins=true; set hive.cbo.enable=true; create table taba(id string); INSERT INTO TABLE taba VALUES ('1'),('2'); create table tabb(id string); INSERT INTO TABLE tabb VALUES ('1'); create table tabc(id string); INSERT INTO TABLE tabc VALUES ('1'),('2'),('2'); //Full data select * from taba A left outer join tabb B on (A.id = B.id) left outer join tabc C on (C.id = A.id); {code} +-----+-------+-------+ | id | id_1 | id_2 | +-----+-------+-------+ | 1 | 1 | 1 | | 2 | NULL | 2 | | 2 | NULL | 2 | +-----+-------+-------+ {code} //ID is not null select * from taba A left outer join chinna.tabb B on (A.id = B.id) left outer join chinna.tabc C on (C.id = A.id) where B.id is not null; {code} +-----+-------+-------+ | id | id_1 | id_2 | +-----+-------+-------+ | 1 | 1 | 1 | +-----+-------+-------+ {code} //ID is null select * from taba A left outer join tabb B on (A.id = B.id) left outer join tabc C on (C.id = A.id) where B.id is null; {code} +-----+-------+-------+ | id | id_1 | id_2 | +-----+-------+-------+ | 1 | NULL | 1 | | 2 | NULL | 2 | | 2 | NULL | 2 | +-----+-------+-------+ {code} In this case B.id is not null for id=1, Correct output is {code} +-----+-------+-------+ | id | id_1 | id_2 | +-----+-------+-------+ | 2 | NULL | 2 | | 2 | NULL | 2 | +-----+-------+-------+ {code}","output":"Enabling \"hive.merge.nway.joins\" returns wrong resutls"}
{"instruction":"Classify the status of this issue based on its description:","input":"Enabling \"hive.merge.nway.joins\" returns wrong resutls\n\nEnabling CBO and \"nway.joins\" returns wrong results. set hive.merge.nway.joins=true; set hive.cbo.enable=true; create table taba(id string); INSERT INTO TABLE taba VALUES ('1'),('2'); create table tabb(id string); INSERT INTO TABLE tabb VALUES ('1'); create table tabc(id string); INSERT INTO TABLE tabc VALUES ('1'),('2'),('2'); //Full data select * from taba A left outer join tabb B on (A.id = B.id) left outer join tabc C on (C.id = A.id); {code} +-----+-------+-------+ | id | id_1 | id_2 | +---","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Enabling \"hive.merge.nway.joins\" returns wrong resutls\n\nEnabling CBO and \"nway.joins\" returns wrong results. set hive.merge.nway.joins=true; set hive.cbo.enable=true; create table taba(id string); INSERT INTO TABLE taba VALUES ('1'),('2'); create table tabb(id string); INSERT INTO TABLE tabb VALUES ('1'); create table tabc(id string); INSERT INTO TABLE tabc VALUES ('1'),('2'),('2'); //Full data select * from taba A left outer join tabb B on (A.id = B.id) left outer join tabc C on (C.id = A.id); {code} +-----+-------+-------+ | id | id_1 | id_2 | +---","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Enabling \"hive.merge.nway.joins\" returns wrong resutls\n\nEnabling CBO and \"nway.joins\" returns wrong results. set hive.merge.nway.joins=true; set hive.cbo.enable=true; create table taba(id string); INSERT INTO TABLE taba VALUES ('1'),('2'); create table tabb(id string); INSERT INTO TABLE tabb VALUES ('1'); create table tabc(id string); INSERT INTO TABLE tabc VALUES ('1'),('2'),('2'); //Full data select * from taba A left outer join tabb B on (A.id = B.id) left outer join tabc C on (C.id = A.id); {code} +-----+-------+-------+ | id | id_1 | id_2 | +---","output":"Enabling CBO and \"nway.joins\" returns wrong results. set hive.merge.nway.joins=true; set hive.cbo.enable=true; create table taba(id string); INSERT INTO TABLE taba VALUES ('1'),('2'); create table tabb(id string); INSERT INTO TABLE tabb VALUES ('1'); create table tabc(id string); INSERT INTO TABLE t"}
{"instruction":"Continue the conversation about this technical issue:","input":"Enabling \"hive.merge.nway.joins\" returns wrong resutls\n\nEnabling CBO and \"nway.joins\" returns wrong results. set hive.merge.nway.joins=true; set hive.cbo.enable=true; create table taba(id string); INSERT INTO TABLE taba VALUES ('1'),('2'); create table tab\n\nConversation:\nuser: chinnalalam please set the affected version\nassistant: Haven't investigated enough but disabling anti-join is yielding expected result with the following set. {code:java} set hive.merge.nway.joins=true; set hive.auto.convert.anti.join=false;{code}\nassistant: cc thomas.rebele , kkasa\nassistant: I checked with the PR of HIVE-29176. I could reproduce it there as well, so it's a different problem.","output":"I checked with the PR of HIVE-29176. I could reproduce it there as well, so it's a different problem."}
{"instruction":"Extract key technical details from this issue:","input":"Enabling CBO and \"nway.joins\" returns wrong results. set hive.merge.nway.joins=true; set hive.cbo.enable=true; create table taba(id string); INSERT INTO TABLE taba VALUES ('1'),('2'); create table tabb(id string); INSERT INTO TABLE tabb VALUES ('1'); create table tabc(id string); INSERT INTO TABLE tabc VALUES ('1'),('2'),('2'); //Full data select * from taba A left outer join tabb B on (A.id = B.id) left outer join tabc C on (C.id = A.id); {code} +-----+-------+-------+ | id | id_1 | id_2 | +-----+-------+-------+ | 1 | 1 | 1 | | 2 | NULL | 2 | | 2 | NULL | 2 | +-----+-------+-------+ {code} //ID is not null select * from taba A left outer join chinna.tabb B on (A.id = B.id) left outer join chinna.tabc C on (C.id = A.id) where B.id is not null; {code} +-----+-------+-------+ | id | id_1 | ","output":"Enabling \"hive.merge.nway.joins\" returns wrong resutls"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove Deprecated Metastore configuration from HiveConf\n\nGoal is to remove the redundant configuration present in HiveConf and MetaStoreConf which are deprecated.","output":"Remove Deprecated Metastore configuration from HiveConf"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove Deprecated Metastore configuration from HiveConf\n\nGoal is to remove the redundant configuration present in HiveConf and MetaStoreConf which are deprecated.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove Deprecated Metastore configuration from HiveConf\n\nGoal is to remove the redundant configuration present in HiveConf and MetaStoreConf which are deprecated.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove Deprecated Metastore configuration from HiveConf\n\nGoal is to remove the redundant configuration present in HiveConf and MetaStoreConf which are deprecated.","output":"Goal is to remove the redundant configuration present in HiveConf and MetaStoreConf which are deprecated."}
{"instruction":"Extract key technical details from this issue:","input":"Goal is to remove the redundant configuration present in HiveConf and MetaStoreConf which are deprecated.","output":"Remove Deprecated Metastore configuration from HiveConf"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Session close from different clients/threads leaks resources\n\nConsider the following scenario where three clients/threads interact with HiveServer2 (HS2) using directly (not via JDBC/ODBC) the Thrift APIs. To showcase the problem we assume that the following properties are set. {code:sql} set hive.driver.parallel.compilation=true; set hive.driver.parallel.compilation.global.limit=1; set hive.server2.compile.lock.timeout=0s; {code} * C1: Connect with HS2 and start session with handle S1 * C1: Send Q1, a slow-compilation query, using S1 * HS2: Obtain the compilation lock and start compiling Q1 * C2: Connect with HS2 and start session with handle S2 * C2: Send Q2, a fast-compilation query, using S2 * HS2: Q2 blocks, waiting for the compilation lock to become available. * C3: Connect with HS2 and close session with handle S2 C1, C2, C3 are different Thrift connections so they are handled by separate HS2 threads. C3 will successfully close/kill/stop the session. However, since Q2 was blocked in compilation it can't be stopped immediately. When C2 finally obtains the compilation lock and finishes, the operation will error out since various session related entries have been cleared out. Thread-152 handles the requests from C2, and it reaches the end of compilation it throws the following errors. {noformat} 2025-10-22T03:05:32,929 ERROR [87a053ce-f5d8-4baa-bdbc-8fd7bc1eef31 HiveServer2-Handler-Pool: Thread-152] thrift.ThriftCLIService: Failed to execute statement [request: TExecuteStatementReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:87 A0 53 CE F5 D8 4B AA BD BC 8F D7 BC 1E EF 31, secret:C5 A3 62 BB 51 0B 4A 76 B6 7A 04 0B 38 5C 0A 5A)), statement:EXPLAIN SELECT AVG(age) FROM person GROUP BY name, confOverlay:{}, runAsync:false, queryTimeout:0)] java.lang.RuntimeException: java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.hive.ql.session.SessionState.getSessionId()\" because the return value of \"org.apache.hive.service.cli.session.HiveSession.getSessionState()\" is null at org.apache.hive.service.cli.session.HiveSessionProxy.invoke(HiveSessionProxy.java:89) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.cli.session.HiveSessionProxy$1.run(HiveSessionProxy.java:63) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at java.base/java.security.AccessController.doPrivileged(AccessController.java:714) ~[?:?] at java.base/javax.security.auth.Subject.doAs(Subject.java:525) ~[?:?] at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1953) ~[hadoop-common-3.4.1.jar:?] at org.apache.hive.service.cli.session.HiveSessionProxy.invoke(HiveSessionProxy.java:59) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at jdk.proxy2/jdk.proxy2.$Proxy43.executeStatement(Unknown Source) ~[?:?] at org.apache.hive.service.cli.CLIService.executeStatement(CLIService.java:281) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.cli.thrift.ThriftCLIService.ExecuteStatement(ThriftCLIService.java:651) ~[hive-service-4.2.0-SNAPSHOT.jar:?] at org.apache.hive.service.rpc.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1670) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.rpc.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1650) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:38) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:38) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:56) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:250) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?] at java.base/java.lang.Thread.run(Thread.java:1583) [?:?] Caused by: java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.hive.ql.session.SessionState.getSessionId()\" because the return value of \"org.apache.hive.service.cli.session.HiveSession.getSessionState()\" is null at org.apache.hive.service.cli.operation.Operation.afterRun(Operation.java:270) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.cli.operation.Operation.run(Operation.java:288) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.cli.session.HiveSessionImpl.executeStatementInternal(HiveSessionImpl.java:558) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.cli.session.HiveSessionImpl.executeStatement(HiveSessionImpl.java:532) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?] at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?] at org.apache.hive.service.cli.session.HiveSessionProxy.invoke(HiveSessionProxy.java:78) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] ... 17 more 2025-10-22T03:05:32,930 ERROR [87a053ce-f5d8-4baa-bdbc-8fd7bc1eef31 HiveServer2-Handler-Pool: Thread-152] thrift.ThriftCLIService: Failed to close the session org.apache.hive.service.cli.HiveSQLException: Session does not exist: SessionHandle [87a053ce-f5d8-4baa-bdbc-8fd7bc1eef31] at org.apache.hive.service.cli.session.SessionManager.closeSession(SessionManager.java:625) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.cli.CLIService.closeSession(CLIService.java:240) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.cli.thrift.ThriftCLIService.CloseSession(ThriftCLIService.java:611) ~[hive-service-4.2.0-SNAPSHOT.jar:?] at org.apache.hive.service.rpc.thrift.TCLIService$Processor$CloseSession.getResult(TCLIService.java:1620) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.rpc.thrift.TCLIService$Processor$CloseSession.getResult(TCLIService.java:1600) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:38) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:38) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:56) ~[hive-service-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:250) ~[hive-exec-4.2.0-SNAPSHOT.jar:4.2.0-SNAPSHOT] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?] at java.base/java.lang.Thread.run(Thread.java:1583) [?:?] {noformat} The fact that C3 closes the session that is open by another client leads to race conditions and may also cause resource leaks. The error may not always be the same with the one reported above since it really depends at which stage of compilation/execution a session is closed/killed. When the queries are over ACID tables the abrupt session termination of S2 will fail to close the transaction that is opened for Q2 leading to a transaction leak. The scenario is inspired from https://gethue.com/ workflows where session close can be initiated by user request or https://docs.gethue.com/administrator/configuration/server/#idle-session-timeout.","output":"Session close from different clients/threads leaks resources"}
{"instruction":"Classify the status of this issue based on its description:","input":"Session close from different clients/threads leaks resources\n\nConsider the following scenario where three clients/threads interact with HiveServer2 (HS2) using directly (not via JDBC/ODBC) the Thrift APIs. To showcase the problem we assume that the following properties are set. {code:sql} set hive.driver.parallel.compilation=true; set hive.driver.parallel.compilation.global.limit=1; set hive.server2.compile.lock.timeout=0s; {code} * C1: Connect with HS2 and start session with handle S1 * C1: Send Q1, a slow-compilation query, using S1 * HS2: Obtain the com","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Session close from different clients/threads leaks resources\n\nConsider the following scenario where three clients/threads interact with HiveServer2 (HS2) using directly (not via JDBC/ODBC) the Thrift APIs. To showcase the problem we assume that the following properties are set. {code:sql} set hive.driver.parallel.compilation=true; set hive.driver.parallel.compilation.global.limit=1; set hive.server2.compile.lock.timeout=0s; {code} * C1: Connect with HS2 and start session with handle S1 * C1: Send Q1, a slow-compilation query, using S1 * HS2: Obtain the com","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Session close from different clients/threads leaks resources\n\nConsider the following scenario where three clients/threads interact with HiveServer2 (HS2) using directly (not via JDBC/ODBC) the Thrift APIs. To showcase the problem we assume that the following properties are set. {code:sql} set hive.driver.parallel.compilation=true; set hive.driver.parallel.compilation.global.limit=1; set hive.server2.compile.lock.timeout=0s; {code} * C1: Connect with HS2 and start session with handle S1 * C1: Send Q1, a slow-compilation query, using S1 * HS2: Obtain the com","output":"Consider the following scenario where three clients/threads interact with HiveServer2 (HS2) using directly (not via JDBC/ODBC) the Thrift APIs. To showcase the problem we assume that the following properties are set. {code:sql} set hive.driver.parallel.compilation=true; set hive.driver.parallel.comp"}
{"instruction":"Continue the conversation about this technical issue:","input":"Session close from different clients/threads leaks resources\n\nConsider the following scenario where three clients/threads interact with HiveServer2 (HS2) using directly (not via JDBC/ODBC) the Thrift APIs. To showcase the problem we assume that the following pro\n\nConversation:\nuser: The [^session-close-txn-leak.patch] contains a unit test that reproduces the problem on current master (commit ad55d58eadd6c1aabc7fed51e25dfffe158a44f6).\nassistant: As explained also under HIVE-11402 the objects that are handling the sessions in HS2 are not really thread safe and there are many assumptions that only one thread is making use of the session at every point in time. The scenario described above violates these assumptions since we have many threads/","output":"As explained also under HIVE-11402 the objects that are handling the sessions in HS2 are not really thread safe and there are many assumptions that only one thread is making use of the session at every point in time. The scenario described above violates these assumptions since we have many threads/"}
{"instruction":"Extract key technical details from this issue:","input":"Consider the following scenario where three clients/threads interact with HiveServer2 (HS2) using directly (not via JDBC/ODBC) the Thrift APIs. To showcase the problem we assume that the following properties are set. {code:sql} set hive.driver.parallel.compilation=true; set hive.driver.parallel.compilation.global.limit=1; set hive.server2.compile.lock.timeout=0s; {code} * C1: Connect with HS2 and start session with handle S1 * C1: Send Q1, a slow-compilation query, using S1 * HS2: Obtain the compilation lock and start compiling Q1 * C2: Connect with HS2 and start session with handle S2 * C2: Send Q2, a fast-compilation query, using S2 * HS2: Q2 blocks, waiting for the compilation lock to become available. * C3: Connect with HS2 and close session with handle S2 C1, C2, C3 are different Thri","output":"Session close from different clients/threads leaks resources"}
{"instruction":"Classify the status of this issue based on its description:","input":"Iceberg: Add docker-compose setups for REST Catalog integrations with Gravitino and Polaris\n\n","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Iceberg: Add docker-compose setups for REST Catalog integrations with Gravitino and Polaris\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Iceberg: Add docker-compose setups for REST Catalog integrations with Gravitino and Polaris\n\n","output":""}
{"instruction":"Continue the conversation about this technical issue:","input":"Iceberg: Add docker-compose setups for REST Catalog integrations with Gravitino and Polaris\n\n\n\nConversation:\nuser: What's the motivation for adding and maintaining these examples in the Hive repository? It would be perfectly possible to keep them in a repository apart or contribute them to the Gravitino and Polaris repo respectively. I am raising this question since now Gravitino and Polaris specificities become\nassistant: I don’t see an issue with keeping a Hive docker-compose setup along with Gravitino or Polaris services. I’ve seen the same approach used in Trino — it simplifies local deployment and provides a practical user guide for integrating with external catalogs. PS: It’s not part of the official Hive releas\nassistant: The motivation for adding REST Catalog integration examples to Hive repo: * Supporting community interest in REST Catalog integrations in Hive: My recent LinkedIn post discussing the Medium article on the Hive REST Catalog client got a significant engagement: 136 likes and 9 reposts, many from data \nassistant: I never object to integrating other open-source components into Hive, as long as such integrations benefit the Hive community. The only point I would emphasize is that any new feature integration must be accompanied by community-friendly documentation to help Hive users understand and test the funct\nassistant: Just to clarify my previous comment. I am not questioning the usefulness of having such user-guides/examples. They are definitely very helpful for end-users and can expand Hive popularity. I am mainly trying to figure out if they should be part of the Hive repository. If the motivation is to build H","output":"From the conversations, I assume Hive developers and users are expected customers. Additionally, I expect the Hive project to demonstrate how to set up HiveServer2 for external Iceberg ecosystems. It means the Hive project is not intended to define best practices for setting up Apache Gravitino or P"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Decouple hard hadoop-yarn-registry dependency from hive-exec\n\nI am tracking down some transitive dependency issues in {{spark}}, and I have found a potential tighter-than-necessary coupling between {{hive-exec}} and {{hadoop-yarn-registry}}. {{hadoop-yarn-registry}} is definitely used from the LLAP components, but {{hive-exec}} seems to depend on it only at a single point, in {noformat} ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java {noformat} {noformat} if (llapMode) { // localize llap client jars addJarLRByClass(LlapTaskSchedulerService.class, commonLocalResources); addJarLRByClass(LlapProtocolClientImpl.class, commonLocalResources); addJarLRByClass(LlapProtocolClientProxy.class, commonLocalResources); addJarLRByClass(RegistryOperations.class, commonLocalResources); } {noformat} Since spark uses hive-exec but does not use LLAP, my spark side dependency issues would go away, if the reference to this RegistryOperations.class was not resolved at compile time, but only at runtime. (== removing the compile time dependency to registry). I'll provide a simple patch to demonstrate the idea.","output":"Decouple hard hadoop-yarn-registry dependency from hive-exec"}
{"instruction":"Classify the status of this issue based on its description:","input":"Decouple hard hadoop-yarn-registry dependency from hive-exec\n\nI am tracking down some transitive dependency issues in {{spark}}, and I have found a potential tighter-than-necessary coupling between {{hive-exec}} and {{hadoop-yarn-registry}}. {{hadoop-yarn-registry}} is definitely used from the LLAP components, but {{hive-exec}} seems to depend on it only at a single point, in {noformat} ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java {noformat} {noformat} if (llapMode) { // localize llap client jars addJarLRByClass(LlapTaskSchedulerServ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Decouple hard hadoop-yarn-registry dependency from hive-exec\n\nI am tracking down some transitive dependency issues in {{spark}}, and I have found a potential tighter-than-necessary coupling between {{hive-exec}} and {{hadoop-yarn-registry}}. {{hadoop-yarn-registry}} is definitely used from the LLAP components, but {{hive-exec}} seems to depend on it only at a single point, in {noformat} ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java {noformat} {noformat} if (llapMode) { // localize llap client jars addJarLRByClass(LlapTaskSchedulerServ","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Decouple hard hadoop-yarn-registry dependency from hive-exec\n\nI am tracking down some transitive dependency issues in {{spark}}, and I have found a potential tighter-than-necessary coupling between {{hive-exec}} and {{hadoop-yarn-registry}}. {{hadoop-yarn-registry}} is definitely used from the LLAP components, but {{hive-exec}} seems to depend on it only at a single point, in {noformat} ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java {noformat} {noformat} if (llapMode) { // localize llap client jars addJarLRByClass(LlapTaskSchedulerServ","output":"I am tracking down some transitive dependency issues in {{spark}}, and I have found a potential tighter-than-necessary coupling between {{hive-exec}} and {{hadoop-yarn-registry}}. {{hadoop-yarn-registry}} is definitely used from the LLAP components, but {{hive-exec}} seems to depend on it only at a "}
{"instruction":"Continue the conversation about this technical issue:","input":"Decouple hard hadoop-yarn-registry dependency from hive-exec\n\nI am tracking down some transitive dependency issues in {{spark}}, and I have found a potential tighter-than-necessary coupling between {{hive-exec}} and {{hadoop-yarn-registry}}. {{hadoop-yarn-regist\n\nConversation:\nuser: (proposed patch linked above)","output":"(proposed patch linked above)"}
{"instruction":"Extract key technical details from this issue:","input":"I am tracking down some transitive dependency issues in {{spark}}, and I have found a potential tighter-than-necessary coupling between {{hive-exec}} and {{hadoop-yarn-registry}}. {{hadoop-yarn-registry}} is definitely used from the LLAP components, but {{hive-exec}} seems to depend on it only at a single point, in {noformat} ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java {noformat} {noformat} if (llapMode) { // localize llap client jars addJarLRByClass(LlapTaskSchedulerService.class, commonLocalResources); addJarLRByClass(LlapProtocolClientImpl.class, commonLocalResources); addJarLRByClass(LlapProtocolClientProxy.class, commonLocalResources); addJarLRByClass(RegistryOperations.class, commonLocalResources); } {noformat} Since spark uses hive-exec but does not use LLAP,","output":"Decouple hard hadoop-yarn-registry dependency from hive-exec"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Display reason/txn id that is causing ready for cleaning state of a compaction in SHOW COMPACTIONS output\n\n*Problem Statement:* We see compaction requests are showing 'ready for cleaning' state. And sometimes, it will not finish and stuck there. There could be multiple reasons like a {*}long running transaction{*}, Obsolete directories were already cleaned, Cleaner stopped the attempt to clean for this specific compaction request etc. So the specific reason about why a compaction is in ready for cleaning can only be known after looking at the logs which is very difficult and would take a lot of time to get to a conclusion on the RCA Another case is where Initiator not able to initiate a compaction request for some reason like file not found etc.. We can capture this one as well and display *Proposal:* Display the reason for 'ready for cleaning/failed to initiate' state of a compaction request. If it is due to long running txn, we should display that txn id, so that if that txn happens to be stale/invalid/unwanted etc, then that can be aborted so that compaction can continue","output":"Display reason/txn id that is causing ready for cleaning state of a compaction in SHOW COMPACTIONS output"}
{"instruction":"Classify the status of this issue based on its description:","input":"Display reason/txn id that is causing ready for cleaning state of a compaction in SHOW COMPACTIONS output\n\n*Problem Statement:* We see compaction requests are showing 'ready for cleaning' state. And sometimes, it will not finish and stuck there. There could be multiple reasons like a {*}long running transaction{*}, Obsolete directories were already cleaned, Cleaner stopped the attempt to clean for this specific compaction request etc. So the specific reason about why a compaction is in ready for cleaning can only be known after looking at the logs which is very difficult and would take a lot of time ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Display reason/txn id that is causing ready for cleaning state of a compaction in SHOW COMPACTIONS output\n\n*Problem Statement:* We see compaction requests are showing 'ready for cleaning' state. And sometimes, it will not finish and stuck there. There could be multiple reasons like a {*}long running transaction{*}, Obsolete directories were already cleaned, Cleaner stopped the attempt to clean for this specific compaction request etc. So the specific reason about why a compaction is in ready for cleaning can only be known after looking at the logs which is very difficult and would take a lot of time ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Display reason/txn id that is causing ready for cleaning state of a compaction in SHOW COMPACTIONS output\n\n*Problem Statement:* We see compaction requests are showing 'ready for cleaning' state. And sometimes, it will not finish and stuck there. There could be multiple reasons like a {*}long running transaction{*}, Obsolete directories were already cleaned, Cleaner stopped the attempt to clean for this specific compaction request etc. So the specific reason about why a compaction is in ready for cleaning can only be known after looking at the logs which is very difficult and would take a lot of time ","output":"*Problem Statement:* We see compaction requests are showing 'ready for cleaning' state. And sometimes, it will not finish and stuck there. There could be multiple reasons like a {*}long running transaction{*}, Obsolete directories were already cleaned, Cleaner stopped the attempt to clean for this s"}
{"instruction":"Extract key technical details from this issue:","input":"*Problem Statement:* We see compaction requests are showing 'ready for cleaning' state. And sometimes, it will not finish and stuck there. There could be multiple reasons like a {*}long running transaction{*}, Obsolete directories were already cleaned, Cleaner stopped the attempt to clean for this specific compaction request etc. So the specific reason about why a compaction is in ready for cleaning can only be known after looking at the logs which is very difficult and would take a lot of time to get to a conclusion on the RCA Another case is where Initiator not able to initiate a compaction request for some reason like file not found etc.. We can capture this one as well and display *Proposal:* Display the reason for 'ready for cleaning/failed to initiate' state of a compaction request. ","output":"Display reason/txn id that is causing ready for cleaning state of a compaction in SHOW COMPACTIONS output"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make function ddl task work with catalog\n\nThe code related to function DDL does not have catalog attributes. We need to add catalog attributes to function-related interfaces so that functions can work simultaneously across multiple catalogs. [https://github.com/apache/hive/tree/master/ql/src/java/org/apache/hadoop/hive/ql/ddl/function]","output":"Make function ddl task work with catalog"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make function ddl task work with catalog\n\nThe code related to function DDL does not have catalog attributes. We need to add catalog attributes to function-related interfaces so that functions can work simultaneously across multiple catalogs. [https://github.com/apache/hive/tree/master/ql/src/java/org/apache/hadoop/hive/ql/ddl/function]","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Make function ddl task work with catalog\n\nThe code related to function DDL does not have catalog attributes. We need to add catalog attributes to function-related interfaces so that functions can work simultaneously across multiple catalogs. [https://github.com/apache/hive/tree/master/ql/src/java/org/apache/hadoop/hive/ql/ddl/function]","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make function ddl task work with catalog\n\nThe code related to function DDL does not have catalog attributes. We need to add catalog attributes to function-related interfaces so that functions can work simultaneously across multiple catalogs. [https://github.com/apache/hive/tree/master/ql/src/java/org/apache/hadoop/hive/ql/ddl/function]","output":"The code related to function DDL does not have catalog attributes. We need to add catalog attributes to function-related interfaces so that functions can work simultaneously across multiple catalogs. [https://github.com/apache/hive/tree/master/ql/src/java/org/apache/hadoop/hive/ql/ddl/function]"}
{"instruction":"Extract key technical details from this issue:","input":"The code related to function DDL does not have catalog attributes. We need to add catalog attributes to function-related interfaces so that functions can work simultaneously across multiple catalogs. [https://github.com/apache/hive/tree/master/ql/src/java/org/apache/hadoop/hive/ql/ddl/function]","output":"Make function ddl task work with catalog"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make proactive cache eviction work with catalog\n\nProactive LLAP cache eviction was introduced in HIVE-22820. But this feature didn't add catalog field. We need to consider to add catalog field to it to make it work in case of there are multiple catalogs. Proactive LLAP cache eviction was used several places. such as [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] {code:java} if (LlapHiveUtils.isLlapMode(context.getConf())) { ProactiveEviction.Request.Builder llapEvictRequestBuilder = ProactiveEviction.Request.Builder.create(); llapEvictRequestBuilder.addDb(dbName); ProactiveEviction.evict(context.getConf(), llapEvictRequestBuilder.build()); } {code}","output":"Make proactive cache eviction work with catalog"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make proactive cache eviction work with catalog\n\nProactive LLAP cache eviction was introduced in HIVE-22820. But this feature didn't add catalog field. We need to consider to add catalog field to it to make it work in case of there are multiple catalogs. Proactive LLAP cache eviction was used several places. such as [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] {code:java} if (LlapHiveUtils.isLlapMode(context.getConf())) { ProactiveEviction.Request.Builder ll","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Make proactive cache eviction work with catalog\n\nProactive LLAP cache eviction was introduced in HIVE-22820. But this feature didn't add catalog field. We need to consider to add catalog field to it to make it work in case of there are multiple catalogs. Proactive LLAP cache eviction was used several places. such as [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] {code:java} if (LlapHiveUtils.isLlapMode(context.getConf())) { ProactiveEviction.Request.Builder ll","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make proactive cache eviction work with catalog\n\nProactive LLAP cache eviction was introduced in HIVE-22820. But this feature didn't add catalog field. We need to consider to add catalog field to it to make it work in case of there are multiple catalogs. Proactive LLAP cache eviction was used several places. such as [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] {code:java} if (LlapHiveUtils.isLlapMode(context.getConf())) { ProactiveEviction.Request.Builder ll","output":"Proactive LLAP cache eviction was introduced in HIVE-22820. But this feature didn't add catalog field. We need to consider to add catalog field to it to make it work in case of there are multiple catalogs. Proactive LLAP cache eviction was used several places. such as [https://github.com/apache/hive"}
{"instruction":"Extract key technical details from this issue:","input":"Proactive LLAP cache eviction was introduced in HIVE-22820. But this feature didn't add catalog field. We need to consider to add catalog field to it to make it work in case of there are multiple catalogs. Proactive LLAP cache eviction was used several places. such as [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] {code:java} if (LlapHiveUtils.isLlapMode(context.getConf())) { ProactiveEviction.Request.Builder llapEvictRequestBuilder = ProactiveEviction.Request.Builder.create(); llapEvictRequestBuilder.addDb(dbName); ProactiveEviction.evict(context.getConf(), llapEvictRequestBuilder.build()); } {code}","output":"Make proactive cache eviction work with catalog"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Drop deprecated methods from Metastore\n\nIn RawStore, AlterHandler and IHMSHandler, we have many methods marked as deprecated even since 2.2.0. It's good to drop them off in the next major release to keep the code clean and maintainable.","output":"Drop deprecated methods from Metastore"}
{"instruction":"Classify the status of this issue based on its description:","input":"Drop deprecated methods from Metastore\n\nIn RawStore, AlterHandler and IHMSHandler, we have many methods marked as deprecated even since 2.2.0. It's good to drop them off in the next major release to keep the code clean and maintainable.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Drop deprecated methods from Metastore\n\nIn RawStore, AlterHandler and IHMSHandler, we have many methods marked as deprecated even since 2.2.0. It's good to drop them off in the next major release to keep the code clean and maintainable.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Drop deprecated methods from Metastore\n\nIn RawStore, AlterHandler and IHMSHandler, we have many methods marked as deprecated even since 2.2.0. It's good to drop them off in the next major release to keep the code clean and maintainable.","output":"In RawStore, AlterHandler and IHMSHandler, we have many methods marked as deprecated even since 2.2.0. It's good to drop them off in the next major release to keep the code clean and maintainable."}
{"instruction":"Extract key technical details from this issue:","input":"In RawStore, AlterHandler and IHMSHandler, we have many methods marked as deprecated even since 2.2.0. It's good to drop them off in the next major release to keep the code clean and maintainable.","output":"Drop deprecated methods from Metastore"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make table ddl task work with catalog\n\nTable related ddl task should respect catalog. Such as these syntax: {code:java} create table cat.db.tbl(id int); alter table cat.db.tbl set .. {code}","output":"Make table ddl task work with catalog"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make table ddl task work with catalog\n\nTable related ddl task should respect catalog. Such as these syntax: {code:java} create table cat.db.tbl(id int); alter table cat.db.tbl set .. {code}","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Make table ddl task work with catalog\n\nTable related ddl task should respect catalog. Such as these syntax: {code:java} create table cat.db.tbl(id int); alter table cat.db.tbl set .. {code}","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make table ddl task work with catalog\n\nTable related ddl task should respect catalog. Such as these syntax: {code:java} create table cat.db.tbl(id int); alter table cat.db.tbl set .. {code}","output":"Table related ddl task should respect catalog. Such as these syntax: {code:java} create table cat.db.tbl(id int); alter table cat.db.tbl set .. {code}"}
{"instruction":"Extract key technical details from this issue:","input":"Table related ddl task should respect catalog. Such as these syntax: {code:java} create table cat.db.tbl(id int); alter table cat.db.tbl set .. {code}","output":"Make table ddl task work with catalog"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make Replicate functions work with catalog\n\n*Replicate functions* was added in HIVE-16145. Its some interfaces can not work with catalog. Such as: [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AlterDatabaseHandler.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AlterDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CreateDatabaseHandler.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CreateDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/incremental/IncrementalLoadTasksBuilder.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/incremental/IncrementalLoadTasksBuilder.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplLoadWork.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplLoadWork.java These interfaces were found in https://github.com/apache/hive/pull/6088#top , and you can check the code blocks which need to add catalog by searching keyword {*}TODO catalog{*}. We need to add catalog to these interfaces to make this repl function work with catalog.","output":"Make Replicate functions work with catalog"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make Replicate functions work with catalog\n\n*Replicate functions* was added in HIVE-16145. Its some interfaces can not work with catalog. Such as: [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AlterDatabaseHandler.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandle","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Make Replicate functions work with catalog\n\n*Replicate functions* was added in HIVE-16145. Its some interfaces can not work with catalog. Such as: [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AlterDatabaseHandler.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandle","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make Replicate functions work with catalog\n\n*Replicate functions* was added in HIVE-16145. Its some interfaces can not work with catalog. Such as: [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AlterDatabaseHandler.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandle","output":"*Replicate functions* was added in HIVE-16145. Its some interfaces can not work with catalog. Such as: [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java"}
{"instruction":"Extract key technical details from this issue:","input":"*Replicate functions* was added in HIVE-16145. Its some interfaces can not work with catalog. Such as: [https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java] https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AlterDatabaseHandler.java https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/DropDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/AlterDatabaseHandler.java https://github.com/apache/hive/blob/rel/release-4.1.0/ql/src/java/org/apache/hadoop/hive/ql/parse/repl/load/message/CreateDatabaseHandler.java https://","output":"Make Replicate functions work with catalog"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Invalid index should return null for get_json_object\n\n{{get_json_object}} index is numeric, but current implement will return the entire array string for invalid index like {*}$[1 ]{*}. {code:sql} hive> select get_json_object('[1,2,3]', \"$[1 ]\"); [1,2,3] {code}","output":"Invalid index should return null for get_json_object"}
{"instruction":"Classify the status of this issue based on its description:","input":"Invalid index should return null for get_json_object\n\n{{get_json_object}} index is numeric, but current implement will return the entire array string for invalid index like {*}$[1 ]{*}. {code:sql} hive> select get_json_object('[1,2,3]', \"$[1 ]\"); [1,2,3] {code}","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Invalid index should return null for get_json_object\n\n{{get_json_object}} index is numeric, but current implement will return the entire array string for invalid index like {*}$[1 ]{*}. {code:sql} hive> select get_json_object('[1,2,3]', \"$[1 ]\"); [1,2,3] {code}","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Invalid index should return null for get_json_object\n\n{{get_json_object}} index is numeric, but current implement will return the entire array string for invalid index like {*}$[1 ]{*}. {code:sql} hive> select get_json_object('[1,2,3]', \"$[1 ]\"); [1,2,3] {code}","output":"{{get_json_object}} index is numeric, but current implement will return the entire array string for invalid index like {*}$[1 ]{*}. {code:sql} hive> select get_json_object('[1,2,3]', \"$[1 ]\"); [1,2,3] {code}"}
{"instruction":"Continue the conversation about this technical issue:","input":"Invalid index should return null for get_json_object\n\n{{get_json_object}} index is numeric, but current implement will return the entire array string for invalid index like {*}$[1 ]{*}. {code:sql} hive> select get_json_object('[1,2,3]', \"$[1 ]\"); [1,2,3]\n\nConversation:\nuser: Hi wechar, can you please set affected version(s)?","output":"Hi wechar, can you please set affected version(s)?"}
{"instruction":"Extract key technical details from this issue:","input":"{{get_json_object}} index is numeric, but current implement will return the entire array string for invalid index like {*}$[1 ]{*}. {code:sql} hive> select get_json_object('[1,2,3]', \"$[1 ]\"); [1,2,3] {code}","output":"Invalid index should return null for get_json_object"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support major OAuth 2 Authorization Server implementation\n\nHIVE-29020 added OAuth 2 support based on the latest best practice, such as \"RFC 9068: JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens\". Some real IdPs don't follow some of the new best practices. In this ticket, we will update the OAuth 2 configurations so that we can support major identity platforms, such as Microsoft Entra ID or Okta. For example, RFC 9068 recommends including `typ: at+jwt` in a JWT header so that a malicious user can't inject a JWT that is not for OAuth 2 protected resources. However, Okta's access tokens don't always have the type parameter and there is no tuning knob to add it. https://developer.okta.com/docs/api/openapi/okta-oauth/guides/overview/#id-token-header","output":"Support major OAuth 2 Authorization Server implementation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support major OAuth 2 Authorization Server implementation\n\nHIVE-29020 added OAuth 2 support based on the latest best practice, such as \"RFC 9068: JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens\". Some real IdPs don't follow some of the new best practices. In this ticket, we will update the OAuth 2 configurations so that we can support major identity platforms, such as Microsoft Entra ID or Okta. For example, RFC 9068 recommends including `typ: at+jwt` in a JWT header so that a malicious user can't inject a JWT that is not for OAuth 2 protected ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Support major OAuth 2 Authorization Server implementation\n\nHIVE-29020 added OAuth 2 support based on the latest best practice, such as \"RFC 9068: JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens\". Some real IdPs don't follow some of the new best practices. In this ticket, we will update the OAuth 2 configurations so that we can support major identity platforms, such as Microsoft Entra ID or Okta. For example, RFC 9068 recommends including `typ: at+jwt` in a JWT header so that a malicious user can't inject a JWT that is not for OAuth 2 protected ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support major OAuth 2 Authorization Server implementation\n\nHIVE-29020 added OAuth 2 support based on the latest best practice, such as \"RFC 9068: JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens\". Some real IdPs don't follow some of the new best practices. In this ticket, we will update the OAuth 2 configurations so that we can support major identity platforms, such as Microsoft Entra ID or Okta. For example, RFC 9068 recommends including `typ: at+jwt` in a JWT header so that a malicious user can't inject a JWT that is not for OAuth 2 protected ","output":"HIVE-29020 added OAuth 2 support based on the latest best practice, such as \"RFC 9068: JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens\". Some real IdPs don't follow some of the new best practices. In this ticket, we will update the OAuth 2 configurations so that we can support major identit"}
{"instruction":"Continue the conversation about this technical issue:","input":"Support major OAuth 2 Authorization Server implementation\n\nHIVE-29020 added OAuth 2 support based on the latest best practice, such as \"RFC 9068: JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens\". Some real IdPs don't follow some of the new best pract\n\nConversation:\nuser: I'm learning Microsoft Entra ID, and its OAuth 2 access token is unique... This is a sample payload. {code:java} { \"typ\": \"JWT\", \"alg\": \"RS256\", \"kid\": \"{kid}\" } { \"aud\": \"{App ID, UUID}\", \"iss\": \"https://login.microsoftonline.com/{tenant id}/v2.0\", \"iat\": 1761535310, \"nbf\": 1761535310, \"exp\": 17615","output":"I'm learning Microsoft Entra ID, and its OAuth 2 access token is unique... This is a sample payload. {code:java} { \"typ\": \"JWT\", \"alg\": \"RS256\", \"kid\": \"{kid}\" } { \"aud\": \"{App ID, UUID}\", \"iss\": \"https://login.microsoftonline.com/{tenant id}/v2.0\", \"iat\": 1761535310, \"nbf\": 1761535310, \"exp\": 17615"}
{"instruction":"Extract key technical details from this issue:","input":"HIVE-29020 added OAuth 2 support based on the latest best practice, such as \"RFC 9068: JSON Web Token (JWT) Profile for OAuth 2.0 Access Tokens\". Some real IdPs don't follow some of the new best practices. In this ticket, we will update the OAuth 2 configurations so that we can support major identity platforms, such as Microsoft Entra ID or Okta. For example, RFC 9068 recommends including `typ: at+jwt` in a JWT header so that a malicious user can't inject a JWT that is not for OAuth 2 protected resources. However, Okta's access tokens don't always have the type parameter and there is no tuning knob to add it. https://developer.okta.com/docs/api/openapi/okta-oauth/guides/overview/#id-token-header","output":"Support major OAuth 2 Authorization Server implementation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Stats autogather calculates the min statistic incorrectly\n\nIn stats_histogram.q autogather gets enabled and then rows are inserted into a newly created table. The minimum value for column e is https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/queries/clientpositive/stats_histogram.q#L20. However, {{DESCRIBE FORMATTED test_stats e}} shows https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/results/clientpositive/llap/stats_histogram.q.out#L364 as the minimum value. When executing {{ANALYZE TABLE test_stats COMPUTE STATISTICS FOR COLUMNS;}} before the {{DESCRIBE FORMATTED test_stats e}} command, the https://github.com/thomasrebele/hive/commit/2be9bef2851028678fa6752f7482080b3d201a51#diff-436ceeced7ea88c3ad4d931cfbf3d09feb838eef368a74ca8106d378209b1209L262-L364 as expected.","output":"Stats autogather calculates the min statistic incorrectly"}
{"instruction":"Classify the status of this issue based on its description:","input":"Stats autogather calculates the min statistic incorrectly\n\nIn stats_histogram.q autogather gets enabled and then rows are inserted into a newly created table. The minimum value for column e is https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/queries/clientpositive/stats_histogram.q#L20. However, {{DESCRIBE FORMATTED test_stats e}} shows https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/results/clientpositive/llap/stats_histogram.q.out#L364 as the minimum value. When executing","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Stats autogather calculates the min statistic incorrectly\n\nIn stats_histogram.q autogather gets enabled and then rows are inserted into a newly created table. The minimum value for column e is https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/queries/clientpositive/stats_histogram.q#L20. However, {{DESCRIBE FORMATTED test_stats e}} shows https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/results/clientpositive/llap/stats_histogram.q.out#L364 as the minimum value. When executing","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Stats autogather calculates the min statistic incorrectly\n\nIn stats_histogram.q autogather gets enabled and then rows are inserted into a newly created table. The minimum value for column e is https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/queries/clientpositive/stats_histogram.q#L20. However, {{DESCRIBE FORMATTED test_stats e}} shows https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/results/clientpositive/llap/stats_histogram.q.out#L364 as the minimum value. When executing","output":"In stats_histogram.q autogather gets enabled and then rows are inserted into a newly created table. The minimum value for column e is https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/queries/clientpositive/stats_histogram.q#L20. However, {{DESCRIBE FORMATTED t"}
{"instruction":"Continue the conversation about this technical issue:","input":"Stats autogather calculates the min statistic incorrectly\n\nIn stats_histogram.q autogather gets enabled and then rows are inserted into a newly created table. The minimum value for column e is https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de5597\n\nConversation:\nuser: krisztiankasa suggested to try it without vectorization to track down the bug.\nassistant: thomas.rebele please set the affected version","output":"thomas.rebele please set the affected version"}
{"instruction":"Extract key technical details from this issue:","input":"In stats_histogram.q autogather gets enabled and then rows are inserted into a newly created table. The minimum value for column e is https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/queries/clientpositive/stats_histogram.q#L20. However, {{DESCRIBE FORMATTED test_stats e}} shows https://github.com/apache/hive/blob/55d9ab7d6b00fa510be791b9de55974f61c90519/ql/src/test/results/clientpositive/llap/stats_histogram.q.out#L364 as the minimum value. When executing {{ANALYZE TABLE test_stats COMPUTE STATISTICS FOR COLUMNS;}} before the {{DESCRIBE FORMATTED test_stats e}} command, the https://github.com/thomasrebele/hive/commit/2be9bef2851028678fa6752f7482080b3d201a51#diff-436ceeced7ea88c3ad4d931cfbf3d09feb838eef368a74ca8106d378209b1209L262-L364 as expected.","output":"Stats autogather calculates the min statistic incorrectly"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads\n\n[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLeader/Testing___split_04___PostProcess___testHouseKeepingThreads/] github PR: [https://ci.hive.apache.org/job/hive-precommit/job/PR-6135/1/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseLeader/Testing___split_01___PostProcess___testHouseKeepingThreads/]","output":"Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads"}
{"instruction":"Classify the status of this issue based on its description:","input":"Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads\n\n[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLeader/Testing___split_04___PostProcess___testHouseKeepingThreads/] github PR: [https://ci.hive.apache.org/job/hive-precommit/job/PR-6135/1/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseLeader/Testing___split_01___PostProcess___testHouseKeepingThreads/]","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads\n\n[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLeader/Testing___split_04___PostProcess___testHouseKeepingThreads/] github PR: [https://ci.hive.apache.org/job/hive-precommit/job/PR-6135/1/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseLeader/Testing___split_01___PostProcess___testHouseKeepingThreads/]","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads\n\n[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLeader/Testing___split_04___PostProcess___testHouseKeepingThreads/] github PR: [https://ci.hive.apache.org/job/hive-precommit/job/PR-6135/1/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseLeader/Testing___split_01___PostProcess___testHouseKeepingThreads/]","output":"[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLeader/Testing___split_04___PostProcess___testHouseKeepingThreads/] github PR: [https://ci.hive.apache."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads\n\n[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLeader/Testing___split_04___PostProcess___testHouseKeepingThreads/] github PR: [https://ci.hive.apache.org/job/hive-precommit/job/PR-6135/1/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseLeader/Testing___split_01___PostProcess___testHouseKeepingThreads/]","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads\n\n[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLea\n\nConversation:\nuser: zabetak should we disable it right away, wdyt? cc dengzh it might be a code issue as well: {code:java} javax.jdo.JDOUserException: Transaction is still active. You should always close your transactions correctly using commit() or rollback(). FailedObject:org.datanucleus.api.jdo.JDOPersistenceManager\nassistant: From my perspective if it is too flaky we can disable ASAP and search for the root cause a bit later.\nassistant: Fix has been pushed to master. Thank you dkuzmenko for the review! Flaky check: https://ci.hive.apache.org/job/hive-flaky-check/927/","output":"Fix has been pushed to master. Thank you dkuzmenko for the review! Flaky check: https://ci.hive.apache.org/job/hive-flaky-check/927/"}
{"instruction":"Extract key technical details from this issue:","input":"[https://ci.hive.apache.org/job/hive-flaky-check/906/] master: [https://ci.hive.apache.org/job/hive-precommit/job/master/2706/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseNonLeader/Testing___split_04___PostProcess___testHouseKeepingThreads/] github PR: [https://ci.hive.apache.org/job/hive-precommit/job/PR-6135/1/testReport/junit/org.apache.hadoop.hive.metastore/TestMetastoreLeaseLeader/Testing___split_01___PostProcess___testHouseKeepingThreads/]","output":"Flaky TestMetastoreLeaseLeader#testHouseKeepingThreads"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Default port appended should respect transport mode when host is specified without port\n\nAs of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect without specifying the port explicitly, it tries to connect to port 10000, running into error Sample error: {code:java} Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: Could not establish connection to jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: org.apache.http.conn.HttpHostConnectException: Connect to localhost:10000 {code}","output":"Default port appended should respect transport mode when host is specified without port"}
{"instruction":"Classify the status of this issue based on its description:","input":"Default port appended should respect transport mode when host is specified without port\n\nAs of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect without specifying the port explicitly, it tries to connect to port 10000, running into error Sample error: {code:java} Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: Could not establish connection to jdbc:hive2://loca","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Default port appended should respect transport mode when host is specified without port\n\nAs of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect without specifying the port explicitly, it tries to connect to port 10000, running into error Sample error: {code:java} Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: Could not establish connection to jdbc:hive2://loca","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Default port appended should respect transport mode when host is specified without port\n\nAs of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect without specifying the port explicitly, it tries to connect to port 10000, running into error Sample error: {code:java} Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: Could not establish connection to jdbc:hive2://loca","output":"As of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect without specifying the port explicitly, it tries to connect to port 10000, running into error Sample e"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Default port appended should respect transport mode when host is specified without port\n\nAs of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect without specifying the port explicitly, it tries to connect to port 10000, running into error Sample error: {code:java} Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: Could not establish connection to jdbc:hive2://loca","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Default port appended should respect transport mode when host is specified without port\n\nAs of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect wi\n\nConversation:\nuser: Merged. tanishqchugh Thanks for your contribution! https://github.com/apache/hive/pull/6137","output":"Merged. tanishqchugh Thanks for your contribution! https://github.com/apache/hive/pull/6137"}
{"instruction":"Extract key technical details from this issue:","input":"As of now, when the port is not specified in the JDBC URI, 1000 gets appended by default irrespective of transport mode being binary/http. When HS2 is running in http mode and user tries to connect without specifying the port explicitly, it tries to connect to port 10000, running into error Sample error: {code:java} Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: Could not establish connection to jdbc:hive2://localhost:10000/default;transportMode=http;httpPath=cliservice: org.apache.http.conn.HttpHostConnectException: Connect to localhost:10000 {code}","output":"Default port appended should respect transport mode when host is specified without port"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Query-based MINOR compaction should not consider minOpenWriteId\n\nIn certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes data loss. This issue happens if there is an aborted and an open transaction on the compacted table. Let’s see an example: * Run an insert which creates delta_0000001_0000001 (writeId=1) * Start an insert and abort the transaction (writeId=2) * Run an insert which creates delta_0000003_0000003 (writeId=3) * Run an insert which creates delta_0000004_0000004 (writeId=4), but before it finishes, start the MINOR compaction * When the compaction is finished the table will contain the following files: delta_0000001_0000003 delta_0000004_0000004 delta_0000004_0000004/000000_0 delta_0000001_0000001 delta_0000001_0000001/000000_0 delta_0000003_0000003 delta_0000001_0000001/000000_0 * It can be seen that the delta_0000001_0000003 directory (which was produced by the compactor) is empty. * When the Cleaner runs, it will remove delta_0000001_0000001 and delta_0000003_0000003, so the data in them will be lost. This happens because of this check in the MINOR compaction: {code:java} long minWriteID = validWriteIdList.getMinOpenWriteId() == null ? 1 : validWriteIdList.getMinOpenWriteId(); long highWatermark = validWriteIdList.getHighWatermark(); List deltas = dir.getCurrentDirectories().stream().filter( delta -> delta.isDeleteDelta() == isDeleteDelta && delta.getMaxWriteId() = minWriteID) .collect(Collectors.toList()); if (deltas.isEmpty()) { query.setLength(0); // no alter query needed; clear StringBuilder return; } {code} If the table has aborted and open transactions, the minOpenWriteId will be set. In the example it will be 4. When the ValidCompactorWriteIdList is created in the TxnUtils.createValidCompactWriteIdList the highWaterMark will be set to minOpenWriteId-1, so this will ensure that the compaction range is below the minOpenWriteId. But in the minor compaction's code the minOpenWriteId is considered as the lower limit, so it wants to compact deltas which are above this values. This is not correct, it seems like a misunderstanding this minOpenWriteId values. In the example the compaction should consider delta_1 and delta_3, but none of them fulfills the conditions \"delta.getMinWriteId() >= minWriteID\" as the minWriteID=minOpenWriteId=4 here. This check in the MINOR compaction code is not correct, I think it is safe to leave out checking against the minOpenWriteId as the highWatermark already adjusted to it.","output":"Query-based MINOR compaction should not consider minOpenWriteId"}
{"instruction":"Classify the status of this issue based on its description:","input":"Query-based MINOR compaction should not consider minOpenWriteId\n\nIn certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes data loss. This issue happens if there is an aborted and an open transaction on the compacted table. Let’s see an example: * Run an insert which creates delta_0000001_0000001 (writeId=1) * Start an insert and abort the transaction (writeId=2) * Run an insert which creates delta_0000003_0000003 (writeId","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Query-based MINOR compaction should not consider minOpenWriteId\n\nIn certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes data loss. This issue happens if there is an aborted and an open transaction on the compacted table. Let’s see an example: * Run an insert which creates delta_0000001_0000001 (writeId=1) * Start an insert and abort the transaction (writeId=2) * Run an insert which creates delta_0000003_0000003 (writeId","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Query-based MINOR compaction should not consider minOpenWriteId\n\nIn certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes data loss. This issue happens if there is an aborted and an open transaction on the compacted table. Let’s see an example: * Run an insert which creates delta_0000001_0000001 (writeId=1) * Start an insert and abort the transaction (writeId=2) * Run an insert which creates delta_0000003_0000003 (writeId","output":"In certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes data loss. This issue happens if there is an aborted and an open transaction on the compacted table. Le"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Query-based MINOR compaction should not consider minOpenWriteId\n\nIn certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes data loss. This issue happens if there is an aborted and an open transaction on the compacted table. Let’s see an example: * Run an insert which creates delta_0000001_0000001 (writeId=1) * Start an insert and abort the transaction (writeId=2) * Run an insert which creates delta_0000003_0000003 (writeId","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Query-based MINOR compaction should not consider minOpenWriteId\n\nIn certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes dat\n\nConversation:\nuser: Hi kuczoram, can you please set affected version(s)?\nassistant: Merged to master Thanks kuczoram for the fix!\nassistant: Thanks a lot dkuzmenko for the review and for merging the fix.","output":"Thanks a lot dkuzmenko for the review and for merging the fix."}
{"instruction":"Extract key technical details from this issue:","input":"In certain scenarios the query-based MINOR compaction produces empty delta file. In ACID tables it will be automatically cleaned up like no compaction happened, but on insert-only tables it causes data loss. This issue happens if there is an aborted and an open transaction on the compacted table. Let’s see an example: * Run an insert which creates delta_0000001_0000001 (writeId=1) * Start an insert and abort the transaction (writeId=2) * Run an insert which creates delta_0000003_0000003 (writeId=3) * Run an insert which creates delta_0000004_0000004 (writeId=4), but before it finishes, start the MINOR compaction * When the compaction is finished the table will contain the following files: delta_0000001_0000003 delta_0000004_0000004 delta_0000004_0000004/000000_0 delta_0000001_0000001 delta","output":"Query-based MINOR compaction should not consider minOpenWriteId"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Skip corrupted files while reading an Orc table\n\n*Scenario:* There are large number of corrupted files scattered across multiple partitions. They were created by some external tools. Now when we query the table, exceptions like below are thrown {noformat} Caused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an invalid tag (zero). at com.google.protobuf.InvalidProtocolBufferException.invalidTag(InvalidProtocolBufferException.java:89) at com.google.protobuf.CodedInputStream.readTag(CodedInputStream.java:108) at org.apache.orc.OrcProto$PostScript. (OrcProto.java:30246) at org.apache.orc.OrcProto$PostScript. (OrcProto.java:30210) at org.apache.orc.OrcProto$PostScript$1.parsePartialFrom(OrcProto.java:30353) at org.apache.orc.OrcProto$PostScript$1.parsePartialFrom(OrcProto.java:30348) at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:89) at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:95) at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:49) at org.apache.orc.OrcProto$PostScript.parseFrom(OrcProto.java:30791) at org.apache.orc.impl.ReaderImpl.extractPostScript(ReaderImpl.java:644) at org.apache.orc.impl.ReaderImpl.extractFileTail(ReaderImpl.java:814) at org.apache.orc.impl.ReaderImpl. (ReaderImpl.java:567) at org.apache.hadoop.hive.ql.io.orc.ReaderImpl. (ReaderImpl.java:61){noformat} So, it is not possible to query the data from good files. The only way available today is to identify corrupted files from the table and remove them. Orc-tools is taking a lot of time to find out the corrupt files as it will traverse each file sequentially and show errors for corrupt file. *Proposal:* In spark we have a config, *ignoreCorruptFiles* using which we can read data from rest of the files skipping corrupt files. Can we also implement something like this in Hive as well? We can have a flag to enable this feature which is disabled by default. *Issues:* If we do not fail the queries, corrupt files may accumulate and may cause issues later like size of the table, incorrect results etc.. The reason behind requesting this feature is that it is very difficult to identify faulty/corrupt files easily in a large table/s. So it is also good if we can list all the corrupt files using a simple Hive query, so that they can be deleted without disturbing the actual Hive query flow to skip them","output":"Skip corrupted files while reading an Orc table"}
{"instruction":"Classify the status of this issue based on its description:","input":"Skip corrupted files while reading an Orc table\n\n*Scenario:* There are large number of corrupted files scattered across multiple partitions. They were created by some external tools. Now when we query the table, exceptions like below are thrown {noformat} Caused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an invalid tag (zero). at com.google.protobuf.InvalidProtocolBufferException.invalidTag(InvalidProtocolBufferException.java:89) at com.google.protobuf.CodedInputStream.readTag(CodedInputStream.java:108) ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Skip corrupted files while reading an Orc table\n\n*Scenario:* There are large number of corrupted files scattered across multiple partitions. They were created by some external tools. Now when we query the table, exceptions like below are thrown {noformat} Caused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an invalid tag (zero). at com.google.protobuf.InvalidProtocolBufferException.invalidTag(InvalidProtocolBufferException.java:89) at com.google.protobuf.CodedInputStream.readTag(CodedInputStream.java:108) ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Skip corrupted files while reading an Orc table\n\n*Scenario:* There are large number of corrupted files scattered across multiple partitions. They were created by some external tools. Now when we query the table, exceptions like below are thrown {noformat} Caused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an invalid tag (zero). at com.google.protobuf.InvalidProtocolBufferException.invalidTag(InvalidProtocolBufferException.java:89) at com.google.protobuf.CodedInputStream.readTag(CodedInputStream.java:108) ","output":"*Scenario:* There are large number of corrupted files scattered across multiple partitions. They were created by some external tools. Now when we query the table, exceptions like below are thrown {noformat} Caused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an "}
{"instruction":"Extract key technical details from this issue:","input":"*Scenario:* There are large number of corrupted files scattered across multiple partitions. They were created by some external tools. Now when we query the table, exceptions like below are thrown {noformat} Caused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an invalid tag (zero). at com.google.protobuf.InvalidProtocolBufferException.invalidTag(InvalidProtocolBufferException.java:89) at com.google.protobuf.CodedInputStream.readTag(CodedInputStream.java:108) at org.apache.orc.OrcProto$PostScript. (OrcProto.java:30246) at org.apache.orc.OrcProto$PostScript. (OrcProto.java:30210) at org.apache.orc.OrcProto$PostScript$1.parsePartialFrom(OrcProto.java:30353) at org.apache.orc.OrcProto$PostScript$1.parsePartialFrom(OrcProto.java:30348) at com.google.protobuf","output":"Skip corrupted files while reading an Orc table"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove HMS compactor workers deprecated functionality\n\nThe metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443","output":"Remove HMS compactor workers deprecated functionality"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove HMS compactor workers deprecated functionality\n\nThe metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Remove HMS compactor workers deprecated functionality\n\nThe metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove HMS compactor workers deprecated functionality\n\nThe metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443","output":"The metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Remove HMS compactor workers deprecated functionality\n\nThe metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Remove HMS compactor workers deprecated functionality\n\nThe metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443\n\nConversation:\nuser: Merged to master Thanks for the patch tanishqchugh and dengzh for the review!","output":"Merged to master Thanks for the patch tanishqchugh and dengzh for the review!"}
{"instruction":"Extract key technical details from this issue:","input":"The metastore compactor workers functionality was deprecated as part of https://issues.apache.org/jira/browse/HIVE-26443","output":"Remove HMS compactor workers deprecated functionality"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Iceberg: Close catalog in Catalogs.loadTable() to fix resource leak from open ResolvingFileIO\n\n`Catalogs.loadTable()` loads an Iceberg catalog and then loads a table from that catalog by calling the`loadTable()` method on the loaded catalog. It doesn't close the catalog before existing the function which causes resource leaks with exceptions like following in the hive.log: {code:java} 2025-10-14 16:52:12 2025-10-14T20:52:12,131 INFO [HiveServer2-Background-Pool: Thread-150] tez.TezSessionState: Opening new Tez Session (id: c8064268-e392-40ee-a062-008ade6a3b8e, scratch dir: file:/tmp/hive/hive/_tez_session_dir/c8064268-e392-40ee-a062-008ade6a3b8e) 2025-10-14 16:52:12 2025-10-14T20:52:12,142 INFO [HiveServer2-Background-Pool: Thread-150] client.TezClient: Session mode. Starting session. 2025-10-14 16:52:12 2025-10-14T20:52:12,171 INFO [HiveServer2-Background-Pool: Thread-150] client.TezClientUtils: Ignoring 'tez.lib.uris' since 'tez.ignore.lib.uris' is set to true 2025-10-14 16:52:12 2025-10-14T20:52:12,184 INFO [HiveServer2-Background-Pool: Thread-150] client.TezClient: Tez system stage directory file:/tmp/hive/hive/_tez_session_dir/c8064268-e392-40ee-a062-008ade6a3b8e/.tez/application_1760475132141_0001 doesn't exist and is created 2025-10-14 16:52:12 2025-10-14T20:52:12,222 INFO [HiveServer2-Background-Pool: Thread-150] conf.Configuration: resource-types.xml not found 2025-10-14 16:52:12 2025-10-14T20:52:12,222 INFO [HiveServer2-Background-Pool: Thread-150] resource.ResourceUtils: Unable to find 'resource-types.xml'. 2025-10-14 16:52:12 2025-10-14T20:52:12,236 INFO [HiveServer2-Background-Pool: Thread-150] common.TezYARNUtils: Ignoring 'tez.lib.uris' since 'tez.ignore.lib.uris' is set to true 2025-10-14 16:52:12 2025-10-14T20:52:12,243 INFO [HiveServer2-Background-Pool: Thread-150] Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled 2025-10-14 16:52:12 2025-10-14T20:52:12,323 INFO [HiveServer2-Background-Pool: Thread-150] client.LocalClient: DAGAppMaster thread has been created 2025-10-14 16:52:12 2025-10-14T20:52:12,323 INFO [HiveServer2-Background-Pool: Thread-150] client.LocalClient: DAGAppMaster is not created wait for 100ms... 2025-10-14 16:52:12 2025-10-14T20:52:12,323 INFO [DAGAppMaster Thread] client.LocalClient: Using working directory: /tmp/hive/hive/_tez_session_dir/c8064268-e392-40ee-a062-008ade6a3b8e/.tez/application_1760475132141_0001_wd 2025-10-14 16:52:12 2025-10-14T20:52:12,364 WARN [Finalizer] io.ResolvingFileIO: Unclosed ResolvingFileIO instance created by: 2025-10-14 16:52:12 org.apache.iceberg.io.ResolvingFileIO. (ResolvingFileIO.java:84) 2025-10-14 16:52:12 java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(Unknown Source) 2025-10-14 16:52:12 java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source) 2025-10-14 16:52:12 java.base/java.lang.reflect.Constructor.newInstance(Unknown Source) 2025-10-14 16:52:12 org.apache.iceberg.common.DynConstructors$Ctor.newInstanceChecked(DynConstructors.java:51) 2025-10-14 16:52:12 org.apache.iceberg.common.DynConstructors$Ctor.newInstance(DynConstructors.java:64) 2025-10-14 16:52:12 org.apache.iceberg.CatalogUtil.loadFileIO(CatalogUtil.java:391) 2025-10-14 16:52:12 org.apache.iceberg.rest.RESTSessionCatalog.newFileIO(RESTSessionCatalog.java:983) 2025-10-14 16:52:12 org.apache.iceberg.rest.RESTSessionCatalog.newFileIO(RESTSessionCatalog.java:974) 2025-10-14 16:52:12 org.apache.iceberg.rest.RESTSessionCatalog.initialize(RESTSessionCatalog.java:233) 2025-10-14 16:52:12 org.apache.iceberg.rest.RESTCatalog.initialize(RESTCatalog.java:82) 2025-10-14 16:52:12 org.apache.iceberg.CatalogUtil.loadCatalog(CatalogUtil.java:277) 2025-10-14 16:52:12 org.apache.iceberg.CatalogUtil.buildIcebergCatalog(CatalogUtil.java:331) 2025-10-14 16:52:12 org.apache.iceberg.mr.Catalogs.loadCatalog(Catalogs.java:237) 2025-10-14 16:52:12 org.apache.iceberg.mr.Catalogs.loadTable(Catalogs.java:110) 2025-10-14 16:52:12 org.apache.iceberg.mr.Catalogs.loadTable(Catalogs.java:104) 2025-10-14 16:52:12 org.apache.iceberg.mr.hive.IcebergTableUtil.lambda$getTable$1(IcebergTableUtil.java:178) 2025-10-14 16:52:12 org.apache.iceberg.mr.hive.IcebergTableUtil.getTable(IcebergTableUtil.java:184) 2025-10-14 16:52:12 org.apache.iceberg.mr.hive.BaseHiveIcebergMetaHook.preCreateTable(BaseHiveIcebergMetaHook.java:140) 2025-10-14 16:52:12 org.apache.hadoop.hive.metastore.client.HookEnabledMetaStoreClient.createTable(HookEnabledMetaStoreClient.java:113) 2025-10-14 16:52:12 java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) 2025-10-14 16:52:12 java.base/java.lang.reflect.Method.invoke(Unknown Source) 2025-10-14 16:52:12 org.apache.hadoop.hive.metastore.client.SynchronizedMetaStoreClient$SynchronizedHandler.invoke(SynchronizedMetaStoreClient.java:69) 2025-10-14 16:52:12 jdk.proxy2/jdk.proxy2.$Proxy24.createTable(Unknown Source) 2025-10-14 16:52:12 org.apache.hadoop.hive.metastore.client.MetaStoreClientWrapper.createTable(MetaStoreClientWrapper.java:445) 2025-10-14 16:52:12 java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source) 2025-10-14 16:52:12 java.base/java.lang.reflect.Method.invoke(Unknown Source) 2025-10-14 16:52:12 org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:232) 2025-10-14 16:52:12 jdk.proxy2/jdk.proxy2.$Proxy24.createTable(Unknown Source) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.metadata.Hive.createTable(Hive.java:1419) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.metadata.Hive.createTable(Hive.java:1431) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.ddl.table.create.CreateTableOperation.createTableNonReplaceMode(CreateTableOperation.java:158) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.ddl.table.create.CreateTableOperation.execute(CreateTableOperation.java:116) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.ddl.DDLTask.execute(DDLTask.java:84) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:214) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:105) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Executor.launchTask(Executor.java:354) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Executor.launchTasks(Executor.java:327) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Executor.runTasks(Executor.java:244) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Executor.execute(Executor.java:105) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Driver.execute(Driver.java:345) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:189) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Driver.run(Driver.java:142) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.Driver.run(Driver.java:137) 2025-10-14 16:52:12 org.apache.hadoop.hive.ql.reexec.ReExecDriver.run(ReExecDriver.java:190) 2025-10-14 16:52:12 org.apache.hive.service.cli.operation.SQLOperation.runQuery(SQLOperation.java:234) 2025-10-14 16:52:12 org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork$1.run(SQLOperation.java:334) 2025-10-14 16:52:12 java.base/java.security.AccessController.doPrivileged(Unknown Source) 2025-10-14 16:52:12 java.base/javax.security.auth.Subject.doAs(Unknown Source) 2025-10-14 16:52:12 org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1953) 2025-10-14 16:52:12 org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork.run(SQLOperation.java:354) 2025-10-14 16:52:12 java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) 2025-10-14 16:52:12 java.base/java.util.concurrent.FutureTask.run(Unknown Source) 2025-10-14 16:52:12 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) 2025-10-14 16:52:12 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) 2025-10-14 16:52:12 java.base/java.lang.Thread.run(Unknown Source) {code}","output":"Iceberg: Close catalog in Catalogs.loadTable() to fix resource leak from open ResolvingFileIO"}
{"instruction":"Classify the status of this issue based on its description:","input":"Iceberg: Close catalog in Catalogs.loadTable() to fix resource leak from open ResolvingFileIO\n\n`Catalogs.loadTable()` loads an Iceberg catalog and then loads a table from that catalog by calling the`loadTable()` method on the loaded catalog. It doesn't close the catalog before existing the function which causes resource leaks with exceptions like following in the hive.log: {code:java} 2025-10-14 16:52:12 2025-10-14T20:52:12,131 INFO [HiveServer2-Background-Pool: Thread-150] tez.TezSessionState: Opening new Tez Session (id: c8064268-e392-40ee-a062-008ade6a3b8e, scratch dir: file:/tmp/hive/","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Iceberg: Close catalog in Catalogs.loadTable() to fix resource leak from open ResolvingFileIO\n\n`Catalogs.loadTable()` loads an Iceberg catalog and then loads a table from that catalog by calling the`loadTable()` method on the loaded catalog. It doesn't close the catalog before existing the function which causes resource leaks with exceptions like following in the hive.log: {code:java} 2025-10-14 16:52:12 2025-10-14T20:52:12,131 INFO [HiveServer2-Background-Pool: Thread-150] tez.TezSessionState: Opening new Tez Session (id: c8064268-e392-40ee-a062-008ade6a3b8e, scratch dir: file:/tmp/hive/","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Iceberg: Close catalog in Catalogs.loadTable() to fix resource leak from open ResolvingFileIO\n\n`Catalogs.loadTable()` loads an Iceberg catalog and then loads a table from that catalog by calling the`loadTable()` method on the loaded catalog. It doesn't close the catalog before existing the function which causes resource leaks with exceptions like following in the hive.log: {code:java} 2025-10-14 16:52:12 2025-10-14T20:52:12,131 INFO [HiveServer2-Background-Pool: Thread-150] tez.TezSessionState: Opening new Tez Session (id: c8064268-e392-40ee-a062-008ade6a3b8e, scratch dir: file:/tmp/hive/","output":"`Catalogs.loadTable()` loads an Iceberg catalog and then loads a table from that catalog by calling the`loadTable()` method on the loaded catalog. It doesn't close the catalog before existing the function which causes resource leaks with exceptions like following in the hive.log: {code:java} 2025-10"}
{"instruction":"Extract key technical details from this issue:","input":"`Catalogs.loadTable()` loads an Iceberg catalog and then loads a table from that catalog by calling the`loadTable()` method on the loaded catalog. It doesn't close the catalog before existing the function which causes resource leaks with exceptions like following in the hive.log: {code:java} 2025-10-14 16:52:12 2025-10-14T20:52:12,131 INFO [HiveServer2-Background-Pool: Thread-150] tez.TezSessionState: Opening new Tez Session (id: c8064268-e392-40ee-a062-008ade6a3b8e, scratch dir: file:/tmp/hive/hive/_tez_session_dir/c8064268-e392-40ee-a062-008ade6a3b8e) 2025-10-14 16:52:12 2025-10-14T20:52:12,142 INFO [HiveServer2-Background-Pool: Thread-150] client.TezClient: Session mode. Starting session. 2025-10-14 16:52:12 2025-10-14T20:52:12,171 INFO [HiveServer2-Background-Pool: Thread-150] client.T","output":"Iceberg: Close catalog in Catalogs.loadTable() to fix resource leak from open ResolvingFileIO"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix NPE on Grouping Sets Optimizer for UNION ALL Queries\n\nSteps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_set_test) select channel , sum(sales) as sales from (select 'store channel' as channel, sales from ssr union all select 'catalog channel' as channel, sales from ssr ) x group by channel with rollup; *Actual Error:* Caused by: java.lang.NullPointerException: Cannot invoke \"java.util.Map.containsKey(Object)\" because the return value of \"org.apache.hadoop.hive.ql.exec.Operator.getColumnExprMap()\" is null at org.apache.hadoop.hive.ql.optimizer.GroupingSetOptimizer$GroupingSetProcessor.selectPartitionColumn(GroupingSetOptimizer.java:230) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.optimizer.GroupingSetOptimizer$GroupingSetProcessor.process(GroupingSetOptimizer.java:100) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:158) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.optimizer.GroupingSetOptimizer.transform(GroupingSetOptimizer.java:374) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.parse.TezCompiler.runStatsDependentOptimizations(TezCompiler.java:497) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.parse.TezCompiler.optimizeOperatorPlan(TezCompiler.java:227) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.parse.TaskCompiler.compile(TaskCompiler.java:182) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.compilePlan(SemanticAnalyzer.java:13150) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:13378) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:481) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:332) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.Compiler.analyze(Compiler.java:224) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.Compiler.compile(Compiler.java:109) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:508) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:460) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:424) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:418) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hadoop.hive.ql.reexec.ReExecDriver.compileAndRespond(ReExecDriver.java:121) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperation.java:207) ~[hive-service-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] ... 26 more","output":"Fix NPE on Grouping Sets Optimizer for UNION ALL Queries"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix NPE on Grouping Sets Optimizer for UNION ALL Queries\n\nSteps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_set_test) select channel , sum(sales) as sales from (select 'store channel' as channel, sales from ssr union all select 'catalog channel' as channel, sales from ssr ) x group by channel with rollup; *Actual Error:* Caused by: java.lang.NullPointerException: Cannot invoke \"java.util.Map.containsKey(O","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix NPE on Grouping Sets Optimizer for UNION ALL Queries\n\nSteps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_set_test) select channel , sum(sales) as sales from (select 'store channel' as channel, sales from ssr union all select 'catalog channel' as channel, sales from ssr ) x group by channel with rollup; *Actual Error:* Caused by: java.lang.NullPointerException: Cannot invoke \"java.util.Map.containsKey(O","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix NPE on Grouping Sets Optimizer for UNION ALL Queries\n\nSteps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_set_test) select channel , sum(sales) as sales from (select 'store channel' as channel, sales from ssr union all select 'catalog channel' as channel, sales from ssr ) x group by channel with rollup; *Actual Error:* Caused by: java.lang.NullPointerException: Cannot invoke \"java.util.Map.containsKey(O","output":"Steps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_set_test) select channel , sum(sales) as sales from (select 'store channel' as channel, sales from s"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix NPE on Grouping Sets Optimizer for UNION ALL Queries\n\nSteps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_set_test) select channel , sum(sales) as sales from (select 'store channel' as channel, sales from ssr union all select 'catalog channel' as channel, sales from ssr ) x group by channel with rollup; *Actual Error:* Caused by: java.lang.NullPointerException: Cannot invoke \"java.util.Map.containsKey(O","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Fix NPE on Grouping Sets Optimizer for UNION ALL Queries\n\nSteps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_\n\nConversation:\nuser: Merged. [https://github.com/apache/hive/pull/6128] Indhumathi27 Thanks for your contribution, and ngsg thanks for your review!","output":"Merged. [https://github.com/apache/hive/pull/6128] Indhumathi27 Thanks for your contribution, and ngsg thanks for your review!"}
{"instruction":"Extract key technical details from this issue:","input":"Steps to reproduce create table grp_set_test (key string, value string, col0 int, col1 int, col2 int, col3 int); set hive.optimize.grouping.set.threshold=1; with ssr as (select col2 as sales from grp_set_test) select channel , sum(sales) as sales from (select 'store channel' as channel, sales from ssr union all select 'catalog channel' as channel, sales from ssr ) x group by channel with rollup; *Actual Error:* Caused by: java.lang.NullPointerException: Cannot invoke \"java.util.Map.containsKey(Object)\" because the return value of \"org.apache.hadoop.hive.ql.exec.Operator.getColumnExprMap()\" is null at org.apache.hadoop.hive.ql.optimizer.GroupingSetOptimizer$GroupingSetProcessor.selectPartitionColumn(GroupingSetOptimizer.java:230) ~[hive-exec-4.0.1.3.4.1.0-4.jar:4.0.1.3.4.1.0-4] at org.apach","output":"Fix NPE on Grouping Sets Optimizer for UNION ALL Queries"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add hive authorization support for catalog\n\nWe need to add relevant authorization capabilities to the catalog. Authorization features exist on both the HiveServer2 and HMS sides, referring to HIVE-25214 and HIVE-26245. This ticket documents all authorization-related issues.","output":"Add hive authorization support for catalog"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add hive authorization support for catalog\n\nWe need to add relevant authorization capabilities to the catalog. Authorization features exist on both the HiveServer2 and HMS sides, referring to HIVE-25214 and HIVE-26245. This ticket documents all authorization-related issues.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add hive authorization support for catalog\n\nWe need to add relevant authorization capabilities to the catalog. Authorization features exist on both the HiveServer2 and HMS sides, referring to HIVE-25214 and HIVE-26245. This ticket documents all authorization-related issues.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add hive authorization support for catalog\n\nWe need to add relevant authorization capabilities to the catalog. Authorization features exist on both the HiveServer2 and HMS sides, referring to HIVE-25214 and HIVE-26245. This ticket documents all authorization-related issues.","output":"We need to add relevant authorization capabilities to the catalog. Authorization features exist on both the HiveServer2 and HMS sides, referring to HIVE-25214 and HIVE-26245. This ticket documents all authorization-related issues."}
{"instruction":"Extract key technical details from this issue:","input":"We need to add relevant authorization capabilities to the catalog. Authorization features exist on both the HiveServer2 and HMS sides, referring to HIVE-25214 and HIVE-26245. This ticket documents all authorization-related issues.","output":"Add hive authorization support for catalog"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"UnsupportedDoubleException could leave the stale column marker in COLUMN_STATS_ACCURATE\n\nTake the schema_evol_orc_nonvec_part.q as an example, {code:java} CREATE TABLE part_change_lower_to_higher_numeric_group_decimal_to_float_n7(insert_num int, c1 decimal(38,18), c2 decimal(38,18), c3 float, b STRING) PARTITIONED BY(part INT); insert into table part_change_lower_to_higher_numeric_group_decimal_to_float_n7 partition(part=1) SELECT insert_num, decimal1, decimal1, float1, 'original' FROM schema_evolution_data_n25; {code} for column c3, the above query will throw UnsupportedDoubleException on gathering the column stats, as a result this column stats is ignored, we couldn't find the stats entry in part_col_stats. While in partition_params, the column stats c3 is marked as true: \\{\"BASIC_STATS\":\"true\",\"COLUMN_STATS\":{\"b\":\"true\",\"c1\":\"true\",\"c2\":\"true\",\"c3\":\"true\",\"insert_num\":\"true\"}} If a valid insert happens afterwards, the new column stats for c3 will take over, this would make the c3 stats incorrect.","output":"UnsupportedDoubleException could leave the stale column marker in COLUMN_STATS_ACCURATE"}
{"instruction":"Classify the status of this issue based on its description:","input":"UnsupportedDoubleException could leave the stale column marker in COLUMN_STATS_ACCURATE\n\nTake the schema_evol_orc_nonvec_part.q as an example, {code:java} CREATE TABLE part_change_lower_to_higher_numeric_group_decimal_to_float_n7(insert_num int, c1 decimal(38,18), c2 decimal(38,18), c3 float, b STRING) PARTITIONED BY(part INT); insert into table part_change_lower_to_higher_numeric_group_decimal_to_float_n7 partition(part=1) SELECT insert_num, decimal1, decimal1, float1, 'original' FROM schema_evolution_data_n25; {code} for column c3, the above query will throw UnsupportedDoubleExcep","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"UnsupportedDoubleException could leave the stale column marker in COLUMN_STATS_ACCURATE\n\nTake the schema_evol_orc_nonvec_part.q as an example, {code:java} CREATE TABLE part_change_lower_to_higher_numeric_group_decimal_to_float_n7(insert_num int, c1 decimal(38,18), c2 decimal(38,18), c3 float, b STRING) PARTITIONED BY(part INT); insert into table part_change_lower_to_higher_numeric_group_decimal_to_float_n7 partition(part=1) SELECT insert_num, decimal1, decimal1, float1, 'original' FROM schema_evolution_data_n25; {code} for column c3, the above query will throw UnsupportedDoubleExcep","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: UnsupportedDoubleException could leave the stale column marker in COLUMN_STATS_ACCURATE\n\nTake the schema_evol_orc_nonvec_part.q as an example, {code:java} CREATE TABLE part_change_lower_to_higher_numeric_group_decimal_to_float_n7(insert_num int, c1 decimal(38,18), c2 decimal(38,18), c3 float, b STRING) PARTITIONED BY(part INT); insert into table part_change_lower_to_higher_numeric_group_decimal_to_float_n7 partition(part=1) SELECT insert_num, decimal1, decimal1, float1, 'original' FROM schema_evolution_data_n25; {code} for column c3, the above query will throw UnsupportedDoubleExcep","output":"Take the schema_evol_orc_nonvec_part.q as an example, {code:java} CREATE TABLE part_change_lower_to_higher_numeric_group_decimal_to_float_n7(insert_num int, c1 decimal(38,18), c2 decimal(38,18), c3 float, b STRING) PARTITIONED BY(part INT); insert into table part_change_lower_to_higher_numeric_group"}
{"instruction":"Continue the conversation about this technical issue:","input":"UnsupportedDoubleException could leave the stale column marker in COLUMN_STATS_ACCURATE\n\nTake the schema_evol_orc_nonvec_part.q as an example, {code:java} CREATE TABLE part_change_lower_to_higher_numeric_group_decimal_to_float_n7(insert_num int, c1 decimal(38,18), c2 decimal(38,18), c3 fl\n\nConversation:\nuser: dengzh please set the affected version","output":"dengzh please set the affected version"}
{"instruction":"Extract key technical details from this issue:","input":"Take the schema_evol_orc_nonvec_part.q as an example, {code:java} CREATE TABLE part_change_lower_to_higher_numeric_group_decimal_to_float_n7(insert_num int, c1 decimal(38,18), c2 decimal(38,18), c3 float, b STRING) PARTITIONED BY(part INT); insert into table part_change_lower_to_higher_numeric_group_decimal_to_float_n7 partition(part=1) SELECT insert_num, decimal1, decimal1, float1, 'original' FROM schema_evolution_data_n25; {code} for column c3, the above query will throw UnsupportedDoubleException on gathering the column stats, as a result this column stats is ignored, we couldn't find the stats entry in part_col_stats. While in partition_params, the column stats c3 is marked as true: \\{\"BASIC_STATS\":\"true\",\"COLUMN_STATS\":{\"b\":\"true\",\"c1\":\"true\",\"c2\":\"true\",\"c3\":\"true\",\"insert_num\":\"true","output":"UnsupportedDoubleException could leave the stale column marker in COLUMN_STATS_ACCURATE"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Use metaconf prefix to honor metastore configurations for direct sql in q-files\n\nIn *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {code} but the JDO implementation for _get_aggr_stats_for_ is to throw MetaException but the exception is not thrown. As soon I replace it with set metaconf:metastore.try.direct.sql=false then exception is observed in {code:java} itests/qtest/target/surefire-reports/org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver-output.txt {code} but q file is not failing. In short, # replace hivename with varname for metaconfs # investigate whether error be thrown if JDO fails. Attaching TestMiniLlapLocalCliDriver-output.txt showing {code:java} metastore.RetryingHMSHandler: MetaException(message:Jdo path is not implemented for stats aggr.) {code} *Stacktrace:* {code:java} 2025-10-10T00:04:54,397 ERROR [dc1b1868-d07a-4dcc-9cbd-6a0b7eca7e46 main] metastore.RetryingHMSHandler: MetaException(message:Jdo path is not implemented for stats aggr.)\tat org.apache.hadoop.hive.metastore.ObjectStore$28.getJdoResult(ObjectStore.java:10076)\tat org.apache.hadoop.hive.metastore.ObjectStore$28.getJdoResult(ObjectStore.java:10063)\tat org.apache.hadoop.hive.metastore.ObjectStore$GetHelper.run(ObjectStore.java:4415)\tat org.apache.hadoop.hive.metastore.ObjectStore.get_aggr_stats_for(ObjectStore.java:10082)\tat org.apache.hadoop.hive.metastore.ObjectStore.get_aggr_stats_for(ObjectStore.java:10050)\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\tat org.apache.hadoop.hive.metastore.RawStoreProxy.invoke(RawStoreProxy.java:97)\tat jdk.proxy2/jdk.proxy2.$Proxy55.get_aggr_stats_for(Unknown Source)\tat org.apache.hadoop.hive.metastore.HMSHandler.get_aggr_stats_for(HMSHandler.java:9409)\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\tat org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:91)\tat org.apache.hadoop.hive.metastore.AbstractHMSHandlerProxy.invoke(AbstractHMSHandlerProxy.java:82)\tat jdk.proxy2/jdk.proxy2.$Proxy56.get_aggr_stats_for(Unknown Source)\tat org.apache.hadoop.hive.metastore.client.ThriftHiveMetaStoreClient.getAggrColStatsFor(ThriftHiveMetaStoreClient.java:1167)\tat org.apache.hadoop.hive.ql.metadata.HiveMetaStoreClientWithLocalCache.getAggrColStatsFor(HiveMetaStoreClientWithLocalCache.java:400)\tat org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient.getAggrColStatsFor(SessionHiveMetaStoreClient.java:2383)\tat org.apache.hadoop.hive.metastore.client.MetaStoreClientWrapper.getAggrColStatsFor(MetaStoreClientWrapper.java:1032)\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\tat org.apache.hadoop.hive.metastore.client.SynchronizedMetaStoreClient$SynchronizedHandler.invoke(SynchronizedMetaStoreClient.java:69)\tat jdk.proxy2/jdk.proxy2.$Proxy57.getAggrColStatsFor(Unknown Source)\tat org.apache.hadoop.hive.metastore.client.MetaStoreClientWrapper.getAggrColStatsFor(MetaStoreClientWrapper.java:1032)\tat org.apache.hadoop.hive.metastore.client.BaseMetaStoreClient.getAggrColStatsFor(BaseMetaStoreClient.java:769)\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\tat org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:232)\tat jdk.proxy2/jdk.proxy2.$Proxy57.getAggrColStatsFor(Unknown Source)\tat org.apache.hadoop.hive.ql.metadata.Hive.getAggrColStatsFor(Hive.java:6244)\tat org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:379)\tat org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:194)\tat org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:182)\tat org.apache.hadoop.hive.ql.optimizer.stats.annotation.StatsRulesProcFactory$TableScanStatsRule.process(StatsRulesProcFactory.java:177)\tat org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90)\tat org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105)\tat org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89)\tat org.apache.hadoop.hive.ql.lib.LevelOrderWalker.walk(LevelOrderWalker.java:148)\tat org.apache.hadoop.hive.ql.lib.LevelOrderWalker.startWalking(LevelOrderWalker.java:125)\tat org.apache.hadoop.hive.ql.optimizer.stats.annotation.AnnotateWithStatistics.transform(AnnotateWithStatistics.java:84)\tat org.apache.hadoop.hive.ql.parse.TezCompiler.runStatsAnnotation(TezCompiler.java:472)\tat org.apache.hadoop.hive.ql.parse.TezCompiler.optimizeOperatorPlan(TezCompiler.java:202)\tat org.apache.hadoop.hive.ql.parse.TaskCompiler.compile(TaskCompiler.java:182)\tat org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.compilePlan(SemanticAnalyzer.java:13150)\tat org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:13378)\tat org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:12725)\tat org.apache.hadoop.hive.ql.parse.ColumnStatsSemanticAnalyzer.analyze(ColumnStatsSemanticAnalyzer.java:671)\tat org.apache.hadoop.hive.ql.Compiler.analyze(Compiler.java:224)\tat org.apache.hadoop.hive.ql.Compiler.compile(Compiler.java:109)\tat org.apache.hadoop.hive.ql.Driver.compile(Driver.java:498)\tat org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:450)\tat org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:414)\tat org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:408)\tat org.apache.hadoop.hive.ql.reexec.ReExecDriver.compileAndRespond(ReExecDriver.java:126)\tat org.apache.hadoop.hive.ql.reexec.ReExecDriver.run(ReExecDriver.java:234)\tat org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)\tat org.apache.hadoop.hive.cli.CliDriver.processCmd1(CliDriver.java:203)\tat org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:129)\tat org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:430)\tat org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:358)\tat org.apache.hadoop.hive.ql.QTestUtil.executeClientInternal(QTestUtil.java:760)\tat org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:730)\tat org.apache.hadoop.hive.cli.control.CoreCliDriver.runTest(CoreCliDriver.java:115)\tat org.apache.hadoop.hive.cli.control.CliAdapter.runTest(CliAdapter.java:139)\tat org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver(TestMiniLlapLocalCliDriver.java:62)\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\tat org.apache.hadoop.hive.cli.control.CliAdapter$2$1.evaluate(CliAdapter.java:118)\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\tat org.junit.runners.Suite.runChild(Suite.java:128)\tat org.junit.runners.Suite.runChild(Suite.java:27)\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\tat org.apache.hadoop.hive.cli.control.CliAdapter$1$1.evaluate(CliAdapter.java:89)\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) {code}","output":"Use metaconf prefix to honor metastore configurations for direct sql in q-files"}
{"instruction":"Classify the status of this issue based on its description:","input":"Use metaconf prefix to honor metastore configurations for direct sql in q-files\n\nIn *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {code} but the JDO implementation for _get_aggr_stats_for_ is to throw MetaException but the exception is not thrown. As soon I replace it with set metaconf:metastore.try.direct.sql=false then exception is observed in {code:java} itests/qtest/target/surefire-reports/org.apache.hadoop.hive.cli.TestMin","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Use metaconf prefix to honor metastore configurations for direct sql in q-files\n\nIn *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {code} but the JDO implementation for _get_aggr_stats_for_ is to throw MetaException but the exception is not thrown. As soon I replace it with set metaconf:metastore.try.direct.sql=false then exception is observed in {code:java} itests/qtest/target/surefire-reports/org.apache.hadoop.hive.cli.TestMin","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Use metaconf prefix to honor metastore configurations for direct sql in q-files\n\nIn *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {code} but the JDO implementation for _get_aggr_stats_for_ is to throw MetaException but the exception is not thrown. As soon I replace it with set metaconf:metastore.try.direct.sql=false then exception is observed in {code:java} itests/qtest/target/surefire-reports/org.apache.hadoop.hive.cli.TestMin","output":"In *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {code} but the JDO implementation for _get_aggr_stats_for_ is to throw MetaException but the exceptio"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Use metaconf prefix to honor metastore configurations for direct sql in q-files\n\nIn *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {code} but the JDO implementation for _get_aggr_stats_for_ is to throw MetaException but the exception is not thrown. As soon I replace it with set metaconf:metastore.try.direct.sql=false then exception is observed in {code:java} itests/qtest/target/surefire-reports/org.apache.hadoop.hive.cli.TestMin","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Use metaconf prefix to honor metastore configurations for direct sql in q-files\n\nIn *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {\n\nConversation:\nuser: To repro: Run the attached {_}alter_table_column_stats{_}.q with (modified line 137 with metaconf prefix) {code:java} mvn clean test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=alter_table_column_stats.q -Drat.skip -Pitests -pl itests/qtest {code} and check the output of _itests/qtest/target/surefire-\nassistant: Merged. Aggarwal_Raghav Thanks for your contribution! [https://github.com/apache/hive/pull/6129]","output":"Merged. Aggarwal_Raghav Thanks for your contribution! [https://github.com/apache/hive/pull/6129]"}
{"instruction":"Extract key technical details from this issue:","input":"In *alter_table_column_stats.q,* the _hive.metastore.try.direct.sql=false_ for partitioned table and following command is running: {code:java} analyze table testpart0 compute statistics for columns; {code} but the JDO implementation for _get_aggr_stats_for_ is to throw MetaException but the exception is not thrown. As soon I replace it with set metaconf:metastore.try.direct.sql=false then exception is observed in {code:java} itests/qtest/target/surefire-reports/org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver-output.txt {code} but q file is not failing. In short, # replace hivename with varname for metaconfs # investigate whether error be thrown if JDO fails. Attaching TestMiniLlapLocalCliDriver-output.txt showing {code:java} metastore.RetryingHMSHandler: MetaException(message:Jdo pat","output":"Use metaconf prefix to honor metastore configurations for direct sql in q-files"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"NPE in desc catalog command using CommandAuthorizerV1\n\nEnvironment: Local setup without kerberos, Hive (master branch (2fa252a04748e97e6581b7685f8dcc93825eb7f9) Steps to repro: {code:java} create catalog test_new_catalog location '/tmp/test_new_catalog/'; desc catalog test_new_catalog; {code} Stacktrace: {code:java} 2025-10-13 23:26:07,359 ERROR thrift.ThriftCLIService: Failed to execute statement [request: TExecuteStatementReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:72 92 FC 4B 3F 5B 4A 7D 96 8E 33 77 72 F0 78 83, secret:47 79 DA 4B 80 D4 42 F1 80 6D 6B BE 25 E3 0D 07)), statement:desc catalog test_new_catalog, confOverlay:{}, runAsync:true, queryTimeout:0)]org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: NullPointerException Cannot invoke \"org.apache.hadoop.hive.ql.metadata.Table.isView()\" because \"tbl\" is null; Query ID: raghav_20251013232607_6ba0bd75-1c78-4ab7-8791-f125e57a7d74\tat org.apache.hive.service.cli.operation.Operation.toSQLException(Operation.java:376)\tat org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperation.java:212)\tat org.apache.hive.service.cli.operation.SQLOperation.runInternal(SQLOperation.java:268)\tat org.apache.hive.service.cli.operation.Operation.run(Operation.java:286)\tat org.apache.hive.service.cli.session.HiveSessionImpl.executeStatementInternal(HiveSessionImpl.java:558)\tat org.apache.hive.service.cli.session.HiveSessionImpl.executeStatementAsync(HiveSessionImpl.java:543)\tat org.apache.hive.service.cli.CLIService.executeStatementAsync(CLIService.java:311)\tat org.apache.hive.service.cli.thrift.ThriftCLIService.ExecuteStatement(ThriftCLIService.java:650)\tat org.apache.hive.service.rpc.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1670)\tat org.apache.hive.service.rpc.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1650)\tat org.apache.thrift.ProcessFunction.process(ProcessFunction.java:38)\tat org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:38)\tat org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:56)\tat org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:250)\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\tat java.base/java.lang.Thread.run(Thread.java:1583)Caused by: java.lang.NullPointerException: Cannot invoke \"org.apache.hadoop.hive.ql.metadata.Table.isView()\" because \"tbl\" is null\tat org.apache.hadoop.hive.ql.security.authorization.command.CommandAuthorizerV1.authorizeInputs(CommandAuthorizerV1.java:145)\tat org.apache.hadoop.hive.ql.security.authorization.command.CommandAuthorizerV1.doAuthorization(CommandAuthorizerV1.java:67)\tat org.apache.hadoop.hive.ql.security.authorization.command.CommandAuthorizer.doAuthorization(CommandAuthorizer.java:56)\tat org.apache.hadoop.hive.ql.Compiler.authorize(Compiler.java:440)\tat org.apache.hadoop.hive.ql.Compiler.compile(Compiler.java:122)\tat org.apache.hadoop.hive.ql.Driver.compile(Driver.java:498)\tat org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:450)\tat org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:414)\tat org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:408)\tat org.apache.hadoop.hive.ql.reexec.ReExecDriver.compileAndRespond(ReExecDriver.java:126)\tat org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperation.java:205)\t... 15 more {code}","output":"NPE in desc catalog command using CommandAuthorizerV1"}
{"instruction":"Classify the status of this issue based on its description:","input":"NPE in desc catalog command using CommandAuthorizerV1\n\nEnvironment: Local setup without kerberos, Hive (master branch (2fa252a04748e97e6581b7685f8dcc93825eb7f9) Steps to repro: {code:java} create catalog test_new_catalog location '/tmp/test_new_catalog/'; desc catalog test_new_catalog; {code} Stacktrace: {code:java} 2025-10-13 23:26:07,359 ERROR thrift.ThriftCLIService: Failed to execute statement [request: TExecuteStatementReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:72 92 FC 4B 3F 5B 4A 7D 96 8E 33 77 72 F0 78 83, secret:47 79","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"NPE in desc catalog command using CommandAuthorizerV1\n\nEnvironment: Local setup without kerberos, Hive (master branch (2fa252a04748e97e6581b7685f8dcc93825eb7f9) Steps to repro: {code:java} create catalog test_new_catalog location '/tmp/test_new_catalog/'; desc catalog test_new_catalog; {code} Stacktrace: {code:java} 2025-10-13 23:26:07,359 ERROR thrift.ThriftCLIService: Failed to execute statement [request: TExecuteStatementReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:72 92 FC 4B 3F 5B 4A 7D 96 8E 33 77 72 F0 78 83, secret:47 79","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: NPE in desc catalog command using CommandAuthorizerV1\n\nEnvironment: Local setup without kerberos, Hive (master branch (2fa252a04748e97e6581b7685f8dcc93825eb7f9) Steps to repro: {code:java} create catalog test_new_catalog location '/tmp/test_new_catalog/'; desc catalog test_new_catalog; {code} Stacktrace: {code:java} 2025-10-13 23:26:07,359 ERROR thrift.ThriftCLIService: Failed to execute statement [request: TExecuteStatementReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:72 92 FC 4B 3F 5B 4A 7D 96 8E 33 77 72 F0 78 83, secret:47 79","output":"Environment: Local setup without kerberos, Hive (master branch (2fa252a04748e97e6581b7685f8dcc93825eb7f9) Steps to repro: {code:java} create catalog test_new_catalog location '/tmp/test_new_catalog/'; desc catalog test_new_catalog; {code} Stacktrace: {code:java} 2025-10-13 23:26:07,359 ERROR thrift."}
{"instruction":"Continue the conversation about this technical issue:","input":"NPE in desc catalog command using CommandAuthorizerV1\n\nEnvironment: Local setup without kerberos, Hive (master branch (2fa252a04748e97e6581b7685f8dcc93825eb7f9) Steps to repro: {code:java} create catalog test_new_catalog location '/tmp/test_new_catalog/';\n\nConversation:\nuser: In CommandAuthorizerV2 as well i.e. _org.apache.hadoop.hive.ql.security.authorization.command.CommandAuthorizerV2#addHivePrivObject()_ I don't see any CASE statement for CATALOG. We need to handle it from RANGER project as well or am I missing something? CC zhangbutao okumin dkuzmenko\nassistant: When I ran _*catalog.q*_ with _*--! qt:authorizer*_ {code:java} [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 6.241 s <<< FAILURE! -- in org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver[ERROR] org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[catalog]\nassistant: Taking a glance at Ranger 2.7, I believe Ranger is not aware of Hive Metastore's catalog; it assumes any catalog is \"hive\". We might have a chance to update it.\nassistant: Yes, we need to add hive authorization support for catalog, like data connector HIVE-25214.\nassistant: Thanks for the reply okumin zhangbutao . I'll look into this.","output":"Hi Aggarwal_Raghav , can you please set affected version(s)?"}
{"instruction":"Extract key technical details from this issue:","input":"Environment: Local setup without kerberos, Hive (master branch (2fa252a04748e97e6581b7685f8dcc93825eb7f9) Steps to repro: {code:java} create catalog test_new_catalog location '/tmp/test_new_catalog/'; desc catalog test_new_catalog; {code} Stacktrace: {code:java} 2025-10-13 23:26:07,359 ERROR thrift.ThriftCLIService: Failed to execute statement [request: TExecuteStatementReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:72 92 FC 4B 3F 5B 4A 7D 96 8E 33 77 72 F0 78 83, secret:47 79 DA 4B 80 D4 42 F1 80 6D 6B BE 25 E3 0D 07)), statement:desc catalog test_new_catalog, confOverlay:{}, runAsync:true, queryTimeout:0)]org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: NullPointerException Cannot invoke \"org.apache.hadoop.hive.ql.metadata.Table.is","output":"NPE in desc catalog command using CommandAuthorizerV1"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"LEAD/LAG functions shows incorrect data when vectorization enabled\n\nPlease use this leadlag_Vectorization.q file to repro this scenario. This case happnes when table has more columns. mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q","output":"LEAD/LAG functions shows incorrect data when vectorization enabled"}
{"instruction":"Classify the status of this issue based on its description:","input":"LEAD/LAG functions shows incorrect data when vectorization enabled\n\nPlease use this leadlag_Vectorization.q file to repro this scenario. This case happnes when table has more columns. mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"LEAD/LAG functions shows incorrect data when vectorization enabled\n\nPlease use this leadlag_Vectorization.q file to repro this scenario. This case happnes when table has more columns. mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: LEAD/LAG functions shows incorrect data when vectorization enabled\n\nPlease use this leadlag_Vectorization.q file to repro this scenario. This case happnes when table has more columns. mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q","output":"Please use this leadlag_Vectorization.q file to repro this scenario. This case happnes when table has more columns. mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q"}
{"instruction":"Continue the conversation about this technical issue:","input":"LEAD/LAG functions shows incorrect data when vectorization enabled\n\nPlease use this leadlag_Vectorization.q file to repro this scenario. This case happnes when table has more columns. mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q\n\nConversation:\nuser: rkirtir please set the affected version\nassistant: rkirtir please provide more details - what data exactly is incorrect when running: {code:java} mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q {code}\nassistant: If you see below query SELECT *ws_bill_customer_sk,* *ws_item_sk,* ws_sold_date_sk, ws_sales_price, LEAD(ws_sales_price) OVER ( *PARTITION BY ws_item_sk, ws_bill_customer_sk* ORDER BY ws_sold_date_sk ) AS next_sales_price, LEAD(ws_sales_price) OVER ( PARTITION BY ws_bill_customer_sk, ws_item_sk ORDE\nassistant: happens in 4.0.1 also","output":"happens in 4.0.1 also"}
{"instruction":"Extract key technical details from this issue:","input":"Please use this leadlag_Vectorization.q file to repro this scenario. This case happnes when table has more columns. mvn test -Dtest=TestMiniLlapLocalCliDriver -Dqfile=leadlag_Vectorization.q","output":"LEAD/LAG functions shows incorrect data when vectorization enabled"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Clean up GitHub Actions for Docker Release\n\nThe current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] Before adding new steps in HIVE-29260, we would make them converge so that we don't need to replicate new steps.","output":"Clean up GitHub Actions for Docker Release"}
{"instruction":"Classify the status of this issue based on its description:","input":"Clean up GitHub Actions for Docker Release\n\nThe current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] Before adding new steps in HIVE-29260, we would make them converge so that we don't need to replicate new steps.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Clean up GitHub Actions for Docker Release\n\nThe current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] Before adding new steps in HIVE-29260, we would make them converge so that we don't need to replicate new steps.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Clean up GitHub Actions for Docker Release\n\nThe current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] Before adding new steps in HIVE-29260, we would make them converge so that we don't need to replicate new steps.","output":"The current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] Before adding new steps in HIVE-29260, we would make them converge so that"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Clean up GitHub Actions for Docker Release\n\nThe current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] Before adding new steps in HIVE-29260, we would make them converge so that we don't need to replicate new steps.","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Clean up GitHub Actions for Docker Release\n\nThe current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workfl\n\nConversation:\nuser: Merged. simhadri-g dkuzmenko Thanks for your reviews! https://github.com/apache/hive/pull/6127","output":"Merged. simhadri-g dkuzmenko Thanks for your reviews! https://github.com/apache/hive/pull/6127"}
{"instruction":"Extract key technical details from this issue:","input":"The current workflow has two jobs, `buildFromArchive` for manual triggers and `buildFromSource` for automation. Both have the most in common. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] Before adding new steps in HIVE-29260, we would make them converge so that we don't need to replicate new steps.","output":"Clean up GitHub Actions for Docker Release"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add smoke tests for Docker images\n\nThe current workflow immediately pushes images once the build phase succeeds. So, we may push images with a wrong hive-site.xml or wrong Docker setup. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] This ticket would add testing the minimal configurations and connectivity.","output":"Add smoke tests for Docker images"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add smoke tests for Docker images\n\nThe current workflow immediately pushes images once the build phase succeeds. So, we may push images with a wrong hive-site.xml or wrong Docker setup. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] This ticket would add testing the minimal configurations and connectivity.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add smoke tests for Docker images\n\nThe current workflow immediately pushes images once the build phase succeeds. So, we may push images with a wrong hive-site.xml or wrong Docker setup. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] This ticket would add testing the minimal configurations and connectivity.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add smoke tests for Docker images\n\nThe current workflow immediately pushes images once the build phase succeeds. So, we may push images with a wrong hive-site.xml or wrong Docker setup. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] This ticket would add testing the minimal configurations and connectivity.","output":"The current workflow immediately pushes images once the build phase succeeds. So, we may push images with a wrong hive-site.xml or wrong Docker setup. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] This ticket would add testing the minimal configurations and conn"}
{"instruction":"Continue the conversation about this technical issue:","input":"Add smoke tests for Docker images\n\nThe current workflow immediately pushes images once the build phase succeeds. So, we may push images with a wrong hive-site.xml or wrong Docker setup. [https://github.com/apache/hive/blob/master/.gith\n\nConversation:\nuser: It would be awesome to have some tests around the images. I think that we already build the images during the precommit run so ideally the tests should run as part of that run as well. In fact I believe that we could create some java test classes somewhere in itest module and have some logic there t","output":"It would be awesome to have some tests around the images. I think that we already build the images during the precommit run so ideally the tests should run as part of that run as well. In fact I believe that we could create some java test classes somewhere in itest module and have some logic there t"}
{"instruction":"Extract key technical details from this issue:","input":"The current workflow immediately pushes images once the build phase succeeds. So, we may push images with a wrong hive-site.xml or wrong Docker setup. [https://github.com/apache/hive/blob/master/.github/workflows/docker-GA-images.yml] This ticket would add testing the minimal configurations and connectivity.","output":"Add smoke tests for Docker images"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"The result format of the desc catalog is messy\n\nAt present, you can find the result format of desc catalog is messy & wrong, e.g: {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+---------------------------------------------------------+------------+ | cat_name | comment | location | +------------------+-------------------------------------------------------- +-------------+ | Catalog Name | hive | NULL | | Comment | Default catalog for Hive | NULL | | Location | hdfs://127.0.0.1:8028/user/hive/warehouse/hiveicetest | NULL | +------------------+---------------------------------------------------------+------------+{code} *It should output the result in this format:* {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+-------------------------------------------------------+-------------------------------------------------------------+ | cat_name | comment | location | +------------------+-------------------------------------------------------+-------------------------------------------------------------+ | hive | Default catalog for Hive | hdfs://127.0.0.1:8028/user/hive/warehouse/hiveicetest | +------------------+-------------------------------------------------------+-------------------------------------------------------------+{code}","output":"The result format of the desc catalog is messy"}
{"instruction":"Classify the status of this issue based on its description:","input":"The result format of the desc catalog is messy\n\nAt present, you can find the result format of desc catalog is messy & wrong, e.g: {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+---------------------------------------------------------+------------+ | cat_name | comment | location | +------------------+-------------------------------------------------------- +-------------+ | Catalog Name | hive | NULL | | Comment | Default catalog for Hive | NULL | | Location | hdfs://127.0.0.1:8028/user/hive/wareh","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"The result format of the desc catalog is messy\n\nAt present, you can find the result format of desc catalog is messy & wrong, e.g: {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+---------------------------------------------------------+------------+ | cat_name | comment | location | +------------------+-------------------------------------------------------- +-------------+ | Catalog Name | hive | NULL | | Comment | Default catalog for Hive | NULL | | Location | hdfs://127.0.0.1:8028/user/hive/wareh","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: The result format of the desc catalog is messy\n\nAt present, you can find the result format of desc catalog is messy & wrong, e.g: {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+---------------------------------------------------------+------------+ | cat_name | comment | location | +------------------+-------------------------------------------------------- +-------------+ | Catalog Name | hive | NULL | | Comment | Default catalog for Hive | NULL | | Location | hdfs://127.0.0.1:8028/user/hive/wareh","output":"At present, you can find the result format of desc catalog is messy & wrong, e.g: {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+---------------------------------------------------------+------------+ | cat_name | comment | location | +------------------+"}
{"instruction":"Extract key technical details from this issue:","input":"At present, you can find the result format of desc catalog is messy & wrong, e.g: {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+---------------------------------------------------------+------------+ | cat_name | comment | location | +------------------+-------------------------------------------------------- +-------------+ | Catalog Name | hive | NULL | | Comment | Default catalog for Hive | NULL | | Location | hdfs://127.0.0.1:8028/user/hive/warehouse/hiveicetest | NULL | +------------------+---------------------------------------------------------+------------+{code} *It should output the result in this format:* {code:java} 0: jdbc:hive2://127.0.0.1:10000/default> desc catalog hive; +------------------+--------------------------------------","output":"The result format of the desc catalog is messy"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove Class.forName() for driver loading\n\nFor example in HiveSchemaHelper.java, Class.forName(driver) is explicitly used. https://github.com/apache/hive/blob/4f7140f0b324b5f2abde10acb671fd1f2ced9517/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/tools/schematool/HiveSchemaHelper.java#L85 But with JDBC 4+ DriverManager should automatically take care of classloading.","output":"Remove Class.forName() for driver loading"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove Class.forName() for driver loading\n\nFor example in HiveSchemaHelper.java, Class.forName(driver) is explicitly used. https://github.com/apache/hive/blob/4f7140f0b324b5f2abde10acb671fd1f2ced9517/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/tools/schematool/HiveSchemaHelper.java#L85 But with JDBC 4+ DriverManager should automatically take care of classloading.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove Class.forName() for driver loading\n\nFor example in HiveSchemaHelper.java, Class.forName(driver) is explicitly used. https://github.com/apache/hive/blob/4f7140f0b324b5f2abde10acb671fd1f2ced9517/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/tools/schematool/HiveSchemaHelper.java#L85 But with JDBC 4+ DriverManager should automatically take care of classloading.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove Class.forName() for driver loading\n\nFor example in HiveSchemaHelper.java, Class.forName(driver) is explicitly used. https://github.com/apache/hive/blob/4f7140f0b324b5f2abde10acb671fd1f2ced9517/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/tools/schematool/HiveSchemaHelper.java#L85 But with JDBC 4+ DriverManager should automatically take care of classloading.","output":"For example in HiveSchemaHelper.java, Class.forName(driver) is explicitly used. https://github.com/apache/hive/blob/4f7140f0b324b5f2abde10acb671fd1f2ced9517/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/tools/schematool/HiveSchemaHelper.java#L85 But with JDBC 4"}
{"instruction":"Extract key technical details from this issue:","input":"For example in HiveSchemaHelper.java, Class.forName(driver) is explicitly used. https://github.com/apache/hive/blob/4f7140f0b324b5f2abde10acb671fd1f2ced9517/standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/tools/schematool/HiveSchemaHelper.java#L85 But with JDBC 4+ DriverManager should automatically take care of classloading.","output":"Remove Class.forName() for driver loading"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove OPTIMIZED SQL entry from EXPLAIN EXTENDED\n\nThe {{EXPLAIN EXTENDED}} statement among other things prints a serialization of the CBO plan in the form of SQL (so called OPTIMIZED SQL). This feature was introduced in HIVE-19360 for diagnosability purposes to assist in the understanding of the DAG plan with respect to join ordering. However, in most cases when developers want to understand the join order they look into the CBO plan and not in the OPTIMIZED SQL output. Determining the join order from SQL becomes challenging for queries that contain more than a few tables and nested SQL constructs make the situation worse. The CBO RelNode tree is usually easier to navigate. In various cases the SQL serialization is an invalid SQL query. This led people to believe that the CBO plan is wrong. As a consequence, they attempt to fix the CBO plan while in fact the plan is perfectly valid. The bug usually lies only in the serialization part but the latter does not have any effect on the execution of the query. Users (and sometimes developers) believe that the OPTIMIZED SQL is the query that is actually run by Hive. There have been various cases where people copy-paste the OPTIMIZED SQL entry and try to run it when they have issues with the original query and when that fails as well it adds up to the confusion. In addition, since the serializer is buggy it sometimes raises exceptions and the OPTIMIZED SQL does not appear in the output. People will raise bug fixes and invest effort in a feature that is not very useful. Currently, there are 282 .q.out files that use {{EXPLAIN EXTENDED}} and thus contain an entry of OPTIMIZED SQL. Even minor changes in the CBO plan do affect the OPTIMIZED SQL necessitating updates and reviews on multiple files. Typically calcite upgrades trigger many changes in OPTIMIZED SQL. {noformat} $ find . -name \"*.q.out\" -exec grep -a \"OPTIMIZED SQL\" {} \\; | wc -l 820 $ find . -name \"*.q.out\" -exec grep -l \"OPTIMIZED SQL\" {} \\; | wc -l 282 {noformat} I propose to remove the {{OPTIMIZED SQL}} feature and related code to reduce: * maintenance overhead * plan/file (e.g., .q.out) size * users/dev confusion about its meaning/usage","output":"Remove OPTIMIZED SQL entry from EXPLAIN EXTENDED"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove OPTIMIZED SQL entry from EXPLAIN EXTENDED\n\nThe {{EXPLAIN EXTENDED}} statement among other things prints a serialization of the CBO plan in the form of SQL (so called OPTIMIZED SQL). This feature was introduced in HIVE-19360 for diagnosability purposes to assist in the understanding of the DAG plan with respect to join ordering. However, in most cases when developers want to understand the join order they look into the CBO plan and not in the OPTIMIZED SQL output. Determining the join order from SQL becomes challenging for queries that co","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove OPTIMIZED SQL entry from EXPLAIN EXTENDED\n\nThe {{EXPLAIN EXTENDED}} statement among other things prints a serialization of the CBO plan in the form of SQL (so called OPTIMIZED SQL). This feature was introduced in HIVE-19360 for diagnosability purposes to assist in the understanding of the DAG plan with respect to join ordering. However, in most cases when developers want to understand the join order they look into the CBO plan and not in the OPTIMIZED SQL output. Determining the join order from SQL becomes challenging for queries that co","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove OPTIMIZED SQL entry from EXPLAIN EXTENDED\n\nThe {{EXPLAIN EXTENDED}} statement among other things prints a serialization of the CBO plan in the form of SQL (so called OPTIMIZED SQL). This feature was introduced in HIVE-19360 for diagnosability purposes to assist in the understanding of the DAG plan with respect to join ordering. However, in most cases when developers want to understand the join order they look into the CBO plan and not in the OPTIMIZED SQL output. Determining the join order from SQL becomes challenging for queries that co","output":"The {{EXPLAIN EXTENDED}} statement among other things prints a serialization of the CBO plan in the form of SQL (so called OPTIMIZED SQL). This feature was introduced in HIVE-19360 for diagnosability purposes to assist in the understanding of the DAG plan with respect to join ordering. However, in m"}
{"instruction":"Continue the conversation about this technical issue:","input":"Remove OPTIMIZED SQL entry from EXPLAIN EXTENDED\n\nThe {{EXPLAIN EXTENDED}} statement among other things prints a serialization of the CBO plan in the form of SQL (so called OPTIMIZED SQL). This feature was introduced in HIVE-19360 for diagnosability \n\nConversation:\nuser: I agree with the reasoning, printing an invalid SQL query leads to confusion. Do you think it makes sense to replace OPTIMIZED SQL by something else, e.g., OPTIMIZED PLAN, printing the CBO plan? Not sure whether that's helpful, as the CBO plan can already be obtained by EXPLAIN CBO.\nassistant: thomas.rebele Since we already have options to display the CBO plan (as text and json) via other EXPLAIN commands, I would refrain from adding more redundancy in EXPLAIN EXTENDED. By doing this we also avoid too much coupling between \"logical\" and \"physical\" plans.\nassistant: +1 for removing OPTIMIZED SQL entry, especially because {quote}In various cases the SQL serialization is an invalid SQL query{quote} and checking the join order is easier by the CBO plan.","output":"+1 for removing OPTIMIZED SQL entry, especially because {quote}In various cases the SQL serialization is an invalid SQL query{quote} and checking the join order is easier by the CBO plan."}
{"instruction":"Extract key technical details from this issue:","input":"The {{EXPLAIN EXTENDED}} statement among other things prints a serialization of the CBO plan in the form of SQL (so called OPTIMIZED SQL). This feature was introduced in HIVE-19360 for diagnosability purposes to assist in the understanding of the DAG plan with respect to join ordering. However, in most cases when developers want to understand the join order they look into the CBO plan and not in the OPTIMIZED SQL output. Determining the join order from SQL becomes challenging for queries that contain more than a few tables and nested SQL constructs make the situation worse. The CBO RelNode tree is usually easier to navigate. In various cases the SQL serialization is an invalid SQL query. This led people to believe that the CBO plan is wrong. As a consequence, they attempt to fix the CBO pl","output":"Remove OPTIMIZED SQL entry from EXPLAIN EXTENDED"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[DOC] Discard invalid installation documentation\n\nCurrently, the installation documentation for HIVE is very disorganized, with multiple installation documents for HIVE on the homepage. I suggest we should use https://hive.apache.org/docs/latest/admin/manual-installation/ as the standard and discard other invalid installation documents. Because this document has been rewritten since the release of HIVE version 4.0, we should follow it as the standard compared to other outdated and invalid installation documents. Or, at the very least, it should be placed in a prominent location within the documentation, rather than being buried in outdated and invalid documents.","output":"[DOC] Discard invalid installation documentation"}
{"instruction":"Classify the status of this issue based on its description:","input":"[DOC] Discard invalid installation documentation\n\nCurrently, the installation documentation for HIVE is very disorganized, with multiple installation documents for HIVE on the homepage. I suggest we should use https://hive.apache.org/docs/latest/admin/manual-installation/ as the standard and discard other invalid installation documents. Because this document has been rewritten since the release of HIVE version 4.0, we should follow it as the standard compared to other outdated and invalid installation documents. Or, at the very least, it should","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"[DOC] Discard invalid installation documentation\n\nCurrently, the installation documentation for HIVE is very disorganized, with multiple installation documents for HIVE on the homepage. I suggest we should use https://hive.apache.org/docs/latest/admin/manual-installation/ as the standard and discard other invalid installation documents. Because this document has been rewritten since the release of HIVE version 4.0, we should follow it as the standard compared to other outdated and invalid installation documents. Or, at the very least, it should","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [DOC] Discard invalid installation documentation\n\nCurrently, the installation documentation for HIVE is very disorganized, with multiple installation documents for HIVE on the homepage. I suggest we should use https://hive.apache.org/docs/latest/admin/manual-installation/ as the standard and discard other invalid installation documents. Because this document has been rewritten since the release of HIVE version 4.0, we should follow it as the standard compared to other outdated and invalid installation documents. Or, at the very least, it should","output":"Currently, the installation documentation for HIVE is very disorganized, with multiple installation documents for HIVE on the homepage. I suggest we should use https://hive.apache.org/docs/latest/admin/manual-installation/ as the standard and discard other invalid installation documents. Because thi"}
{"instruction":"Continue the conversation about this technical issue:","input":"[DOC] Discard invalid installation documentation\n\nCurrently, the installation documentation for HIVE is very disorganized, with multiple installation documents for HIVE on the homepage. I suggest we should use https://hive.apache.org/docs/latest/admi\n\nConversation:\nuser: zhangbutao zabetak hello,sir,what do you think?\nassistant: Although we've made some optimizations to the web documentation, the overall structure still looks quite troublesome. I agree with your opinion — we should remove some invalid&outdated installation documents, such as [https://hive.apache.org/docs/latest/admin/adminmanual-installation/].\nassistant: lisoda If you have ideas on how to improve the documentation feel free to raise a pull request.","output":"lisoda If you have ideas on how to improve the documentation feel free to raise a pull request."}
{"instruction":"Extract key technical details from this issue:","input":"Currently, the installation documentation for HIVE is very disorganized, with multiple installation documents for HIVE on the homepage. I suggest we should use https://hive.apache.org/docs/latest/admin/manual-installation/ as the standard and discard other invalid installation documents. Because this document has been rewritten since the release of HIVE version 4.0, we should follow it as the standard compared to other outdated and invalid installation documents. Or, at the very least, it should be placed in a prominent location within the documentation, rather than being buried in outdated and invalid documents.","output":"[DOC] Discard invalid installation documentation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Document effects of JDK/tzdata on operations involving DATETIME and TIMESTAMP data types\n\nVarious functions and operations involving DATETIME and TIMESTAMP data types rely on JDK APIs in {{java.time}} package. The results of these APIs are strongly affected by changes in the https://www.iana.org/time-zones(tzdata). Different JDK providers and versions package different tzdata versions thus changing the JDK and/or Timezone provider can lead to different results in SQL queries and elsewhere. Although, JDK/tzdata changes are outside the control of Hive we should document this potential behavior change somewhere so that users are aware.","output":"Document effects of JDK/tzdata on operations involving DATETIME and TIMESTAMP data types"}
{"instruction":"Classify the status of this issue based on its description:","input":"Document effects of JDK/tzdata on operations involving DATETIME and TIMESTAMP data types\n\nVarious functions and operations involving DATETIME and TIMESTAMP data types rely on JDK APIs in {{java.time}} package. The results of these APIs are strongly affected by changes in the https://www.iana.org/time-zones(tzdata). Different JDK providers and versions package different tzdata versions thus changing the JDK and/or Timezone provider can lead to different results in SQL queries and elsewhere. Although, JDK/tzdata changes are outside the control of Hive we should document this potential ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Document effects of JDK/tzdata on operations involving DATETIME and TIMESTAMP data types\n\nVarious functions and operations involving DATETIME and TIMESTAMP data types rely on JDK APIs in {{java.time}} package. The results of these APIs are strongly affected by changes in the https://www.iana.org/time-zones(tzdata). Different JDK providers and versions package different tzdata versions thus changing the JDK and/or Timezone provider can lead to different results in SQL queries and elsewhere. Although, JDK/tzdata changes are outside the control of Hive we should document this potential ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Document effects of JDK/tzdata on operations involving DATETIME and TIMESTAMP data types\n\nVarious functions and operations involving DATETIME and TIMESTAMP data types rely on JDK APIs in {{java.time}} package. The results of these APIs are strongly affected by changes in the https://www.iana.org/time-zones(tzdata). Different JDK providers and versions package different tzdata versions thus changing the JDK and/or Timezone provider can lead to different results in SQL queries and elsewhere. Although, JDK/tzdata changes are outside the control of Hive we should document this potential ","output":"Various functions and operations involving DATETIME and TIMESTAMP data types rely on JDK APIs in {{java.time}} package. The results of these APIs are strongly affected by changes in the https://www.iana.org/time-zones(tzdata). Different JDK providers and versions package different tzdata versions th"}
{"instruction":"Extract key technical details from this issue:","input":"Various functions and operations involving DATETIME and TIMESTAMP data types rely on JDK APIs in {{java.time}} package. The results of these APIs are strongly affected by changes in the https://www.iana.org/time-zones(tzdata). Different JDK providers and versions package different tzdata versions thus changing the JDK and/or Timezone provider can lead to different results in SQL queries and elsewhere. Although, JDK/tzdata changes are outside the control of Hive we should document this potential behavior change somewhere so that users are aware.","output":"Document effects of JDK/tzdata on operations involving DATETIME and TIMESTAMP data types"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Display TxnId associated with the query in show processlist command\n\nToday we don't have a way to identify the query id along with the associated txn id. Show transactions provide {noformat} +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+ | txnid | state | startedtime | lastheartbeattime | user | host | +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+ | Transaction ID | Transaction State | Started Time | Last Heartbeat Time | User | Hostname | | 37 | OPEN | 1759478145278 | 1759478145278 | hive/ip-10-17-78-194.support.fuse.cloudera.com@SUPPORT.FUSE.CLOUDERA.COM | ip-10-17-78-194.support.fuse.cloudera.com | +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+{noformat} Here we don't know the query id and not sure if we retrieve it and display in the above command Show processlist gives below data {noformat} 0: jdbc:hive2://localhost:10000> show processlist; +------------+------------+-------------------+---------------------------------------+--------------------------+------------------------+----------------------------------------------------+-----------+-------------------+-------------------+---------------+-----------------+ | User Name | Ip Addr | Execution Engine | Session Id | Session Active Time (s) | Session Idle Time (s) | Query ID | State | Opened Timestamp | Elapsed Time (s) | Runtime (s) | Query | +------------+------------+-------------------+---------------------------------------+--------------------------+------------------------+----------------------------------------------------+-----------+-------------------+-------------------+---------------+-----------------+ | hive | 127.0.0.1 | mr | 6cdf027f-90e1-48af-b4d8-a11aac71ca1b | 154 | 19 | rtrivedi_20240624193743_fb4b2bf8-a02a-4b76-a92c-4e3ee4bb6e9e | FINISHED | 1719275863493 | 102 | 83 | show tables | | hive | 127.0.0.1 | mr | 43945f54-d65c-424d-b523-08e7675d8223 | 165 | 67 | rtrivedi_20240624193826_42bff3ed-fb8d-4478-9500-fc6ff2173041 | RUNNING | 1719275906721 | 59 | Not finished | show databases | +------------+------------+-------------------+---------------------------------------+--------------------------+------------------------+----------------------------------------------------+-----------+-------------------+-------------------+---------------+-----------------+ 2 rows selected (4.149 seconds){noformat} We can try to display transaction id in this command, so that we can map transaction details from the show transactions output Customer use case: Some transactions are hanging for long, but they don't know the query corresponding to that txn id before aborting that manually","output":"Display TxnId associated with the query in show processlist command"}
{"instruction":"Classify the status of this issue based on its description:","input":"Display TxnId associated with the query in show processlist command\n\nToday we don't have a way to identify the query id along with the associated txn id. Show transactions provide {noformat} +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+ | txnid | state | startedtime | lastheartbeattime | user | host | +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Display TxnId associated with the query in show processlist command\n\nToday we don't have a way to identify the query id along with the associated txn id. Show transactions provide {noformat} +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+ | txnid | state | startedtime | lastheartbeattime | user | host | +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Display TxnId associated with the query in show processlist command\n\nToday we don't have a way to identify the query id along with the associated txn id. Show transactions provide {noformat} +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+ | txnid | state | startedtime | lastheartbeattime | user | host | +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+","output":"Today we don't have a way to identify the query id along with the associated txn id. Show transactions provide {noformat} +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+"}
{"instruction":"Continue the conversation about this technical issue:","input":"Display TxnId associated with the query in show processlist command\n\nToday we don't have a way to identify the query id along with the associated txn id. Show transactions provide {noformat} +-----------------+--------------------+----------------+---------------------\n\nConversation:\nuser: Having a way to correlate a query with a transaction is a good idea.","output":"Having a way to correlate a query with a transaction is a good idea."}
{"instruction":"Extract key technical details from this issue:","input":"Today we don't have a way to identify the query id along with the associated txn id. Show transactions provide {noformat} +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+ | txnid | state | startedtime | lastheartbeattime | user | host | +-----------------+--------------------+----------------+----------------------+----------------------------------------------------+--------------------------------------------+ | Transaction ID | Transaction State | Started Time | Last Heartbeat Time | User | Hostname | | 37 | OPEN | 1759478145278 | 1759478145278 | hive/ip-10-17-78-194.support.fuse.cloudera.com@SUPPORT.FUSE.CLOUDERA.COM | ip-10-17-78-194.support.fuse.cloudera.c","output":"Display TxnId associated with the query in show processlist command"}
{"instruction":"Classify the status of this issue based on its description:","input":"Bump netty version to 4.1.127.Final due to CVE-2025-58057, CVE-2025-58056\n\n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Bump netty version to 4.1.127.Final due to CVE-2025-58057, CVE-2025-58056\n\n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Bump netty version to 4.1.127.Final due to CVE-2025-58057, CVE-2025-58056\n\n","output":""}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Bump netty version to 4.1.127.Final due to CVE-2025-58057, CVE-2025-58056\n\n","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Bump netty version to 4.1.127.Final due to CVE-2025-58057, CVE-2025-58056\n\n\n\nConversation:\nuser: Merged to master Thanks for the upgrade ramitg254 and Aggarwal_Raghav , InvisibleProgrammer for the review!","output":"Merged to master Thanks for the upgrade ramitg254 and Aggarwal_Raghav , InvisibleProgrammer for the review!"}
{"instruction":"Classify the status of this issue based on its description:","input":"Iceberg: Add support for Column Defaults with Alter commands\n\nAllow column defaults with Alter Table Commands","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Iceberg: Add support for Column Defaults with Alter commands\n\nAllow column defaults with Alter Table Commands","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Iceberg: Add support for Column Defaults with Alter commands\n\nAllow column defaults with Alter Table Commands","output":"Allow column defaults with Alter Table Commands"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Iceberg: Add support for Column Defaults with Alter commands\n\nAllow column defaults with Alter Table Commands","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Iceberg: Add support for Column Defaults with Alter commands\n\nAllow column defaults with Alter Table Commands\n\nConversation:\nuser: Committed to master. Thanx difin for the review!!!","output":"Committed to master. Thanx difin for the review!!!"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads\n\nThe {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap is lifted to check for any deltas that may become eligible for cleanup once the open transaction completes. If none are found, the cleanup request is marked complete; otherwise, it’s returned to the queue with a “ready-for-cleaning” status. {code:java} conf.set(ValidTxnList.VALID_TXNS_KEY, new ValidReadTxnList().toString()); dir = AcidUtils.getAcidState(fs, path, conf, new ValidReaderWriteIdList(info.getFullTableName(), new long[0], new BitSet(), info.highestWriteId, Long.MAX_VALUE), Ref.from(false), false, dirSnapshots); List remained = subtract(CompactorUtil.getObsoleteDirs(dir, isDynPartAbort), deleted); if (!remained.isEmpty()) { LOG.warn(\"Remained {} obsolete directories from {}. {}\", remained.size(), location, CompactorUtil.getDebugInfo(remained)); } else { LOG.debug(\"All cleared below the watermark: {} from {}\", info.highestWriteId, location); success = true; }{code} that might override the `{{{}ValidTxnList.VALID_TXNS_KEY`{}}} set in a concurrent task, leading to premature cleanup of data still in use by an active transaction. {code:java} private void cleanUsingAcidDir(CompactionInfo ci, String location, long minOpenTxn) throws Exception { ValidTxnList validTxnList = TxnUtils.createValidTxnListForCleaner(txnHandler.getOpenTxns(), minOpenTxn, false); //save it so that getAcidState() sees it conf.set(ValidTxnList.VALID_TXNS_KEY, validTxnList.writeToString());{code}","output":"Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads"}
{"instruction":"Classify the status of this issue based on its description:","input":"Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads\n\nThe {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap is lifted to check for any deltas that may become eligible for cleanup once the open transaction completes. If none are found, the cleanup request is marked complete; otherwise, it’s returned to the queue with a “ready-for-cleaning” status. {code:java} conf.set(ValidTxnList.VALID_TXNS_KEY, new Valid","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads\n\nThe {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap is lifted to check for any deltas that may become eligible for cleanup once the open transaction completes. If none are found, the cleanup request is marked complete; otherwise, it’s returned to the queue with a “ready-for-cleaning” status. {code:java} conf.set(ValidTxnList.VALID_TXNS_KEY, new Valid","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads\n\nThe {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap is lifted to check for any deltas that may become eligible for cleanup once the open transaction completes. If none are found, the cleanup request is marked complete; otherwise, it’s returned to the queue with a “ready-for-cleaning” status. {code:java} conf.set(ValidTxnList.VALID_TXNS_KEY, new Valid","output":"The {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap is lifted to check for any deltas that may become eligible for cleanup once the open transaction com"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads\n\nThe {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap is lifted to check for any deltas that may become eligible for cleanup once the open transaction completes. If none are found, the cleanup request is marked complete; otherwise, it’s returned to the queue with a “ready-for-cleaning” status. {code:java} conf.set(ValidTxnList.VALID_TXNS_KEY, new Valid","output":"Fixed"}
{"instruction":"Continue the conversation about this technical issue:","input":"Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads\n\nThe {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap \n\nConversation:\nuser: Merged to master. Thank you v much for the review, sbadhya !","output":"Merged to master. Thank you v much for the review, sbadhya !"}
{"instruction":"Extract key technical details from this issue:","input":"The {{HiveConf}} object is shared across multiple cleanup tasks. When the Cleaner runs with multiple threads, this can lead to a race condition. At the end of a cleanup task, the open transaction cap is lifted to check for any deltas that may become eligible for cleanup once the open transaction completes. If none are found, the cleanup request is marked complete; otherwise, it’s returned to the queue with a “ready-for-cleaning” status. {code:java} conf.set(ValidTxnList.VALID_TXNS_KEY, new ValidReadTxnList().toString()); dir = AcidUtils.getAcidState(fs, path, conf, new ValidReaderWriteIdList(info.getFullTableName(), new long[0], new BitSet(), info.highestWriteId, Long.MAX_VALUE), Ref.from(false), false, dirSnapshots); List remained = subtract(CompactorUtil.getObsoleteDirs(dir, isDynPartAbo","output":"Hive ACID: HiveConf object shouldn't be shared between multiple cleanup task threads"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"StreamThread blocks on StateUpdater during onAssignment()\n\nWe've observed that the `StreamThread` blocks waiting for a `Future` from the `StateUpdater` in the `StreamsPartitionAssigner#onAssignment()` method when we are moving a task out of the `StateUpdater` and onto the `StreamThread`. This can cause problems because, during restoration or with warmup replicas, the `StateUpdater#runOnce()` method can take a long time (upwards of 20 seconds) when RocksDB stalls writes to allow compaction to keep up. In EOS this blockage may cause the transaction to time out, which is a big mess. This is because the `StreamThread` may have an open transaction before the `StreamsPartitionAssignor#onAssignment()` method is called. Some screenshots from the JFR below (credit to eduwerc).","output":"StreamThread blocks on StateUpdater during onAssignment()"}
{"instruction":"Classify the status of this issue based on its description:","input":"StreamThread blocks on StateUpdater during onAssignment()\n\nWe've observed that the `StreamThread` blocks waiting for a `Future` from the `StateUpdater` in the `StreamsPartitionAssigner#onAssignment()` method when we are moving a task out of the `StateUpdater` and onto the `StreamThread`. This can cause problems because, during restoration or with warmup replicas, the `StateUpdater#runOnce()` method can take a long time (upwards of 20 seconds) when RocksDB stalls writes to allow compaction to keep up. In EOS this blockage may cause the transaction to tim","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"StreamThread blocks on StateUpdater during onAssignment()\n\nWe've observed that the `StreamThread` blocks waiting for a `Future` from the `StateUpdater` in the `StreamsPartitionAssigner#onAssignment()` method when we are moving a task out of the `StateUpdater` and onto the `StreamThread`. This can cause problems because, during restoration or with warmup replicas, the `StateUpdater#runOnce()` method can take a long time (upwards of 20 seconds) when RocksDB stalls writes to allow compaction to keep up. In EOS this blockage may cause the transaction to tim","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: StreamThread blocks on StateUpdater during onAssignment()\n\nWe've observed that the `StreamThread` blocks waiting for a `Future` from the `StateUpdater` in the `StreamsPartitionAssigner#onAssignment()` method when we are moving a task out of the `StateUpdater` and onto the `StreamThread`. This can cause problems because, during restoration or with warmup replicas, the `StateUpdater#runOnce()` method can take a long time (upwards of 20 seconds) when RocksDB stalls writes to allow compaction to keep up. In EOS this blockage may cause the transaction to tim","output":"We've observed that the `StreamThread` blocks waiting for a `Future` from the `StateUpdater` in the `StreamsPartitionAssigner#onAssignment()` method when we are moving a task out of the `StateUpdater` and onto the `StreamThread`. This can cause problems because, during restoration or with warmup rep"}
{"instruction":"Extract key technical details from this issue:","input":"We've observed that the `StreamThread` blocks waiting for a `Future` from the `StateUpdater` in the `StreamsPartitionAssigner#onAssignment()` method when we are moving a task out of the `StateUpdater` and onto the `StreamThread`. This can cause problems because, during restoration or with warmup replicas, the `StateUpdater#runOnce()` method can take a long time (upwards of 20 seconds) when RocksDB stalls writes to allow compaction to keep up. In EOS this blockage may cause the transaction to time out, which is a big mess. This is because the `StreamThread` may have an open transaction before the `StreamsPartitionAssignor#onAssignment()` method is called. Some screenshots from the JFR below (credit to eduwerc).","output":"StreamThread blocks on StateUpdater during onAssignment()"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Delete dynamic config that were removed by Kafka\n\nhttps://cwiki.apache.org/confluence/display/KAFKA/KIP-724%3A+Drop+support+for+message+formats+v0+and+v1 and Kafka 4.0.0 removed support for the dynamic configs like message.format.version. When the user upgrades from 3.x to 4.x it can cause the dynamic configuration validation to fail if there are dynamic configurations that are no longer supported. {code:java} Caused by: org.apache.kafka.common.errors.InvalidConfigurationException: Unknown topic config name: message.format.version {code} One solution for solving this problem is to have a well define list of allowed dynamic configuration. Any config that doesn't match this list will be automatically deleted. This deletion can be done implicitly when applying the ConfigRecord record. This behavior can be further guarded by checking that the metadata version is greater than 4.0. This also means that upgrading the metadata version to 4.0 would cause all of the removed config to get deleted.","output":"Delete dynamic config that were removed by Kafka"}
{"instruction":"Classify the status of this issue based on its description:","input":"Delete dynamic config that were removed by Kafka\n\nhttps://cwiki.apache.org/confluence/display/KAFKA/KIP-724%3A+Drop+support+for+message+formats+v0+and+v1 and Kafka 4.0.0 removed support for the dynamic configs like message.format.version. When the user upgrades from 3.x to 4.x it can cause the dynamic configuration validation to fail if there are dynamic configurations that are no longer supported. {code:java} Caused by: org.apache.kafka.common.errors.InvalidConfigurationException: Unknown topic config name: message.format.version {code} One so","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Delete dynamic config that were removed by Kafka\n\nhttps://cwiki.apache.org/confluence/display/KAFKA/KIP-724%3A+Drop+support+for+message+formats+v0+and+v1 and Kafka 4.0.0 removed support for the dynamic configs like message.format.version. When the user upgrades from 3.x to 4.x it can cause the dynamic configuration validation to fail if there are dynamic configurations that are no longer supported. {code:java} Caused by: org.apache.kafka.common.errors.InvalidConfigurationException: Unknown topic config name: message.format.version {code} One so","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Delete dynamic config that were removed by Kafka\n\nhttps://cwiki.apache.org/confluence/display/KAFKA/KIP-724%3A+Drop+support+for+message+formats+v0+and+v1 and Kafka 4.0.0 removed support for the dynamic configs like message.format.version. When the user upgrades from 3.x to 4.x it can cause the dynamic configuration validation to fail if there are dynamic configurations that are no longer supported. {code:java} Caused by: org.apache.kafka.common.errors.InvalidConfigurationException: Unknown topic config name: message.format.version {code} One so","output":"https://cwiki.apache.org/confluence/display/KAFKA/KIP-724%3A+Drop+support+for+message+formats+v0+and+v1 and Kafka 4.0.0 removed support for the dynamic configs like message.format.version. When the user upgrades from 3.x to 4.x it can cause the dynamic configuration validation to fail if there are d"}
{"instruction":"Extract key technical details from this issue:","input":"https://cwiki.apache.org/confluence/display/KAFKA/KIP-724%3A+Drop+support+for+message+formats+v0+and+v1 and Kafka 4.0.0 removed support for the dynamic configs like message.format.version. When the user upgrades from 3.x to 4.x it can cause the dynamic configuration validation to fail if there are dynamic configurations that are no longer supported. {code:java} Caused by: org.apache.kafka.common.errors.InvalidConfigurationException: Unknown topic config name: message.format.version {code} One solution for solving this problem is to have a well define list of allowed dynamic configuration. Any config that doesn't match this list will be automatically deleted. This deletion can be done implicitly when applying the ConfigRecord record. This behavior can be further guarded by checking that the","output":"Delete dynamic config that were removed by Kafka"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"KRaft voter auto join will add a removed voter immediately\n\nIn v4.2.0, we are able to auto join a controller with the configuration `controller.quorum.auto.join.enable=true` set (https://cwiki.apache.org/confluence/display/KAFKA/KIP-853%3A+KRaft+Controller+Membership+Changes#KIP853:KRaftControllerMembershipChanges-Controllerautojoining(KAFKA-19078)). This is a good improvement for controller addition, but it has a UX issue, which is that when a controller is removed via removeVoterRequest, it will be added immediately due to `controller.quorum.auto.join.enable=true`. In the KIP, we also mention you have to stop the controller before removing the controller: {noformat} controller.quorum.auto.join.enable: Controls whether a KRaft controller should automatically join the cluster metadata partition for its cluster id. If the configuration is set to true the controller must be stopped before removing the controller with kafka-metadata-quorum remove-controller.{noformat} This is not a user friendly behavior in my opinion. And it will cause many confusion to users and thought there is something wrong in the controller removal. Furthermore, in the kubernetes environment which is controlled by the operator, it is not the cloud native way to shutdown a node, do some operation, then start it up. So, I propose we can improve it by \"the removed controller will not be auto joined before this controller restarted\". That is: 1. Once the controller is removed from voters set, it won't be auto joined even if `controller.quorum.auto.join.enable=true` 2. The controller can be manually join the voters in this state 3. The controller node will be auto join the voters set after node restarted. So basically, the semantics is not changed, it just add some unexpected remove/add loop. Thoughts?","output":"KRaft voter auto join will add a removed voter immediately"}
{"instruction":"Classify the status of this issue based on its description:","input":"KRaft voter auto join will add a removed voter immediately\n\nIn v4.2.0, we are able to auto join a controller with the configuration `controller.quorum.auto.join.enable=true` set (https://cwiki.apache.org/confluence/display/KAFKA/KIP-853%3A+KRaft+Controller+Membership+Changes#KIP853:KRaftControllerMembershipChanges-Controllerautojoining(KAFKA-19078)). This is a good improvement for controller addition, but it has a UX issue, which is that when a controller is removed via removeVoterRequest, it will be added immediately due to `controller.quorum.auto.join.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"KRaft voter auto join will add a removed voter immediately\n\nIn v4.2.0, we are able to auto join a controller with the configuration `controller.quorum.auto.join.enable=true` set (https://cwiki.apache.org/confluence/display/KAFKA/KIP-853%3A+KRaft+Controller+Membership+Changes#KIP853:KRaftControllerMembershipChanges-Controllerautojoining(KAFKA-19078)). This is a good improvement for controller addition, but it has a UX issue, which is that when a controller is removed via removeVoterRequest, it will be added immediately due to `controller.quorum.auto.join.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: KRaft voter auto join will add a removed voter immediately\n\nIn v4.2.0, we are able to auto join a controller with the configuration `controller.quorum.auto.join.enable=true` set (https://cwiki.apache.org/confluence/display/KAFKA/KIP-853%3A+KRaft+Controller+Membership+Changes#KIP853:KRaftControllerMembershipChanges-Controllerautojoining(KAFKA-19078)). This is a good improvement for controller addition, but it has a UX issue, which is that when a controller is removed via removeVoterRequest, it will be added immediately due to `controller.quorum.auto.join.","output":"In v4.2.0, we are able to auto join a controller with the configuration `controller.quorum.auto.join.enable=true` set (https://cwiki.apache.org/confluence/display/KAFKA/KIP-853%3A+KRaft+Controller+Membership+Changes#KIP853:KRaftControllerMembershipChanges-Controllerautojoining(KAFKA-19078)). This is"}
{"instruction":"Extract key technical details from this issue:","input":"In v4.2.0, we are able to auto join a controller with the configuration `controller.quorum.auto.join.enable=true` set (https://cwiki.apache.org/confluence/display/KAFKA/KIP-853%3A+KRaft+Controller+Membership+Changes#KIP853:KRaftControllerMembershipChanges-Controllerautojoining(KAFKA-19078)). This is a good improvement for controller addition, but it has a UX issue, which is that when a controller is removed via removeVoterRequest, it will be added immediately due to `controller.quorum.auto.join.enable=true`. In the KIP, we also mention you have to stop the controller before removing the controller: {noformat} controller.quorum.auto.join.enable: Controls whether a KRaft controller should automatically join the cluster metadata partition for its cluster id. If the configuration is set to tru","output":"KRaft voter auto join will add a removed voter immediately"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Move ThrottledChannelExpirationTest to server-common module\n\nWith *KAFKA-19817 moving all related components to `server-common`, we can rewrite and migrate `ThrottledChannelExpirationTest`. Also, the test that was moved in KAFKA-17372* should be merged into it.","output":"Move ThrottledChannelExpirationTest to server-common module"}
{"instruction":"Classify the status of this issue based on its description:","input":"Move ThrottledChannelExpirationTest to server-common module\n\nWith *KAFKA-19817 moving all related components to `server-common`, we can rewrite and migrate `ThrottledChannelExpirationTest`. Also, the test that was moved in KAFKA-17372* should be merged into it.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Move ThrottledChannelExpirationTest to server-common module\n\nWith *KAFKA-19817 moving all related components to `server-common`, we can rewrite and migrate `ThrottledChannelExpirationTest`. Also, the test that was moved in KAFKA-17372* should be merged into it.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Move ThrottledChannelExpirationTest to server-common module\n\nWith *KAFKA-19817 moving all related components to `server-common`, we can rewrite and migrate `ThrottledChannelExpirationTest`. Also, the test that was moved in KAFKA-17372* should be merged into it.","output":"With *KAFKA-19817 moving all related components to `server-common`, we can rewrite and migrate `ThrottledChannelExpirationTest`. Also, the test that was moved in KAFKA-17372* should be merged into it."}
{"instruction":"Extract key technical details from this issue:","input":"With *KAFKA-19817 moving all related components to `server-common`, we can rewrite and migrate `ThrottledChannelExpirationTest`. Also, the test that was moved in KAFKA-17372* should be merged into it.","output":"Move ThrottledChannelExpirationTest to server-common module"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Revert KIP-939 API's and Client Code for 4.2\n\nKIP-939 has been paused but some of the client code and new API's have already been merged to trunk. We need to revert the changes in the 4.2 release branch.","output":"Revert KIP-939 API's and Client Code for 4.2"}
{"instruction":"Classify the status of this issue based on its description:","input":"Revert KIP-939 API's and Client Code for 4.2\n\nKIP-939 has been paused but some of the client code and new API's have already been merged to trunk. We need to revert the changes in the 4.2 release branch.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Revert KIP-939 API's and Client Code for 4.2\n\nKIP-939 has been paused but some of the client code and new API's have already been merged to trunk. We need to revert the changes in the 4.2 release branch.","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Revert KIP-939 API's and Client Code for 4.2\n\nKIP-939 has been paused but some of the client code and new API's have already been merged to trunk. We need to revert the changes in the 4.2 release branch.","output":"KIP-939 has been paused but some of the client code and new API's have already been merged to trunk. We need to revert the changes in the 4.2 release branch."}
{"instruction":"Extract key technical details from this issue:","input":"KIP-939 has been paused but some of the client code and new API's have already been merged to trunk. We need to revert the changes in the 4.2 release branch.","output":"Revert KIP-939 API's and Client Code for 4.2"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Adjust quorum-related config lower bounds\n\nSome config settings are related to each other, or certain configuration constraints haven’t been discussed. See: [https://github.com/apache/kafka/pull/18998#discussion_r1988001109] https://github.com/apache/kafka/pull/20318/files#r2465660429","output":"Adjust quorum-related config lower bounds"}
{"instruction":"Classify the status of this issue based on its description:","input":"Adjust quorum-related config lower bounds\n\nSome config settings are related to each other, or certain configuration constraints haven’t been discussed. See: [https://github.com/apache/kafka/pull/18998#discussion_r1988001109] https://github.com/apache/kafka/pull/20318/files#r2465660429","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Adjust quorum-related config lower bounds\n\nSome config settings are related to each other, or certain configuration constraints haven’t been discussed. See: [https://github.com/apache/kafka/pull/18998#discussion_r1988001109] https://github.com/apache/kafka/pull/20318/files#r2465660429","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Adjust quorum-related config lower bounds\n\nSome config settings are related to each other, or certain configuration constraints haven’t been discussed. See: [https://github.com/apache/kafka/pull/18998#discussion_r1988001109] https://github.com/apache/kafka/pull/20318/files#r2465660429","output":"Some config settings are related to each other, or certain configuration constraints haven’t been discussed. See: [https://github.com/apache/kafka/pull/18998#discussion_r1988001109] https://github.com/apache/kafka/pull/20318/files#r2465660429"}
{"instruction":"Extract key technical details from this issue:","input":"Some config settings are related to each other, or certain configuration constraints haven’t been discussed. See: [https://github.com/apache/kafka/pull/18998#discussion_r1988001109] https://github.com/apache/kafka/pull/20318/files#r2465660429","output":"Adjust quorum-related config lower bounds"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix ShareFetch RPC doesn't allow '/' and '+' in memberId field\n\nWhile working on QfK implementation in librdkafka, I found that {{memberId}} field doesn't accept {{/}} and {{{}+{}}}. I get following error on the {*}broker side{*}. {code:java} [2025-10-23 15:10:55,319] ERROR [KafkaApi-1] Unexpected error handling request RequestHeader(apiKey=SHARE_FETCH, apiVersion=1, clientId=rdkafka, correlationId=4, headerVersion=2) -- ShareFetchRequestData(groupId='share-group-1', memberId='/FvjN95PRhGaAuA8aQMuTw', shareSessionEpoch=0, maxWaitMs=500, minBytes=1, maxBytes=52428800, maxRecords=500, batchSize=500, topics=[FetchTopic(topicId=sgd0qCnHRL-t80afMzN9nA, partitions=[FetchPartition(partitionIndex=0, partitionMaxBytes=0, acknowledgementBatches=[])])], forgottenTopicsData=[]) with context RequestContext(header=RequestHeader(apiKey=SHARE_FETCH, apiVersion=1, clientId=rdkafka, correlationId=4, headerVersion=2), connectionId='127.0.0.1:9092-127.0.0.1:41442-0-4', clientAddress=/127.0.0.1, principal=User:ANONYMOUS, listenerName=ListenerName(PLAINTEXT), securityProtocol=PLAINTEXT, clientInformation=ClientInformation(softwareName=librdkafka, softwareVersion=2.12.0-RC1-13-g82dbc3-dirty-devel-O0), fromPrivilegedListener=true, principalSerde=Optional[org.apache.kafka.common.security.authenticator.DefaultKafkaPrincipalBuilder@1648925]) (kafka.server.KafkaApis) java.lang.IllegalArgumentException: Illegal base64 character 2f at java.base/java.util.Base64$Decoder.decode0(Base64.java:848) ~[?:?] at java.base/java.util.Base64$Decoder.decode(Base64.java:566) ~[?:?] at java.base/java.util.Base64$Decoder.decode(Base64.java:589) ~[?:?] at org.apache.kafka.common.Uuid.fromString(Uuid.java:136) ~[kafka-clients-4.1.0.jar:?] at kafka.server.KafkaApis.handleShareFetchRequest(KafkaApis.scala:3157) [kafka_2.13-4.1.0.jar:?] at kafka.server.KafkaApis.handle(KafkaApis.scala:236) [kafka_2.13-4.1.0.jar:?] at kafka.server.KafkaRequestHandler.run(KafkaRequestHandler.scala:158) [kafka_2.13-4.1.0.jar:?] at java.base/java.lang.Thread.run(Thread.java:840) [?:?] {code} *Client* gets {{UNKNOWN_SERVER_ERROR}} as response from the broker. Digging deeper I found that Uuid *{{fromString()}}* uses Base64 Url decoding and similarly *{{toString()}}* uses Base64 Url encoding. {code:java} public static Uuid fromString(String str) { if (str.length() > 24) { throw new IllegalArgumentException(\"Input string with prefix `\" + str.substring(0, 24) + \"` is too long to be decoded as a base64 UUID\"); } ByteBuffer uuidBytes = ByteBuffer.wrap(Base64.getUrlDecoder().decode(str)); if (uuidBytes.remaining() != 16) { throw new IllegalArgumentException(\"Input string `\" + str + \"` decoded as \" + uuidBytes.remaining() + \" bytes, which is not equal to the expected 16 bytes \" + \"of a base64-encoded UUID\"); } return new Uuid(uuidBytes.getLong(), uuidBytes.getLong()); } {code} {code:java} public String toString() { return Base64.getUrlEncoder().withoutPadding().encodeToString(getBytesFromUuid()); } {code} {{I feel that Uuid should use normal Base64 encoding or decoding instead of Url one. If we use Url encoding and decoding then the Uuid itself changes. Generated Uuid and Url Base64 encoding for the Uuid will be different. }}{{}}","output":"Fix ShareFetch RPC doesn't allow '/' and '+' in memberId field"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix ShareFetch RPC doesn't allow '/' and '+' in memberId field\n\nWhile working on QfK implementation in librdkafka, I found that {{memberId}} field doesn't accept {{/}} and {{{}+{}}}. I get following error on the {*}broker side{*}. {code:java} [2025-10-23 15:10:55,319] ERROR [KafkaApi-1] Unexpected error handling request RequestHeader(apiKey=SHARE_FETCH, apiVersion=1, clientId=rdkafka, correlationId=4, headerVersion=2) -- ShareFetchRequestData(groupId='share-group-1', memberId='/FvjN95PRhGaAuA8aQMuTw', shareSessionEpoch=0, maxWaitMs=500, minBytes=1, maxBytes=","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Fix ShareFetch RPC doesn't allow '/' and '+' in memberId field\n\nWhile working on QfK implementation in librdkafka, I found that {{memberId}} field doesn't accept {{/}} and {{{}+{}}}. I get following error on the {*}broker side{*}. {code:java} [2025-10-23 15:10:55,319] ERROR [KafkaApi-1] Unexpected error handling request RequestHeader(apiKey=SHARE_FETCH, apiVersion=1, clientId=rdkafka, correlationId=4, headerVersion=2) -- ShareFetchRequestData(groupId='share-group-1', memberId='/FvjN95PRhGaAuA8aQMuTw', shareSessionEpoch=0, maxWaitMs=500, minBytes=1, maxBytes=","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix ShareFetch RPC doesn't allow '/' and '+' in memberId field\n\nWhile working on QfK implementation in librdkafka, I found that {{memberId}} field doesn't accept {{/}} and {{{}+{}}}. I get following error on the {*}broker side{*}. {code:java} [2025-10-23 15:10:55,319] ERROR [KafkaApi-1] Unexpected error handling request RequestHeader(apiKey=SHARE_FETCH, apiVersion=1, clientId=rdkafka, correlationId=4, headerVersion=2) -- ShareFetchRequestData(groupId='share-group-1', memberId='/FvjN95PRhGaAuA8aQMuTw', shareSessionEpoch=0, maxWaitMs=500, minBytes=1, maxBytes=","output":"While working on QfK implementation in librdkafka, I found that {{memberId}} field doesn't accept {{/}} and {{{}+{}}}. I get following error on the {*}broker side{*}. {code:java} [2025-10-23 15:10:55,319] ERROR [KafkaApi-1] Unexpected error handling request RequestHeader(apiKey=SHARE_FETCH, apiVersi"}
{"instruction":"Extract key technical details from this issue:","input":"While working on QfK implementation in librdkafka, I found that {{memberId}} field doesn't accept {{/}} and {{{}+{}}}. I get following error on the {*}broker side{*}. {code:java} [2025-10-23 15:10:55,319] ERROR [KafkaApi-1] Unexpected error handling request RequestHeader(apiKey=SHARE_FETCH, apiVersion=1, clientId=rdkafka, correlationId=4, headerVersion=2) -- ShareFetchRequestData(groupId='share-group-1', memberId='/FvjN95PRhGaAuA8aQMuTw', shareSessionEpoch=0, maxWaitMs=500, minBytes=1, maxBytes=52428800, maxRecords=500, batchSize=500, topics=[FetchTopic(topicId=sgd0qCnHRL-t80afMzN9nA, partitions=[FetchPartition(partitionIndex=0, partitionMaxBytes=0, acknowledgementBatches=[])])], forgottenTopicsData=[]) with context RequestContext(header=RequestHeader(apiKey=SHARE_FETCH, apiVersion=1, clie","output":"Fix ShareFetch RPC doesn't allow '/' and '+' in memberId field"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix the negative remote bytesLag and segmentsLag metric\n\n* Each broker rotates the segment independently. * When the leadership changes to the next replica, then the highest offset uploaded to the remote storage might already be higher than the baseOffset of the current leader active segment. * During this case, the {{onlyLocalLogSegmentsSize}} and {{onlyLocalLogSegmentsCount}} returns 0, so the metrics shows negative value (0 - activeSegment.size).","output":"Fix the negative remote bytesLag and segmentsLag metric"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix the negative remote bytesLag and segmentsLag metric\n\n* Each broker rotates the segment independently. * When the leadership changes to the next replica, then the highest offset uploaded to the remote storage might already be higher than the baseOffset of the current leader active segment. * During this case, the {{onlyLocalLogSegmentsSize}} and {{onlyLocalLogSegmentsCount}} returns 0, so the metrics shows negative value (0 - activeSegment.size).","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix the negative remote bytesLag and segmentsLag metric\n\n* Each broker rotates the segment independently. * When the leadership changes to the next replica, then the highest offset uploaded to the remote storage might already be higher than the baseOffset of the current leader active segment. * During this case, the {{onlyLocalLogSegmentsSize}} and {{onlyLocalLogSegmentsCount}} returns 0, so the metrics shows negative value (0 - activeSegment.size).","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix the negative remote bytesLag and segmentsLag metric\n\n* Each broker rotates the segment independently. * When the leadership changes to the next replica, then the highest offset uploaded to the remote storage might already be higher than the baseOffset of the current leader active segment. * During this case, the {{onlyLocalLogSegmentsSize}} and {{onlyLocalLogSegmentsCount}} returns 0, so the metrics shows negative value (0 - activeSegment.size).","output":"* Each broker rotates the segment independently. * When the leadership changes to the next replica, then the highest offset uploaded to the remote storage might already be higher than the baseOffset of the current leader active segment. * During this case, the {{onlyLocalLogSegmentsSize}} and {{only"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix the negative remote bytesLag and segmentsLag metric\n\n* Each broker rotates the segment independently. * When the leadership changes to the next replica, then the highest offset uploaded to the remote storage might already be higher than the baseOffset of the current leader active segment. * During this case, the {{onlyLocalLogSegmentsSize}} and {{onlyLocalLogSegmentsCount}} returns 0, so the metrics shows negative value (0 - activeSegment.size).","output":"Invalid"}
{"instruction":"Extract key technical details from this issue:","input":"* Each broker rotates the segment independently. * When the leadership changes to the next replica, then the highest offset uploaded to the remote storage might already be higher than the baseOffset of the current leader active segment. * During this case, the {{onlyLocalLogSegmentsSize}} and {{onlyLocalLogSegmentsCount}} returns 0, so the metrics shows negative value (0 - activeSegment.size).","output":"Fix the negative remote bytesLag and segmentsLag metric"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Flaky test ShareConsumerTest. testShareGroupMaxSizeConfigExceeded\n\nThe test has been observed as flaky in the recent runs: [https://develocity.apache.org/scans/tests?search.names=CI%20workflow%2CGit%20repository&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.tags=github%2Ctrunk&search.tasks=test&search.timeZoneId=Asia%2FCalcutta&search.values=CI%2Chttps:%2F%2Fgithub.com%2Fapache%2Fkafka&tests.container=org.apache.kafka.clients.consumer.ShareConsumerTest&tests.sortField=FLAKY&tests.test=testShareGroupMaxSizeConfigExceeded()%5B1%5D] After tracing the failures, the root cause was narrowed down to commit [https://github.com/apache/kafka/commit/87657fdfc721055835f5b1f22151c461e85eab4a]. This change introduced a new try/catch around {{handleCompletedAcknowledgements()}} in {{{}ShareConsumerImpl.java{}}}. The side effect is that all exceptions coming from the commit callback — including GroupMaxSizeReachedException — are now swallowed and only logged, preventing the test from ever receiving the exception. - If the ack callback fires while {{poll()}} is executing → exception is caught & swallowed → test times out - If the callback fires outside that path → exception escapes → test passes So the same test randomly passes/fails depending on scheduling of the ack callback. Also, the test testAcknowledgementCommitCallbackThrowsException has been marked as Flaky for the same Root cause.","output":"Flaky test ShareConsumerTest. testShareGroupMaxSizeConfigExceeded"}
{"instruction":"Classify the status of this issue based on its description:","input":"Flaky test ShareConsumerTest. testShareGroupMaxSizeConfigExceeded\n\nThe test has been observed as flaky in the recent runs: [https://develocity.apache.org/scans/tests?search.names=CI%20workflow%2CGit%20repository&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.tags=github%2Ctrunk&search.tasks=test&search.timeZoneId=Asia%2FCalcutta&search.values=CI%2Chttps:%2F%2Fgithub.com%2Fapache%2Fkafka&tests.container=org.apache.kafka.clients.consumer.ShareConsumerTest&tests.sortField=FLAKY&tests.test=testShareGroupMaxSizeConfigExceeded()%5B1%5D] After trac","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Flaky test ShareConsumerTest. testShareGroupMaxSizeConfigExceeded\n\nThe test has been observed as flaky in the recent runs: [https://develocity.apache.org/scans/tests?search.names=CI%20workflow%2CGit%20repository&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.tags=github%2Ctrunk&search.tasks=test&search.timeZoneId=Asia%2FCalcutta&search.values=CI%2Chttps:%2F%2Fgithub.com%2Fapache%2Fkafka&tests.container=org.apache.kafka.clients.consumer.ShareConsumerTest&tests.sortField=FLAKY&tests.test=testShareGroupMaxSizeConfigExceeded()%5B1%5D] After trac","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Flaky test ShareConsumerTest. testShareGroupMaxSizeConfigExceeded\n\nThe test has been observed as flaky in the recent runs: [https://develocity.apache.org/scans/tests?search.names=CI%20workflow%2CGit%20repository&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.tags=github%2Ctrunk&search.tasks=test&search.timeZoneId=Asia%2FCalcutta&search.values=CI%2Chttps:%2F%2Fgithub.com%2Fapache%2Fkafka&tests.container=org.apache.kafka.clients.consumer.ShareConsumerTest&tests.sortField=FLAKY&tests.test=testShareGroupMaxSizeConfigExceeded()%5B1%5D] After trac","output":"The test has been observed as flaky in the recent runs: [https://develocity.apache.org/scans/tests?search.names=CI%20workflow%2CGit%20repository&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.tags=github%2Ctrunk&search.tasks=test&search.timeZoneId=Asia%2FCalcutta&search.values=CI"}
{"instruction":"Extract key technical details from this issue:","input":"The test has been observed as flaky in the recent runs: [https://develocity.apache.org/scans/tests?search.names=CI%20workflow%2CGit%20repository&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.tags=github%2Ctrunk&search.tasks=test&search.timeZoneId=Asia%2FCalcutta&search.values=CI%2Chttps:%2F%2Fgithub.com%2Fapache%2Fkafka&tests.container=org.apache.kafka.clients.consumer.ShareConsumerTest&tests.sortField=FLAKY&tests.test=testShareGroupMaxSizeConfigExceeded()%5B1%5D] After tracing the failures, the root cause was narrowed down to commit [https://github.com/apache/kafka/commit/87657fdfc721055835f5b1f22151c461e85eab4a]. This change introduced a new try/catch around {{handleCompletedAcknowledgements()}} in {{{}ShareConsumerImpl.java{}}}. The side effect is that all exception","output":"Flaky test ShareConsumerTest. testShareGroupMaxSizeConfigExceeded"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Native-image (dockerimage) does not work with compression.type=zstd\n\nWhen sending records to a topic created like this: {quote} admin.createTopics(List.of(new NewTopic(\"foo\", 24, (short) 1) .configs(Map.of(TopicConfig.COMPRESSION_TYPE_CONFIG,\"zstd\")))); {quote} With a producer configured with: {quote}producerProps.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, \"zstd\"); {quote} The server fails with: {quote}[TIMESTAMP] ERROR [ReplicaManager broker=1] Error processing append operation on partition Z6OCnSwIS9KVFCN2gLaxnQ:foo-1 (kafka.server.ReplicaManager) java.lang.NoSuchFieldError: com.github.luben.zstd.ZstdOutputStreamNoFinalizer.dstPos at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions$Support.getFieldID(JNIFunctions.java:1357) ~[?:?] at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions.GetFieldID(JNIFunctions.java:449) ~[?:?] at com.github.luben.zstd.ZstdOutputStreamNoFinalizer.resetCStream(Native Method) ~[?:?] at com.github.luben.zstd.ZstdOutputStreamNoFinalizer.close(ZstdOutputStreamNoFinalizer.java:423) ~[?:?] at com.github.luben.zstd.ZstdOutputStreamNoFinalizer.close(ZstdOutputStreamNoFinalizer.java:405) ~[?:?] ... at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:211) [kafka.Kafka:?] Suppressed: java.lang.NoSuchFieldError: com.github.luben.zstd.ZstdOutputStreamNoFinalizer.dstPos at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions$Support.getFieldID(JNIFunctions.java:1357) ~[?:?] at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions.GetFieldID(JNIFunctions.java:449) ~[?:?] at com.github.luben.zstd.ZstdOutputStreamNoFinalizer.resetCStream(Native Method) ~[?:?] ... at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:211) [kafka.Kafka:?] Suppressed: java.lang.NoSuchFieldError: com.github.luben.zstd.ZstdOutputStreamNoFinalizer.dstPos at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions$Support.getFieldID(JNIFunctions.java:1357) ~[?:?] at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions.GetFieldID(JNIFunctions.java:449) ~[?:?] at com.github.luben.zstd.ZstdOutputStreamNoFinalizer.resetCStream(Native Method) ~[?:?] {quote} The file: {{docker/native/native-image-configs/jni-config.json}} seems to have it referred: {quote}{ \"name\":\"com.github.luben.zstd.ZstdInputStreamNoFinalizer\", \"fields\":[\\{ \"name\":\"dstPos\"}, \\{ \"name\":\"srcPos\"}] },{quote}","output":"Native-image (dockerimage) does not work with compression.type=zstd"}
{"instruction":"Classify the status of this issue based on its description:","input":"Native-image (dockerimage) does not work with compression.type=zstd\n\nWhen sending records to a topic created like this: {quote} admin.createTopics(List.of(new NewTopic(\"foo\", 24, (short) 1) .configs(Map.of(TopicConfig.COMPRESSION_TYPE_CONFIG,\"zstd\")))); {quote} With a producer configured with: {quote}producerProps.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, \"zstd\"); {quote} The server fails with: {quote}[TIMESTAMP] ERROR [ReplicaManager broker=1] Error processing append operation on partition Z6OCnSwIS9KVFCN2gLaxnQ:foo-1 (kafka.server.ReplicaManager) java.lang.No","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Native-image (dockerimage) does not work with compression.type=zstd\n\nWhen sending records to a topic created like this: {quote} admin.createTopics(List.of(new NewTopic(\"foo\", 24, (short) 1) .configs(Map.of(TopicConfig.COMPRESSION_TYPE_CONFIG,\"zstd\")))); {quote} With a producer configured with: {quote}producerProps.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, \"zstd\"); {quote} The server fails with: {quote}[TIMESTAMP] ERROR [ReplicaManager broker=1] Error processing append operation on partition Z6OCnSwIS9KVFCN2gLaxnQ:foo-1 (kafka.server.ReplicaManager) java.lang.No","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Native-image (dockerimage) does not work with compression.type=zstd\n\nWhen sending records to a topic created like this: {quote} admin.createTopics(List.of(new NewTopic(\"foo\", 24, (short) 1) .configs(Map.of(TopicConfig.COMPRESSION_TYPE_CONFIG,\"zstd\")))); {quote} With a producer configured with: {quote}producerProps.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, \"zstd\"); {quote} The server fails with: {quote}[TIMESTAMP] ERROR [ReplicaManager broker=1] Error processing append operation on partition Z6OCnSwIS9KVFCN2gLaxnQ:foo-1 (kafka.server.ReplicaManager) java.lang.No","output":"When sending records to a topic created like this: {quote} admin.createTopics(List.of(new NewTopic(\"foo\", 24, (short) 1) .configs(Map.of(TopicConfig.COMPRESSION_TYPE_CONFIG,\"zstd\")))); {quote} With a producer configured with: {quote}producerProps.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, \"zstd\"); "}
{"instruction":"Extract key technical details from this issue:","input":"When sending records to a topic created like this: {quote} admin.createTopics(List.of(new NewTopic(\"foo\", 24, (short) 1) .configs(Map.of(TopicConfig.COMPRESSION_TYPE_CONFIG,\"zstd\")))); {quote} With a producer configured with: {quote}producerProps.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, \"zstd\"); {quote} The server fails with: {quote}[TIMESTAMP] ERROR [ReplicaManager broker=1] Error processing append operation on partition Z6OCnSwIS9KVFCN2gLaxnQ:foo-1 (kafka.server.ReplicaManager) java.lang.NoSuchFieldError: com.github.luben.zstd.ZstdOutputStreamNoFinalizer.dstPos at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions$Support.getFieldID(JNIFunctions.java:1357) ~[?:?] at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions.GetFieldID(JN","output":"Native-image (dockerimage) does not work with compression.type=zstd"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Follow up for KIP-1217\n\nhttps://cwiki.apache.org/confluence/x/6QnxFg deprecates the ClientTelemetryReceiver and ClientTelemetry interfaces. They should be removed in Kafka 5.0.0.","output":"Follow up for KIP-1217"}
{"instruction":"Classify the status of this issue based on its description:","input":"Follow up for KIP-1217\n\nhttps://cwiki.apache.org/confluence/x/6QnxFg deprecates the ClientTelemetryReceiver and ClientTelemetry interfaces. They should be removed in Kafka 5.0.0.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Follow up for KIP-1217\n\nhttps://cwiki.apache.org/confluence/x/6QnxFg deprecates the ClientTelemetryReceiver and ClientTelemetry interfaces. They should be removed in Kafka 5.0.0.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Follow up for KIP-1217\n\nhttps://cwiki.apache.org/confluence/x/6QnxFg deprecates the ClientTelemetryReceiver and ClientTelemetry interfaces. They should be removed in Kafka 5.0.0.","output":"https://cwiki.apache.org/confluence/x/6QnxFg deprecates the ClientTelemetryReceiver and ClientTelemetry interfaces. They should be removed in Kafka 5.0.0."}
{"instruction":"Extract key technical details from this issue:","input":"https://cwiki.apache.org/confluence/x/6QnxFg deprecates the ClientTelemetryReceiver and ClientTelemetry interfaces. They should be removed in Kafka 5.0.0.","output":"Follow up for KIP-1217"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Follow up for KIP-1188\n\nhttps://cwiki.apache.org/confluence/x/2IkvFg deprecated the Principal connector client override policy. This policy should be removed in 5.0.0. Also the default policy should switch to Allowlist in 5.0.0.","output":"Follow up for KIP-1188"}
{"instruction":"Classify the status of this issue based on its description:","input":"Follow up for KIP-1188\n\nhttps://cwiki.apache.org/confluence/x/2IkvFg deprecated the Principal connector client override policy. This policy should be removed in 5.0.0. Also the default policy should switch to Allowlist in 5.0.0.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Follow up for KIP-1188\n\nhttps://cwiki.apache.org/confluence/x/2IkvFg deprecated the Principal connector client override policy. This policy should be removed in 5.0.0. Also the default policy should switch to Allowlist in 5.0.0.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Follow up for KIP-1188\n\nhttps://cwiki.apache.org/confluence/x/2IkvFg deprecated the Principal connector client override policy. This policy should be removed in 5.0.0. Also the default policy should switch to Allowlist in 5.0.0.","output":"https://cwiki.apache.org/confluence/x/2IkvFg deprecated the Principal connector client override policy. This policy should be removed in 5.0.0. Also the default policy should switch to Allowlist in 5.0.0."}
{"instruction":"Extract key technical details from this issue:","input":"https://cwiki.apache.org/confluence/x/2IkvFg deprecated the Principal connector client override policy. This policy should be removed in 5.0.0. Also the default policy should switch to Allowlist in 5.0.0.","output":"Follow up for KIP-1188"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Decouple ConsumerConfig and ShareConsumerConfig\n\nShareConsumerConfig and ConsumerConfig are inherent at the moment. The drawback is the config logic is mixed, for example: ShareAcknowledgementMode. We can decouple to prevent the logic is complicated in the future.","output":"Decouple ConsumerConfig and ShareConsumerConfig"}
{"instruction":"Classify the status of this issue based on its description:","input":"Decouple ConsumerConfig and ShareConsumerConfig\n\nShareConsumerConfig and ConsumerConfig are inherent at the moment. The drawback is the config logic is mixed, for example: ShareAcknowledgementMode. We can decouple to prevent the logic is complicated in the future.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Decouple ConsumerConfig and ShareConsumerConfig\n\nShareConsumerConfig and ConsumerConfig are inherent at the moment. The drawback is the config logic is mixed, for example: ShareAcknowledgementMode. We can decouple to prevent the logic is complicated in the future.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Decouple ConsumerConfig and ShareConsumerConfig\n\nShareConsumerConfig and ConsumerConfig are inherent at the moment. The drawback is the config logic is mixed, for example: ShareAcknowledgementMode. We can decouple to prevent the logic is complicated in the future.","output":"ShareConsumerConfig and ConsumerConfig are inherent at the moment. The drawback is the config logic is mixed, for example: ShareAcknowledgementMode. We can decouple to prevent the logic is complicated in the future."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Decouple ConsumerConfig and ShareConsumerConfig\n\nShareConsumerConfig and ConsumerConfig are inherent at the moment. The drawback is the config logic is mixed, for example: ShareAcknowledgementMode. We can decouple to prevent the logic is complicated in the future.","output":"Won't Fix"}
{"instruction":"Extract key technical details from this issue:","input":"ShareConsumerConfig and ConsumerConfig are inherent at the moment. The drawback is the config logic is mixed, for example: ShareAcknowledgementMode. We can decouple to prevent the logic is complicated in the future.","output":"Decouple ConsumerConfig and ShareConsumerConfig"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"The Content-Security-Policy header must not be overridden\n\n[https://github.com/apache/kafka-site/blob/905299a0b7e2e3892d9493c7dcaaf78dce035c00/.htaccess#L13] The Content-Security-Policy header must not be overridden. There is now a standard way to add local exceptions to the CSP: [https://infra.apache.org/tools/csp.html] Please update the .htaccess file accordingly. Please note that the policy says that any exceptions must have been approved, and a reference to the approval must be commented in the .htaccess file","output":"The Content-Security-Policy header must not be overridden"}
{"instruction":"Classify the status of this issue based on its description:","input":"The Content-Security-Policy header must not be overridden\n\n[https://github.com/apache/kafka-site/blob/905299a0b7e2e3892d9493c7dcaaf78dce035c00/.htaccess#L13] The Content-Security-Policy header must not be overridden. There is now a standard way to add local exceptions to the CSP: [https://infra.apache.org/tools/csp.html] Please update the .htaccess file accordingly. Please note that the policy says that any exceptions must have been approved, and a reference to the approval must be commented in the .htaccess file","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"The Content-Security-Policy header must not be overridden\n\n[https://github.com/apache/kafka-site/blob/905299a0b7e2e3892d9493c7dcaaf78dce035c00/.htaccess#L13] The Content-Security-Policy header must not be overridden. There is now a standard way to add local exceptions to the CSP: [https://infra.apache.org/tools/csp.html] Please update the .htaccess file accordingly. Please note that the policy says that any exceptions must have been approved, and a reference to the approval must be commented in the .htaccess file","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: The Content-Security-Policy header must not be overridden\n\n[https://github.com/apache/kafka-site/blob/905299a0b7e2e3892d9493c7dcaaf78dce035c00/.htaccess#L13] The Content-Security-Policy header must not be overridden. There is now a standard way to add local exceptions to the CSP: [https://infra.apache.org/tools/csp.html] Please update the .htaccess file accordingly. Please note that the policy says that any exceptions must have been approved, and a reference to the approval must be commented in the .htaccess file","output":"[https://github.com/apache/kafka-site/blob/905299a0b7e2e3892d9493c7dcaaf78dce035c00/.htaccess#L13] The Content-Security-Policy header must not be overridden. There is now a standard way to add local exceptions to the CSP: [https://infra.apache.org/tools/csp.html] Please update the .htaccess file acc"}
{"instruction":"Extract key technical details from this issue:","input":"[https://github.com/apache/kafka-site/blob/905299a0b7e2e3892d9493c7dcaaf78dce035c00/.htaccess#L13] The Content-Security-Policy header must not be overridden. There is now a standard way to add local exceptions to the CSP: [https://infra.apache.org/tools/csp.html] Please update the .htaccess file accordingly. Please note that the policy says that any exceptions must have been approved, and a reference to the approval must be commented in the .htaccess file","output":"The Content-Security-Policy header must not be overridden"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Cleanup suppressions.xml\n\nCurrently the rules in suppressions.xml are a bit messy and need to be cleaned up.","output":"Cleanup suppressions.xml"}
{"instruction":"Classify the status of this issue based on its description:","input":"Cleanup suppressions.xml\n\nCurrently the rules in suppressions.xml are a bit messy and need to be cleaned up.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Cleanup suppressions.xml\n\nCurrently the rules in suppressions.xml are a bit messy and need to be cleaned up.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Cleanup suppressions.xml\n\nCurrently the rules in suppressions.xml are a bit messy and need to be cleaned up.","output":"Currently the rules in suppressions.xml are a bit messy and need to be cleaned up."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Refactor Nullable Types to Use a Unified Pattern\n\nsee [https://github.com/apache/kafka/pull/20614#pullrequestreview-3379156676] Regarding the implementation of the nullable vs non-nullable types. We use 3 different approaches. # For bytes, we implement two independent classes BYTES and NULLABLE_BYTES. # For array, we use one class ArraryOf, which takes a nullable param. # For schema, we implement NULLABLE_SCHEMA as a subclass of SCHEMA. We need to pick one approach to implement all nullable types in a consistent way.","output":"Refactor Nullable Types to Use a Unified Pattern"}
{"instruction":"Classify the status of this issue based on its description:","input":"Refactor Nullable Types to Use a Unified Pattern\n\nsee [https://github.com/apache/kafka/pull/20614#pullrequestreview-3379156676] Regarding the implementation of the nullable vs non-nullable types. We use 3 different approaches. # For bytes, we implement two independent classes BYTES and NULLABLE_BYTES. # For array, we use one class ArraryOf, which takes a nullable param. # For schema, we implement NULLABLE_SCHEMA as a subclass of SCHEMA. We need to pick one approach to implement all nullable types in a consistent way.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Refactor Nullable Types to Use a Unified Pattern\n\nsee [https://github.com/apache/kafka/pull/20614#pullrequestreview-3379156676] Regarding the implementation of the nullable vs non-nullable types. We use 3 different approaches. # For bytes, we implement two independent classes BYTES and NULLABLE_BYTES. # For array, we use one class ArraryOf, which takes a nullable param. # For schema, we implement NULLABLE_SCHEMA as a subclass of SCHEMA. We need to pick one approach to implement all nullable types in a consistent way.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Refactor Nullable Types to Use a Unified Pattern\n\nsee [https://github.com/apache/kafka/pull/20614#pullrequestreview-3379156676] Regarding the implementation of the nullable vs non-nullable types. We use 3 different approaches. # For bytes, we implement two independent classes BYTES and NULLABLE_BYTES. # For array, we use one class ArraryOf, which takes a nullable param. # For schema, we implement NULLABLE_SCHEMA as a subclass of SCHEMA. We need to pick one approach to implement all nullable types in a consistent way.","output":"see [https://github.com/apache/kafka/pull/20614#pullrequestreview-3379156676] Regarding the implementation of the nullable vs non-nullable types. We use 3 different approaches. # For bytes, we implement two independent classes BYTES and NULLABLE_BYTES. # For array, we use one class ArraryOf, which t"}
{"instruction":"Extract key technical details from this issue:","input":"see [https://github.com/apache/kafka/pull/20614#pullrequestreview-3379156676] Regarding the implementation of the nullable vs non-nullable types. We use 3 different approaches. # For bytes, we implement two independent classes BYTES and NULLABLE_BYTES. # For array, we use one class ArraryOf, which takes a nullable param. # For schema, we implement NULLABLE_SCHEMA as a subclass of SCHEMA. We need to pick one approach to implement all nullable types in a consistent way.","output":"Refactor Nullable Types to Use a Unified Pattern"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Move ClientOAuthIntegrationTest to clients-integration-tests\n\nThis is continue with the effort to move the clients test to {{clients-integration-tests}} a la KAFKA-19042.","output":"Move ClientOAuthIntegrationTest to clients-integration-tests"}
{"instruction":"Classify the status of this issue based on its description:","input":"Move ClientOAuthIntegrationTest to clients-integration-tests\n\nThis is continue with the effort to move the clients test to {{clients-integration-tests}} a la KAFKA-19042.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Move ClientOAuthIntegrationTest to clients-integration-tests\n\nThis is continue with the effort to move the clients test to {{clients-integration-tests}} a la KAFKA-19042.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Move ClientOAuthIntegrationTest to clients-integration-tests\n\nThis is continue with the effort to move the clients test to {{clients-integration-tests}} a la KAFKA-19042.","output":"This is continue with the effort to move the clients test to {{clients-integration-tests}} a la KAFKA-19042."}
{"instruction":"Extract key technical details from this issue:","input":"This is continue with the effort to move the clients test to {{clients-integration-tests}} a la KAFKA-19042.","output":"Move ClientOAuthIntegrationTest to clients-integration-tests"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Failures in the StateUpdater thread may lead to inability to shut down a stream thread\n\nIf during rebalance a failure occurs in the StateUpdater thread, and this failure leads to the thread shutdown, the Stream thread may get into an infinite wait state during it's shutdown. See the attached test that reproduces the issue.","output":"Failures in the StateUpdater thread may lead to inability to shut down a stream thread"}
{"instruction":"Classify the status of this issue based on its description:","input":"Failures in the StateUpdater thread may lead to inability to shut down a stream thread\n\nIf during rebalance a failure occurs in the StateUpdater thread, and this failure leads to the thread shutdown, the Stream thread may get into an infinite wait state during it's shutdown. See the attached test that reproduces the issue.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Failures in the StateUpdater thread may lead to inability to shut down a stream thread\n\nIf during rebalance a failure occurs in the StateUpdater thread, and this failure leads to the thread shutdown, the Stream thread may get into an infinite wait state during it's shutdown. See the attached test that reproduces the issue.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Failures in the StateUpdater thread may lead to inability to shut down a stream thread\n\nIf during rebalance a failure occurs in the StateUpdater thread, and this failure leads to the thread shutdown, the Stream thread may get into an infinite wait state during it's shutdown. See the attached test that reproduces the issue.","output":"If during rebalance a failure occurs in the StateUpdater thread, and this failure leads to the thread shutdown, the Stream thread may get into an infinite wait state during it's shutdown. See the attached test that reproduces the issue."}
{"instruction":"Extract key technical details from this issue:","input":"If during rebalance a failure occurs in the StateUpdater thread, and this failure leads to the thread shutdown, the Stream thread may get into an infinite wait state during it's shutdown. See the attached test that reproduces the issue.","output":"Failures in the StateUpdater thread may lead to inability to shut down a stream thread"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Implement group-level initial rebalance delay\n\nDuring testing, an artifact of the new rebalance protocol showed up. In some cases, the first joining member gets all active tasks assigned, and is slow to revoke the tasks after more member has joined the group. This affects in particular cases where the first member is slow (possibly overloaded in the case of cloudlimits benchmarks) and there are a lot of tasks to be assigned. To help with this situation, we want to introduce a new group-specific configuration to delay the initial rebalance.","output":"Implement group-level initial rebalance delay"}
{"instruction":"Classify the status of this issue based on its description:","input":"Implement group-level initial rebalance delay\n\nDuring testing, an artifact of the new rebalance protocol showed up. In some cases, the first joining member gets all active tasks assigned, and is slow to revoke the tasks after more member has joined the group. This affects in particular cases where the first member is slow (possibly overloaded in the case of cloudlimits benchmarks) and there are a lot of tasks to be assigned. To help with this situation, we want to introduce a new group-specific configuration to delay the initial rebalance.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Implement group-level initial rebalance delay\n\nDuring testing, an artifact of the new rebalance protocol showed up. In some cases, the first joining member gets all active tasks assigned, and is slow to revoke the tasks after more member has joined the group. This affects in particular cases where the first member is slow (possibly overloaded in the case of cloudlimits benchmarks) and there are a lot of tasks to be assigned. To help with this situation, we want to introduce a new group-specific configuration to delay the initial rebalance.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Implement group-level initial rebalance delay\n\nDuring testing, an artifact of the new rebalance protocol showed up. In some cases, the first joining member gets all active tasks assigned, and is slow to revoke the tasks after more member has joined the group. This affects in particular cases where the first member is slow (possibly overloaded in the case of cloudlimits benchmarks) and there are a lot of tasks to be assigned. To help with this situation, we want to introduce a new group-specific configuration to delay the initial rebalance.","output":"During testing, an artifact of the new rebalance protocol showed up. In some cases, the first joining member gets all active tasks assigned, and is slow to revoke the tasks after more member has joined the group. This affects in particular cases where the first member is slow (possibly overloaded in"}
{"instruction":"Extract key technical details from this issue:","input":"During testing, an artifact of the new rebalance protocol showed up. In some cases, the first joining member gets all active tasks assigned, and is slow to revoke the tasks after more member has joined the group. This affects in particular cases where the first member is slow (possibly overloaded in the case of cloudlimits benchmarks) and there are a lot of tasks to be assigned. To help with this situation, we want to introduce a new group-specific configuration to delay the initial rebalance.","output":"Implement group-level initial rebalance delay"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Intermittent test failures when using chained emit strategy on window close\n\nHi, I have a test case that contains a topology with 2 time windows and chained emitStrategy calls. The standalone reproduction use case is attached to this issue The problem is that about 25% of the time the test fails. About 75% of the time the test succeeds. I followed the conclusions of !https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype|width=16,height=16! KAFKA-19810 to make sure that I am sending events at the correct times (at least I think my calculations are correct). I really need to get to the bottom of why the test fails intermittently, as the test somewhat reflects a real life topology of a project I am working on, and we cannot have an intermittently failing test in our build pipeline. Greg","output":"Intermittent test failures when using chained emit strategy on window close"}
{"instruction":"Classify the status of this issue based on its description:","input":"Intermittent test failures when using chained emit strategy on window close\n\nHi, I have a test case that contains a topology with 2 time windows and chained emitStrategy calls. The standalone reproduction use case is attached to this issue The problem is that about 25% of the time the test fails. About 75% of the time the test succeeds. I followed the conclusions of !https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype|width=16,height=16! KAFKA-19810 to make sure that I am sending events at the correct times (at least I think m","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Intermittent test failures when using chained emit strategy on window close\n\nHi, I have a test case that contains a topology with 2 time windows and chained emitStrategy calls. The standalone reproduction use case is attached to this issue The problem is that about 25% of the time the test fails. About 75% of the time the test succeeds. I followed the conclusions of !https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype|width=16,height=16! KAFKA-19810 to make sure that I am sending events at the correct times (at least I think m","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Intermittent test failures when using chained emit strategy on window close\n\nHi, I have a test case that contains a topology with 2 time windows and chained emitStrategy calls. The standalone reproduction use case is attached to this issue The problem is that about 25% of the time the test fails. About 75% of the time the test succeeds. I followed the conclusions of !https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype|width=16,height=16! KAFKA-19810 to make sure that I am sending events at the correct times (at least I think m","output":"Hi, I have a test case that contains a topology with 2 time windows and chained emitStrategy calls. The standalone reproduction use case is attached to this issue The problem is that about 25% of the time the test fails. About 75% of the time the test succeeds. I followed the conclusions of !https:/"}
{"instruction":"Extract key technical details from this issue:","input":"Hi, I have a test case that contains a topology with 2 time windows and chained emitStrategy calls. The standalone reproduction use case is attached to this issue The problem is that about 25% of the time the test fails. About 75% of the time the test succeeds. I followed the conclusions of !https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype|width=16,height=16! KAFKA-19810 to make sure that I am sending events at the correct times (at least I think my calculations are correct). I really need to get to the bottom of why the test fails intermittently, as the test somewhat reflects a real life topology of a project I am working on, and we cannot have an intermittently failing test in our build pipeline. Greg","output":"Intermittent test failures when using chained emit strategy on window close"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Call acknowledgement commit callback at end of waiting calls\n\nThe acknowledgement commit callback in the share consumer gets called on the application thread at the start of the poll, commitSync and commitAsync methods. Specifically in the peculiar case of using the callback together with commitSync, the acknowledgement callback for the committed records is called at the start of the next eligible call, even though the information is already known at the end of the commitSync's execution. The results are correct already, but the timing could be improved in some situations.","output":"Call acknowledgement commit callback at end of waiting calls"}
{"instruction":"Classify the status of this issue based on its description:","input":"Call acknowledgement commit callback at end of waiting calls\n\nThe acknowledgement commit callback in the share consumer gets called on the application thread at the start of the poll, commitSync and commitAsync methods. Specifically in the peculiar case of using the callback together with commitSync, the acknowledgement callback for the committed records is called at the start of the next eligible call, even though the information is already known at the end of the commitSync's execution. The results are correct already, but the timing could be improved in","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Call acknowledgement commit callback at end of waiting calls\n\nThe acknowledgement commit callback in the share consumer gets called on the application thread at the start of the poll, commitSync and commitAsync methods. Specifically in the peculiar case of using the callback together with commitSync, the acknowledgement callback for the committed records is called at the start of the next eligible call, even though the information is already known at the end of the commitSync's execution. The results are correct already, but the timing could be improved in","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Call acknowledgement commit callback at end of waiting calls\n\nThe acknowledgement commit callback in the share consumer gets called on the application thread at the start of the poll, commitSync and commitAsync methods. Specifically in the peculiar case of using the callback together with commitSync, the acknowledgement callback for the committed records is called at the start of the next eligible call, even though the information is already known at the end of the commitSync's execution. The results are correct already, but the timing could be improved in","output":"The acknowledgement commit callback in the share consumer gets called on the application thread at the start of the poll, commitSync and commitAsync methods. Specifically in the peculiar case of using the callback together with commitSync, the acknowledgement callback for the committed records is ca"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Call acknowledgement commit callback at end of waiting calls\n\nThe acknowledgement commit callback in the share consumer gets called on the application thread at the start of the poll, commitSync and commitAsync methods. Specifically in the peculiar case of using the callback together with commitSync, the acknowledgement callback for the committed records is called at the start of the next eligible call, even though the information is already known at the end of the commitSync's execution. The results are correct already, but the timing could be improved in","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The acknowledgement commit callback in the share consumer gets called on the application thread at the start of the poll, commitSync and commitAsync methods. Specifically in the peculiar case of using the callback together with commitSync, the acknowledgement callback for the committed records is called at the start of the next eligible call, even though the information is already known at the end of the commitSync's execution. The results are correct already, but the timing could be improved in some situations.","output":"Call acknowledgement commit callback at end of waiting calls"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"KIP-1224: Implement adaptive append.linger.ms for the group coordinator and share coordinator\n\nAdd a new allowed value for group.coordinator.append.linger.ms and share.coordinator.append.linger.ms of -1. When append.linger.ms is set to -1, use the flush strategy outlined in the KIP.","output":"KIP-1224: Implement adaptive append.linger.ms for the group coordinator and share coordinator"}
{"instruction":"Classify the status of this issue based on its description:","input":"KIP-1224: Implement adaptive append.linger.ms for the group coordinator and share coordinator\n\nAdd a new allowed value for group.coordinator.append.linger.ms and share.coordinator.append.linger.ms of -1. When append.linger.ms is set to -1, use the flush strategy outlined in the KIP.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"KIP-1224: Implement adaptive append.linger.ms for the group coordinator and share coordinator\n\nAdd a new allowed value for group.coordinator.append.linger.ms and share.coordinator.append.linger.ms of -1. When append.linger.ms is set to -1, use the flush strategy outlined in the KIP.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: KIP-1224: Implement adaptive append.linger.ms for the group coordinator and share coordinator\n\nAdd a new allowed value for group.coordinator.append.linger.ms and share.coordinator.append.linger.ms of -1. When append.linger.ms is set to -1, use the flush strategy outlined in the KIP.","output":"Add a new allowed value for group.coordinator.append.linger.ms and share.coordinator.append.linger.ms of -1. When append.linger.ms is set to -1, use the flush strategy outlined in the KIP."}
{"instruction":"Extract key technical details from this issue:","input":"Add a new allowed value for group.coordinator.append.linger.ms and share.coordinator.append.linger.ms of -1. When append.linger.ms is set to -1, use the flush strategy outlined in the KIP.","output":"KIP-1224: Implement adaptive append.linger.ms for the group coordinator and share coordinator"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"New ConnectorClientConfigOverridePolicy with allowlist of configurations\n\nJira for KIP-1188: https://cwiki.apache.org/confluence/x/2IkvFg","output":"New ConnectorClientConfigOverridePolicy with allowlist of configurations"}
{"instruction":"Classify the status of this issue based on its description:","input":"New ConnectorClientConfigOverridePolicy with allowlist of configurations\n\nJira for KIP-1188: https://cwiki.apache.org/confluence/x/2IkvFg","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"New ConnectorClientConfigOverridePolicy with allowlist of configurations\n\nJira for KIP-1188: https://cwiki.apache.org/confluence/x/2IkvFg","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: New ConnectorClientConfigOverridePolicy with allowlist of configurations\n\nJira for KIP-1188: https://cwiki.apache.org/confluence/x/2IkvFg","output":"Jira for KIP-1188: https://cwiki.apache.org/confluence/x/2IkvFg"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"New ConnectorClientConfigOverridePolicy with allowlist of configurations\n\nJira for KIP-1188: https://cwiki.apache.org/confluence/x/2IkvFg","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"PartitionMaxBytesStrategy bug when request bytes is lesser than acquired topic partitions\n\nThere is a bug in the broker logic of splitting bytes in {{PartitionMaxBytesStrategy.java}} due to which we are setting {{partitionMaxBytes}} as 0 in case requestMaxBytes is lesser than acquiredPartitionsSize","output":"PartitionMaxBytesStrategy bug when request bytes is lesser than acquired topic partitions"}
{"instruction":"Classify the status of this issue based on its description:","input":"PartitionMaxBytesStrategy bug when request bytes is lesser than acquired topic partitions\n\nThere is a bug in the broker logic of splitting bytes in {{PartitionMaxBytesStrategy.java}} due to which we are setting {{partitionMaxBytes}} as 0 in case requestMaxBytes is lesser than acquiredPartitionsSize","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"PartitionMaxBytesStrategy bug when request bytes is lesser than acquired topic partitions\n\nThere is a bug in the broker logic of splitting bytes in {{PartitionMaxBytesStrategy.java}} due to which we are setting {{partitionMaxBytes}} as 0 in case requestMaxBytes is lesser than acquiredPartitionsSize","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: PartitionMaxBytesStrategy bug when request bytes is lesser than acquired topic partitions\n\nThere is a bug in the broker logic of splitting bytes in {{PartitionMaxBytesStrategy.java}} due to which we are setting {{partitionMaxBytes}} as 0 in case requestMaxBytes is lesser than acquiredPartitionsSize","output":"There is a bug in the broker logic of splitting bytes in {{PartitionMaxBytesStrategy.java}} due to which we are setting {{partitionMaxBytes}} as 0 in case requestMaxBytes is lesser than acquiredPartitionsSize"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"PartitionMaxBytesStrategy bug when request bytes is lesser than acquired topic partitions\n\nThere is a bug in the broker logic of splitting bytes in {{PartitionMaxBytesStrategy.java}} due to which we are setting {{partitionMaxBytes}} as 0 in case requestMaxBytes is lesser than acquiredPartitionsSize","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"There is a bug in the broker logic of splitting bytes in {{PartitionMaxBytesStrategy.java}} due to which we are setting {{partitionMaxBytes}} as 0 in case requestMaxBytes is lesser than acquiredPartitionsSize","output":"PartitionMaxBytesStrategy bug when request bytes is lesser than acquired topic partitions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove all static classes in Field except TaggedFieldsSection\n\nAll static classes in Field except TaggedFieldsSection are not really being used. We should remove them.","output":"Remove all static classes in Field except TaggedFieldsSection"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove all static classes in Field except TaggedFieldsSection\n\nAll static classes in Field except TaggedFieldsSection are not really being used. We should remove them.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove all static classes in Field except TaggedFieldsSection\n\nAll static classes in Field except TaggedFieldsSection are not really being used. We should remove them.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove all static classes in Field except TaggedFieldsSection\n\nAll static classes in Field except TaggedFieldsSection are not really being used. We should remove them.","output":"All static classes in Field except TaggedFieldsSection are not really being used. We should remove them."}
{"instruction":"Extract key technical details from this issue:","input":"All static classes in Field except TaggedFieldsSection are not really being used. We should remove them.","output":"Remove all static classes in Field except TaggedFieldsSection"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Duplicated batches should be logged\n\nWhen writing records with idempotent producer, the broker can help de-duplicate records. But when records being de-duplicated, there is no log in the broker side. This will confuse the producer because the records sent going to nowhere. Sometimes it's caused by the buggy producer that keeps using the wrong sequence number to cause the duplicated records. We should at least log the duplicated records info instead of pretending nothing happened.","output":"Duplicated batches should be logged"}
{"instruction":"Classify the status of this issue based on its description:","input":"Duplicated batches should be logged\n\nWhen writing records with idempotent producer, the broker can help de-duplicate records. But when records being de-duplicated, there is no log in the broker side. This will confuse the producer because the records sent going to nowhere. Sometimes it's caused by the buggy producer that keeps using the wrong sequence number to cause the duplicated records. We should at least log the duplicated records info instead of pretending nothing happened.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Duplicated batches should be logged\n\nWhen writing records with idempotent producer, the broker can help de-duplicate records. But when records being de-duplicated, there is no log in the broker side. This will confuse the producer because the records sent going to nowhere. Sometimes it's caused by the buggy producer that keeps using the wrong sequence number to cause the duplicated records. We should at least log the duplicated records info instead of pretending nothing happened.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Duplicated batches should be logged\n\nWhen writing records with idempotent producer, the broker can help de-duplicate records. But when records being de-duplicated, there is no log in the broker side. This will confuse the producer because the records sent going to nowhere. Sometimes it's caused by the buggy producer that keeps using the wrong sequence number to cause the duplicated records. We should at least log the duplicated records info instead of pretending nothing happened.","output":"When writing records with idempotent producer, the broker can help de-duplicate records. But when records being de-duplicated, there is no log in the broker side. This will confuse the producer because the records sent going to nowhere. Sometimes it's caused by the buggy producer that keeps using th"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Duplicated batches should be logged\n\nWhen writing records with idempotent producer, the broker can help de-duplicate records. But when records being de-duplicated, there is no log in the broker side. This will confuse the producer because the records sent going to nowhere. Sometimes it's caused by the buggy producer that keeps using the wrong sequence number to cause the duplicated records. We should at least log the duplicated records info instead of pretending nothing happened.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When writing records with idempotent producer, the broker can help de-duplicate records. But when records being de-duplicated, there is no log in the broker side. This will confuse the producer because the records sent going to nowhere. Sometimes it's caused by the buggy producer that keeps using the wrong sequence number to cause the duplicated records. We should at least log the duplicated records info instead of pretending nothing happened.","output":"Duplicated batches should be logged"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"remove the unnecessary copy from AbstractFetch#fetchablePartitions\n\nsee https://github.com/apache/kafka/pull/14359#issuecomment-3372367774","output":"remove the unnecessary copy from AbstractFetch#fetchablePartitions"}
{"instruction":"Classify the status of this issue based on its description:","input":"remove the unnecessary copy from AbstractFetch#fetchablePartitions\n\nsee https://github.com/apache/kafka/pull/14359#issuecomment-3372367774","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"remove the unnecessary copy from AbstractFetch#fetchablePartitions\n\nsee https://github.com/apache/kafka/pull/14359#issuecomment-3372367774","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: remove the unnecessary copy from AbstractFetch#fetchablePartitions\n\nsee https://github.com/apache/kafka/pull/14359#issuecomment-3372367774","output":"see https://github.com/apache/kafka/pull/14359#issuecomment-3372367774"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"remove the unnecessary copy from AbstractFetch#fetchablePartitions\n\nsee https://github.com/apache/kafka/pull/14359#issuecomment-3372367774","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Resolve flaky test: org.apache.kafka.streams.integration.EosIntegrationTest.shouldNotViolateEosIfOneTaskFails\n\nEosIntegrationTest.shouldNotViolateEosIfOneTaskFails is currently flaky for tests run with the \"streams\" group protocol.","output":"Resolve flaky test: org.apache.kafka.streams.integration.EosIntegrationTest.shouldNotViolateEosIfOneTaskFails"}
{"instruction":"Classify the status of this issue based on its description:","input":"Resolve flaky test: org.apache.kafka.streams.integration.EosIntegrationTest.shouldNotViolateEosIfOneTaskFails\n\nEosIntegrationTest.shouldNotViolateEosIfOneTaskFails is currently flaky for tests run with the \"streams\" group protocol.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Resolve flaky test: org.apache.kafka.streams.integration.EosIntegrationTest.shouldNotViolateEosIfOneTaskFails\n\nEosIntegrationTest.shouldNotViolateEosIfOneTaskFails is currently flaky for tests run with the \"streams\" group protocol.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Resolve flaky test: org.apache.kafka.streams.integration.EosIntegrationTest.shouldNotViolateEosIfOneTaskFails\n\nEosIntegrationTest.shouldNotViolateEosIfOneTaskFails is currently flaky for tests run with the \"streams\" group protocol.","output":"EosIntegrationTest.shouldNotViolateEosIfOneTaskFails is currently flaky for tests run with the \"streams\" group protocol."}
{"instruction":"Extract key technical details from this issue:","input":"EosIntegrationTest.shouldNotViolateEosIfOneTaskFails is currently flaky for tests run with the \"streams\" group protocol.","output":"Resolve flaky test: org.apache.kafka.streams.integration.EosIntegrationTest.shouldNotViolateEosIfOneTaskFails"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Protocol schema and public API changes\n\nThis just adds the RPC schema and public API changes to let the implementation progress with multiple teams.","output":"Protocol schema and public API changes"}
{"instruction":"Classify the status of this issue based on its description:","input":"Protocol schema and public API changes\n\nThis just adds the RPC schema and public API changes to let the implementation progress with multiple teams.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Protocol schema and public API changes\n\nThis just adds the RPC schema and public API changes to let the implementation progress with multiple teams.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Protocol schema and public API changes\n\nThis just adds the RPC schema and public API changes to let the implementation progress with multiple teams.","output":"This just adds the RPC schema and public API changes to let the implementation progress with multiple teams."}
{"instruction":"Extract key technical details from this issue:","input":"This just adds the RPC schema and public API changes to let the implementation progress with multiple teams.","output":"Protocol schema and public API changes"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Incorrect jitter value in StreamsGroupHeartbeatRequestManager and AbstractHeartbeatRequestManager\n\nsee https://github.com/apache/kafka/pull/14873#discussion_r2442794887, In below code snippets https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L116 https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/StreamsGroupHeartbeatRequestManager.java#L333 we use max.poll.interval.ms (default 300000) as the jitter value. Although RequestState.remainingBackoffMs guards with Math.max(0, …), which won’t make the value become negative, using a jitter that isn’t in (0–1) is unexpected. In addition, we should validate that ExponentialBackoff receives a jitter strictly within (0, 1) to prevent this scenario in the future.","output":"Incorrect jitter value in StreamsGroupHeartbeatRequestManager and AbstractHeartbeatRequestManager"}
{"instruction":"Classify the status of this issue based on its description:","input":"Incorrect jitter value in StreamsGroupHeartbeatRequestManager and AbstractHeartbeatRequestManager\n\nsee https://github.com/apache/kafka/pull/14873#discussion_r2442794887, In below code snippets https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L116 https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/StreamsGroupHeartbeatRequestManager.java#L333 we use max.poll.interval.ms (default 300000) as the jitter value. Although RequestState.remainingBac","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Incorrect jitter value in StreamsGroupHeartbeatRequestManager and AbstractHeartbeatRequestManager\n\nsee https://github.com/apache/kafka/pull/14873#discussion_r2442794887, In below code snippets https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L116 https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/StreamsGroupHeartbeatRequestManager.java#L333 we use max.poll.interval.ms (default 300000) as the jitter value. Although RequestState.remainingBac","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Incorrect jitter value in StreamsGroupHeartbeatRequestManager and AbstractHeartbeatRequestManager\n\nsee https://github.com/apache/kafka/pull/14873#discussion_r2442794887, In below code snippets https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L116 https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/StreamsGroupHeartbeatRequestManager.java#L333 we use max.poll.interval.ms (default 300000) as the jitter value. Although RequestState.remainingBac","output":"see https://github.com/apache/kafka/pull/14873#discussion_r2442794887, In below code snippets https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L116 https://github.com/apache/kafka/blob/trunk/clients/src/"}
{"instruction":"Extract key technical details from this issue:","input":"see https://github.com/apache/kafka/pull/14873#discussion_r2442794887, In below code snippets https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L116 https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/StreamsGroupHeartbeatRequestManager.java#L333 we use max.poll.interval.ms (default 300000) as the jitter value. Although RequestState.remainingBackoffMs guards with Math.max(0, …), which won’t make the value become negative, using a jitter that isn’t in (0–1) is unexpected. In addition, we should validate that ExponentialBackoff receives a jitter strictly within (0, 1) to prevent this scenario in the future.","output":"Incorrect jitter value in StreamsGroupHeartbeatRequestManager and AbstractHeartbeatRequestManager"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Unbound Error Thrown if some variables are not set for SASL/SSL configuration\n\nI was trying to set up a {*}Kafka container with SASL_SSL configuration{*}, but I {*}missed setting up some environment variables{*}, and {*}Kafka kept exiting with an unbound variable error{*}. I checked the *{{/etc/kafka/docker/configure}}* file — it has an *{{ensure}} function* to check and instruct the user when a particular environment variable is not set. I also {*}checked the Docker history and the parent running file{*}, but they {*}gave no clue about running the {{.sh}} files with {{set -u}}{*}. This issue is {*}just an enhancement to properly log the error details{*}.","output":"Unbound Error Thrown if some variables are not set for SASL/SSL configuration"}
{"instruction":"Classify the status of this issue based on its description:","input":"Unbound Error Thrown if some variables are not set for SASL/SSL configuration\n\nI was trying to set up a {*}Kafka container with SASL_SSL configuration{*}, but I {*}missed setting up some environment variables{*}, and {*}Kafka kept exiting with an unbound variable error{*}. I checked the *{{/etc/kafka/docker/configure}}* file — it has an *{{ensure}} function* to check and instruct the user when a particular environment variable is not set. I also {*}checked the Docker history and the parent running file{*}, but they {*}gave no clue about running the {{.sh}} files with {{set","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Unbound Error Thrown if some variables are not set for SASL/SSL configuration\n\nI was trying to set up a {*}Kafka container with SASL_SSL configuration{*}, but I {*}missed setting up some environment variables{*}, and {*}Kafka kept exiting with an unbound variable error{*}. I checked the *{{/etc/kafka/docker/configure}}* file — it has an *{{ensure}} function* to check and instruct the user when a particular environment variable is not set. I also {*}checked the Docker history and the parent running file{*}, but they {*}gave no clue about running the {{.sh}} files with {{set","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Unbound Error Thrown if some variables are not set for SASL/SSL configuration\n\nI was trying to set up a {*}Kafka container with SASL_SSL configuration{*}, but I {*}missed setting up some environment variables{*}, and {*}Kafka kept exiting with an unbound variable error{*}. I checked the *{{/etc/kafka/docker/configure}}* file — it has an *{{ensure}} function* to check and instruct the user when a particular environment variable is not set. I also {*}checked the Docker history and the parent running file{*}, but they {*}gave no clue about running the {{.sh}} files with {{set","output":"I was trying to set up a {*}Kafka container with SASL_SSL configuration{*}, but I {*}missed setting up some environment variables{*}, and {*}Kafka kept exiting with an unbound variable error{*}. I checked the *{{/etc/kafka/docker/configure}}* file — it has an *{{ensure}} function* to check and instr"}
{"instruction":"Extract key technical details from this issue:","input":"I was trying to set up a {*}Kafka container with SASL_SSL configuration{*}, but I {*}missed setting up some environment variables{*}, and {*}Kafka kept exiting with an unbound variable error{*}. I checked the *{{/etc/kafka/docker/configure}}* file — it has an *{{ensure}} function* to check and instruct the user when a particular environment variable is not set. I also {*}checked the Docker history and the parent running file{*}, but they {*}gave no clue about running the {{.sh}} files with {{set -u}}{*}. This issue is {*}just an enhancement to properly log the error details{*}.","output":"Unbound Error Thrown if some variables are not set for SASL/SSL configuration"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Acked record on new topic not immediately visible to consumer\n\nh2. Steps to reproduce * program uses a single broker (we see the issue with an in-JVM embedded kafka server) * create a new topic with 1 partition * produce a record with {{acks=all}} * await acknowledgement from the broker * start a consumer (configured to read from beginning of topic) * spuriously, _the consumer never sees the record_ The problem seems to occur more on a very busy server (e.g. a build server running many tests in parallel). We have not seen it on a modern laptop. A delay of 10ms after receiving the acknowledgement, and before starting the consumer, makes the record always visible. We observe this problem in ~1 in 6 runs of https://github.com/zio/zio-kafka's test suite, when run from a GitHub action. Since we run the test-suite for 3 different JVM versions, more than half of the zio-kafka builds fails due to this issue. h2. Expected behavior A record, produced with {{{}acks=all{}}}, of which producing was acknowledged, should be immediately visible for all consumers.","output":"Acked record on new topic not immediately visible to consumer"}
{"instruction":"Classify the status of this issue based on its description:","input":"Acked record on new topic not immediately visible to consumer\n\nh2. Steps to reproduce * program uses a single broker (we see the issue with an in-JVM embedded kafka server) * create a new topic with 1 partition * produce a record with {{acks=all}} * await acknowledgement from the broker * start a consumer (configured to read from beginning of topic) * spuriously, _the consumer never sees the record_ The problem seems to occur more on a very busy server (e.g. a build server running many tests in parallel). We have not seen it on a modern laptop. A delay of 1","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Acked record on new topic not immediately visible to consumer\n\nh2. Steps to reproduce * program uses a single broker (we see the issue with an in-JVM embedded kafka server) * create a new topic with 1 partition * produce a record with {{acks=all}} * await acknowledgement from the broker * start a consumer (configured to read from beginning of topic) * spuriously, _the consumer never sees the record_ The problem seems to occur more on a very busy server (e.g. a build server running many tests in parallel). We have not seen it on a modern laptop. A delay of 1","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Acked record on new topic not immediately visible to consumer\n\nh2. Steps to reproduce * program uses a single broker (we see the issue with an in-JVM embedded kafka server) * create a new topic with 1 partition * produce a record with {{acks=all}} * await acknowledgement from the broker * start a consumer (configured to read from beginning of topic) * spuriously, _the consumer never sees the record_ The problem seems to occur more on a very busy server (e.g. a build server running many tests in parallel). We have not seen it on a modern laptop. A delay of 1","output":"h2. Steps to reproduce * program uses a single broker (we see the issue with an in-JVM embedded kafka server) * create a new topic with 1 partition * produce a record with {{acks=all}} * await acknowledgement from the broker * start a consumer (configured to read from beginning of topic) * spuriousl"}
{"instruction":"Extract key technical details from this issue:","input":"h2. Steps to reproduce * program uses a single broker (we see the issue with an in-JVM embedded kafka server) * create a new topic with 1 partition * produce a record with {{acks=all}} * await acknowledgement from the broker * start a consumer (configured to read from beginning of topic) * spuriously, _the consumer never sees the record_ The problem seems to occur more on a very busy server (e.g. a build server running many tests in parallel). We have not seen it on a modern laptop. A delay of 10ms after receiving the acknowledgement, and before starting the consumer, makes the record always visible. We observe this problem in ~1 in 6 runs of https://github.com/zio/zio-kafka's test suite, when run from a GitHub action. Since we run the test-suite for 3 different JVM versions, more than hal","output":"Acked record on new topic not immediately visible to consumer"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Kafka streams with chained emitStrategy(onWindowClose) example does not work\n\nHi, I got this example by using the following prompt in Google: # kafka streams unit testing with chained \"emitStrategy\" # Provide an example of testing chained suppress with different grace periods [https://gist.github.com/gregfichtenholtz-illumio/81fb537e24f7187e9de37686bb8eca7d] Compiled and ran the example using latest kafka jars only to get [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.103 s expected: but was: at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158) at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139) at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:201) at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:168) at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:694) at com.foo.bar.ChainedEmitStrategyTopologyTest.testChainedWindowedAggregationsWithDifferentGracePeriods(ChainedEmitStrategyTopologyTest.java:123) It appears that the test is not able to drive the kafka stream to emit the 2nd event. Could be a bug in test code/test driver/kafka streams? Thanks in advance Greg","output":"Kafka streams with chained emitStrategy(onWindowClose) example does not work"}
{"instruction":"Classify the status of this issue based on its description:","input":"Kafka streams with chained emitStrategy(onWindowClose) example does not work\n\nHi, I got this example by using the following prompt in Google: # kafka streams unit testing with chained \"emitStrategy\" # Provide an example of testing chained suppress with different grace periods [https://gist.github.com/gregfichtenholtz-illumio/81fb537e24f7187e9de37686bb8eca7d] Compiled and ran the example using latest kafka jars only to get [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.103 s expected: but was: at org.junit.jupiter.api.AssertionFailureBuilder.buil","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Kafka streams with chained emitStrategy(onWindowClose) example does not work\n\nHi, I got this example by using the following prompt in Google: # kafka streams unit testing with chained \"emitStrategy\" # Provide an example of testing chained suppress with different grace periods [https://gist.github.com/gregfichtenholtz-illumio/81fb537e24f7187e9de37686bb8eca7d] Compiled and ran the example using latest kafka jars only to get [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.103 s expected: but was: at org.junit.jupiter.api.AssertionFailureBuilder.buil","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Kafka streams with chained emitStrategy(onWindowClose) example does not work\n\nHi, I got this example by using the following prompt in Google: # kafka streams unit testing with chained \"emitStrategy\" # Provide an example of testing chained suppress with different grace periods [https://gist.github.com/gregfichtenholtz-illumio/81fb537e24f7187e9de37686bb8eca7d] Compiled and ran the example using latest kafka jars only to get [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.103 s expected: but was: at org.junit.jupiter.api.AssertionFailureBuilder.buil","output":"Hi, I got this example by using the following prompt in Google: # kafka streams unit testing with chained \"emitStrategy\" # Provide an example of testing chained suppress with different grace periods [https://gist.github.com/gregfichtenholtz-illumio/81fb537e24f7187e9de37686bb8eca7d] Compiled and ran "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Kafka streams with chained emitStrategy(onWindowClose) example does not work\n\nHi, I got this example by using the following prompt in Google: # kafka streams unit testing with chained \"emitStrategy\" # Provide an example of testing chained suppress with different grace periods [https://gist.github.com/gregfichtenholtz-illumio/81fb537e24f7187e9de37686bb8eca7d] Compiled and ran the example using latest kafka jars only to get [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.103 s expected: but was: at org.junit.jupiter.api.AssertionFailureBuilder.buil","output":"Not A Bug"}
{"instruction":"Extract key technical details from this issue:","input":"Hi, I got this example by using the following prompt in Google: # kafka streams unit testing with chained \"emitStrategy\" # Provide an example of testing chained suppress with different grace periods [https://gist.github.com/gregfichtenholtz-illumio/81fb537e24f7187e9de37686bb8eca7d] Compiled and ran the example using latest kafka jars only to get [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.103 s expected: but was: at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158) at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139) at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:201) at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:168) at org.junit.jupite","output":"Kafka streams with chained emitStrategy(onWindowClose) example does not work"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"CheckStyle version upgrade: 10 -->> 12\n\n*Task:* upgrade checkstyle version from *10.20.2* to *12.0.1* *Related link:* [https://checkstyle.org/releasenotes.html#Release_12.0.1] *Note:* difference between versions is quite big: * version *10.20.2* (published in Novemeber 2024) * version *12.0.1* (published in Octoober 2025) * git diff between versions: [https://github.com/checkstyle/checkstyle/compare/checkstyle-10.20.2...checkstyle-12.0.1]","output":"CheckStyle version upgrade: 10 -->> 12"}
{"instruction":"Classify the status of this issue based on its description:","input":"CheckStyle version upgrade: 10 -->> 12\n\n*Task:* upgrade checkstyle version from *10.20.2* to *12.0.1* *Related link:* [https://checkstyle.org/releasenotes.html#Release_12.0.1] *Note:* difference between versions is quite big: * version *10.20.2* (published in Novemeber 2024) * version *12.0.1* (published in Octoober 2025) * git diff between versions: [https://github.com/checkstyle/checkstyle/compare/checkstyle-10.20.2...checkstyle-12.0.1]","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"CheckStyle version upgrade: 10 -->> 12\n\n*Task:* upgrade checkstyle version from *10.20.2* to *12.0.1* *Related link:* [https://checkstyle.org/releasenotes.html#Release_12.0.1] *Note:* difference between versions is quite big: * version *10.20.2* (published in Novemeber 2024) * version *12.0.1* (published in Octoober 2025) * git diff between versions: [https://github.com/checkstyle/checkstyle/compare/checkstyle-10.20.2...checkstyle-12.0.1]","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: CheckStyle version upgrade: 10 -->> 12\n\n*Task:* upgrade checkstyle version from *10.20.2* to *12.0.1* *Related link:* [https://checkstyle.org/releasenotes.html#Release_12.0.1] *Note:* difference between versions is quite big: * version *10.20.2* (published in Novemeber 2024) * version *12.0.1* (published in Octoober 2025) * git diff between versions: [https://github.com/checkstyle/checkstyle/compare/checkstyle-10.20.2...checkstyle-12.0.1]","output":"*Task:* upgrade checkstyle version from *10.20.2* to *12.0.1* *Related link:* [https://checkstyle.org/releasenotes.html#Release_12.0.1] *Note:* difference between versions is quite big: * version *10.20.2* (published in Novemeber 2024) * version *12.0.1* (published in Octoober 2025) * git diff betwe"}
{"instruction":"Extract key technical details from this issue:","input":"*Task:* upgrade checkstyle version from *10.20.2* to *12.0.1* *Related link:* [https://checkstyle.org/releasenotes.html#Release_12.0.1] *Note:* difference between versions is quite big: * version *10.20.2* (published in Novemeber 2024) * version *12.0.1* (published in Octoober 2025) * git diff between versions: [https://github.com/checkstyle/checkstyle/compare/checkstyle-10.20.2...checkstyle-12.0.1]","output":"CheckStyle version upgrade: 10 -->> 12"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add RPC-level integration tests for StreamsGroupHeartbeat\n\nAdd integration test similar to `ShareGroupHeartbeatRequestTest` and `ConsumerGroupHeartbeatRequestTest` for `StreamsGroupHeartbeat`","output":"Add RPC-level integration tests for StreamsGroupHeartbeat"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add RPC-level integration tests for StreamsGroupHeartbeat\n\nAdd integration test similar to `ShareGroupHeartbeatRequestTest` and `ConsumerGroupHeartbeatRequestTest` for `StreamsGroupHeartbeat`","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add RPC-level integration tests for StreamsGroupHeartbeat\n\nAdd integration test similar to `ShareGroupHeartbeatRequestTest` and `ConsumerGroupHeartbeatRequestTest` for `StreamsGroupHeartbeat`","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add RPC-level integration tests for StreamsGroupHeartbeat\n\nAdd integration test similar to `ShareGroupHeartbeatRequestTest` and `ConsumerGroupHeartbeatRequestTest` for `StreamsGroupHeartbeat`","output":"Add integration test similar to `ShareGroupHeartbeatRequestTest` and `ConsumerGroupHeartbeatRequestTest` for `StreamsGroupHeartbeat`"}
{"instruction":"Extract key technical details from this issue:","input":"Add integration test similar to `ShareGroupHeartbeatRequestTest` and `ConsumerGroupHeartbeatRequestTest` for `StreamsGroupHeartbeat`","output":"Add RPC-level integration tests for StreamsGroupHeartbeat"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add acks dimension to BrokerTopicMetrics for produce requests\n\nh3. *Title* Add {{acks}} dimension to {{BrokerTopicMetrics}} to measure per-acks produce performance impact ---- h3. *Summary* Currently, Kafka’s {{BrokerTopicMetrics}} only tracks produce metrics such as {{{}BytesInPerSec{}}}, {{{}MessagesInPerSec{}}}, and {{ProduceRequestsPerSec}} at the topic level. However, these metrics do not distinguish between different producer acknowledgment ({{{}acks{}}}) configurations ({{{}acks=0{}}}, {{{}acks=1{}}}, {{{}acks=-1{}}}). In high-throughput environments, different {{acks}} levels have significantly different impacts on broker CPU, I/O, and network utilization. This proposal introduces an additional {{acks}} label to existing topic-level metrics, enabling more granular visibility into broker performance under various producer reliability modes. ---- h3. *Motivation* The current aggregated produce metrics make it difficult to assess the performance and stability implications of different {{acks}} settings on brokers. For example, asynchronous ({{{}acks=0{}}}) and fully acknowledged ({{{}acks=-1{}}}) produces can have very different effects on disk I/O, request queues, and replication latency, but these effects are hidden in current metrics. By introducing an {{acks}} dimension, operators and performance engineers can: * Quantify the resource cost of different producer acknowledgment strategies. * Analyze how {{acks}} configuration affects cluster throughput, replication load, and latency. * Perform fine-grained benchmarking and capacity planning. ---- h3. *Proposed Changes* # *Extend {{BrokerTopicStats}}* Add a new {{perTopicAcksStats}} structure to track metrics per {{(topic, acks)}} combination: {code:java} val perTopicAcksStats = new Pool[(String, Short), BrokerTopicMetrics]( Some((key) => new BrokerTopicMetrics(Some(s\"${key._1},ack=${key._2}\"))) ){code} # *Instrument Produce Handling* In {{{}KafkaApis.handleProduceRequest{}}}, extract the producer {{acks}} value and record metrics accordingly: {code:java} val ackVal = produceRequest.acks() brokerTopicStats.topicStats(topic).bytesInRate.mark(bytes) brokerTopicStats.topicAcksStats(topic, ackVal).bytesInRate.mark(bytes){code} The same logic applies to: * ** {{messagesInRate}} * ** {{produceRequestsRate}} # *Automatic Metric Naming* Since {{BrokerTopicMetrics}} extends {{{}KafkaMetricsGroup{}}}, the new label will automatically generate JMX metrics like: {{kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=perf-test,ack=-1 kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=perf-test,ack=1 kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=perf-test,ack=0}} # *Performance Considerations* * ** {{perTopicAcksStats}} uses lazy initialization and caching via {{Pool}} to avoid excessive metric object creation. * ** Expiration or cleanup logic can be added for inactive metrics. ---- h3. *Example Metrics Output* {code:java} kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=perf-test,ack=0 kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=perf-test,ack=1 kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=perf-test,ack=-1{code} ---- h3. *Compatibility & Impact* * No breaking changes to existing metrics. * Existing metric names and topic-level aggregation remain unaffected. * New metrics are additive and optional.","output":"Add acks dimension to BrokerTopicMetrics for produce requests"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add acks dimension to BrokerTopicMetrics for produce requests\n\nh3. *Title* Add {{acks}} dimension to {{BrokerTopicMetrics}} to measure per-acks produce performance impact ---- h3. *Summary* Currently, Kafka’s {{BrokerTopicMetrics}} only tracks produce metrics such as {{{}BytesInPerSec{}}}, {{{}MessagesInPerSec{}}}, and {{ProduceRequestsPerSec}} at the topic level. However, these metrics do not distinguish between different producer acknowledgment ({{{}acks{}}}) configurations ({{{}acks=0{}}}, {{{}acks=1{}}}, {{{}acks=-1{}}}). In high-throughput environments","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add acks dimension to BrokerTopicMetrics for produce requests\n\nh3. *Title* Add {{acks}} dimension to {{BrokerTopicMetrics}} to measure per-acks produce performance impact ---- h3. *Summary* Currently, Kafka’s {{BrokerTopicMetrics}} only tracks produce metrics such as {{{}BytesInPerSec{}}}, {{{}MessagesInPerSec{}}}, and {{ProduceRequestsPerSec}} at the topic level. However, these metrics do not distinguish between different producer acknowledgment ({{{}acks{}}}) configurations ({{{}acks=0{}}}, {{{}acks=1{}}}, {{{}acks=-1{}}}). In high-throughput environments","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add acks dimension to BrokerTopicMetrics for produce requests\n\nh3. *Title* Add {{acks}} dimension to {{BrokerTopicMetrics}} to measure per-acks produce performance impact ---- h3. *Summary* Currently, Kafka’s {{BrokerTopicMetrics}} only tracks produce metrics such as {{{}BytesInPerSec{}}}, {{{}MessagesInPerSec{}}}, and {{ProduceRequestsPerSec}} at the topic level. However, these metrics do not distinguish between different producer acknowledgment ({{{}acks{}}}) configurations ({{{}acks=0{}}}, {{{}acks=1{}}}, {{{}acks=-1{}}}). In high-throughput environments","output":"h3. *Title* Add {{acks}} dimension to {{BrokerTopicMetrics}} to measure per-acks produce performance impact ---- h3. *Summary* Currently, Kafka’s {{BrokerTopicMetrics}} only tracks produce metrics such as {{{}BytesInPerSec{}}}, {{{}MessagesInPerSec{}}}, and {{ProduceRequestsPerSec}} at the topic lev"}
{"instruction":"Extract key technical details from this issue:","input":"h3. *Title* Add {{acks}} dimension to {{BrokerTopicMetrics}} to measure per-acks produce performance impact ---- h3. *Summary* Currently, Kafka’s {{BrokerTopicMetrics}} only tracks produce metrics such as {{{}BytesInPerSec{}}}, {{{}MessagesInPerSec{}}}, and {{ProduceRequestsPerSec}} at the topic level. However, these metrics do not distinguish between different producer acknowledgment ({{{}acks{}}}) configurations ({{{}acks=0{}}}, {{{}acks=1{}}}, {{{}acks=-1{}}}). In high-throughput environments, different {{acks}} levels have significantly different impacts on broker CPU, I/O, and network utilization. This proposal introduces an additional {{acks}} label to existing topic-level metrics, enabling more granular visibility into broker performance under various producer reliability modes. ---","output":"Add acks dimension to BrokerTopicMetrics for produce requests"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve heartbeat request manager initial HB interval\n\nWith KIP-848, consumer HB interval config moved to the broker, so currently, the consumer HB request manager starts with a 0ms interval (mainly to send a first HB right away after the consumer subscribe + poll). Once a response is received, the consumer takes the interval from the response and starts using it. That 0ms initial interval makes that the HB mgr poll continuously executes logic on a tight loop that may not really be needed. It mostly has to wait for a response (or a failure). Probably worse than this, is the impact on the app thread, given that pollTimeout takes into account the maxTimeToWait from the network thread, that is directly impacted by the timeToNextHeartbeat * [https://github.com/apache/kafka/blob/388739f5d847d7a16e389d9891f806547f023476/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AsyncKafkaConsumer.java#L1764-L1766] * [https://github.com/apache/kafka/blob/781bc7a54b8c4f7c86f0d6bb9ef8399d86d0735e/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L255] We should review and consider setting a non-zero initial interval (while we wait for the actual interval from the broker). One option to consider would be using the request timeout maybe (just a first thought) High level goals here would be to: * maintain the behaviour of sending a first HB without delay * ensure no unneeded activity on the HB mgr poll in the background, in tight loop, while we're just waiting for the first HB response with an interval * ensure the app thread poll timeout is not affected","output":"Improve heartbeat request manager initial HB interval"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve heartbeat request manager initial HB interval\n\nWith KIP-848, consumer HB interval config moved to the broker, so currently, the consumer HB request manager starts with a 0ms interval (mainly to send a first HB right away after the consumer subscribe + poll). Once a response is received, the consumer takes the interval from the response and starts using it. That 0ms initial interval makes that the HB mgr poll continuously executes logic on a tight loop that may not really be needed. It mostly has to wait for a response (or a failure). Probabl","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve heartbeat request manager initial HB interval\n\nWith KIP-848, consumer HB interval config moved to the broker, so currently, the consumer HB request manager starts with a 0ms interval (mainly to send a first HB right away after the consumer subscribe + poll). Once a response is received, the consumer takes the interval from the response and starts using it. That 0ms initial interval makes that the HB mgr poll continuously executes logic on a tight loop that may not really be needed. It mostly has to wait for a response (or a failure). Probabl","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve heartbeat request manager initial HB interval\n\nWith KIP-848, consumer HB interval config moved to the broker, so currently, the consumer HB request manager starts with a 0ms interval (mainly to send a first HB right away after the consumer subscribe + poll). Once a response is received, the consumer takes the interval from the response and starts using it. That 0ms initial interval makes that the HB mgr poll continuously executes logic on a tight loop that may not really be needed. It mostly has to wait for a response (or a failure). Probabl","output":"With KIP-848, consumer HB interval config moved to the broker, so currently, the consumer HB request manager starts with a 0ms interval (mainly to send a first HB right away after the consumer subscribe + poll). Once a response is received, the consumer takes the interval from the response and start"}
{"instruction":"Extract key technical details from this issue:","input":"With KIP-848, consumer HB interval config moved to the broker, so currently, the consumer HB request manager starts with a 0ms interval (mainly to send a first HB right away after the consumer subscribe + poll). Once a response is received, the consumer takes the interval from the response and starts using it. That 0ms initial interval makes that the HB mgr poll continuously executes logic on a tight loop that may not really be needed. It mostly has to wait for a response (or a failure). Probably worse than this, is the impact on the app thread, given that pollTimeout takes into account the maxTimeToWait from the network thread, that is directly impacted by the timeToNextHeartbeat * [https://github.com/apache/kafka/blob/388739f5d847d7a16e389d9891f806547f023476/clients/src/main/java/org/apa","output":"Improve heartbeat request manager initial HB interval"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Relax state directory file system restrictions\n\nThe implementation of permission restriction by https://issues.apache.org/jira/browse/KAFKA-10705 is very restrictive on groups. Existing group write permissions should be kept. We could also make this configurable, which would require a KIP. KIP-1230 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1230%3A+Add+config+for+file+system+permissions]","output":"Relax state directory file system restrictions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Relax state directory file system restrictions\n\nThe implementation of permission restriction by https://issues.apache.org/jira/browse/KAFKA-10705 is very restrictive on groups. Existing group write permissions should be kept. We could also make this configurable, which would require a KIP. KIP-1230 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1230%3A+Add+config+for+file+system+permissions]","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Relax state directory file system restrictions\n\nThe implementation of permission restriction by https://issues.apache.org/jira/browse/KAFKA-10705 is very restrictive on groups. Existing group write permissions should be kept. We could also make this configurable, which would require a KIP. KIP-1230 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1230%3A+Add+config+for+file+system+permissions]","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Relax state directory file system restrictions\n\nThe implementation of permission restriction by https://issues.apache.org/jira/browse/KAFKA-10705 is very restrictive on groups. Existing group write permissions should be kept. We could also make this configurable, which would require a KIP. KIP-1230 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1230%3A+Add+config+for+file+system+permissions]","output":"The implementation of permission restriction by https://issues.apache.org/jira/browse/KAFKA-10705 is very restrictive on groups. Existing group write permissions should be kept. We could also make this configurable, which would require a KIP. KIP-1230 [https://cwiki.apache.org/confluence/display/KAF"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Relax state directory file system restrictions\n\nThe implementation of permission restriction by https://issues.apache.org/jira/browse/KAFKA-10705 is very restrictive on groups. Existing group write permissions should be kept. We could also make this configurable, which would require a KIP. KIP-1230 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1230%3A+Add+config+for+file+system+permissions]","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The implementation of permission restriction by https://issues.apache.org/jira/browse/KAFKA-10705 is very restrictive on groups. Existing group write permissions should be kept. We could also make this configurable, which would require a KIP. KIP-1230 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1230%3A+Add+config+for+file+system+permissions]","output":"Relax state directory file system restrictions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"MirrorCheckpointTask causes consumers on target cluster to rewind offsets or skip messages due to erroneous offset commits\n\nh2. *Description* The MirrorCheckpointTask in Mirror Maker 2 commits offsets for active consumer groups on the target cluster, causing consumers to rewind their offsets or skip messages. Typically brokers prevent committing offsets for consumer groups that are not in `EMPTY` state by throwing {{{}UnknownMemberIdException{}}}. In addition, {{MirrorCheckpointTask}} has logic in place to prevent committing offsets older than target for {{EMPTY}} consumer groups. However, due to a bug in {{MirrorCheckpointTask}} code, this prevention check is not enforced and it attempts to commit offsets for {{STABLE}} consumers. These calls can go through if consumers were momentarily disconnected moving the group state to {{{}EMPTY{}}}. This results in consumers' offsets getting reset to older values. If the offset is not available on the target broker (due to retention), the consumers can get reset to \"{{{}earliest\"{}}} or \"{{{}latest\"{}}}, thus reading duplicates or skipping messages. h2. *Bug location* 1. In #L305, we only update the latest target cluster offsets ({{{}idleConsumerGroupsOffset{}}}) if target consumer group state is {{{}EMPTY{}}}. 2. When {{syncGroupOffset}} is called, we check if the target consumer group is present in {{{}idleConsumerGroupsOffset{}}}. The consumer group won't be present as it's an active group. We assume that this is a new group and start syncing consumer group offsets to target. These calls fail with {_}{{{{{}Unable to sync offsets for consumer group XYZ. This is likely caused by consumers currently using this group in the target cluster. (org.apache.kafka.connect.mirror.MirrorCheckpointTask{}}}}}{_}. When consumers have failed over, the logs typically contain a lot of these messages. These calls can succeed if consumer is momentarily disconnected due to restarts. The code should not assume the lack of consumer group in {{idleConsumerGroupsOffset}} map as a new consumer group. 3. These erroneous behavior can also be triggered calls to {{describeConsumerGroups}} or {{listConsumerGroupOffsets}} fail in {{refreshIdleConsumerGroupOffset}} method due to transient timeouts. h2. *Fix* Potential fix would be to add an explicit check to only sync offsets for EMPTY consumer group. We should also skip offset syncing for consumer groups for which we couldn't refresh the offsets. {code:java} // Fixed code adds state checking: ConsumerGroupState groupStateOnTarget = targetConsumerGroupStates.get(consumerGroupId); if (!isGroupPresentOnTarget || groupStateOnTarget == ConsumerGroupState.DEAD) { // Safe to sync - new or dead group syncGroupOffset(consumerGroupId, convertedUpstreamOffset); } else if (groupStateOnTarget == ConsumerGroupState.EMPTY) { // Safe to sync - idle group // ... existing offset comparison logic } else { // Skip active groups (STABLE, PREPARING_REBALANCE, COMPLETING_REBALANCE) log.info(\"Consumer group: {} with state: {} is being actively consumed on the target, skipping sync.\", consumerGroupId, groupStateOnTarget); } {code}","output":"MirrorCheckpointTask causes consumers on target cluster to rewind offsets or skip messages due to erroneous offset commits"}
{"instruction":"Classify the status of this issue based on its description:","input":"MirrorCheckpointTask causes consumers on target cluster to rewind offsets or skip messages due to erroneous offset commits\n\nh2. *Description* The MirrorCheckpointTask in Mirror Maker 2 commits offsets for active consumer groups on the target cluster, causing consumers to rewind their offsets or skip messages. Typically brokers prevent committing offsets for consumer groups that are not in `EMPTY` state by throwing {{{}UnknownMemberIdException{}}}. In addition, {{MirrorCheckpointTask}} has logic in place to prevent committing offsets older than target for {{EMPTY}} consumer groups. However, due to a bug in {{MirrorChe","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"MirrorCheckpointTask causes consumers on target cluster to rewind offsets or skip messages due to erroneous offset commits\n\nh2. *Description* The MirrorCheckpointTask in Mirror Maker 2 commits offsets for active consumer groups on the target cluster, causing consumers to rewind their offsets or skip messages. Typically brokers prevent committing offsets for consumer groups that are not in `EMPTY` state by throwing {{{}UnknownMemberIdException{}}}. In addition, {{MirrorCheckpointTask}} has logic in place to prevent committing offsets older than target for {{EMPTY}} consumer groups. However, due to a bug in {{MirrorChe","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: MirrorCheckpointTask causes consumers on target cluster to rewind offsets or skip messages due to erroneous offset commits\n\nh2. *Description* The MirrorCheckpointTask in Mirror Maker 2 commits offsets for active consumer groups on the target cluster, causing consumers to rewind their offsets or skip messages. Typically brokers prevent committing offsets for consumer groups that are not in `EMPTY` state by throwing {{{}UnknownMemberIdException{}}}. In addition, {{MirrorCheckpointTask}} has logic in place to prevent committing offsets older than target for {{EMPTY}} consumer groups. However, due to a bug in {{MirrorChe","output":"h2. *Description* The MirrorCheckpointTask in Mirror Maker 2 commits offsets for active consumer groups on the target cluster, causing consumers to rewind their offsets or skip messages. Typically brokers prevent committing offsets for consumer groups that are not in `EMPTY` state by throwing {{{}Un"}
{"instruction":"Extract key technical details from this issue:","input":"h2. *Description* The MirrorCheckpointTask in Mirror Maker 2 commits offsets for active consumer groups on the target cluster, causing consumers to rewind their offsets or skip messages. Typically brokers prevent committing offsets for consumer groups that are not in `EMPTY` state by throwing {{{}UnknownMemberIdException{}}}. In addition, {{MirrorCheckpointTask}} has logic in place to prevent committing offsets older than target for {{EMPTY}} consumer groups. However, due to a bug in {{MirrorCheckpointTask}} code, this prevention check is not enforced and it attempts to commit offsets for {{STABLE}} consumers. These calls can go through if consumers were momentarily disconnected moving the group state to {{{}EMPTY{}}}. This results in consumers' offsets getting reset to older values. If th","output":"MirrorCheckpointTask causes consumers on target cluster to rewind offsets or skip messages due to erroneous offset commits"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Disable topic autocreation for streams consumers.\n\nCurrently we disable it only for https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1793, but not for the https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1832 or https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1865 consumers.","output":"Disable topic autocreation for streams consumers."}
{"instruction":"Classify the status of this issue based on its description:","input":"Disable topic autocreation for streams consumers.\n\nCurrently we disable it only for https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1793, but not for the https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1832 or https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1865 consumers.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Disable topic autocreation for streams consumers.\n\nCurrently we disable it only for https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1793, but not for the https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1832 or https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1865 consumers.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Disable topic autocreation for streams consumers.\n\nCurrently we disable it only for https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1793, but not for the https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1832 or https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1865 consumers.","output":"Currently we disable it only for https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1793, but not for the https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1832 or https://github.co"}
{"instruction":"Extract key technical details from this issue:","input":"Currently we disable it only for https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1793, but not for the https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1832 or https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1865 consumers.","output":"Disable topic autocreation for streams consumers."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Gradle build fails after Swagger patch version update\n\n*How to reproduce:* * checkout trunk (Swagger version: 2.2.25) * change `swaggerVersion` in `gradle.properties` to some more recent version (something in between of 2.2.27 and 2.2.39) * execute *./gradlew clean releaseTarGz* * build fails with an error _*Cannot set the value of task ':connect:runtime:genConnectOpenAPIDocs' property 'sortOutput' of type java.lang.Boolean using an instance of type java.lang.String.*_ * see details below * (!) note: build works for swagger version 2.2.26 (although reporter had some issues once or twice with that particular version, so please keep that on your mind) {code:java} dejan@dejan-HP-ProBook-450-G7:~/kafka$ ./gradlew clean releaseTarGz > Configure project : Starting build with version 4.2.0-SNAPSHOT (commit id 34581dff) using Gradle 9.1.0, Java 17 and Scala 2.13.17 Build properties: ignoreFailures=false, maxParallelForks=8, maxScalacThreads=8, maxTestRetries=0 [Incubating] Problems report is available at: file:///home/dejan/kafka/build/reports/problems/problems-report.html FAILURE: Build failed with an exception. * Where: Build file '/home/dejan/kafka/build.gradle' line: 3728 * What went wrong: A problem occurred evaluating root project 'kafka'. > Cannot set the value of task ':connect:runtime:genConnectOpenAPIDocs' property 'sortOutput' of type java.lang.Boolean using an instance of type java.lang.String. * Try: > Run with --stacktrace option to get the stack trace. > Run with --info or --debug option to get more log output. > Get more help at https://help.gradle.org. Deprecated Gradle features were used in this build, making it incompatible with Gradle 10. You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins. For more on this, please refer to https://docs.gradle.org/9.1.0/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation. BUILD FAILED in 5s dejan@dejan-HP-ProBook-450-G7:~/kafka$ {code}","output":"Gradle build fails after Swagger patch version update"}
{"instruction":"Classify the status of this issue based on its description:","input":"Gradle build fails after Swagger patch version update\n\n*How to reproduce:* * checkout trunk (Swagger version: 2.2.25) * change `swaggerVersion` in `gradle.properties` to some more recent version (something in between of 2.2.27 and 2.2.39) * execute *./gradlew clean releaseTarGz* * build fails with an error _*Cannot set the value of task ':connect:runtime:genConnectOpenAPIDocs' property 'sortOutput' of type java.lang.Boolean using an instance of type java.lang.String.*_ * see details below * (!) note: build works for swagger version 2.2.26 (although ","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Gradle build fails after Swagger patch version update\n\n*How to reproduce:* * checkout trunk (Swagger version: 2.2.25) * change `swaggerVersion` in `gradle.properties` to some more recent version (something in between of 2.2.27 and 2.2.39) * execute *./gradlew clean releaseTarGz* * build fails with an error _*Cannot set the value of task ':connect:runtime:genConnectOpenAPIDocs' property 'sortOutput' of type java.lang.Boolean using an instance of type java.lang.String.*_ * see details below * (!) note: build works for swagger version 2.2.26 (although ","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Gradle build fails after Swagger patch version update\n\n*How to reproduce:* * checkout trunk (Swagger version: 2.2.25) * change `swaggerVersion` in `gradle.properties` to some more recent version (something in between of 2.2.27 and 2.2.39) * execute *./gradlew clean releaseTarGz* * build fails with an error _*Cannot set the value of task ':connect:runtime:genConnectOpenAPIDocs' property 'sortOutput' of type java.lang.Boolean using an instance of type java.lang.String.*_ * see details below * (!) note: build works for swagger version 2.2.26 (although ","output":"*How to reproduce:* * checkout trunk (Swagger version: 2.2.25) * change `swaggerVersion` in `gradle.properties` to some more recent version (something in between of 2.2.27 and 2.2.39) * execute *./gradlew clean releaseTarGz* * build fails with an error _*Cannot set the value of task ':connect:runtim"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Gradle build fails after Swagger patch version update\n\n*How to reproduce:* * checkout trunk (Swagger version: 2.2.25) * change `swaggerVersion` in `gradle.properties` to some more recent version (something in between of 2.2.27 and 2.2.39) * execute *./gradlew clean releaseTarGz* * build fails with an error _*Cannot set the value of task ':connect:runtime:genConnectOpenAPIDocs' property 'sortOutput' of type java.lang.Boolean using an instance of type java.lang.String.*_ * see details below * (!) note: build works for swagger version 2.2.26 (although ","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"*How to reproduce:* * checkout trunk (Swagger version: 2.2.25) * change `swaggerVersion` in `gradle.properties` to some more recent version (something in between of 2.2.27 and 2.2.39) * execute *./gradlew clean releaseTarGz* * build fails with an error _*Cannot set the value of task ':connect:runtime:genConnectOpenAPIDocs' property 'sortOutput' of type java.lang.Boolean using an instance of type java.lang.String.*_ * see details below * (!) note: build works for swagger version 2.2.26 (although reporter had some issues once or twice with that particular version, so please keep that on your mind) {code:java} dejan@dejan-HP-ProBook-450-G7:~/kafka$ ./gradlew clean releaseTarGz > Configure project : Starting build with version 4.2.0-SNAPSHOT (commit id 34581dff) using Gradle 9.1.0, Java 17 and","output":"Gradle build fails after Swagger patch version update"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add Idle Thread Ratio Metric to MetadataLoader\n\nKIP-1229: [https://cwiki.apache.org/confluence/x/ZQteFw]","output":"Add Idle Thread Ratio Metric to MetadataLoader"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add Idle Thread Ratio Metric to MetadataLoader\n\nKIP-1229: [https://cwiki.apache.org/confluence/x/ZQteFw]","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add Idle Thread Ratio Metric to MetadataLoader\n\nKIP-1229: [https://cwiki.apache.org/confluence/x/ZQteFw]","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add Idle Thread Ratio Metric to MetadataLoader\n\nKIP-1229: [https://cwiki.apache.org/confluence/x/ZQteFw]","output":"KIP-1229: [https://cwiki.apache.org/confluence/x/ZQteFw]"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add Idle Thread Ratio Metric to MetadataLoader\n\nKIP-1229: [https://cwiki.apache.org/confluence/x/ZQteFw]","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Parsing of the scope claim does not comply with RFC-8693\n\nI notice that the code in Kafka for handling of the scopes claim does not comply with the RFC. https://datatracker.ietf.org/doc/html/rfc8693#name-scope-scopes-claimsays: {quote}The value of the {{scope}} claim is a JSON string containing a space-separated list of scopes associated with the token, in the format described in https://www.rfc-editor.org/rfc/rfc6749#section-3.3 of https://datatracker.ietf.org/doc/html/rfc6749] {quote} However the code in Kafka that parses the JWT payload does not permit a space separated list. It would treat a value like \"email phone address\" as a single scope \"email phone address\" rather than a three separate scopes of \"email\", \"phone\", \"address\". The affected code is here: [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/security/oauthbearer/BrokerJwtValidator.java#L166] [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/security/oauthbearer/internals/unsecured/OAuthBearerUnsecuredJws.java#L343] Impact: Looking at the production code in Apache Kafka itself, I think the defect currently harmless. As far as I can tell, there's no production code that makes use of org.apache.kafka.common.security.oauthbearer.internals.secured.BasicOAuthBearerToken#scope. I think there would be a potential for impact for a user writing their own OAuthBearerValidatorCallbackHandler that uses Kafka's BrokerJwtValidator and made use of the scope value. Failing unit test: [https://github.com/apache/kafka/compare/trunk...k-wall:kafka:KAFKA-19790]","output":"Parsing of the scope claim does not comply with RFC-8693"}
{"instruction":"Classify the status of this issue based on its description:","input":"Parsing of the scope claim does not comply with RFC-8693\n\nI notice that the code in Kafka for handling of the scopes claim does not comply with the RFC. https://datatracker.ietf.org/doc/html/rfc8693#name-scope-scopes-claimsays: {quote}The value of the {{scope}} claim is a JSON string containing a space-separated list of scopes associated with the token, in the format described in https://www.rfc-editor.org/rfc/rfc6749#section-3.3 of https://datatracker.ietf.org/doc/html/rfc6749] {quote} However the code in Kafka that parses the JWT payload does not per","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Parsing of the scope claim does not comply with RFC-8693\n\nI notice that the code in Kafka for handling of the scopes claim does not comply with the RFC. https://datatracker.ietf.org/doc/html/rfc8693#name-scope-scopes-claimsays: {quote}The value of the {{scope}} claim is a JSON string containing a space-separated list of scopes associated with the token, in the format described in https://www.rfc-editor.org/rfc/rfc6749#section-3.3 of https://datatracker.ietf.org/doc/html/rfc6749] {quote} However the code in Kafka that parses the JWT payload does not per","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Parsing of the scope claim does not comply with RFC-8693\n\nI notice that the code in Kafka for handling of the scopes claim does not comply with the RFC. https://datatracker.ietf.org/doc/html/rfc8693#name-scope-scopes-claimsays: {quote}The value of the {{scope}} claim is a JSON string containing a space-separated list of scopes associated with the token, in the format described in https://www.rfc-editor.org/rfc/rfc6749#section-3.3 of https://datatracker.ietf.org/doc/html/rfc6749] {quote} However the code in Kafka that parses the JWT payload does not per","output":"I notice that the code in Kafka for handling of the scopes claim does not comply with the RFC. https://datatracker.ietf.org/doc/html/rfc8693#name-scope-scopes-claimsays: {quote}The value of the {{scope}} claim is a JSON string containing a space-separated list of scopes associated with the token, in"}
{"instruction":"Extract key technical details from this issue:","input":"I notice that the code in Kafka for handling of the scopes claim does not comply with the RFC. https://datatracker.ietf.org/doc/html/rfc8693#name-scope-scopes-claimsays: {quote}The value of the {{scope}} claim is a JSON string containing a space-separated list of scopes associated with the token, in the format described in https://www.rfc-editor.org/rfc/rfc6749#section-3.3 of https://datatracker.ietf.org/doc/html/rfc6749] {quote} However the code in Kafka that parses the JWT payload does not permit a space separated list. It would treat a value like \"email phone address\" as a single scope \"email phone address\" rather than a three separate scopes of \"email\", \"phone\", \"address\". The affected code is here: [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/comm","output":"Parsing of the scope claim does not comply with RFC-8693"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Handle situations where broker responses appear logically incorrect\n\nWe have seen a situation in which the ShareFetch responses from the broker appeared logically incorrect. The consumer should be more defensive, and at least log the problem.","output":"Handle situations where broker responses appear logically incorrect"}
{"instruction":"Classify the status of this issue based on its description:","input":"Handle situations where broker responses appear logically incorrect\n\nWe have seen a situation in which the ShareFetch responses from the broker appeared logically incorrect. The consumer should be more defensive, and at least log the problem.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Handle situations where broker responses appear logically incorrect\n\nWe have seen a situation in which the ShareFetch responses from the broker appeared logically incorrect. The consumer should be more defensive, and at least log the problem.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Handle situations where broker responses appear logically incorrect\n\nWe have seen a situation in which the ShareFetch responses from the broker appeared logically incorrect. The consumer should be more defensive, and at least log the problem.","output":"We have seen a situation in which the ShareFetch responses from the broker appeared logically incorrect. The consumer should be more defensive, and at least log the problem."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Handle situations where broker responses appear logically incorrect\n\nWe have seen a situation in which the ShareFetch responses from the broker appeared logically incorrect. The consumer should be more defensive, and at least log the problem.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We have seen a situation in which the ShareFetch responses from the broker appeared logically incorrect. The consumer should be more defensive, and at least log the problem.","output":"Handle situations where broker responses appear logically incorrect"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"transaction.timeout.ms\", \"300000\"); props.put(\"acks\", \"-1\"); // If acks=1 or acks=0 it will send successfully props.put(\"compression.type\", \"lz4\"); props.put(\"security.protocol\", \"SASL_PLAINTEXT\"); props.put(\"sasl.mechanism\", \"SCRAM-SHA-256\"); props.put(\"sasl.jaas.config\", \"org.apache.kafka.common.security.scram.ScramLoginModule required username=\\\"xxx\\\" password=\\\"xxxx\\\";\"); Producer producer = new KafkaProducer<>(props); try { String topic = \"topic1\"; byte[] value = new byte[]{1,2}; // example ProducerRecord record = new ProducerRecord<>(topic, null, value); producer.send(record, (metadata, exception) -> { if (exception == null) { System.out.printf(\"Sent record(key=%s value=%s) meta(partition=%d, offset=%d)\\n\", record.key(), new String(record.value()), metadata.partition(), metadata.offset()); } else { exception.printStackTrace(); } }); producer.close(); } catch (Exception e) { e.printStackTrace(); } } } {code} pom.xml config {code:java} org.apache.kafka kafka-clients 3.4.0 {code} When kafka producer acks=-1, It will throw exception. {code:java} org.apache.kafka.common.KafkaException: Cannot execute transactional method because we are in an error state\tat org.apache.kafka.clients.producer.internals.TransactionManager.maybeFailWithError(TransactionManager.java:1010)\tat org.apache.kafka.clients.producer.internals.TransactionManager.maybeAddPartition(TransactionManager.java:328)\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1061)\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:962)\tat com.mvad.realtime.show.converter.DataEntryToRTLogConverterTest.main(DataEntryToRTLogConverterTest.java:34)Caused by: org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed. {code} If acks=1 or acks=0 it will send successfully {code:java} Sent record(key=null ) meta(partition=6, offset=321496) {code} acks=-1 is just a param, How it effects ClusterAuthorization of kafka producer. Is this a bug or a mechanism in itself? If change kafka-client verison to 3.1.0. When kafka producer acks=-1, It will send successfully {code:java} org.apache.kafka kafka-clients 3.1.0 {code}","output":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0"}
{"instruction":"Classify the status of this issue based on its description:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSend"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"transaction.timeout.ms\", \"300000\"); props.put(\"acks\", \"-1\"); // If acks=1 or acks=0 it will send successfully props.put(\"compression.type\", \"lz4\"); props.put(\"security.","output":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"transaction.timeout.ms\", \"300000\"); props.put(\"acks\", \"-1\"); // If acks=1 or acks=0 it will send successfully props.put(\"compression.type\", \"lz4\"); props.put(\"security.protocol\", \"SASL_PLAINTEXT\"); props.put(\"sasl.mechanism\", \"SCRAM-SHA-256\"); props.put(\"sasl.jaas.config\", \"org.apache.kafka.common.security.scram.ScramLoginModule required username=\\\"xxx\\\" password=\\\"xxxx\\\";\"); Producer producer = new KafkaProducer<>(props); try { String topic = \"topic1\"; byte[] value = new byte[]{1,2}; ProducerRecord record = new ProducerRecord<>(topic, null, value); producer.send(record, (metadata, exception) -> { if (exception == null) { System.out.printf(\"Sent record(key=%s value=%s) meta(partition=%d, offset=%d)\\n\", record.key(), new String(record.value()), metadata.partition(), metadata.offset()); } else { exception.printStackTrace(); } }); producer.close(); } catch (Exception e) { e.printStackTrace(); } } } {code} pom.xml config {code:java} org.apache.kafka kafka-clients 3.4.0 {code} When kafka producer acks=-1, It will throw exception. {code:java} org.apache.kafka.common.KafkaException: Cannot execute transactional method because we are in an error state\tat org.apache.kafka.clients.producer.internals.TransactionManager.maybeFailWithError(TransactionManager.java:1010)\tat org.apache.kafka.clients.producer.internals.TransactionManager.maybeAddPartition(TransactionManager.java:328)\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1061)\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:962)\tat com.mvad.realtime.show.converter.DataEntryToRTLogConverterTest.main(DataEntryToRTLogConverterTest.java:34)Caused by: org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed. {code} If acks=1 or acks=0 it will send successfully {code:java} Sent record(key=null ) meta(partition=6, offset=321496) {code} acks=-1 is just a param, How it effects ClusterAuthorization of kafka producer. Is this a bug or a mechanism in itself?","output":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0"}
{"instruction":"Classify the status of this issue based on its description:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"Closed"}
{"instruction":"Determine the priority level of this issue:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSend"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0\n\n* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serializ","output":"Abandoned"}
{"instruction":"Extract key technical details from this issue:","input":"* kafka server version is 2.5.1 * kafka-client version bigger than 3.1.1 {code:java} import org.apache.kafka.clients.producer.KafkaProducer; import org.apache.kafka.clients.producer.Producer; import org.apache.kafka.clients.producer.ProducerRecord; import java.util.Properties; public class KafkaSendTest { public static void main(String[] args) { Properties props = new Properties(); props.put(\"bootstrap.servers\", \"xxx:9092,xxxx:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.ByteArraySerializer\"); props.put(\"transaction.timeout.ms\", \"300000\"); props.put(\"acks\", \"-1\"); // If acks=1 or acks=0 it will send successfully props.put(\"compression.type\", \"lz4\"); props.put(\"security.","output":"kafka server ClusterAuthorization don't support acks=-1 for kafka-client version>3.1.0"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Session mode compileScala reports missing classes java main directory\n\n*Problem* When running *{{:core:compileScala}}* under {*}{{keepAliveMode=SESSION}}{*}, joint compilation adds a non-existent directory ({_}{{.../core/build/classes/java/main}}{_}) to {{{}javac{}}}’s classpath. This triggers: {code:java} Unexpected javac output: warning: [path] bad path element \".../core/build/classes/java/main\": no such file or directory error: warnings found and -Werror specified {code} The same task succeeds under {{{}keepAliveMode=DAEMON{}}}. *Current Workaround* Added a scoped compiler flag ({{{}-Xlint:-path{}}}) only under {{keepAliveMode=SESSION}} to suppress the {{[path]}} warning and allow the build to succeed. *Steps to Reproduce* {code:java} ./gradlew clean :core:compileScala -PkeepAliveMode=session # fails before workaround ./gradlew clean :core:compileScala -PkeepAliveMode=daemon # succeeds {code} *Goal of This Ticket* Identify why SESSION-mode joint compilation includes the missing {{classes/java/main}} entry in {{{}javac{}}}’s classpath, align its behavior with DAEMON mode, and remove the temporary suppression once the classpath is corrected.","output":"Session mode compileScala reports missing classes java main directory"}
{"instruction":"Classify the status of this issue based on its description:","input":"Session mode compileScala reports missing classes java main directory\n\n*Problem* When running *{{:core:compileScala}}* under {*}{{keepAliveMode=SESSION}}{*}, joint compilation adds a non-existent directory ({_}{{.../core/build/classes/java/main}}{_}) to {{{}javac{}}}’s classpath. This triggers: {code:java} Unexpected javac output: warning: [path] bad path element \".../core/build/classes/java/main\": no such file or directory error: warnings found and -Werror specified {code} The same task succeeds under {{{}keepAliveMode=DAEMON{}}}. *Current Workaround* Added a scop","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Session mode compileScala reports missing classes java main directory\n\n*Problem* When running *{{:core:compileScala}}* under {*}{{keepAliveMode=SESSION}}{*}, joint compilation adds a non-existent directory ({_}{{.../core/build/classes/java/main}}{_}) to {{{}javac{}}}’s classpath. This triggers: {code:java} Unexpected javac output: warning: [path] bad path element \".../core/build/classes/java/main\": no such file or directory error: warnings found and -Werror specified {code} The same task succeeds under {{{}keepAliveMode=DAEMON{}}}. *Current Workaround* Added a scop","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Session mode compileScala reports missing classes java main directory\n\n*Problem* When running *{{:core:compileScala}}* under {*}{{keepAliveMode=SESSION}}{*}, joint compilation adds a non-existent directory ({_}{{.../core/build/classes/java/main}}{_}) to {{{}javac{}}}’s classpath. This triggers: {code:java} Unexpected javac output: warning: [path] bad path element \".../core/build/classes/java/main\": no such file or directory error: warnings found and -Werror specified {code} The same task succeeds under {{{}keepAliveMode=DAEMON{}}}. *Current Workaround* Added a scop","output":"*Problem* When running *{{:core:compileScala}}* under {*}{{keepAliveMode=SESSION}}{*}, joint compilation adds a non-existent directory ({_}{{.../core/build/classes/java/main}}{_}) to {{{}javac{}}}’s classpath. This triggers: {code:java} Unexpected javac output: warning: [path] bad path element \".../"}
{"instruction":"Extract key technical details from this issue:","input":"*Problem* When running *{{:core:compileScala}}* under {*}{{keepAliveMode=SESSION}}{*}, joint compilation adds a non-existent directory ({_}{{.../core/build/classes/java/main}}{_}) to {{{}javac{}}}’s classpath. This triggers: {code:java} Unexpected javac output: warning: [path] bad path element \".../core/build/classes/java/main\": no such file or directory error: warnings found and -Werror specified {code} The same task succeeds under {{{}keepAliveMode=DAEMON{}}}. *Current Workaround* Added a scoped compiler flag ({{{}-Xlint:-path{}}}) only under {{keepAliveMode=SESSION}} to suppress the {{[path]}} warning and allow the build to succeed. *Steps to Reproduce* {code:java} ./gradlew clean :core:compileScala -PkeepAliveMode=session # fails before workaround ./gradlew clean :core:compileScala -Pk","output":"Session mode compileScala reports missing classes java main directory"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Two Kafka brokers were not active in 3 node cluster setup\n\nHi Team, We were facing kafka issue where two of the kafka brokers were fenced and Kafka was not able to process messages. We are using Kafka 4.0.0 version. Below are the errors. Sep 22 09:41:42 s99ossv152 kafka[42245]: [2025-09-22 07:41:42,419] ERROR Encountered fatal fault: Unexpected error in raft IO thread (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) Sep 22 09:41:42 s99ossv152 kafka[42245]: java.lang.IllegalStateException: Received request or response with leader OptionalInt[3] and epoch 55 *which is inconsistent with current leader* OptionalInt.empty and epoch 55 Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClient.maybeTransition(KafkaRaftClient.java:2528) ~[kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClient.maybeHandleCommonResponse(KafkaRaftClient.java:2484) ~[kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClient.handleFetchResponse(KafkaRaftClient.java:1707) ~[kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClient.handleResponse(KafkaRaftClient.java:2568) ~[kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClient.handleInboundMessage(KafkaRaftClient.java:2724) ~[kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClient.poll(KafkaRaftClient.java:3460) ~[kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClientDriver.doWork(KafkaRaftClientDriver.java:64) [kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.server.util.ShutdownableThread.run(ShutdownableThread.java:136) [kafka-server-common-4.0.0.jar:?] Below metrics shows Fenceborker count as 2.0 kafka_controller_KafkaController_Value\\{name=\"ActiveBrokerCount\",} 1.0 kafka_controller_KafkaController_Value\\{name=\"GlobalTopicCount\",} 23.0 kafka_controller_KafkaController_Value{name=\"{*}FencedBrokerCount{*}\",} 2.0 Please help us to resolve this issue.","output":"Two Kafka brokers were not active in 3 node cluster setup"}
{"instruction":"Classify the status of this issue based on its description:","input":"Two Kafka brokers were not active in 3 node cluster setup\n\nHi Team, We were facing kafka issue where two of the kafka brokers were fenced and Kafka was not able to process messages. We are using Kafka 4.0.0 version. Below are the errors. Sep 22 09:41:42 s99ossv152 kafka[42245]: [2025-09-22 07:41:42,419] ERROR Encountered fatal fault: Unexpected error in raft IO thread (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) Sep 22 09:41:42 s99ossv152 kafka[42245]: java.lang.IllegalStateException: Received request or response with leader OptionalIn","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Two Kafka brokers were not active in 3 node cluster setup\n\nHi Team, We were facing kafka issue where two of the kafka brokers were fenced and Kafka was not able to process messages. We are using Kafka 4.0.0 version. Below are the errors. Sep 22 09:41:42 s99ossv152 kafka[42245]: [2025-09-22 07:41:42,419] ERROR Encountered fatal fault: Unexpected error in raft IO thread (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) Sep 22 09:41:42 s99ossv152 kafka[42245]: java.lang.IllegalStateException: Received request or response with leader OptionalIn","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Two Kafka brokers were not active in 3 node cluster setup\n\nHi Team, We were facing kafka issue where two of the kafka brokers were fenced and Kafka was not able to process messages. We are using Kafka 4.0.0 version. Below are the errors. Sep 22 09:41:42 s99ossv152 kafka[42245]: [2025-09-22 07:41:42,419] ERROR Encountered fatal fault: Unexpected error in raft IO thread (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) Sep 22 09:41:42 s99ossv152 kafka[42245]: java.lang.IllegalStateException: Received request or response with leader OptionalIn","output":"Hi Team, We were facing kafka issue where two of the kafka brokers were fenced and Kafka was not able to process messages. We are using Kafka 4.0.0 version. Below are the errors. Sep 22 09:41:42 s99ossv152 kafka[42245]: [2025-09-22 07:41:42,419] ERROR Encountered fatal fault: Unexpected error in raf"}
{"instruction":"Extract key technical details from this issue:","input":"Hi Team, We were facing kafka issue where two of the kafka brokers were fenced and Kafka was not able to process messages. We are using Kafka 4.0.0 version. Below are the errors. Sep 22 09:41:42 s99ossv152 kafka[42245]: [2025-09-22 07:41:42,419] ERROR Encountered fatal fault: Unexpected error in raft IO thread (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) Sep 22 09:41:42 s99ossv152 kafka[42245]: java.lang.IllegalStateException: Received request or response with leader OptionalInt[3] and epoch 55 *which is inconsistent with current leader* OptionalInt.empty and epoch 55 Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.apache.kafka.raft.KafkaRaftClient.maybeTransition(KafkaRaftClient.java:2528) ~[kafka-raft-4.0.0.jar:?] Sep 22 09:41:42 s99ossv152 kafka[42245]: #011at org.","output":"Two Kafka brokers were not active in 3 node cluster setup"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Expose Rack ID in MemberDescription\n\nCurrently, the {{{}AdminClient{}}}’s {{describeConsumerGroups}} API returns a {{MemberDescription}} that does *not* include rack information, even though the underlying {{ConsumerGroupDescribeResponse}} protocol already supports a {{rackId}} field. This causes users to be unable to retrieve member rack information through the Admin API. Rack information is crucial for: * Monitoring and visualization tools * Operational analysis of rack distribution * Diagnosing rack-aware assignment issues In addition, StreamsGroupMemberDescription already includes the rackId, so adding it here would also make the behavior more consistent. The PR: [https://github.com/apache/kafka/pull/20691] The KIP: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1227%3A+Expose+Rack+ID+in+MemberDescription+and+ShareMemberDescription","output":"Expose Rack ID in MemberDescription"}
{"instruction":"Classify the status of this issue based on its description:","input":"Expose Rack ID in MemberDescription\n\nCurrently, the {{{}AdminClient{}}}’s {{describeConsumerGroups}} API returns a {{MemberDescription}} that does *not* include rack information, even though the underlying {{ConsumerGroupDescribeResponse}} protocol already supports a {{rackId}} field. This causes users to be unable to retrieve member rack information through the Admin API. Rack information is crucial for: * Monitoring and visualization tools * Operational analysis of rack distribution * Diagnosing rack-aware assignment issues In ad","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Expose Rack ID in MemberDescription\n\nCurrently, the {{{}AdminClient{}}}’s {{describeConsumerGroups}} API returns a {{MemberDescription}} that does *not* include rack information, even though the underlying {{ConsumerGroupDescribeResponse}} protocol already supports a {{rackId}} field. This causes users to be unable to retrieve member rack information through the Admin API. Rack information is crucial for: * Monitoring and visualization tools * Operational analysis of rack distribution * Diagnosing rack-aware assignment issues In ad","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Expose Rack ID in MemberDescription\n\nCurrently, the {{{}AdminClient{}}}’s {{describeConsumerGroups}} API returns a {{MemberDescription}} that does *not* include rack information, even though the underlying {{ConsumerGroupDescribeResponse}} protocol already supports a {{rackId}} field. This causes users to be unable to retrieve member rack information through the Admin API. Rack information is crucial for: * Monitoring and visualization tools * Operational analysis of rack distribution * Diagnosing rack-aware assignment issues In ad","output":"Currently, the {{{}AdminClient{}}}’s {{describeConsumerGroups}} API returns a {{MemberDescription}} that does *not* include rack information, even though the underlying {{ConsumerGroupDescribeResponse}} protocol already supports a {{rackId}} field. This causes users to be unable to retrieve member r"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Expose Rack ID in MemberDescription\n\nCurrently, the {{{}AdminClient{}}}’s {{describeConsumerGroups}} API returns a {{MemberDescription}} that does *not* include rack information, even though the underlying {{ConsumerGroupDescribeResponse}} protocol already supports a {{rackId}} field. This causes users to be unable to retrieve member rack information through the Admin API. Rack information is crucial for: * Monitoring and visualization tools * Operational analysis of rack distribution * Diagnosing rack-aware assignment issues In ad","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, the {{{}AdminClient{}}}’s {{describeConsumerGroups}} API returns a {{MemberDescription}} that does *not* include rack information, even though the underlying {{ConsumerGroupDescribeResponse}} protocol already supports a {{rackId}} field. This causes users to be unable to retrieve member rack information through the Admin API. Rack information is crucial for: * Monitoring and visualization tools * Operational analysis of rack distribution * Diagnosing rack-aware assignment issues In addition, StreamsGroupMemberDescription already includes the rackId, so adding it here would also make the behavior more consistent. The PR: [https://github.com/apache/kafka/pull/20691] The KIP: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1227%3A+Expose+Rack+ID+in+MemberDescription+and+Share","output":"Expose Rack ID in MemberDescription"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Custom Gradle tasks (`unitTest` and `integrationTest`) are not executing tests in Gradle 9\n\nPrologue: KAFKA-19174 See here for description: https://github.com/apache/kafka/pull/19513#issuecomment-3388760324","output":"Custom Gradle tasks (`unitTest` and `integrationTest`) are not executing tests in Gradle 9"}
{"instruction":"Classify the status of this issue based on its description:","input":"Custom Gradle tasks (`unitTest` and `integrationTest`) are not executing tests in Gradle 9\n\nPrologue: KAFKA-19174 See here for description: https://github.com/apache/kafka/pull/19513#issuecomment-3388760324","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Custom Gradle tasks (`unitTest` and `integrationTest`) are not executing tests in Gradle 9\n\nPrologue: KAFKA-19174 See here for description: https://github.com/apache/kafka/pull/19513#issuecomment-3388760324","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Custom Gradle tasks (`unitTest` and `integrationTest`) are not executing tests in Gradle 9\n\nPrologue: KAFKA-19174 See here for description: https://github.com/apache/kafka/pull/19513#issuecomment-3388760324","output":"Prologue: KAFKA-19174 See here for description: https://github.com/apache/kafka/pull/19513#issuecomment-3388760324"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Custom Gradle tasks (`unitTest` and `integrationTest`) are not executing tests in Gradle 9\n\nPrologue: KAFKA-19174 See here for description: https://github.com/apache/kafka/pull/19513#issuecomment-3388760324","output":"Duplicate"}
{"instruction":"Extract key technical details from this issue:","input":"Prologue: KAFKA-19174 See here for description: https://github.com/apache/kafka/pull/19513#issuecomment-3388760324","output":"Custom Gradle tasks (`unitTest` and `integrationTest`) are not executing tests in Gradle 9"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve perfomance Authorizer.authorizeByResourceType by using Prefix Trie\n\nClass Authorizer.authorizeByResourceType under the hood uses HashMap for check if the caller is authorized to perform the given ACL operation on at least one resource of the given type. It check each character in allowPatterns and pass to deny patterns {code:java} // For any literal allowed, if there's no dominant literal and prefix denied, return allow. // For any prefix allowed, if there's no dominant prefix denied, return allow. for (Map.Entry > entry : allowPatterns.entrySet()) { for (String allowStr : entry.getValue()) { if (entry.getKey() == PatternType.LITERAL && denyPatterns.get(PatternType.LITERAL).contains(allowStr)) continue; StringBuilder sb = new StringBuilder(); boolean hasDominatedDeny = false; for (char ch : allowStr.toCharArray()) { sb.append(ch); if (denyPatterns.get(PatternType.PREFIXED).contains(sb.toString())) { hasDominatedDeny = true; break; } } if (!hasDominatedDeny) return AuthorizationResult.ALLOWED; } } {code} To improve performance better use Prefix Tree","output":"Improve perfomance Authorizer.authorizeByResourceType by using Prefix Trie"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve perfomance Authorizer.authorizeByResourceType by using Prefix Trie\n\nClass Authorizer.authorizeByResourceType under the hood uses HashMap for check if the caller is authorized to perform the given ACL operation on at least one resource of the given type. It check each character in allowPatterns and pass to deny patterns {code:java} // For any literal allowed, if there's no dominant literal and prefix denied, return allow. // For any prefix allowed, if there's no dominant prefix denied, return allow. for (Map.Entry > entry : allowPatterns.entrySet()) { for (String","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve perfomance Authorizer.authorizeByResourceType by using Prefix Trie\n\nClass Authorizer.authorizeByResourceType under the hood uses HashMap for check if the caller is authorized to perform the given ACL operation on at least one resource of the given type. It check each character in allowPatterns and pass to deny patterns {code:java} // For any literal allowed, if there's no dominant literal and prefix denied, return allow. // For any prefix allowed, if there's no dominant prefix denied, return allow. for (Map.Entry > entry : allowPatterns.entrySet()) { for (String","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve perfomance Authorizer.authorizeByResourceType by using Prefix Trie\n\nClass Authorizer.authorizeByResourceType under the hood uses HashMap for check if the caller is authorized to perform the given ACL operation on at least one resource of the given type. It check each character in allowPatterns and pass to deny patterns {code:java} // For any literal allowed, if there's no dominant literal and prefix denied, return allow. // For any prefix allowed, if there's no dominant prefix denied, return allow. for (Map.Entry > entry : allowPatterns.entrySet()) { for (String","output":"Class Authorizer.authorizeByResourceType under the hood uses HashMap for check if the caller is authorized to perform the given ACL operation on at least one resource of the given type. It check each character in allowPatterns and pass to deny patterns {code:java} // For any literal allowed, if ther"}
{"instruction":"Extract key technical details from this issue:","input":"Class Authorizer.authorizeByResourceType under the hood uses HashMap for check if the caller is authorized to perform the given ACL operation on at least one resource of the given type. It check each character in allowPatterns and pass to deny patterns {code:java} // For any literal allowed, if there's no dominant literal and prefix denied, return allow. // For any prefix allowed, if there's no dominant prefix denied, return allow. for (Map.Entry > entry : allowPatterns.entrySet()) { for (String allowStr : entry.getValue()) { if (entry.getKey() == PatternType.LITERAL && denyPatterns.get(PatternType.LITERAL).contains(allowStr)) continue; StringBuilder sb = new StringBuilder(); boolean hasDominatedDeny = false; for (char ch : allowStr.toCharArray()) { sb.append(ch); if (denyPatterns.get(Patt","output":"Improve perfomance Authorizer.authorizeByResourceType by using Prefix Trie"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Consumer NoOffsetForPartitionException for partitions being revoked\n\nCurrently, the consumer attempts to update positions for all partitions it owns that don't have a position, even when the partition may be already being revoked. This could lead to NoOffsetForPartitionException for such partitions (if there is no reset strategy defined). There are 2 main issues around this: * is probably unneeded work to fetch offsets and update positions for partitions being revoked. At that point we're actually not allowing fetching from there anymore * throwing NoOffsetForPartitionException may lead applications to take action to set positions themselves, which will most probably fail (the partition will most probably not owned by the consumer anymore since it was already being revoked when the NoOffsetForPartitionException was generated). We've seen this on Kafka Streams, that handled NoOffsetForPartitionException by calling seek to set positions. This task is to review if there are no other implications I may be missing? Then fix to ensure we don't update positions for partitions being revoked (aligned with how we don't allow fetching from them)","output":"Consumer NoOffsetForPartitionException for partitions being revoked"}
{"instruction":"Classify the status of this issue based on its description:","input":"Consumer NoOffsetForPartitionException for partitions being revoked\n\nCurrently, the consumer attempts to update positions for all partitions it owns that don't have a position, even when the partition may be already being revoked. This could lead to NoOffsetForPartitionException for such partitions (if there is no reset strategy defined). There are 2 main issues around this: * is probably unneeded work to fetch offsets and update positions for partitions being revoked. At that point we're actually not allowing fetching from there anymore * throwing NoOffsetForPar","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Consumer NoOffsetForPartitionException for partitions being revoked\n\nCurrently, the consumer attempts to update positions for all partitions it owns that don't have a position, even when the partition may be already being revoked. This could lead to NoOffsetForPartitionException for such partitions (if there is no reset strategy defined). There are 2 main issues around this: * is probably unneeded work to fetch offsets and update positions for partitions being revoked. At that point we're actually not allowing fetching from there anymore * throwing NoOffsetForPar","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Consumer NoOffsetForPartitionException for partitions being revoked\n\nCurrently, the consumer attempts to update positions for all partitions it owns that don't have a position, even when the partition may be already being revoked. This could lead to NoOffsetForPartitionException for such partitions (if there is no reset strategy defined). There are 2 main issues around this: * is probably unneeded work to fetch offsets and update positions for partitions being revoked. At that point we're actually not allowing fetching from there anymore * throwing NoOffsetForPar","output":"Currently, the consumer attempts to update positions for all partitions it owns that don't have a position, even when the partition may be already being revoked. This could lead to NoOffsetForPartitionException for such partitions (if there is no reset strategy defined). There are 2 main issues arou"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, the consumer attempts to update positions for all partitions it owns that don't have a position, even when the partition may be already being revoked. This could lead to NoOffsetForPartitionException for such partitions (if there is no reset strategy defined). There are 2 main issues around this: * is probably unneeded work to fetch offsets and update positions for partitions being revoked. At that point we're actually not allowing fetching from there anymore * throwing NoOffsetForPartitionException may lead applications to take action to set positions themselves, which will most probably fail (the partition will most probably not owned by the consumer anymore since it was already being revoked when the NoOffsetForPartitionException was generated). We've seen this on Kafka Strea","output":"Consumer NoOffsetForPartitionException for partitions being revoked"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Create a CI to verify all gradle tasks\n\nsee https://github.com/apache/kafka/pull/19513#issuecomment-3390047209","output":"Create a CI to verify all gradle tasks"}
{"instruction":"Classify the status of this issue based on its description:","input":"Create a CI to verify all gradle tasks\n\nsee https://github.com/apache/kafka/pull/19513#issuecomment-3390047209","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Create a CI to verify all gradle tasks\n\nsee https://github.com/apache/kafka/pull/19513#issuecomment-3390047209","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Create a CI to verify all gradle tasks\n\nsee https://github.com/apache/kafka/pull/19513#issuecomment-3390047209","output":"see https://github.com/apache/kafka/pull/19513#issuecomment-3390047209"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Relax offset commit validation to allow member epochs since assignment\n\nh2. Fencing offset commits In the Kafka protocol, when a consumer commits offsets or a producer tries to add offsets to a transaction, it includes its epoch/generation of the consumer group. The point of this is for the group coordinator to fence against zombie commit requests, that is, commit requests that include an offset for a partition that was since reassigned to a different member. If such a guard was not in place, a zombie offset commit may overwrite offsets of the new owner, or its offsets may be committed to the consumer offset topic but not be included in the result of the new owners offset fetch request. In KIP-848, when receiving an offset commit request that includes the client-side member epoch and a member ID, the group coordinator performs the check {{Client-Side Member Epoch == Broker-Side Member Epoch}} and, if the check fails, returns a {{STALE_MEMBER_EPOCH}} error for regular offset commits and a {{ILLEGAL_GENERATION}} for transactional offset commits. If the member epoch sent in the request is the current broker-side member epoch, KIP-848 guarantees that the partition cannot also be owned by a different member at the same or a larger epoch. Therefore, this is sufficient for fencing zombie commits. Note that we assume zombie commits will always contain offsets for partitions that were owned by the member at the member epoch sent in the request. Commit requests that commit offsets for partitions that are _not_ owned by the member in that epoch, are not possible in a correct client-side implementation of the protocol. Note that the broker-side member epoch is not the group epoch or the target assignment epoch. For details, see KIP-848. Note also that commits can also be fenced because a member falls out of the group (e.g. because it does not revoke partitions within the rebalance timeout). At this point, its commits will be fenced solely based on the member ID (which is not part of the group anymore). We therefore ignore this case in this document, and only consider zombie commits from members that are still part of the group. h2. Downsides of the current approach This fencing is, however, unnecessarily strict. Assume, for example, a member owns P1 at epoch 1. The broker-side member epoch is bumped to 2, but the member still has P1 assigned at epoch 2. The member may not learn about the new broker-side member epoch in time, and submit an offset commit commit for P1 with epoch 1. This is not a zombie commit request as define above (because P1 was not reassigned to a different member), but it will still be rejected by a KIP-848 group coordinator. The trouble with this fencing mechanism is that it is very difficult to avoid the broker-side member epoch being bumped concurrently with an offset commit. Seen from the client-side, the broker-side member epoch may be bumped at any time while a heartbeat to the group coordinator is in-flight. To make sure the member epoch sent in an offset commit request is up-to-date would require making sure that no consumer group or streams group heartbeat request is in-flight at the same time. h2. Why a broker-side fix is warranted This problem is particularly challenging to solve on the client side for transactional offset commits, since they are performed by the producer, not the consumer, and the producer has no way of knowing when a consumer group heartbeat or streams group heartbeat is in-flight. The member epoch is passed from the Java consumer to the Java producer using the {{ConsumerGroupMetadata}} object, which is passed into {{{}sendOffsetsToTransaction{}}}. By the time the transactional offset commit is sent, the member epoch may be stale, the broker will return an {{ILLEGAL_GENERATION}} exception. This will force the Java producer into an abortable error state, surfacing the error as a {{CommitFailedException}} to the user, the user has no other way to recover from this to abort the transaction. This may hurt in any Kafka client application, since aborting transactions means throwing away work and restarting from an earlier point. But it is a particularly big problem in Kafka Streams with exactly-once semantics, where aborting a transaction usually means wiping and restoring the state store, so each aborted transaction means some downtime for apps using state stores of non-negligible size. Furthermore, since Kafka Streams commits every 100ms by default in EOS, this is likely to happen fairly often. h1. Conceptual Design n this design document, we therefore propose to relax the condition for offset commit fencing. h2. Identifying zombies using the last epoch a partition was assigned to the member To derive a more relaxed check, we need to identify an epoch which separates zombie commits from commits of the current owner. As mentioned above, zombie commit requests are commit requests that include a partition, member ID and member epoch combination, so that the member owned the partition at that epoch. However, the partition has since been reassigned to a different member. Most precisely, on the level of a single partition, a relaxed offset commit check can be defined using a *assignment epoch* for each assigned partition and each member, which is the epoch at which the partition was assigned to that member. To fence from zombie commit requests, we can reject all offset commit requests from a member that either does not have the partition assigned, or that includes any member epoch that is smaller or equal than the assignment epoch for that member and that partition. Assignment Epoch Client-Side Member Epoch. h3. Differences to the design above This design does not need to disable commits on the client-side. The need to disable commits came from the fact that we are tracking epochs “imprecisely”, on the member-level and not on the partition-level. So in the RevocationEpoch design, when we have just revoked P2 on the client, we may attempt to commit a partition P1, triggering the race condition because the broker can concurrently bump the revocation epoch for that member because of the revocation of P2. We prevent this by disabling commits while a partition is revoked, and by “while a partition is revoked” I mean the timeframe from executing the revocation on the client, and seeing the following epoch bump on the client. In the partition-level AssignmentEpoch design, if we are committing P1, we are still convinced that we own P1, so we must also still own it on the broker. At the same time, we may remove the assignment epoch for P2 on the broker, but it doesn’t matter since this doesn’t impact whether we can commit P1, and we are not going to try to commit P2 after having revoked it on the client side. h1. Proposed Changes h3. Introducing Per-Member and Per-Partition Assignment Epoch We extend the model of a consumer group / streams group member with one integer per assigned partition for each member of a group. This includes both partitions directly assigned to the member, and partitions pending revocation. The assignment epoch is set to the epoch in which the partition was assigned to the member, and we have the invariant Assignment Epoch <= MemberEpoch <= TargetAssignmentEpoch <= GroupEpoch. The AssignmentEpoch is added as a field to TopicPartitions in ConsumerGroupCurrentMemberAssignmentValue, so that it can be stored and replayed from the committed offsets topic. For streams groups, we will use the same logic but add assignment epochs only for active tasks in StreamsGroupCurrentMemberAssignmentValue, since only active tasks commit offsets in Kafka Streams. h3. Relaxing the offset commit validation We replace the current check offset commit validation check Client-Side Member Epoch == Broker-Side Member Epoch by Assignment Epoch <= Client-Side Member Epoch <= Broker-Side Member Epoch where, for simplicity, we can assume the assignment epoch of a partition that is not assigned to that member to be Integer.maxValue.","output":"Relax offset commit validation to allow member epochs since assignment"}
{"instruction":"Classify the status of this issue based on its description:","input":"Relax offset commit validation to allow member epochs since assignment\n\nh2. Fencing offset commits In the Kafka protocol, when a consumer commits offsets or a producer tries to add offsets to a transaction, it includes its epoch/generation of the consumer group. The point of this is for the group coordinator to fence against zombie commit requests, that is, commit requests that include an offset for a partition that was since reassigned to a different member. If such a guard was not in place, a zombie offset commit may overwrite offsets of the new owner, or its offs","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Relax offset commit validation to allow member epochs since assignment\n\nh2. Fencing offset commits In the Kafka protocol, when a consumer commits offsets or a producer tries to add offsets to a transaction, it includes its epoch/generation of the consumer group. The point of this is for the group coordinator to fence against zombie commit requests, that is, commit requests that include an offset for a partition that was since reassigned to a different member. If such a guard was not in place, a zombie offset commit may overwrite offsets of the new owner, or its offs","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Relax offset commit validation to allow member epochs since assignment\n\nh2. Fencing offset commits In the Kafka protocol, when a consumer commits offsets or a producer tries to add offsets to a transaction, it includes its epoch/generation of the consumer group. The point of this is for the group coordinator to fence against zombie commit requests, that is, commit requests that include an offset for a partition that was since reassigned to a different member. If such a guard was not in place, a zombie offset commit may overwrite offsets of the new owner, or its offs","output":"h2. Fencing offset commits In the Kafka protocol, when a consumer commits offsets or a producer tries to add offsets to a transaction, it includes its epoch/generation of the consumer group. The point of this is for the group coordinator to fence against zombie commit requests, that is, commit reque"}
{"instruction":"Extract key technical details from this issue:","input":"h2. Fencing offset commits In the Kafka protocol, when a consumer commits offsets or a producer tries to add offsets to a transaction, it includes its epoch/generation of the consumer group. The point of this is for the group coordinator to fence against zombie commit requests, that is, commit requests that include an offset for a partition that was since reassigned to a different member. If such a guard was not in place, a zombie offset commit may overwrite offsets of the new owner, or its offsets may be committed to the consumer offset topic but not be included in the result of the new owners offset fetch request. In KIP-848, when receiving an offset commit request that includes the client-side member epoch and a member ID, the group coordinator performs the check {{Client-Side Member Ep","output":"Relax offset commit validation to allow member epochs since assignment"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Share Partition Lag Persistence and Retrieval\n\nTicket for KIP-1226. The KIP proposes introducing the concept of lag for share partitions, which will be persisted in the __share_group_state topic and can be retrieved using admin.listShareGroupOffsets","output":"Share Partition Lag Persistence and Retrieval"}
{"instruction":"Classify the status of this issue based on its description:","input":"Share Partition Lag Persistence and Retrieval\n\nTicket for KIP-1226. The KIP proposes introducing the concept of lag for share partitions, which will be persisted in the __share_group_state topic and can be retrieved using admin.listShareGroupOffsets","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Share Partition Lag Persistence and Retrieval\n\nTicket for KIP-1226. The KIP proposes introducing the concept of lag for share partitions, which will be persisted in the __share_group_state topic and can be retrieved using admin.listShareGroupOffsets","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Share Partition Lag Persistence and Retrieval\n\nTicket for KIP-1226. The KIP proposes introducing the concept of lag for share partitions, which will be persisted in the __share_group_state topic and can be retrieved using admin.listShareGroupOffsets","output":"Ticket for KIP-1226. The KIP proposes introducing the concept of lag for share partitions, which will be persisted in the __share_group_state topic and can be retrieved using admin.listShareGroupOffsets"}
{"instruction":"Extract key technical details from this issue:","input":"Ticket for KIP-1226. The KIP proposes introducing the concept of lag for share partitions, which will be persisted in the __share_group_state topic and can be retrieved using admin.listShareGroupOffsets","output":"Share Partition Lag Persistence and Retrieval"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Generator | Fix order of arguments to assertEquals in unit tests\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the generator package.","output":"Generator | Fix order of arguments to assertEquals in unit tests"}
{"instruction":"Classify the status of this issue based on its description:","input":"Generator | Fix order of arguments to assertEquals in unit tests\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the generator package.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Generator | Fix order of arguments to assertEquals in unit tests\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the generator package.","output":"Trivial"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Generator | Fix order of arguments to assertEquals in unit tests\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the generator package.","output":"This sub-task is intended to fix the order of arguments passed in assertions in test cases within the generator package."}
{"instruction":"Extract key technical details from this issue:","input":"This sub-task is intended to fix the order of arguments passed in assertions in test cases within the generator package.","output":"Generator | Fix order of arguments to assertEquals in unit tests"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Incorrect leaderId and leaderEpoch logged in Partition#makeFollower\n\nhttps://github.com/apache/kafka/blob/be3e40c45ac9a70833ce0d5735ad141a5bd24627/core/src/main/scala/kafka/cluster/Partition.scala#L877 logs the existing leader-id and existing leader epoch if the partition registration has a leader epoch > the existing leader epoch. There's a bug in the logging as we update the existing leaderId and leaderEpoch with the latest values from partition registration prior to logging them, thereby never logging the existing values.","output":"Incorrect leaderId and leaderEpoch logged in Partition#makeFollower"}
{"instruction":"Classify the status of this issue based on its description:","input":"Incorrect leaderId and leaderEpoch logged in Partition#makeFollower\n\nhttps://github.com/apache/kafka/blob/be3e40c45ac9a70833ce0d5735ad141a5bd24627/core/src/main/scala/kafka/cluster/Partition.scala#L877 logs the existing leader-id and existing leader epoch if the partition registration has a leader epoch > the existing leader epoch. There's a bug in the logging as we update the existing leaderId and leaderEpoch with the latest values from partition registration prior to logging them, thereby never logging the existing values.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Incorrect leaderId and leaderEpoch logged in Partition#makeFollower\n\nhttps://github.com/apache/kafka/blob/be3e40c45ac9a70833ce0d5735ad141a5bd24627/core/src/main/scala/kafka/cluster/Partition.scala#L877 logs the existing leader-id and existing leader epoch if the partition registration has a leader epoch > the existing leader epoch. There's a bug in the logging as we update the existing leaderId and leaderEpoch with the latest values from partition registration prior to logging them, thereby never logging the existing values.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Incorrect leaderId and leaderEpoch logged in Partition#makeFollower\n\nhttps://github.com/apache/kafka/blob/be3e40c45ac9a70833ce0d5735ad141a5bd24627/core/src/main/scala/kafka/cluster/Partition.scala#L877 logs the existing leader-id and existing leader epoch if the partition registration has a leader epoch > the existing leader epoch. There's a bug in the logging as we update the existing leaderId and leaderEpoch with the latest values from partition registration prior to logging them, thereby never logging the existing values.","output":"https://github.com/apache/kafka/blob/be3e40c45ac9a70833ce0d5735ad141a5bd24627/core/src/main/scala/kafka/cluster/Partition.scala#L877 logs the existing leader-id and existing leader epoch if the partition registration has a leader epoch > the existing leader epoch. There's a bug in the logging as we "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Incorrect leaderId and leaderEpoch logged in Partition#makeFollower\n\nhttps://github.com/apache/kafka/blob/be3e40c45ac9a70833ce0d5735ad141a5bd24627/core/src/main/scala/kafka/cluster/Partition.scala#L877 logs the existing leader-id and existing leader epoch if the partition registration has a leader epoch > the existing leader epoch. There's a bug in the logging as we update the existing leaderId and leaderEpoch with the latest values from partition registration prior to logging them, thereby never logging the existing values.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"https://github.com/apache/kafka/blob/be3e40c45ac9a70833ce0d5735ad141a5bd24627/core/src/main/scala/kafka/cluster/Partition.scala#L877 logs the existing leader-id and existing leader epoch if the partition registration has a leader epoch > the existing leader epoch. There's a bug in the logging as we update the existing leaderId and leaderEpoch with the latest values from partition registration prior to logging them, thereby never logging the existing values.","output":"Incorrect leaderId and leaderEpoch logged in Partition#makeFollower"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Error if an empty topic is created when there is a regex source KS\n\nIf there is a KS application that uses a regex source, and we create a new topic that matches that regex, but produce no messages, the application will get into an {{ERROR}} state. if we take {}#L206{}}}, but without producing any messages to {{TEST-TOPIC-2}} the problem will reproduce: {quote}{{org.apache.kafka.streams.errors.StreamsException: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:981)}} {{ at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:898)}} {{Caused by: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamTask.findOffsetAndMetadata(StreamTask.java:480)}} {{ at org.apache.kafka.streams.processor.internals.StreamTask.committableOffsetsAndMetadata(StreamTask.java:511)}} {{ at org.apache.kafka.streams.processor.internals.StreamTask.prepareCommit(StreamTask.java:454)}} {{ at org.apache.kafka.streams.processor.internals.TaskExecutor.commitTasksAndMaybeUpdateCommittableOffsets(TaskExecutor.java:145)}} {{ at org.apache.kafka.streams.processor.internals.TaskManager.commitTasksAndMaybeUpdateCommittableOffsets(TaskManager.java:2025)}} {{ at org.apache.kafka.streams.processor.internals.TaskManager.commit(TaskManager.java:1992)}} {{ at org.apache.kafka.streams.processor.internals.StreamThread.maybeCommit(StreamThread.java:1836)}} {{ at org.apache.kafka.streams.processor.internals.StreamThread.runOnceWithoutProcessingThreads(StreamThread.java:1288)}} {{ at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:938)}} {{ ... 1 more}} {quote}","output":"Error if an empty topic is created when there is a regex source KS"}
{"instruction":"Classify the status of this issue based on its description:","input":"Error if an empty topic is created when there is a regex source KS\n\nIf there is a KS application that uses a regex source, and we create a new topic that matches that regex, but produce no messages, the application will get into an {{ERROR}} state. if we take {}#L206{}}}, but without producing any messages to {{TEST-TOPIC-2}} the problem will reproduce: {quote}{{org.apache.kafka.streams.errors.StreamsException: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamT","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Error if an empty topic is created when there is a regex source KS\n\nIf there is a KS application that uses a regex source, and we create a new topic that matches that regex, but produce no messages, the application will get into an {{ERROR}} state. if we take {}#L206{}}}, but without producing any messages to {{TEST-TOPIC-2}} the problem will reproduce: {quote}{{org.apache.kafka.streams.errors.StreamsException: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamT","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Error if an empty topic is created when there is a regex source KS\n\nIf there is a KS application that uses a regex source, and we create a new topic that matches that regex, but produce no messages, the application will get into an {{ERROR}} state. if we take {}#L206{}}}, but without producing any messages to {{TEST-TOPIC-2}} the problem will reproduce: {quote}{{org.apache.kafka.streams.errors.StreamsException: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamT","output":"If there is a KS application that uses a regex source, and we create a new topic that matches that regex, but produce no messages, the application will get into an {{ERROR}} state. if we take {}#L206{}}}, but without producing any messages to {{TEST-TOPIC-2}} the problem will reproduce: {quote}{{org"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Error if an empty topic is created when there is a regex source KS\n\nIf there is a KS application that uses a regex source, and we create a new topic that matches that regex, but produce no messages, the application will get into an {{ERROR}} state. if we take {}#L206{}}}, but without producing any messages to {{TEST-TOPIC-2}} the problem will reproduce: {quote}{{org.apache.kafka.streams.errors.StreamsException: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamT","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"If there is a KS application that uses a regex source, and we create a new topic that matches that regex, but produce no messages, the application will get into an {{ERROR}} state. if we take {}#L206{}}}, but without producing any messages to {{TEST-TOPIC-2}} the problem will reproduce: {quote}{{org.apache.kafka.streams.errors.StreamsException: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:981)}} {{ at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:898)}} {{Caused by: java.lang.IllegalStateException: Stream task 0_0 does not know the partition: TEST-TOPIC-2-0}} {{ at org.apache.kafka.streams.processor.internals.StreamTas","output":"Error if an empty topic is created when there is a regex source KS"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Mechanism to cordon brokers and log directories\n\nJira for KIP-1066: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1066%3A+Mechanism+to+cordon+brokers+and+log+directories","output":"Mechanism to cordon brokers and log directories"}
{"instruction":"Classify the status of this issue based on its description:","input":"Mechanism to cordon brokers and log directories\n\nJira for KIP-1066: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1066%3A+Mechanism+to+cordon+brokers+and+log+directories","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Mechanism to cordon brokers and log directories\n\nJira for KIP-1066: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1066%3A+Mechanism+to+cordon+brokers+and+log+directories","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Mechanism to cordon brokers and log directories\n\nJira for KIP-1066: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1066%3A+Mechanism+to+cordon+brokers+and+log+directories","output":"Jira for KIP-1066: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1066%3A+Mechanism+to+cordon+brokers+and+log+directories"}
{"instruction":"Extract key technical details from this issue:","input":"Jira for KIP-1066: https://cwiki.apache.org/confluence/display/KAFKA/KIP-1066%3A+Mechanism+to+cordon+brokers+and+log+directories","output":"Mechanism to cordon brokers and log directories"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Include push interval in ClientTelemetryReceiver context\n\nJira for KIP-1217 https://cwiki.apache.org/confluence/display/KAFKA/KIP-1217%3A+Include+push+interval+in+ClientTelemetryReceiver+context","output":"Include push interval in ClientTelemetryReceiver context"}
{"instruction":"Classify the status of this issue based on its description:","input":"Include push interval in ClientTelemetryReceiver context\n\nJira for KIP-1217 https://cwiki.apache.org/confluence/display/KAFKA/KIP-1217%3A+Include+push+interval+in+ClientTelemetryReceiver+context","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Include push interval in ClientTelemetryReceiver context\n\nJira for KIP-1217 https://cwiki.apache.org/confluence/display/KAFKA/KIP-1217%3A+Include+push+interval+in+ClientTelemetryReceiver+context","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Include push interval in ClientTelemetryReceiver context\n\nJira for KIP-1217 https://cwiki.apache.org/confluence/display/KAFKA/KIP-1217%3A+Include+push+interval+in+ClientTelemetryReceiver+context","output":"Jira for KIP-1217 https://cwiki.apache.org/confluence/display/KAFKA/KIP-1217%3A+Include+push+interval+in+ClientTelemetryReceiver+context"}
{"instruction":"Extract key technical details from this issue:","input":"Jira for KIP-1217 https://cwiki.apache.org/confluence/display/KAFKA/KIP-1217%3A+Include+push+interval+in+ClientTelemetryReceiver+context","output":"Include push interval in ClientTelemetryReceiver context"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"enhance the documentation for `Node#isFanced`\n\nThe `isFenced` value is only valid for broker nodes. It is always `false` for quorum controller nodes.","output":"enhance the documentation for `Node#isFanced`"}
{"instruction":"Classify the status of this issue based on its description:","input":"enhance the documentation for `Node#isFanced`\n\nThe `isFenced` value is only valid for broker nodes. It is always `false` for quorum controller nodes.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"enhance the documentation for `Node#isFanced`\n\nThe `isFenced` value is only valid for broker nodes. It is always `false` for quorum controller nodes.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: enhance the documentation for `Node#isFanced`\n\nThe `isFenced` value is only valid for broker nodes. It is always `false` for quorum controller nodes.","output":"The `isFenced` value is only valid for broker nodes. It is always `false` for quorum controller nodes."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"enhance the documentation for `Node#isFanced`\n\nThe `isFenced` value is only valid for broker nodes. It is always `false` for quorum controller nodes.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The `isFenced` value is only valid for broker nodes. It is always `false` for quorum controller nodes.","output":"enhance the documentation for `Node#isFanced`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update SpotBugs version and enable Spotbugs Gradle tasks on Java 25\n\n*Prologue:* KAFKA-19664 *In more details:* Apache commons bcel Java 25 compatible version will be created soon (and SpotBugs version will follow immediately): https://issues.apache.org/jira/browse/BCEL-377?focusedCommentId=18028106&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-18028106 *Action points:* - upgrade SpotBugs version (use Java 25 compatible version) - enable SpotBugs checks for Java 25 Github actions build *Related links: * - [https://issues.apache.org/jira/projects/BCEL/versions/12354966] - [https://github.com/spotbugs/spotbugs/issues/3564]","output":"Update SpotBugs version and enable Spotbugs Gradle tasks on Java 25"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update SpotBugs version and enable Spotbugs Gradle tasks on Java 25\n\n*Prologue:* KAFKA-19664 *In more details:* Apache commons bcel Java 25 compatible version will be created soon (and SpotBugs version will follow immediately): https://issues.apache.org/jira/browse/BCEL-377?focusedCommentId=18028106&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-18028106 *Action points:* - upgrade SpotBugs version (use Java 25 compatible version) - enable SpotBugs checks for Java 25 Github actions build *Related links: * - [https://issues.apache.o","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update SpotBugs version and enable Spotbugs Gradle tasks on Java 25\n\n*Prologue:* KAFKA-19664 *In more details:* Apache commons bcel Java 25 compatible version will be created soon (and SpotBugs version will follow immediately): https://issues.apache.org/jira/browse/BCEL-377?focusedCommentId=18028106&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-18028106 *Action points:* - upgrade SpotBugs version (use Java 25 compatible version) - enable SpotBugs checks for Java 25 Github actions build *Related links: * - [https://issues.apache.o","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update SpotBugs version and enable Spotbugs Gradle tasks on Java 25\n\n*Prologue:* KAFKA-19664 *In more details:* Apache commons bcel Java 25 compatible version will be created soon (and SpotBugs version will follow immediately): https://issues.apache.org/jira/browse/BCEL-377?focusedCommentId=18028106&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-18028106 *Action points:* - upgrade SpotBugs version (use Java 25 compatible version) - enable SpotBugs checks for Java 25 Github actions build *Related links: * - [https://issues.apache.o","output":"*Prologue:* KAFKA-19664 *In more details:* Apache commons bcel Java 25 compatible version will be created soon (and SpotBugs version will follow immediately): https://issues.apache.org/jira/browse/BCEL-377?focusedCommentId=18028106&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpa"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update SpotBugs version and enable Spotbugs Gradle tasks on Java 25\n\n*Prologue:* KAFKA-19664 *In more details:* Apache commons bcel Java 25 compatible version will be created soon (and SpotBugs version will follow immediately): https://issues.apache.org/jira/browse/BCEL-377?focusedCommentId=18028106&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-18028106 *Action points:* - upgrade SpotBugs version (use Java 25 compatible version) - enable SpotBugs checks for Java 25 Github actions build *Related links: * - [https://issues.apache.o","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"*Prologue:* KAFKA-19664 *In more details:* Apache commons bcel Java 25 compatible version will be created soon (and SpotBugs version will follow immediately): https://issues.apache.org/jira/browse/BCEL-377?focusedCommentId=18028106&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-18028106 *Action points:* - upgrade SpotBugs version (use Java 25 compatible version) - enable SpotBugs checks for Java 25 Github actions build *Related links: * - [https://issues.apache.org/jira/projects/BCEL/versions/12354966] - [https://github.com/spotbugs/spotbugs/issues/3564]","output":"Update SpotBugs version and enable Spotbugs Gradle tasks on Java 25"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove the `gradlew` workaround for running the old `gradle-wrapper.jar`\n\nsee https://github.com/apache/kafka/pull/20658","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove the `gradlew` workaround for running the old `gradle-wrapper.jar`\n\nsee https://github.com/apache/kafka/pull/20658","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove the `gradlew` workaround for running the old `gradle-wrapper.jar`\n\nsee https://github.com/apache/kafka/pull/20658","output":"see https://github.com/apache/kafka/pull/20658"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[Java 25] few tests are failling (class: clients/org.apache.kafka.common.network.SslTransportLayerTest)\n\n{panel:title=Notes:|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce} * (!) this ticket blocks KAFKA-19664 *_Support building with Java 25 (LTS release)_* * (on) looks similar to: KAFKA-15117 *_SslTransportLayerTest.testValidEndpointIdentificationCN fails with Java 20 & 21_*{panel} *Reproducer:* * use this branch: [https://github.com/dejan2609/kafka/tree/KAFKA-19664] (i.e. this PR: [https://github.com/apache/kafka/pull/20561]) * execute: *./gradlew :clients:test --tests \"org.apache.kafka.common.network.SslTransportLayerTest\" -i* and change Java versions * test results: ** {*}Java 17{*}: (/) ** J{*}ava 24{*}: (/) ** {*}Java 25{*}: 159 tests completed, *8 failed* (x) *Test results on Github CI:* !Screenshot from 2025-10-07 19-59-32.png! *Test results locally:* {code:java} dejan@dejan-HP-ProBook-450-G7:~/kafka$ git log -3 --oneline a37616a1eb (HEAD -> KAFKA-19664, origin/KAFKA-19664) KAFKA-19664 Support building with Java 25 (LTS release) c6bbbbe24d KAFKA-19174 Gradle version upgrade 8 -->> 9 (#19513) f5a87b3703 KAFKA-19748: Add a note in docs about memory leak in Kafka Streams 4.1.0 (#20639) dejan@dejan-HP-ProBook-450-G7:~/kafka$ java -version openjdk version \"17.0.16\" 2025-07-15 OpenJDK Runtime Environment Temurin-17.0.16+8 (build 17.0.16+8) OpenJDK 64-Bit Server VM Temurin-17.0.16+8 (build 17.0.16+8, mixed mode, sharing) dejan@dejan-HP-ProBook-450-G7:~/kafka$ ./gradlew :clients:test --tests \"org.apache.kafka.common.network.SslTransportLayerTest\" -q Starting build with version 4.2.0-SNAPSHOT (commit id a37616a1) using Gradle 9.1.0, Java 17 and Scala 2.13.17 Build properties: ignoreFailures=false, maxParallelForks=8, maxScalacThreads=8, maxTestRetries=0 MessageGenerator: processed 197 Kafka message JSON file(s). MessageGenerator: processed 4 Kafka message JSON file(s). Note: Some input files use or override a deprecated API. Note: Recompile with -Xlint:deprecation for details. OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended dejan@dejan-HP-ProBook-450-G7:~/kafka$ sdk use java 24.0.2-tem Using java version 24.0.2-tem in this shell. dejan@dejan-HP-ProBook-450-G7:~/kafka$ java -version openjdk version \"24.0.2\" 2025-07-15 OpenJDK Runtime Environment Temurin-24.0.2+12 (build 24.0.2+12) OpenJDK 64-Bit Server VM Temurin-24.0.2+12 (build 24.0.2+12, mixed mode, sharing) dejan@dejan-HP-ProBook-450-G7:~/kafka$ ./gradlew :clients:test --tests \"org.apache.kafka.common.network.SslTransportLayerTest\" -q Starting build with version 4.2.0-SNAPSHOT (commit id a37616a1) using Gradle 9.1.0, Java 24 and Scala 2.13.17 Build properties: ignoreFailures=false, maxParallelForks=8, maxScalacThreads=8, maxTestRetries=0 MessageGenerator: processed 197 Kafka message JSON file(s). MessageGenerator: processed 4 Kafka message JSON file(s). Note: Some input files use or override a deprecated API. Note: Recompile with -Xlint:deprecation for details. OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended dejan@dejan-HP-ProBook-450-G7:~/kafka$ sdk use java 25-tem Using java version 25-tem in this shell. dejan@dejan-HP-ProBook-450-G7:~/kafka$ java -version openjdk version \"25\" 2025-09-16 LTS OpenJDK Runtime Environment Temurin-25+36 (build 25+36-LTS) OpenJDK 64-Bit Server VM Temurin-25+36 (build 25+36-LTS, mixed mode, sharing) dejan@dejan-HP-ProBook-450-G7:~/kafka$ ./gradlew :clients:test --tests \"org.apache.kafka.common.network.SslTransportLayerTest\" -q Starting build with version 4.2.0-SNAPSHOT (commit id a37616a1) using Gradle 9.1.0, Java 25 and Scala 2.13.17 Build properties: ignoreFailures=false, maxParallelForks=8, maxScalacThreads=8, maxTestRetries=0 MessageGenerator: processed 197 Kafka message JSON file(s). MessageGenerator: processed 4 Kafka message JSON file(s). Note: Some input files use or override a deprecated API. Note: Recompile with -Xlint:deprecation for details. org.apache.kafka.common.network.SslTransportLayerTest.testListenerConfigOverride(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testListenerConfigOverride(Args)[1].test.stdout OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended org.apache.kafka.common.network.SslTransportLayerTest.testInterBrokerSslConfigValidation(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testInterBrokerSslConfigValidation(Args)[1].test.stdout org.apache.kafka.common.network.SslTransportLayerTest.testServerTruststoreDynamicUpdate(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testServerTruststoreDynamicUpdate(Args)[1].test.stdout org.apache.kafka.common.network.SslTransportLayerTest.testECKeyPair(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testECKeyPair(Args)[1].test.stdout org.apache.kafka.common.network.SslTransportLayerTest.testPemFiles(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testPemFiles(Args)[1].test.stdout org.apache.kafka.common.network.SslTransportLayerTest.testClientAuthenticationRequiredValidProvided(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testClientAuthenticationRequiredValidProvided(Args)[1].test.stdout org.apache.kafka.common.network.SslTransportLayerTest.testDsaKeyPair(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testDsaKeyPair(Args)[1].test.stdout org.apache.kafka.common.network.SslTransportLayerTest.testPemFilesWithoutClientKeyPassword(Args)[1] failed, log available in /home/dejan/kafka/clients/build/reports/testOutput/org.apache.kafka.common.network.SslTransportLayerTest.testPemFilesWithoutClientKeyPassword(Args)[1].test.stdout 159 tests completed, 8 failed FAILURE: Build failed with an exception. * What went wrong: Execution failed for task ':clients:test'. > There were failing tests. See the report at: file:///home/dejan/kafka/clients/build/reports/tests/test/index.html BUILD FAILED in 8m 22s dejan@dejan-HP-ProBook-450-G7:~/kafka$ {code}","output":"[Java 25] few tests are failling (class: clients/org.apache.kafka.common.network.SslTransportLayerTest)"}
{"instruction":"Classify the status of this issue based on its description:","input":"[Java 25] few tests are failling (class: clients/org.apache.kafka.common.network.SslTransportLayerTest)\n\n{panel:title=Notes:|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce} * (!) this ticket blocks KAFKA-19664 *_Support building with Java 25 (LTS release)_* * (on) looks similar to: KAFKA-15117 *_SslTransportLayerTest.testValidEndpointIdentificationCN fails with Java 20 & 21_*{panel} *Reproducer:* * use this branch: [https://github.com/dejan2609/kafka/tree/KAFKA-19664] (i.e. this PR: [https://github.com/apache/kafka/pull/20561]) * execute: *./gradlew :clients:test --test","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[Java 25] few tests are failling (class: clients/org.apache.kafka.common.network.SslTransportLayerTest)\n\n{panel:title=Notes:|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce} * (!) this ticket blocks KAFKA-19664 *_Support building with Java 25 (LTS release)_* * (on) looks similar to: KAFKA-15117 *_SslTransportLayerTest.testValidEndpointIdentificationCN fails with Java 20 & 21_*{panel} *Reproducer:* * use this branch: [https://github.com/dejan2609/kafka/tree/KAFKA-19664] (i.e. this PR: [https://github.com/apache/kafka/pull/20561]) * execute: *./gradlew :clients:test --test","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [Java 25] few tests are failling (class: clients/org.apache.kafka.common.network.SslTransportLayerTest)\n\n{panel:title=Notes:|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce} * (!) this ticket blocks KAFKA-19664 *_Support building with Java 25 (LTS release)_* * (on) looks similar to: KAFKA-15117 *_SslTransportLayerTest.testValidEndpointIdentificationCN fails with Java 20 & 21_*{panel} *Reproducer:* * use this branch: [https://github.com/dejan2609/kafka/tree/KAFKA-19664] (i.e. this PR: [https://github.com/apache/kafka/pull/20561]) * execute: *./gradlew :clients:test --test","output":"{panel:title=Notes:|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce} * (!) this ticket blocks KAFKA-19664 *_Support building with Java 25 (LTS release)_* * (on) looks similar to: KAFKA-15117 *_SslTransportLayerTest.testValidEndpointIdentificationCN fails with Java 20 & 21"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[Java 25] few tests are failling (class: clients/org.apache.kafka.common.network.SslTransportLayerTest)\n\n{panel:title=Notes:|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce} * (!) this ticket blocks KAFKA-19664 *_Support building with Java 25 (LTS release)_* * (on) looks similar to: KAFKA-15117 *_SslTransportLayerTest.testValidEndpointIdentificationCN fails with Java 20 & 21_*{panel} *Reproducer:* * use this branch: [https://github.com/dejan2609/kafka/tree/KAFKA-19664] (i.e. this PR: [https://github.com/apache/kafka/pull/20561]) * execute: *./gradlew :clients:test --test","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"{panel:title=Notes:|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce} * (!) this ticket blocks KAFKA-19664 *_Support building with Java 25 (LTS release)_* * (on) looks similar to: KAFKA-15117 *_SslTransportLayerTest.testValidEndpointIdentificationCN fails with Java 20 & 21_*{panel} *Reproducer:* * use this branch: [https://github.com/dejan2609/kafka/tree/KAFKA-19664] (i.e. this PR: [https://github.com/apache/kafka/pull/20561]) * execute: *./gradlew :clients:test --tests \"org.apache.kafka.common.network.SslTransportLayerTest\" -i* and change Java versions * test results: ** {*}Java 17{*}: (/) ** J{*}ava 24{*}: (/) ** {*}Java 25{*}: 159 tests completed, *8 failed* (x) *Test results on Github CI:* !Screenshot from 2025-10-07 19-59-32.png! *Test results locally:* {cod","output":"[Java 25] few tests are failling (class: clients/org.apache.kafka.common.network.SslTransportLayerTest)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"`ci-complete` needs to work with active branches after the JDK is updated\n\nThe JDK version used by `ci-complete` is inconsistent with other active branches, which is causing the build report task to fail","output":"`ci-complete` needs to work with active branches after the JDK is updated"}
{"instruction":"Classify the status of this issue based on its description:","input":"`ci-complete` needs to work with active branches after the JDK is updated\n\nThe JDK version used by `ci-complete` is inconsistent with other active branches, which is causing the build report task to fail","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"`ci-complete` needs to work with active branches after the JDK is updated\n\nThe JDK version used by `ci-complete` is inconsistent with other active branches, which is causing the build report task to fail","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: `ci-complete` needs to work with active branches after the JDK is updated\n\nThe JDK version used by `ci-complete` is inconsistent with other active branches, which is causing the build report task to fail","output":"The JDK version used by `ci-complete` is inconsistent with other active branches, which is causing the build report task to fail"}
{"instruction":"Extract key technical details from this issue:","input":"The JDK version used by `ci-complete` is inconsistent with other active branches, which is causing the build report task to fail","output":"`ci-complete` needs to work with active branches after the JDK is updated"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve handling of long processing times\n\nIf the share consumer application takes a long time to process records, the share consume request manager can do a better job of time-outs and liveness.","output":"Improve handling of long processing times"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve handling of long processing times\n\nIf the share consumer application takes a long time to process records, the share consume request manager can do a better job of time-outs and liveness.","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Improve handling of long processing times\n\nIf the share consumer application takes a long time to process records, the share consume request manager can do a better job of time-outs and liveness.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve handling of long processing times\n\nIf the share consumer application takes a long time to process records, the share consume request manager can do a better job of time-outs and liveness.","output":"If the share consumer application takes a long time to process records, the share consume request manager can do a better job of time-outs and liveness."}
{"instruction":"Extract key technical details from this issue:","input":"If the share consumer application takes a long time to process records, the share consume request manager can do a better job of time-outs and liveness.","output":"Improve handling of long processing times"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade Kafka repo to use JUnit6\n\nAs JUnit6 was released [https://docs.junit.org/6.0.0/release-notes], it would be great to upgrade repo with such version. Currently {*}5.13.1{*}.","output":"Upgrade Kafka repo to use JUnit6"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade Kafka repo to use JUnit6\n\nAs JUnit6 was released [https://docs.junit.org/6.0.0/release-notes], it would be great to upgrade repo with such version. Currently {*}5.13.1{*}.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade Kafka repo to use JUnit6\n\nAs JUnit6 was released [https://docs.junit.org/6.0.0/release-notes], it would be great to upgrade repo with such version. Currently {*}5.13.1{*}.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade Kafka repo to use JUnit6\n\nAs JUnit6 was released [https://docs.junit.org/6.0.0/release-notes], it would be great to upgrade repo with such version. Currently {*}5.13.1{*}.","output":"As JUnit6 was released [https://docs.junit.org/6.0.0/release-notes], it would be great to upgrade repo with such version. Currently {*}5.13.1{*}."}
{"instruction":"Extract key technical details from this issue:","input":"As JUnit6 was released [https://docs.junit.org/6.0.0/release-notes], it would be great to upgrade repo with such version. Currently {*}5.13.1{*}.","output":"Upgrade Kafka repo to use JUnit6"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Store the last used assignment configuration in the group metadata\n\nWe should store the last used assignment configuration in the group metadata and bump the group epoch if the assignment configuration is changed.","output":"Store the last used assignment configuration in the group metadata"}
{"instruction":"Classify the status of this issue based on its description:","input":"Store the last used assignment configuration in the group metadata\n\nWe should store the last used assignment configuration in the group metadata and bump the group epoch if the assignment configuration is changed.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Store the last used assignment configuration in the group metadata\n\nWe should store the last used assignment configuration in the group metadata and bump the group epoch if the assignment configuration is changed.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Store the last used assignment configuration in the group metadata\n\nWe should store the last used assignment configuration in the group metadata and bump the group epoch if the assignment configuration is changed.","output":"We should store the last used assignment configuration in the group metadata and bump the group epoch if the assignment configuration is changed."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Store the last used assignment configuration in the group metadata\n\nWe should store the last used assignment configuration in the group metadata and bump the group epoch if the assignment configuration is changed.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We should store the last used assignment configuration in the group metadata and bump the group epoch if the assignment configuration is changed.","output":"Store the last used assignment configuration in the group metadata"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"KIP-1224: Adaptive append.linger.ms for the group coordinator and share coordinator\n\nTicket for KIP-1224. * Add a new allowed value for {{group.coordinator.append.linger.ms}} and {{share.coordinator.append.linger.ms}} of -1. * When {{append.linger.ms}} is set to -1, use the flush strategy outlined in the KIP. * Add batch-linger-time metrics. * Add batch-flush-time metrics.","output":"KIP-1224: Adaptive append.linger.ms for the group coordinator and share coordinator"}
{"instruction":"Classify the status of this issue based on its description:","input":"KIP-1224: Adaptive append.linger.ms for the group coordinator and share coordinator\n\nTicket for KIP-1224. * Add a new allowed value for {{group.coordinator.append.linger.ms}} and {{share.coordinator.append.linger.ms}} of -1. * When {{append.linger.ms}} is set to -1, use the flush strategy outlined in the KIP. * Add batch-linger-time metrics. * Add batch-flush-time metrics.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"KIP-1224: Adaptive append.linger.ms for the group coordinator and share coordinator\n\nTicket for KIP-1224. * Add a new allowed value for {{group.coordinator.append.linger.ms}} and {{share.coordinator.append.linger.ms}} of -1. * When {{append.linger.ms}} is set to -1, use the flush strategy outlined in the KIP. * Add batch-linger-time metrics. * Add batch-flush-time metrics.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: KIP-1224: Adaptive append.linger.ms for the group coordinator and share coordinator\n\nTicket for KIP-1224. * Add a new allowed value for {{group.coordinator.append.linger.ms}} and {{share.coordinator.append.linger.ms}} of -1. * When {{append.linger.ms}} is set to -1, use the flush strategy outlined in the KIP. * Add batch-linger-time metrics. * Add batch-flush-time metrics.","output":"Ticket for KIP-1224. * Add a new allowed value for {{group.coordinator.append.linger.ms}} and {{share.coordinator.append.linger.ms}} of -1. * When {{append.linger.ms}} is set to -1, use the flush strategy outlined in the KIP. * Add batch-linger-time metrics. * Add batch-flush-time metrics."}
{"instruction":"Extract key technical details from this issue:","input":"Ticket for KIP-1224. * Add a new allowed value for {{group.coordinator.append.linger.ms}} and {{share.coordinator.append.linger.ms}} of -1. * When {{append.linger.ms}} is set to -1, use the flush strategy outlined in the KIP. * Add batch-linger-time metrics. * Add batch-flush-time metrics.","output":"KIP-1224: Adaptive append.linger.ms for the group coordinator and share coordinator"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Parallel remote reads causes memory leak in broker\n\nThis issue is caused with changes from https://issues.apache.org/jira/browse/KAFKA-14915 Broker heap memory gets filled up and throws OOM error when remote reads are triggered for multiple partitions within a FETCH request. Steps to reproduce: 1. Start a one node broker and configure LocalTieredStorage as remote storage. 2. Create a topic with 5 partitions. 3. Produce message and ensure that few segments are uploaded to remote. 4. Start a consumer to read from those 5 partitions. Seek the offset to beginning for 4 partitions and to end for 1 partition. This is to simulate that the FETCH request read from both remote-log and local-log. 5. The broker crashes with the OOM error. 6. The DelayedRemoteFetch / RemoteLogReadResult references are being held by the purgatory, so the broker crashes. cc showuon satish.duggana","output":"Parallel remote reads causes memory leak in broker"}
{"instruction":"Classify the status of this issue based on its description:","input":"Parallel remote reads causes memory leak in broker\n\nThis issue is caused with changes from https://issues.apache.org/jira/browse/KAFKA-14915 Broker heap memory gets filled up and throws OOM error when remote reads are triggered for multiple partitions within a FETCH request. Steps to reproduce: 1. Start a one node broker and configure LocalTieredStorage as remote storage. 2. Create a topic with 5 partitions. 3. Produce message and ensure that few segments are uploaded to remote. 4. Start a consumer to read from those 5 partitions. Seek the offset","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Parallel remote reads causes memory leak in broker\n\nThis issue is caused with changes from https://issues.apache.org/jira/browse/KAFKA-14915 Broker heap memory gets filled up and throws OOM error when remote reads are triggered for multiple partitions within a FETCH request. Steps to reproduce: 1. Start a one node broker and configure LocalTieredStorage as remote storage. 2. Create a topic with 5 partitions. 3. Produce message and ensure that few segments are uploaded to remote. 4. Start a consumer to read from those 5 partitions. Seek the offset","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Parallel remote reads causes memory leak in broker\n\nThis issue is caused with changes from https://issues.apache.org/jira/browse/KAFKA-14915 Broker heap memory gets filled up and throws OOM error when remote reads are triggered for multiple partitions within a FETCH request. Steps to reproduce: 1. Start a one node broker and configure LocalTieredStorage as remote storage. 2. Create a topic with 5 partitions. 3. Produce message and ensure that few segments are uploaded to remote. 4. Start a consumer to read from those 5 partitions. Seek the offset","output":"This issue is caused with changes from https://issues.apache.org/jira/browse/KAFKA-14915 Broker heap memory gets filled up and throws OOM error when remote reads are triggered for multiple partitions within a FETCH request. Steps to reproduce: 1. Start a one node broker and configure LocalTieredStor"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Parallel remote reads causes memory leak in broker\n\nThis issue is caused with changes from https://issues.apache.org/jira/browse/KAFKA-14915 Broker heap memory gets filled up and throws OOM error when remote reads are triggered for multiple partitions within a FETCH request. Steps to reproduce: 1. Start a one node broker and configure LocalTieredStorage as remote storage. 2. Create a topic with 5 partitions. 3. Produce message and ensure that few segments are uploaded to remote. 4. Start a consumer to read from those 5 partitions. Seek the offset","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"This issue is caused with changes from https://issues.apache.org/jira/browse/KAFKA-14915 Broker heap memory gets filled up and throws OOM error when remote reads are triggered for multiple partitions within a FETCH request. Steps to reproduce: 1. Start a one node broker and configure LocalTieredStorage as remote storage. 2. Create a topic with 5 partitions. 3. Produce message and ensure that few segments are uploaded to remote. 4. Start a consumer to read from those 5 partitions. Seek the offset to beginning for 4 partitions and to end for 1 partition. This is to simulate that the FETCH request read from both remote-log and local-log. 5. The broker crashes with the OOM error. 6. The DelayedRemoteFetch / RemoteLogReadResult references are being held by the purgatory, so the broker crashes. ","output":"Parallel remote reads causes memory leak in broker"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Turn on Gradle reproducible builds feature\n\n*Prologue:* [https://github.com/apache/kafka/pull/19513#discussion_r2405757923] *Note:* during the Gradle version upgrade from 8 to 9 (KAFKA-19174), the reproducible build feature was turned off (but it should be switched on at some point in the future) *Related Gradle issues and links:* * [https://github.com/gradle/gradle/issues/34643] * [https://github.com/gradle/gradle/issues/30871] * [https://docs.gradle.org/9.1.0/userguide/working_with_files.html#sec:reproducible_archives] * [https://docs.gradle.org/9.1.0/userguide/upgrading_major_version_9.html#reproducible_archives_by_default] * [https://docs.gradle.org/9.1.0/dsl/org.gradle.api.tasks.bundling.Tar.html#org.gradle.api.tasks.bundling.Tar:preserveFileTimestamps] *Definition of done (at the minimum):* * *./gradlew releaseTarGz* works as expected * produced archive works as expected (Kafka cluster starts, messages can be produced/consumed, etc) : [https://kafka.apache.org/quickstart]","output":"Turn on Gradle reproducible builds feature"}
{"instruction":"Classify the status of this issue based on its description:","input":"Turn on Gradle reproducible builds feature\n\n*Prologue:* [https://github.com/apache/kafka/pull/19513#discussion_r2405757923] *Note:* during the Gradle version upgrade from 8 to 9 (KAFKA-19174), the reproducible build feature was turned off (but it should be switched on at some point in the future) *Related Gradle issues and links:* * [https://github.com/gradle/gradle/issues/34643] * [https://github.com/gradle/gradle/issues/30871] * [https://docs.gradle.org/9.1.0/userguide/working_with_files.html#sec:reproducible_archives] * [https://docs.g","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Turn on Gradle reproducible builds feature\n\n*Prologue:* [https://github.com/apache/kafka/pull/19513#discussion_r2405757923] *Note:* during the Gradle version upgrade from 8 to 9 (KAFKA-19174), the reproducible build feature was turned off (but it should be switched on at some point in the future) *Related Gradle issues and links:* * [https://github.com/gradle/gradle/issues/34643] * [https://github.com/gradle/gradle/issues/30871] * [https://docs.gradle.org/9.1.0/userguide/working_with_files.html#sec:reproducible_archives] * [https://docs.g","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Turn on Gradle reproducible builds feature\n\n*Prologue:* [https://github.com/apache/kafka/pull/19513#discussion_r2405757923] *Note:* during the Gradle version upgrade from 8 to 9 (KAFKA-19174), the reproducible build feature was turned off (but it should be switched on at some point in the future) *Related Gradle issues and links:* * [https://github.com/gradle/gradle/issues/34643] * [https://github.com/gradle/gradle/issues/30871] * [https://docs.gradle.org/9.1.0/userguide/working_with_files.html#sec:reproducible_archives] * [https://docs.g","output":"*Prologue:* [https://github.com/apache/kafka/pull/19513#discussion_r2405757923] *Note:* during the Gradle version upgrade from 8 to 9 (KAFKA-19174), the reproducible build feature was turned off (but it should be switched on at some point in the future) *Related Gradle issues and links:* * [https://"}
{"instruction":"Extract key technical details from this issue:","input":"*Prologue:* [https://github.com/apache/kafka/pull/19513#discussion_r2405757923] *Note:* during the Gradle version upgrade from 8 to 9 (KAFKA-19174), the reproducible build feature was turned off (but it should be switched on at some point in the future) *Related Gradle issues and links:* * [https://github.com/gradle/gradle/issues/34643] * [https://github.com/gradle/gradle/issues/30871] * [https://docs.gradle.org/9.1.0/userguide/working_with_files.html#sec:reproducible_archives] * [https://docs.gradle.org/9.1.0/userguide/upgrading_major_version_9.html#reproducible_archives_by_default] * [https://docs.gradle.org/9.1.0/dsl/org.gradle.api.tasks.bundling.Tar.html#org.gradle.api.tasks.bundling.Tar:preserveFileTimestamps] *Definition of done (at the minimum):* * *./gradlew releaseTarGz* works as ","output":"Turn on Gradle reproducible builds feature"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Reorder Gradle tasks (in order to bump Shadow plugin version)\n\n*Prologue:* * JIRA ticket: KAFKA-19174 * GitHub PR comment: [https://github.com/apache/kafka/pull/19513#discussion_r2365678027] *Scenario:* * checkout Kafka trunk and bump Gradle Shadow plugin version to 9+ * execute: *_./gradlew :jmh-benchmarks:shadowJar_* - build will fail (x) *Action points (what needs to be done):* * use `com.gradleup.shadow` recent version (9+) * reorder Gradle tasks so that Gradle command mentioned above can work *Definition of done (at the minimum):* * Gradle command mentioned above works as expected * also: *./gradlew releaseTarGz* works as expected * produced archive works as expected (Kafka cluster starts, messages can be produced/consumed, etc): [https://kafka.apache.org/quickstart]","output":"Reorder Gradle tasks (in order to bump Shadow plugin version)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Reorder Gradle tasks (in order to bump Shadow plugin version)\n\n*Prologue:* * JIRA ticket: KAFKA-19174 * GitHub PR comment: [https://github.com/apache/kafka/pull/19513#discussion_r2365678027] *Scenario:* * checkout Kafka trunk and bump Gradle Shadow plugin version to 9+ * execute: *_./gradlew :jmh-benchmarks:shadowJar_* - build will fail (x) *Action points (what needs to be done):* * use `com.gradleup.shadow` recent version (9+) * reorder Gradle tasks so that Gradle command mentioned above can work *Definition of done (at the minimum):* * Gradle command ment","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Reorder Gradle tasks (in order to bump Shadow plugin version)\n\n*Prologue:* * JIRA ticket: KAFKA-19174 * GitHub PR comment: [https://github.com/apache/kafka/pull/19513#discussion_r2365678027] *Scenario:* * checkout Kafka trunk and bump Gradle Shadow plugin version to 9+ * execute: *_./gradlew :jmh-benchmarks:shadowJar_* - build will fail (x) *Action points (what needs to be done):* * use `com.gradleup.shadow` recent version (9+) * reorder Gradle tasks so that Gradle command mentioned above can work *Definition of done (at the minimum):* * Gradle command ment","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Reorder Gradle tasks (in order to bump Shadow plugin version)\n\n*Prologue:* * JIRA ticket: KAFKA-19174 * GitHub PR comment: [https://github.com/apache/kafka/pull/19513#discussion_r2365678027] *Scenario:* * checkout Kafka trunk and bump Gradle Shadow plugin version to 9+ * execute: *_./gradlew :jmh-benchmarks:shadowJar_* - build will fail (x) *Action points (what needs to be done):* * use `com.gradleup.shadow` recent version (9+) * reorder Gradle tasks so that Gradle command mentioned above can work *Definition of done (at the minimum):* * Gradle command ment","output":"*Prologue:* * JIRA ticket: KAFKA-19174 * GitHub PR comment: [https://github.com/apache/kafka/pull/19513#discussion_r2365678027] *Scenario:* * checkout Kafka trunk and bump Gradle Shadow plugin version to 9+ * execute: *_./gradlew :jmh-benchmarks:shadowJar_* - build will fail (x) *Action points (what"}
{"instruction":"Extract key technical details from this issue:","input":"*Prologue:* * JIRA ticket: KAFKA-19174 * GitHub PR comment: [https://github.com/apache/kafka/pull/19513#discussion_r2365678027] *Scenario:* * checkout Kafka trunk and bump Gradle Shadow plugin version to 9+ * execute: *_./gradlew :jmh-benchmarks:shadowJar_* - build will fail (x) *Action points (what needs to be done):* * use `com.gradleup.shadow` recent version (9+) * reorder Gradle tasks so that Gradle command mentioned above can work *Definition of done (at the minimum):* * Gradle command mentioned above works as expected * also: *./gradlew releaseTarGz* works as expected * produced archive works as expected (Kafka cluster starts, messages can be produced/consumed, etc): [https://kafka.apache.org/quickstart]","output":"Reorder Gradle tasks (in order to bump Shadow plugin version)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"RecordTooLargeExceptions in group coordinator when offsets.topic.compression.codec is used\n\nThe coordinator runtime can be overly optimistic about compression ratios when filling up batches and can often overflow `max.message.bytes` of the topic. When this happens, all the group coordinator requests that wrote to the batch fail with an UNKNOWN_SERVER_ERROR. This error is non-retriable and disruptive to client applications.","output":"RecordTooLargeExceptions in group coordinator when offsets.topic.compression.codec is used"}
{"instruction":"Classify the status of this issue based on its description:","input":"RecordTooLargeExceptions in group coordinator when offsets.topic.compression.codec is used\n\nThe coordinator runtime can be overly optimistic about compression ratios when filling up batches and can often overflow `max.message.bytes` of the topic. When this happens, all the group coordinator requests that wrote to the batch fail with an UNKNOWN_SERVER_ERROR. This error is non-retriable and disruptive to client applications.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"RecordTooLargeExceptions in group coordinator when offsets.topic.compression.codec is used\n\nThe coordinator runtime can be overly optimistic about compression ratios when filling up batches and can often overflow `max.message.bytes` of the topic. When this happens, all the group coordinator requests that wrote to the batch fail with an UNKNOWN_SERVER_ERROR. This error is non-retriable and disruptive to client applications.","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: RecordTooLargeExceptions in group coordinator when offsets.topic.compression.codec is used\n\nThe coordinator runtime can be overly optimistic about compression ratios when filling up batches and can often overflow `max.message.bytes` of the topic. When this happens, all the group coordinator requests that wrote to the batch fail with an UNKNOWN_SERVER_ERROR. This error is non-retriable and disruptive to client applications.","output":"The coordinator runtime can be overly optimistic about compression ratios when filling up batches and can often overflow `max.message.bytes` of the topic. When this happens, all the group coordinator requests that wrote to the batch fail with an UNKNOWN_SERVER_ERROR. This error is non-retriable and "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"RecordTooLargeExceptions in group coordinator when offsets.topic.compression.codec is used\n\nThe coordinator runtime can be overly optimistic about compression ratios when filling up batches and can often overflow `max.message.bytes` of the topic. When this happens, all the group coordinator requests that wrote to the batch fail with an UNKNOWN_SERVER_ERROR. This error is non-retriable and disruptive to client applications.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The coordinator runtime can be overly optimistic about compression ratios when filling up batches and can often overflow `max.message.bytes` of the topic. When this happens, all the group coordinator requests that wrote to the batch fail with an UNKNOWN_SERVER_ERROR. This error is non-retriable and disruptive to client applications.","output":"RecordTooLargeExceptions in group coordinator when offsets.topic.compression.codec is used"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add built-in TTL (Time-to-Live) support for Kafka Streams State Stores\n\nIn business cases Kafka Streams users frequently need *per-key Time-To-Live (TTL)* behavior for state stores such as keyValueStore or kTables , typically to model cache-like or deduplication scenarios. Today, achieving this requires *manual handling* using: * Custom timestamp tracking per key, * Punctuators to periodically scan and remove expired entries, and * Manual emission of tombstones to maintain changelog consistency. These workarounds are: * {*}Inconsistent across applications{*}, and * {*}Operationally costly{*}, as each developer must reimplement the same logic. *Proposal* is to introduce a *built-in TTL mechanism* for Kafka Streams state stores, allowing automatic expiration of records after a configured duration. Introduction to new Api's like : StoreBuilder withTTL(Duration ttl); Materialized withTtl(Duration ttl); When configured: * Each record’s timestamp (from event-time or processing-time) is tracked. * Expired keys are automatically evicted by a background task (via ProcessorContext.Schedule()). * Corresponding tombstones are flushed to changelog. This feature can provide a *TTL abstraction* that simplifies common use cases as: * Maintaining cache-like state (e.g., last-seen values with limited lifespan) * Automatically purging inactive or stale keys without manual cleanup. Points of Risk and Benifits i considered it can bring : * Consistency as automatic changelog tombstones will preserve correctness across rebalances and restores. * Will help to avoid boilerplate punctuator code for manual expiration. * TTL is optional and opt-in; existing stores remain unaffected so backward compatibility would be maintaoined. Example to StateStore/ kTable inferface : KTable sessions = builder .table(\"sessions\", Materialized. >as(\"session-store\") .withTtl(Duration.ofHours(1)) .withValueSerde(userSessionSerde)); Here, session entries older than 1 hour will be automatically expired and deleted from the local RocksDB store and hence a flush ~ tombstone to changelog topic.","output":"Add built-in TTL (Time-to-Live) support for Kafka Streams State Stores"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add built-in TTL (Time-to-Live) support for Kafka Streams State Stores\n\nIn business cases Kafka Streams users frequently need *per-key Time-To-Live (TTL)* behavior for state stores such as keyValueStore or kTables , typically to model cache-like or deduplication scenarios. Today, achieving this requires *manual handling* using: * Custom timestamp tracking per key, * Punctuators to periodically scan and remove expired entries, and * Manual emission of tombstones to maintain changelog consistency. These workarounds are: * {*}Inconsistent across applications{*}, and * ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add built-in TTL (Time-to-Live) support for Kafka Streams State Stores\n\nIn business cases Kafka Streams users frequently need *per-key Time-To-Live (TTL)* behavior for state stores such as keyValueStore or kTables , typically to model cache-like or deduplication scenarios. Today, achieving this requires *manual handling* using: * Custom timestamp tracking per key, * Punctuators to periodically scan and remove expired entries, and * Manual emission of tombstones to maintain changelog consistency. These workarounds are: * {*}Inconsistent across applications{*}, and * ","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add built-in TTL (Time-to-Live) support for Kafka Streams State Stores\n\nIn business cases Kafka Streams users frequently need *per-key Time-To-Live (TTL)* behavior for state stores such as keyValueStore or kTables , typically to model cache-like or deduplication scenarios. Today, achieving this requires *manual handling* using: * Custom timestamp tracking per key, * Punctuators to periodically scan and remove expired entries, and * Manual emission of tombstones to maintain changelog consistency. These workarounds are: * {*}Inconsistent across applications{*}, and * ","output":"In business cases Kafka Streams users frequently need *per-key Time-To-Live (TTL)* behavior for state stores such as keyValueStore or kTables , typically to model cache-like or deduplication scenarios. Today, achieving this requires *manual handling* using: * Custom timestamp tracking per key, * Pun"}
{"instruction":"Extract key technical details from this issue:","input":"In business cases Kafka Streams users frequently need *per-key Time-To-Live (TTL)* behavior for state stores such as keyValueStore or kTables , typically to model cache-like or deduplication scenarios. Today, achieving this requires *manual handling* using: * Custom timestamp tracking per key, * Punctuators to periodically scan and remove expired entries, and * Manual emission of tombstones to maintain changelog consistency. These workarounds are: * {*}Inconsistent across applications{*}, and * {*}Operationally costly{*}, as each developer must reimplement the same logic. *Proposal* is to introduce a *built-in TTL mechanism* for Kafka Streams state stores, allowing automatic expiration of records after a configured duration. Introduction to new Api's like : StoreBuilder withTTL(Duration tt","output":"Add built-in TTL (Time-to-Live) support for Kafka Streams State Stores"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Weird behavior on Kafka Connect 4.1 class loading\n\nI have the https://github.com/debezium/debezium/blob/main/debezium-openlineage/debezium-openlineage-api/src/main/java/io/debezium/openlineage/DebeziumOpenLineageEmitter.java class in the *debezium-openlineage-api* that internally has a static map to maintain the registered emitter, the key of this map is \"connectoLogicalName-taskid\" Then there is the https://github.com/debezium/debezium/blob/main/debezium-core/src/main/java/io/debezium/transforms/openlineage/OpenLineage.java, which is part of the *debezium-core.* In this SMT, I simply pass the same context to instantiate the same emitter via the connector. Now I'm running the following image {code:java} FROM quay.io/debezium/connect:3.3.0.Final ENV MAVEN_REPO=\"https://repo1.maven.org/maven2\" ENV GROUP_ID=\"io/debezium\" ENV DEBEZIUM_VERSION=\"3.3.0.Final\" ENV ARTIFACT_ID=\"debezium-openlineage-core\" ENV CLASSIFIER=\"-libs\" COPY log4j.properties /kafka/config/log4j.properties Add OpenLineage RUN mkdir -p /tmp/openlineage-libs && \\ curl \"$MAVEN_REPO/$GROUP_ID/$ARTIFACT_ID/$DEBEZIUM_VERSION/$ARTIFACT_ID-${DEBEZIUM_VERSION}${CLASSIFIER}.tar.gz\" -o /tmp/debezium-openlineage-core-libs.tar.gz && \\ tar -xzvf /tmp/debezium-openlineage-core-libs.tar.gz -C /tmp/openlineage-libs --strip-components=1 RUN cp -r /tmp/openlineage-libs/* /kafka/connect/debezium-connector-postgres/ RUN cp -r /tmp/openlineage-libs/* /kafka/connect/debezium-connector-mongodb/ ADD openlineage.yml /kafka/ {code} So is practically debezium connect image with just openlineage jars copied into postgres and mongodb connector folders. When I register the PostgreSQL connector {code:java} { \"name\": \"inventory-connector-postgres\", \"config\": { \"connector.class\": \"io.debezium.connector.postgresql.PostgresConnector\", \"tasks.max\": \"1\", \"database.hostname\": \"postgres\", \"database.port\": \"5432\", \"database.user\": \"postgres\", \"database.password\": \"postgres\", \"database.server.id\": \"184054\", \"database.dbname\": \"postgres\", \"topic.prefix\": \"inventory\", \"snapshot.mode\": \"initial\", \"schema.history.internal.kafka.bootstrap.servers\": \"kafka:9092\", \"schema.history.internal.kafka.topic\": \"schema-changes.inventory\", \"slot.name\": \"postgres\", \"openlineage.integration.enabled\": \"true\", \"openlineage.integration.config.file.path\": \"/kafka/openlineage.yml\", \"openlineage.integration.job.description\": \"This connector does cdc for products\", \"openlineage.integration.tags\": \"env=prod,team=cdc\", \"openlineage.integration.owners\": \"Mario=maintainer,John Doe=Data scientist,IronMan=superero\", \"transforms\": \"openlineage\", \"transforms.openlineage.type\": \"io.debezium.transforms.openlineage.OpenLineage\" } } {code} I get the following error {code:java} 2025-10-03T14:22:09,761 ERROR || WorkerSourceTask{id=inventory-connector-postgres-0} Task threw an uncaught and unrecoverable exception. Task is being killed and will not recover until manually restarted [org.apache.kafka.connect.runtime.WorkerTask] org.apache.kafka.connect.errors.ConnectException: Tolerance exceeded in error handler at org.apache.kafka.connect.runtime.errors.RetryWithToleranceOperator.execAndHandleError(RetryWithToleranceOperator.java:260) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.errors.RetryWithToleranceOperator.execute(RetryWithToleranceOperator.java:180) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.TransformationChain.apply(TransformationChain.java:58) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.AbstractWorkerSourceTask.sendRecords(AbstractWorkerSourceTask.java:415) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.AbstractWorkerSourceTask.execute(AbstractWorkerSourceTask.java:376) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:243) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:298) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.AbstractWorkerSourceTask.run(AbstractWorkerSourceTask.java:83) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.isolation.Plugins.lambda$withClassLoader$1(Plugins.java:254) ~[connect-runtime-4.1.0.jar:?] at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?] at java.base/java.lang.Thread.run(Thread.java:1583) [?:?] Caused by: java.lang.IllegalStateException: DebeziumOpenLineageEmitter not initialized for connector ConnectorContext[connectorLogicalName=inventory, connectorName=postgresql, taskId=0, version=null, config=null]. Call init() first. at io.debezium.openlineage.DebeziumOpenLineageEmitter.getEmitter(DebeziumOpenLineageEmitter.java:176) ~[debezium-openlineage-api-3.3.0.Final.jar:3.3.0.Final] at io.debezium.openlineage.DebeziumOpenLineageEmitter.emit(DebeziumOpenLineageEmitter.java:153) ~[debezium-openlineage-api-3.3.0.Final.jar:3.3.0.Final] at io.debezium.transforms.openlineage.OpenLineage.apply(OpenLineage.java:74) ~[debezium-core-3.3.0.Final.jar:3.3.0.Final] at org.apache.kafka.connect.runtime.TransformationStage.apply(TransformationStage.java:95) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.TransformationChain.lambda$apply$0(TransformationChain.java:58) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.errors.RetryWithToleranceOperator.execAndRetry(RetryWithToleranceOperator.java:208) ~[connect-runtime-4.1.0.jar:?] at org.apache.kafka.connect.runtime.errors.RetryWithToleranceOperator.execAndHandleError(RetryWithToleranceOperator.java:244) ~[connect-runtime-4.1.0.jar:?] ... 13 more {code} Full logs [^connect-service.log] This is evidence that the emitters map is not shared between the connector and the SMT. The situation becomes weirder if I remove all connectors from the image except PostgreSQL and MongoDB. In that case, the PostgreSQL connector works perfectly. The plugins are in the folder */kafka/connect* (that is, the only `plugin.path` configured folder), each under a dedicated folder with their dependencies. I then started to add more connectors, and it continued to work until I added the SQL Server connector. To summarize, the problem arises when I put one or all of [sqlserver, spanner,vitess]. The commonality for these connectors seems to be that they support multi-task. The others don't. Am I correct that Kafka Connect guarantees that each connector is loaded with an isolated class loader with its dependencies so that the static emitters should be shared between the Connector and the SMT? To add more, if I run the image from 3.2.0.Final (so Kafka 4.0.0) with all connectors, it works fine. I did other tests, and things are more and more weird. All tests were done with *{{plugin.path=/kafka/connect}}* and *KC 4.1* My original tests were with this directory structure {code:java} /kafka/connect |___ debezium-connector-postgres |___ debezium-connector-mongodb |___ debezium-connector-sqlserver{code} In this case, each connector should be isolated from each others (having a dedicated class loader). In that case, the sharing between the connector and SMT does not work for KC 4.0 Then I tried with {code:java} /kafka/connect |___ debezium-connectors |___ debezium-connector-postgres |___ debezium-connector-mongodb |___ debezium-connector-sqlserver{code} So all connectors are not isolated and share the same class loader. In this case, no issue. And I'll say that this is expected. Then I tried with {code:java} /kafka/connect |___ debezium-connectors | |___ debezium-connector-postgres | |___ debezium-connector-mongodb |___ debezium-connector-sqlserver{code} where *{{postgres}}* and *{{mongodb}}* are not isolated (same classloader) and *{{sqlserver}}* is isolated (different classloader), and in this case, it still works. I expected this to fail as with the first setup. The SMT is in the *debezium-core* jar that and each connector has its own copy So in each connector folder, there are: {code:java} debezium-api-3.3.0.Final.jar debezium-common-3.3.0.Final.jar debezium-connector-[connectorName]-3.3.0.Final.jar debezium-core-3.3.0.Final.jar debezium-openlineage-api-3.3.0.Final.jar{code}","output":"Weird behavior on Kafka Connect 4.1 class loading"}
{"instruction":"Classify the status of this issue based on its description:","input":"Weird behavior on Kafka Connect 4.1 class loading\n\nI have the https://github.com/debezium/debezium/blob/main/debezium-openlineage/debezium-openlineage-api/src/main/java/io/debezium/openlineage/DebeziumOpenLineageEmitter.java class in the *debezium-openlineage-api* that internally has a static map to maintain the registered emitter, the key of this map is \"connectoLogicalName-taskid\" Then there is the https://github.com/debezium/debezium/blob/main/debezium-core/src/main/java/io/debezium/transforms/openlineage/OpenLineage.java, which is part of th","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Weird behavior on Kafka Connect 4.1 class loading\n\nI have the https://github.com/debezium/debezium/blob/main/debezium-openlineage/debezium-openlineage-api/src/main/java/io/debezium/openlineage/DebeziumOpenLineageEmitter.java class in the *debezium-openlineage-api* that internally has a static map to maintain the registered emitter, the key of this map is \"connectoLogicalName-taskid\" Then there is the https://github.com/debezium/debezium/blob/main/debezium-core/src/main/java/io/debezium/transforms/openlineage/OpenLineage.java, which is part of th","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Weird behavior on Kafka Connect 4.1 class loading\n\nI have the https://github.com/debezium/debezium/blob/main/debezium-openlineage/debezium-openlineage-api/src/main/java/io/debezium/openlineage/DebeziumOpenLineageEmitter.java class in the *debezium-openlineage-api* that internally has a static map to maintain the registered emitter, the key of this map is \"connectoLogicalName-taskid\" Then there is the https://github.com/debezium/debezium/blob/main/debezium-core/src/main/java/io/debezium/transforms/openlineage/OpenLineage.java, which is part of th","output":"I have the https://github.com/debezium/debezium/blob/main/debezium-openlineage/debezium-openlineage-api/src/main/java/io/debezium/openlineage/DebeziumOpenLineageEmitter.java class in the *debezium-openlineage-api* that internally has a static map to maintain the registered emitter, the key of this m"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Weird behavior on Kafka Connect 4.1 class loading\n\nI have the https://github.com/debezium/debezium/blob/main/debezium-openlineage/debezium-openlineage-api/src/main/java/io/debezium/openlineage/DebeziumOpenLineageEmitter.java class in the *debezium-openlineage-api* that internally has a static map to maintain the registered emitter, the key of this map is \"connectoLogicalName-taskid\" Then there is the https://github.com/debezium/debezium/blob/main/debezium-core/src/main/java/io/debezium/transforms/openlineage/OpenLineage.java, which is part of th","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"I have the https://github.com/debezium/debezium/blob/main/debezium-openlineage/debezium-openlineage-api/src/main/java/io/debezium/openlineage/DebeziumOpenLineageEmitter.java class in the *debezium-openlineage-api* that internally has a static map to maintain the registered emitter, the key of this map is \"connectoLogicalName-taskid\" Then there is the https://github.com/debezium/debezium/blob/main/debezium-core/src/main/java/io/debezium/transforms/openlineage/OpenLineage.java, which is part of the *debezium-core.* In this SMT, I simply pass the same context to instantiate the same emitter via the connector. Now I'm running the following image {code:java} FROM quay.io/debezium/connect:3.3.0.Final ENV MAVEN_REPO=\"https://repo1.maven.org/maven2\" ENV GROUP_ID=\"io/debezium\" ENV DEBEZIUM_VERSION=","output":"Weird behavior on Kafka Connect 4.1 class loading"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Write down the steps for upgrading Gradle\n\nNormally, we only update `gradle-wrapper.properties` and `dependencies.gradle`, but that process is incomplete. The correct steps are shown below. # upgrade gradle-wrapper.properties to the latest gradle # upgrade dependencies.gradle as well # use latest gradle to run command `gradle wrapper`to update gradlew # update wrapper.gradle to ensure the generated \"download command\" works well","output":"Write down the steps for upgrading Gradle"}
{"instruction":"Classify the status of this issue based on its description:","input":"Write down the steps for upgrading Gradle\n\nNormally, we only update `gradle-wrapper.properties` and `dependencies.gradle`, but that process is incomplete. The correct steps are shown below. # upgrade gradle-wrapper.properties to the latest gradle # upgrade dependencies.gradle as well # use latest gradle to run command `gradle wrapper`to update gradlew # update wrapper.gradle to ensure the generated \"download command\" works well","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Write down the steps for upgrading Gradle\n\nNormally, we only update `gradle-wrapper.properties` and `dependencies.gradle`, but that process is incomplete. The correct steps are shown below. # upgrade gradle-wrapper.properties to the latest gradle # upgrade dependencies.gradle as well # use latest gradle to run command `gradle wrapper`to update gradlew # update wrapper.gradle to ensure the generated \"download command\" works well","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Write down the steps for upgrading Gradle\n\nNormally, we only update `gradle-wrapper.properties` and `dependencies.gradle`, but that process is incomplete. The correct steps are shown below. # upgrade gradle-wrapper.properties to the latest gradle # upgrade dependencies.gradle as well # use latest gradle to run command `gradle wrapper`to update gradlew # update wrapper.gradle to ensure the generated \"download command\" works well","output":"Normally, we only update `gradle-wrapper.properties` and `dependencies.gradle`, but that process is incomplete. The correct steps are shown below. # upgrade gradle-wrapper.properties to the latest gradle # upgrade dependencies.gradle as well # use latest gradle to run command `gradle wrapper`to upda"}
{"instruction":"Extract key technical details from this issue:","input":"Normally, we only update `gradle-wrapper.properties` and `dependencies.gradle`, but that process is incomplete. The correct steps are shown below. # upgrade gradle-wrapper.properties to the latest gradle # upgrade dependencies.gradle as well # use latest gradle to run command `gradle wrapper`to update gradlew # update wrapper.gradle to ensure the generated \"download command\" works well","output":"Write down the steps for upgrading Gradle"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Move `KRaftClusterTest` from core module to server module\n\nIt should include following tasks # rewrite by java # move to server module","output":"Move `KRaftClusterTest` from core module to server module"}
{"instruction":"Classify the status of this issue based on its description:","input":"Move `KRaftClusterTest` from core module to server module\n\nIt should include following tasks # rewrite by java # move to server module","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Move `KRaftClusterTest` from core module to server module\n\nIt should include following tasks # rewrite by java # move to server module","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Move `KRaftClusterTest` from core module to server module\n\nIt should include following tasks # rewrite by java # move to server module","output":"It should include following tasks # rewrite by java # move to server module"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add RPC-level integration tests for StreamsGroupDescribe\n\nAdd integration tests similar to {{ShareGroupDescribeRequestTest}} and {{ConsumerGroupDescribeRequestTest for StreamsGroupDescribeRequest}}","output":"Add RPC-level integration tests for StreamsGroupDescribe"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add RPC-level integration tests for StreamsGroupDescribe\n\nAdd integration tests similar to {{ShareGroupDescribeRequestTest}} and {{ConsumerGroupDescribeRequestTest for StreamsGroupDescribeRequest}}","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add RPC-level integration tests for StreamsGroupDescribe\n\nAdd integration tests similar to {{ShareGroupDescribeRequestTest}} and {{ConsumerGroupDescribeRequestTest for StreamsGroupDescribeRequest}}","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add RPC-level integration tests for StreamsGroupDescribe\n\nAdd integration tests similar to {{ShareGroupDescribeRequestTest}} and {{ConsumerGroupDescribeRequestTest for StreamsGroupDescribeRequest}}","output":"Add integration tests similar to {{ShareGroupDescribeRequestTest}} and {{ConsumerGroupDescribeRequestTest for StreamsGroupDescribeRequest}}"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add RPC-level integration tests for StreamsGroupDescribe\n\nAdd integration tests similar to {{ShareGroupDescribeRequestTest}} and {{ConsumerGroupDescribeRequestTest for StreamsGroupDescribeRequest}}","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Add integration tests similar to {{ShareGroupDescribeRequestTest}} and {{ConsumerGroupDescribeRequestTest for StreamsGroupDescribeRequest}}","output":"Add RPC-level integration tests for StreamsGroupDescribe"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Metrics from FetchMetricsManager containing a topic tag are duplicated\n\nHello, Since Kafka 4.1.0, we're experiencing an issue with Kafka Streams metrics for topics containing dots in their names. (I think the problem is also for simple usage of consumers not only kstream) In FetchMetricsManager, methods like {{recordRecordsFetched()}} now create duplicate sensors for the same topic if they contain dot in their name: {code:java} void recordRecordsFetched(String topic, int records) { String name = topicRecordsFetchedMetricName(topic); maybeRecordDeprecatedRecordsFetched(name, topic, records); Map.of(\"topic\", topic)) .withAvg(metricsRegistry.topicRecordsPerRequestAvg) .withMeter(metricsRegistry.topicRecordsConsumedRate, metricsRegistry.topicRecordsConsumedTotal) .build(); recordsFetched.record(records); } {code} It currently record two sensors, one with my original topic name, one time with a topic name with dots replaced by underscore. -While we can work around this by reversing the transformation in our case (replacing underscores back to dots in Micrometer filters) or by removing this specific list of metrics, this does not feel like a long-term solution for us.- Currently using spring-boot and micrometer, it's really hard to remove one of those duplicated metrics. Could a configuration option be added to disable one of the two sensor to avoid having duplicated metrics? Thanks in advance","output":"Metrics from FetchMetricsManager containing a topic tag are duplicated"}
{"instruction":"Classify the status of this issue based on its description:","input":"Metrics from FetchMetricsManager containing a topic tag are duplicated\n\nHello, Since Kafka 4.1.0, we're experiencing an issue with Kafka Streams metrics for topics containing dots in their names. (I think the problem is also for simple usage of consumers not only kstream) In FetchMetricsManager, methods like {{recordRecordsFetched()}} now create duplicate sensors for the same topic if they contain dot in their name: {code:java} void recordRecordsFetched(String topic, int records) { String name = topicRecordsFetchedMetricName(topic); maybeRecordDeprecatedRecordsFetch","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Metrics from FetchMetricsManager containing a topic tag are duplicated\n\nHello, Since Kafka 4.1.0, we're experiencing an issue with Kafka Streams metrics for topics containing dots in their names. (I think the problem is also for simple usage of consumers not only kstream) In FetchMetricsManager, methods like {{recordRecordsFetched()}} now create duplicate sensors for the same topic if they contain dot in their name: {code:java} void recordRecordsFetched(String topic, int records) { String name = topicRecordsFetchedMetricName(topic); maybeRecordDeprecatedRecordsFetch","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Metrics from FetchMetricsManager containing a topic tag are duplicated\n\nHello, Since Kafka 4.1.0, we're experiencing an issue with Kafka Streams metrics for topics containing dots in their names. (I think the problem is also for simple usage of consumers not only kstream) In FetchMetricsManager, methods like {{recordRecordsFetched()}} now create duplicate sensors for the same topic if they contain dot in their name: {code:java} void recordRecordsFetched(String topic, int records) { String name = topicRecordsFetchedMetricName(topic); maybeRecordDeprecatedRecordsFetch","output":"Hello, Since Kafka 4.1.0, we're experiencing an issue with Kafka Streams metrics for topics containing dots in their names. (I think the problem is also for simple usage of consumers not only kstream) In FetchMetricsManager, methods like {{recordRecordsFetched()}} now create duplicate sensors for th"}
{"instruction":"Extract key technical details from this issue:","input":"Hello, Since Kafka 4.1.0, we're experiencing an issue with Kafka Streams metrics for topics containing dots in their names. (I think the problem is also for simple usage of consumers not only kstream) In FetchMetricsManager, methods like {{recordRecordsFetched()}} now create duplicate sensors for the same topic if they contain dot in their name: {code:java} void recordRecordsFetched(String topic, int records) { String name = topicRecordsFetchedMetricName(topic); maybeRecordDeprecatedRecordsFetched(name, topic, records); Map.of(\"topic\", topic)) .withAvg(metricsRegistry.topicRecordsPerRequestAvg) .withMeter(metricsRegistry.topicRecordsConsumedRate, metricsRegistry.topicRecordsConsumedTotal) .build(); recordsFetched.record(records); } {code} It currently record two sensors, one with my origin","output":"Metrics from FetchMetricsManager containing a topic tag are duplicated"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix the \"6.6 Java Version\" for branch 3.9\n\nsee https://lists.apache.org/thread/xv04txcy4wwtpkn1zfqxqf95098ls61h","output":"Fix the \"6.6 Java Version\" for branch 3.9"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix the \"6.6 Java Version\" for branch 3.9\n\nsee https://lists.apache.org/thread/xv04txcy4wwtpkn1zfqxqf95098ls61h","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Fix the \"6.6 Java Version\" for branch 3.9\n\nsee https://lists.apache.org/thread/xv04txcy4wwtpkn1zfqxqf95098ls61h","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix the \"6.6 Java Version\" for branch 3.9\n\nsee https://lists.apache.org/thread/xv04txcy4wwtpkn1zfqxqf95098ls61h","output":"see https://lists.apache.org/thread/xv04txcy4wwtpkn1zfqxqf95098ls61h"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Address the compileClasspath resolution warnings for the `releaseTarGz` task\n\n{code:java} [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated. (1) - [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated.This will fail with an error in Gradle 9.0. - Locations- ` `- `:core:releaseTarGz` {code} The issue was introduced by [https://github.com/apache/kafka/pull/13454] `tools-api` is already in core module runtime path, so adding it to `releaseTarGz` causes the resolution conflicts, which will be a fatal error in gradle 9","output":"Address the compileClasspath resolution warnings for the `releaseTarGz` task"}
{"instruction":"Classify the status of this issue based on its description:","input":"Address the compileClasspath resolution warnings for the `releaseTarGz` task\n\n{code:java} [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated. (1) - [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and h","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Address the compileClasspath resolution warnings for the `releaseTarGz` task\n\n{code:java} [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated. (1) - [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and h","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Address the compileClasspath resolution warnings for the `releaseTarGz` task\n\n{code:java} [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated. (1) - [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and h","output":"{code:java} [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated. (1) - [warn] Resol"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Address the compileClasspath resolution warnings for the `releaseTarGz` task\n\n{code:java} [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated. (1) - [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and h","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"{code:java} [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated. (1) - [warn] Resolution of the configuration :tools:tools-api:runtimeClasspath was attempted from a context different than the project context. Have a look at the documentation to understand why this is a problem and how it can be resolved. This behavior has been deprecated.This will fail with an error in Gradle 9.0. - Locations- ` `- `:core:releaseTarGz` {code} The issue was introduced by [https://github.com/apache/kafka/pull/13454] `tools-api` is already in core module runtime path, so adding it to `releaseTarG","output":"Address the compileClasspath resolution warnings for the `releaseTarGz` task"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"The `version-mapping` of kafka-features.sh should work without requiring the bootstrap\n\nIt shows the following error. {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-features.sh version-mapping usage: kafka-features [-h] [--command-config COMMAND_CONFIG] (--bootstrap-server BOOTSTRAP_SERVER | --bootstrap-controller BOOTSTRAP_CONTROLLER) {describe,upgrade,downgrade,disable,version-mapping,feature-dependencies} ... kafka-features: error: one of the arguments --bootstrap-server --bootstrap-controller is required {code} By contrast, storage tool works well {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-storage.sh version-mapping metadata.version=27 (4.1-IV1) kraft.version=1 transaction.version=2 group.version=1 eligible.leader.replicas.version=1 share.version=0 streams.version=0 {code}","output":"The `version-mapping` of kafka-features.sh should work without requiring the bootstrap"}
{"instruction":"Classify the status of this issue based on its description:","input":"The `version-mapping` of kafka-features.sh should work without requiring the bootstrap\n\nIt shows the following error. {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-features.sh version-mapping usage: kafka-features [-h] [--command-config COMMAND_CONFIG] (--bootstrap-server BOOTSTRAP_SERVER | --bootstrap-controller BOOTSTRAP_CONTROLLER) {describe,upgrade,downgrade,disable,version-mapping,feature-dependencies} ... kafka-features: error: one of the arguments --bootstrap-server --bootstrap-controller is required {code} By contrast, storage tool works well {code:java} chia7712","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"The `version-mapping` of kafka-features.sh should work without requiring the bootstrap\n\nIt shows the following error. {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-features.sh version-mapping usage: kafka-features [-h] [--command-config COMMAND_CONFIG] (--bootstrap-server BOOTSTRAP_SERVER | --bootstrap-controller BOOTSTRAP_CONTROLLER) {describe,upgrade,downgrade,disable,version-mapping,feature-dependencies} ... kafka-features: error: one of the arguments --bootstrap-server --bootstrap-controller is required {code} By contrast, storage tool works well {code:java} chia7712","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: The `version-mapping` of kafka-features.sh should work without requiring the bootstrap\n\nIt shows the following error. {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-features.sh version-mapping usage: kafka-features [-h] [--command-config COMMAND_CONFIG] (--bootstrap-server BOOTSTRAP_SERVER | --bootstrap-controller BOOTSTRAP_CONTROLLER) {describe,upgrade,downgrade,disable,version-mapping,feature-dependencies} ... kafka-features: error: one of the arguments --bootstrap-server --bootstrap-controller is required {code} By contrast, storage tool works well {code:java} chia7712","output":"It shows the following error. {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-features.sh version-mapping usage: kafka-features [-h] [--command-config COMMAND_CONFIG] (--bootstrap-server BOOTSTRAP_SERVER | --bootstrap-controller BOOTSTRAP_CONTROLLER) {describe,upgrade,downgrade,disable,vers"}
{"instruction":"Extract key technical details from this issue:","input":"It shows the following error. {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-features.sh version-mapping usage: kafka-features [-h] [--command-config COMMAND_CONFIG] (--bootstrap-server BOOTSTRAP_SERVER | --bootstrap-controller BOOTSTRAP_CONTROLLER) {describe,upgrade,downgrade,disable,version-mapping,feature-dependencies} ... kafka-features: error: one of the arguments --bootstrap-server --bootstrap-controller is required {code} By contrast, storage tool works well {code:java} chia7712@fedora:~/project/kafka$ ./bin/kafka-storage.sh version-mapping metadata.version=27 (4.1-IV1) kraft.version=1 transaction.version=2 group.version=1 eligible.leader.replicas.version=1 share.version=0 streams.version=0 {code}","output":"The `version-mapping` of kafka-features.sh should work without requiring the bootstrap"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Memory leak using range scans\n\nWe introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors. Thanks to eduwerc and hermankj for reporting this issue. Anybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like session-windows, sliding-windows, stream-stream joins, and FK-join all use range scans internally, so the number of affected users is expected to be quite high.","output":"Memory leak using range scans"}
{"instruction":"Classify the status of this issue based on its description:","input":"Memory leak using range scans\n\nWe introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors. Thanks to eduwerc and hermankj for reporting this issue. Anybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like session-windows, sliding-windows, stream-stream joins, and FK-join all use range scans internally, so the number of affected users is expected to be quite high.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Memory leak using range scans\n\nWe introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors. Thanks to eduwerc and hermankj for reporting this issue. Anybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like session-windows, sliding-windows, stream-stream joins, and FK-join all use range scans internally, so the number of affected users is expected to be quite high.","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Memory leak using range scans\n\nWe introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors. Thanks to eduwerc and hermankj for reporting this issue. Anybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like session-windows, sliding-windows, stream-stream joins, and FK-join all use range scans internally, so the number of affected users is expected to be quite high.","output":"We introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors. Thanks to eduwerc and hermankj for reporting this issue. Anybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like sessio"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Memory leak using range scans\n\nWe introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors. Thanks to eduwerc and hermankj for reporting this issue. Anybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like session-windows, sliding-windows, stream-stream joins, and FK-join all use range scans internally, so the number of affected users is expected to be quite high.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors. Thanks to eduwerc and hermankj for reporting this issue. Anybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like session-windows, sliding-windows, stream-stream joins, and FK-join all use range scans internally, so the number of affected users is expected to be quite high.","output":"Memory leak using range scans"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve handling of failed push telemetry request\n\nWhen a failure occurs with a push telemetry request, any exception is treated as fatal, causing telemetry to be turned off. We can enhance this error handling to check if the exception is a transient one with expected recovery, and not turn off telemetry in those cases.","output":"Improve handling of failed push telemetry request"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve handling of failed push telemetry request\n\nWhen a failure occurs with a push telemetry request, any exception is treated as fatal, causing telemetry to be turned off. We can enhance this error handling to check if the exception is a transient one with expected recovery, and not turn off telemetry in those cases.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Improve handling of failed push telemetry request\n\nWhen a failure occurs with a push telemetry request, any exception is treated as fatal, causing telemetry to be turned off. We can enhance this error handling to check if the exception is a transient one with expected recovery, and not turn off telemetry in those cases.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve handling of failed push telemetry request\n\nWhen a failure occurs with a push telemetry request, any exception is treated as fatal, causing telemetry to be turned off. We can enhance this error handling to check if the exception is a transient one with expected recovery, and not turn off telemetry in those cases.","output":"When a failure occurs with a push telemetry request, any exception is treated as fatal, causing telemetry to be turned off. We can enhance this error handling to check if the exception is a transient one with expected recovery, and not turn off telemetry in those cases."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Improve handling of failed push telemetry request\n\nWhen a failure occurs with a push telemetry request, any exception is treated as fatal, causing telemetry to be turned off. We can enhance this error handling to check if the exception is a transient one with expected recovery, and not turn off telemetry in those cases.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When a failure occurs with a push telemetry request, any exception is treated as fatal, causing telemetry to be turned off. We can enhance this error handling to check if the exception is a transient one with expected recovery, and not turn off telemetry in those cases.","output":"Improve handling of failed push telemetry request"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Tools | Fix order of arguments to assertEquals in unit test\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the tools package.","output":"Tools | Fix order of arguments to assertEquals in unit test"}
{"instruction":"Classify the status of this issue based on its description:","input":"Tools | Fix order of arguments to assertEquals in unit test\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the tools package.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Tools | Fix order of arguments to assertEquals in unit test\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the tools package.","output":"Trivial"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Tools | Fix order of arguments to assertEquals in unit test\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the tools package.","output":"This sub-task is intended to fix the order of arguments passed in assertions in test cases within the tools package."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Tools | Fix order of arguments to assertEquals in unit test\n\nThis sub-task is intended to fix the order of arguments passed in assertions in test cases within the tools package.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"This sub-task is intended to fix the order of arguments passed in assertions in test cases within the tools package.","output":"Tools | Fix order of arguments to assertEquals in unit test"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add support for podman when running system tests\n\nAdd support for using podman within system tests.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add support for podman when running system tests\n\nAdd support for using podman within system tests.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add support for podman when running system tests\n\nAdd support for using podman within system tests.","output":"Add support for using podman within system tests."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add support for podman when running system tests\n\nAdd support for using podman within system tests.","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Restore metrics are calculated incorrectly\n\nRestore metrics are calculated by measuring the time of the init method: [https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStore.java#L135] But the restoration process has been moved to the poll loop: [https://github.com/apache/kafka/commit/b78d7ba5d58fa77b831244444eef005a62883f9b]","output":"Restore metrics are calculated incorrectly"}
{"instruction":"Classify the status of this issue based on its description:","input":"Restore metrics are calculated incorrectly\n\nRestore metrics are calculated by measuring the time of the init method: [https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStore.java#L135] But the restoration process has been moved to the poll loop: [https://github.com/apache/kafka/commit/b78d7ba5d58fa77b831244444eef005a62883f9b]","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Restore metrics are calculated incorrectly\n\nRestore metrics are calculated by measuring the time of the init method: [https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStore.java#L135] But the restoration process has been moved to the poll loop: [https://github.com/apache/kafka/commit/b78d7ba5d58fa77b831244444eef005a62883f9b]","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Restore metrics are calculated incorrectly\n\nRestore metrics are calculated by measuring the time of the init method: [https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStore.java#L135] But the restoration process has been moved to the poll loop: [https://github.com/apache/kafka/commit/b78d7ba5d58fa77b831244444eef005a62883f9b]","output":"Restore metrics are calculated by measuring the time of the init method: [https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStore.java#L135] But the restoration process has been moved to the poll loop: [https://github.com/apache/"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Restore metrics are calculated incorrectly\n\nRestore metrics are calculated by measuring the time of the init method: [https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStore.java#L135] But the restoration process has been moved to the poll loop: [https://github.com/apache/kafka/commit/b78d7ba5d58fa77b831244444eef005a62883f9b]","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Restore metrics are calculated by measuring the time of the init method: [https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStore.java#L135] But the restoration process has been moved to the poll loop: [https://github.com/apache/kafka/commit/b78d7ba5d58fa77b831244444eef005a62883f9b]","output":"Restore metrics are calculated incorrectly"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[DISCUSS] Exploring Compile-time AST Generation as an Alternative Approach for Kafka Protocol Classes\n\nh2. 1. Background & Motivation Currently, Kafka uses a JSON template-based pre-generation approach to create protocol classes under {{{}org.apache.kafka.common.message{}}}. This solution is mature, stable, and provides excellent multi-language support. However, I've been considering whether we could provide an alternative *compile-time code generation* approach for the Java ecosystem, similar to the AST modification technology used by Lombok. This approach might offer better development experience in certain scenarios. h2. 2. Proposal Overview {*}Core Idea{*}: Use annotation processors to directly modify the AST during compilation, dynamically generating complete implementations of protocol classes instead of pre-generating Java source files. {*}Example Implementation Concept{*}: {code:java} @KafkaMessage(apiKey = 1, version = \"0.1.0\") public class FetchRequestSpec { @ProtocolField(type = \"string\", order = 1) private String groupId; @ProtocolField(type = \"int16\", order = 2) private short acks; // More fields... }{code} h2. 3. Comparative Analysis ||Aspect||Current Template Approach||Compile-time AST Approach||Hybrid Possibility|| |*Development Experience*|Requires viewing generated source files|Cleaner source code, Lombok-like|AST during development, pre-gen for release| |*Build Process*|Explicit pre-generation step|Integrated into standard compilation|Configurable generation strategy| |*Debugging Support*|✅ Full source-level debugging|⚠️ Requires IDE plugin support|Source output on demand| |*Multi-language Support*|✅ Single definition, multiple outputs|❌ Java-only|Preserve existing multi-language capabilities| |*Performance Impact*|One-time generation at build time|Regeneration on each compilation|Smart caching mechanism| h2. 4. Potential Value * {*}Faster Development Iteration{*}: Immediate compilation after protocol definition changes, no pre-generation step required * {*}Source Code Cleanliness{*}: Avoid polluting codebase with大量 generated boilerplate code * {*}Type Safety{*}: Stricter protocol constraint checking at compile time * {*}Alignment with Modern Java Patterns{*}: Similar to Quarkus, Micronaut's compile-time processing philosophy h2. 5. Feasibility Considerations I understand the potential challenges this approach might face: * Compatibility with existing multi-language ecosystem * Ensuring debugging experience * Increased build system complexity * Community learning curve Therefore, I suggest we could: # {*}Offer as Optional Approach{*}: Doesn't disrupt existing workflow, serves as alternative during development # {*}Incremental Implementation{*}: Start with small scope or new modules for experimentation # {*}Toolchain Support{*}: Provide source output mode to ensure debugging capability h2. 6. Next Steps & Recommendations If the community finds this direction interesting, I'm willing to: * Create a Proof of Concept (POC) implementation to demonstrate concrete results * Participate in relevant discussions and design work * Assist with performance benchmarking and compatibility validation Thank you for taking the time to review this proposal. I look forward to further discussing this idea with the community, and whether it is ultimately adopted or not, I appreciate the opportunity to share my thoughts with the community.","output":"[DISCUSS] Exploring Compile-time AST Generation as an Alternative Approach for Kafka Protocol Classes"}
{"instruction":"Classify the status of this issue based on its description:","input":"[DISCUSS] Exploring Compile-time AST Generation as an Alternative Approach for Kafka Protocol Classes\n\nh2. 1. Background & Motivation Currently, Kafka uses a JSON template-based pre-generation approach to create protocol classes under {{{}org.apache.kafka.common.message{}}}. This solution is mature, stable, and provides excellent multi-language support. However, I've been considering whether we could provide an alternative *compile-time code generation* approach for the Java ecosystem, similar to the AST modification technology used by Lombok. This approach might offer better development experien","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"[DISCUSS] Exploring Compile-time AST Generation as an Alternative Approach for Kafka Protocol Classes\n\nh2. 1. Background & Motivation Currently, Kafka uses a JSON template-based pre-generation approach to create protocol classes under {{{}org.apache.kafka.common.message{}}}. This solution is mature, stable, and provides excellent multi-language support. However, I've been considering whether we could provide an alternative *compile-time code generation* approach for the Java ecosystem, similar to the AST modification technology used by Lombok. This approach might offer better development experien","output":"Trivial"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [DISCUSS] Exploring Compile-time AST Generation as an Alternative Approach for Kafka Protocol Classes\n\nh2. 1. Background & Motivation Currently, Kafka uses a JSON template-based pre-generation approach to create protocol classes under {{{}org.apache.kafka.common.message{}}}. This solution is mature, stable, and provides excellent multi-language support. However, I've been considering whether we could provide an alternative *compile-time code generation* approach for the Java ecosystem, similar to the AST modification technology used by Lombok. This approach might offer better development experien","output":"h2. 1. Background & Motivation Currently, Kafka uses a JSON template-based pre-generation approach to create protocol classes under {{{}org.apache.kafka.common.message{}}}. This solution is mature, stable, and provides excellent multi-language support. However, I've been considering whether we could"}
{"instruction":"Extract key technical details from this issue:","input":"h2. 1. Background & Motivation Currently, Kafka uses a JSON template-based pre-generation approach to create protocol classes under {{{}org.apache.kafka.common.message{}}}. This solution is mature, stable, and provides excellent multi-language support. However, I've been considering whether we could provide an alternative *compile-time code generation* approach for the Java ecosystem, similar to the AST modification technology used by Lombok. This approach might offer better development experience in certain scenarios. h2. 2. Proposal Overview {*}Core Idea{*}: Use annotation processors to directly modify the AST during compilation, dynamically generating complete implementations of protocol classes instead of pre-generating Java source files. {*}Example Implementation Concept{*}: {code:jav","output":"[DISCUSS] Exploring Compile-time AST Generation as an Alternative Approach for Kafka Protocol Classes"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Acquisition lock timeout renewal in share consumer explicit mode\n\nTicket for KIP-1222. The KIP proposes adding a new AcknowledgementType to be used in ShareFetch and ShareAcknowledge RPCs which will allow renewal of acquisition lock timeout with causing a state transition of the record in the share partition.","output":"Acquisition lock timeout renewal in share consumer explicit mode"}
{"instruction":"Classify the status of this issue based on its description:","input":"Acquisition lock timeout renewal in share consumer explicit mode\n\nTicket for KIP-1222. The KIP proposes adding a new AcknowledgementType to be used in ShareFetch and ShareAcknowledge RPCs which will allow renewal of acquisition lock timeout with causing a state transition of the record in the share partition.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Acquisition lock timeout renewal in share consumer explicit mode\n\nTicket for KIP-1222. The KIP proposes adding a new AcknowledgementType to be used in ShareFetch and ShareAcknowledge RPCs which will allow renewal of acquisition lock timeout with causing a state transition of the record in the share partition.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Acquisition lock timeout renewal in share consumer explicit mode\n\nTicket for KIP-1222. The KIP proposes adding a new AcknowledgementType to be used in ShareFetch and ShareAcknowledge RPCs which will allow renewal of acquisition lock timeout with causing a state transition of the record in the share partition.","output":"Ticket for KIP-1222. The KIP proposes adding a new AcknowledgementType to be used in ShareFetch and ShareAcknowledge RPCs which will allow renewal of acquisition lock timeout with causing a state transition of the record in the share partition."}
{"instruction":"Extract key technical details from this issue:","input":"Ticket for KIP-1222. The KIP proposes adding a new AcknowledgementType to be used in ShareFetch and ShareAcknowledge RPCs which will allow renewal of acquisition lock timeout with causing a state transition of the record in the share partition.","output":"Acquisition lock timeout renewal in share consumer explicit mode"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove deprecated metrics in Rename AssignmentsManager and RemoteStorageThreadPool\n\nPlease see the KIP: https://cwiki.apache.org/confluence/x/6oqMEw","output":"Remove deprecated metrics in Rename AssignmentsManager and RemoteStorageThreadPool"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove deprecated metrics in Rename AssignmentsManager and RemoteStorageThreadPool\n\nPlease see the KIP: https://cwiki.apache.org/confluence/x/6oqMEw","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove deprecated metrics in Rename AssignmentsManager and RemoteStorageThreadPool\n\nPlease see the KIP: https://cwiki.apache.org/confluence/x/6oqMEw","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove deprecated metrics in Rename AssignmentsManager and RemoteStorageThreadPool\n\nPlease see the KIP: https://cwiki.apache.org/confluence/x/6oqMEw","output":"Please see the KIP: https://cwiki.apache.org/confluence/x/6oqMEw"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Depreacte broker-level config group.coordinator.rebalance.protocols\n\nhttps://github.com/apache/kafka/pull/20466#discussion_r2379695582","output":"Depreacte broker-level config group.coordinator.rebalance.protocols"}
{"instruction":"Classify the status of this issue based on its description:","input":"Depreacte broker-level config group.coordinator.rebalance.protocols\n\nhttps://github.com/apache/kafka/pull/20466#discussion_r2379695582","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Depreacte broker-level config group.coordinator.rebalance.protocols\n\nhttps://github.com/apache/kafka/pull/20466#discussion_r2379695582","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Depreacte broker-level config group.coordinator.rebalance.protocols\n\nhttps://github.com/apache/kafka/pull/20466#discussion_r2379695582","output":"https://github.com/apache/kafka/pull/20466#discussion_r2379695582"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade commons-validator to 1.10.0\n\nIn KAFKA-19359, the commons-beanutils transitive dependency was force bumped in the project to avoid related CVEs. The commons-validator already has a new release, which solves this problem: [https://github.com/apache/commons-validator/tags] The workaround could be deleted as part of the version bump.","output":"Upgrade commons-validator to 1.10.0"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade commons-validator to 1.10.0\n\nIn KAFKA-19359, the commons-beanutils transitive dependency was force bumped in the project to avoid related CVEs. The commons-validator already has a new release, which solves this problem: [https://github.com/apache/commons-validator/tags] The workaround could be deleted as part of the version bump.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade commons-validator to 1.10.0\n\nIn KAFKA-19359, the commons-beanutils transitive dependency was force bumped in the project to avoid related CVEs. The commons-validator already has a new release, which solves this problem: [https://github.com/apache/commons-validator/tags] The workaround could be deleted as part of the version bump.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade commons-validator to 1.10.0\n\nIn KAFKA-19359, the commons-beanutils transitive dependency was force bumped in the project to avoid related CVEs. The commons-validator already has a new release, which solves this problem: [https://github.com/apache/commons-validator/tags] The workaround could be deleted as part of the version bump.","output":"In KAFKA-19359, the commons-beanutils transitive dependency was force bumped in the project to avoid related CVEs. The commons-validator already has a new release, which solves this problem: [https://github.com/apache/commons-validator/tags] The workaround could be deleted as part of the version bum"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade commons-validator to 1.10.0\n\nIn KAFKA-19359, the commons-beanutils transitive dependency was force bumped in the project to avoid related CVEs. The commons-validator already has a new release, which solves this problem: [https://github.com/apache/commons-validator/tags] The workaround could be deleted as part of the version bump.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"In KAFKA-19359, the commons-beanutils transitive dependency was force bumped in the project to avoid related CVEs. The commons-validator already has a new release, which solves this problem: [https://github.com/apache/commons-validator/tags] The workaround could be deleted as part of the version bump.","output":"Upgrade commons-validator to 1.10.0"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve testing of OffsetsRequestManager to better match OffsetFetcher\n\nOffsetsRequestManager lacks the same level of testing compared to the code it eventually intends to replace, OffsetFetcher. The addition of new unit tests could potentially surface issues with its implementation and assist with the resolution of KAFKA-18216 and KAFKA-18217","output":"Improve testing of OffsetsRequestManager to better match OffsetFetcher"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve testing of OffsetsRequestManager to better match OffsetFetcher\n\nOffsetsRequestManager lacks the same level of testing compared to the code it eventually intends to replace, OffsetFetcher. The addition of new unit tests could potentially surface issues with its implementation and assist with the resolution of KAFKA-18216 and KAFKA-18217","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve testing of OffsetsRequestManager to better match OffsetFetcher\n\nOffsetsRequestManager lacks the same level of testing compared to the code it eventually intends to replace, OffsetFetcher. The addition of new unit tests could potentially surface issues with its implementation and assist with the resolution of KAFKA-18216 and KAFKA-18217","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve testing of OffsetsRequestManager to better match OffsetFetcher\n\nOffsetsRequestManager lacks the same level of testing compared to the code it eventually intends to replace, OffsetFetcher. The addition of new unit tests could potentially surface issues with its implementation and assist with the resolution of KAFKA-18216 and KAFKA-18217","output":"OffsetsRequestManager lacks the same level of testing compared to the code it eventually intends to replace, OffsetFetcher. The addition of new unit tests could potentially surface issues with its implementation and assist with the resolution of KAFKA-18216 and KAFKA-18217"}
{"instruction":"Extract key technical details from this issue:","input":"OffsetsRequestManager lacks the same level of testing compared to the code it eventually intends to replace, OffsetFetcher. The addition of new unit tests could potentially surface issues with its implementation and assist with the resolution of KAFKA-18216 and KAFKA-18217","output":"Improve testing of OffsetsRequestManager to better match OffsetFetcher"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix PluginUtils#pluginLocations warning log not being printed\n\nThis fix addresses an issue where no warning log was displayed when the `plugin.path` configuration contained empty string elements.","output":"Fix PluginUtils#pluginLocations warning log not being printed"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix PluginUtils#pluginLocations warning log not being printed\n\nThis fix addresses an issue where no warning log was displayed when the `plugin.path` configuration contained empty string elements.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Fix PluginUtils#pluginLocations warning log not being printed\n\nThis fix addresses an issue where no warning log was displayed when the `plugin.path` configuration contained empty string elements.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix PluginUtils#pluginLocations warning log not being printed\n\nThis fix addresses an issue where no warning log was displayed when the `plugin.path` configuration contained empty string elements.","output":"This fix addresses an issue where no warning log was displayed when the `plugin.path` configuration contained empty string elements."}
{"instruction":"Extract key technical details from this issue:","input":"This fix addresses an issue where no warning log was displayed when the `plugin.path` configuration contained empty string elements.","output":"Fix PluginUtils#pluginLocations warning log not being printed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"KAFKA-15665 prevents safe reassignments from completing\n\nThe implementation for KAFKA-15665 is a little too strict - it requires that all replicas in the target replica set be in ISR. This means if we have a reassignment like [1, 2, 3] -> [2, 3, 4] where broker 2 was unhealthy and lagging in replication, reassignment would not complete. I believe it should work to instead just check the following: - Added replicas are in ISR (newTargetISR) - Resulting ISR (newTargetISR) is not under-min-isr","output":"KAFKA-15665 prevents safe reassignments from completing"}
{"instruction":"Classify the status of this issue based on its description:","input":"KAFKA-15665 prevents safe reassignments from completing\n\nThe implementation for KAFKA-15665 is a little too strict - it requires that all replicas in the target replica set be in ISR. This means if we have a reassignment like [1, 2, 3] -> [2, 3, 4] where broker 2 was unhealthy and lagging in replication, reassignment would not complete. I believe it should work to instead just check the following: - Added replicas are in ISR (newTargetISR) - Resulting ISR (newTargetISR) is not under-min-isr","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"KAFKA-15665 prevents safe reassignments from completing\n\nThe implementation for KAFKA-15665 is a little too strict - it requires that all replicas in the target replica set be in ISR. This means if we have a reassignment like [1, 2, 3] -> [2, 3, 4] where broker 2 was unhealthy and lagging in replication, reassignment would not complete. I believe it should work to instead just check the following: - Added replicas are in ISR (newTargetISR) - Resulting ISR (newTargetISR) is not under-min-isr","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: KAFKA-15665 prevents safe reassignments from completing\n\nThe implementation for KAFKA-15665 is a little too strict - it requires that all replicas in the target replica set be in ISR. This means if we have a reassignment like [1, 2, 3] -> [2, 3, 4] where broker 2 was unhealthy and lagging in replication, reassignment would not complete. I believe it should work to instead just check the following: - Added replicas are in ISR (newTargetISR) - Resulting ISR (newTargetISR) is not under-min-isr","output":"The implementation for KAFKA-15665 is a little too strict - it requires that all replicas in the target replica set be in ISR. This means if we have a reassignment like [1, 2, 3] -> [2, 3, 4] where broker 2 was unhealthy and lagging in replication, reassignment would not complete. I believe it shoul"}
{"instruction":"Extract key technical details from this issue:","input":"The implementation for KAFKA-15665 is a little too strict - it requires that all replicas in the target replica set be in ISR. This means if we have a reassignment like [1, 2, 3] -> [2, 3, 4] where broker 2 was unhealthy and lagging in replication, reassignment would not complete. I believe it should work to instead just check the following: - Added replicas are in ISR (newTargetISR) - Resulting ISR (newTargetISR) is not under-min-isr","output":"KAFKA-15665 prevents safe reassignments from completing"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add automatic commit offset caching in subscribe mode\n\nSuppose that no new messages have been written to the target topic for a long time, for example, the producer has not generated new data for nearly an hour. On the consumer side, when the user sets enable.auto.commit=true, the OFFSET_COMMIT request will still be repeatedly submitted every 5 seconds. This not only wastes network resources but also increases the burden on __consumer_offset. Therefore, maybe we can add a cache for committed offsets to check if the currently committed offset is consistent with the most recently successfully committed offset. If they are the same, this offset commit can be ignored. Of course, all the above applies to the subscribe mode. Advantages: * Reduce unnecessary network requests * Alleviate the processing pressure on the broker side * Relieve the pressure of log cleaning for __consumer_offset Disadvantage: * There may be hidden bugs that need to be discussed and identified","output":"Add automatic commit offset caching in subscribe mode"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add automatic commit offset caching in subscribe mode\n\nSuppose that no new messages have been written to the target topic for a long time, for example, the producer has not generated new data for nearly an hour. On the consumer side, when the user sets enable.auto.commit=true, the OFFSET_COMMIT request will still be repeatedly submitted every 5 seconds. This not only wastes network resources but also increases the burden on __consumer_offset. Therefore, maybe we can add a cache for committed offsets to check if the currently committed offset is cons","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add automatic commit offset caching in subscribe mode\n\nSuppose that no new messages have been written to the target topic for a long time, for example, the producer has not generated new data for nearly an hour. On the consumer side, when the user sets enable.auto.commit=true, the OFFSET_COMMIT request will still be repeatedly submitted every 5 seconds. This not only wastes network resources but also increases the burden on __consumer_offset. Therefore, maybe we can add a cache for committed offsets to check if the currently committed offset is cons","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add automatic commit offset caching in subscribe mode\n\nSuppose that no new messages have been written to the target topic for a long time, for example, the producer has not generated new data for nearly an hour. On the consumer side, when the user sets enable.auto.commit=true, the OFFSET_COMMIT request will still be repeatedly submitted every 5 seconds. This not only wastes network resources but also increases the burden on __consumer_offset. Therefore, maybe we can add a cache for committed offsets to check if the currently committed offset is cons","output":"Suppose that no new messages have been written to the target topic for a long time, for example, the producer has not generated new data for nearly an hour. On the consumer side, when the user sets enable.auto.commit=true, the OFFSET_COMMIT request will still be repeatedly submitted every 5 seconds."}
{"instruction":"Extract key technical details from this issue:","input":"Suppose that no new messages have been written to the target topic for a long time, for example, the producer has not generated new data for nearly an hour. On the consumer side, when the user sets enable.auto.commit=true, the OFFSET_COMMIT request will still be repeatedly submitted every 5 seconds. This not only wastes network resources but also increases the burden on __consumer_offset. Therefore, maybe we can add a cache for committed offsets to check if the currently committed offset is consistent with the most recently successfully committed offset. If they are the same, this offset commit can be ignored. Of course, all the above applies to the subscribe mode. Advantages: * Reduce unnecessary network requests * Alleviate the processing pressure on the broker side * Relieve the pressur","output":"Add automatic commit offset caching in subscribe mode"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add application-id as a tag to the ClientState JMX metric\n\nAs a follow-on to the improvements introduced in https://cwiki.apache.org/confluence/display/KAFKA/KIP-1091%3A+Improved+Kafka+Streams+operator+metrics it would be useful to add the application-id as a tag to the `client-state` metric. This allows Kafka Streams developers and operators to connect metrics containing a `thread-id` (which embeds the `application-id`) across separate deployments of Kafka Streams instances, which are members of the same logical application. KIP-1221 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1221%3A+Add+application-id+tag+to+Kafka+Streams+state+metric]","output":"Add application-id as a tag to the ClientState JMX metric"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add application-id as a tag to the ClientState JMX metric\n\nAs a follow-on to the improvements introduced in https://cwiki.apache.org/confluence/display/KAFKA/KIP-1091%3A+Improved+Kafka+Streams+operator+metrics it would be useful to add the application-id as a tag to the `client-state` metric. This allows Kafka Streams developers and operators to connect metrics containing a `thread-id` (which embeds the `application-id`) across separate deployments of Kafka Streams instances, which are members of the same logical application. KIP-1221 [https://cwiki.apa","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Add application-id as a tag to the ClientState JMX metric\n\nAs a follow-on to the improvements introduced in https://cwiki.apache.org/confluence/display/KAFKA/KIP-1091%3A+Improved+Kafka+Streams+operator+metrics it would be useful to add the application-id as a tag to the `client-state` metric. This allows Kafka Streams developers and operators to connect metrics containing a `thread-id` (which embeds the `application-id`) across separate deployments of Kafka Streams instances, which are members of the same logical application. KIP-1221 [https://cwiki.apa","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add application-id as a tag to the ClientState JMX metric\n\nAs a follow-on to the improvements introduced in https://cwiki.apache.org/confluence/display/KAFKA/KIP-1091%3A+Improved+Kafka+Streams+operator+metrics it would be useful to add the application-id as a tag to the `client-state` metric. This allows Kafka Streams developers and operators to connect metrics containing a `thread-id` (which embeds the `application-id`) across separate deployments of Kafka Streams instances, which are members of the same logical application. KIP-1221 [https://cwiki.apa","output":"As a follow-on to the improvements introduced in https://cwiki.apache.org/confluence/display/KAFKA/KIP-1091%3A+Improved+Kafka+Streams+operator+metrics it would be useful to add the application-id as a tag to the `client-state` metric. This allows Kafka Streams developers and operators to connect met"}
{"instruction":"Extract key technical details from this issue:","input":"As a follow-on to the improvements introduced in https://cwiki.apache.org/confluence/display/KAFKA/KIP-1091%3A+Improved+Kafka+Streams+operator+metrics it would be useful to add the application-id as a tag to the `client-state` metric. This allows Kafka Streams developers and operators to connect metrics containing a `thread-id` (which embeds the `application-id`) across separate deployments of Kafka Streams instances, which are members of the same logical application. KIP-1221 [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1221%3A+Add+application-id+tag+to+Kafka+Streams+state+metric]","output":"Add application-id as a tag to the ClientState JMX metric"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove AppInfoParser deprecated metrics\n\nRef: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1120%3A+AppInfo+metrics+don%27t+contain+the+client-id] We should remove the metrics whose tags do not contain a client-id in Kafka 5.0.","output":"Remove AppInfoParser deprecated metrics"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove AppInfoParser deprecated metrics\n\nRef: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1120%3A+AppInfo+metrics+don%27t+contain+the+client-id] We should remove the metrics whose tags do not contain a client-id in Kafka 5.0.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove AppInfoParser deprecated metrics\n\nRef: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1120%3A+AppInfo+metrics+don%27t+contain+the+client-id] We should remove the metrics whose tags do not contain a client-id in Kafka 5.0.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove AppInfoParser deprecated metrics\n\nRef: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1120%3A+AppInfo+metrics+don%27t+contain+the+client-id] We should remove the metrics whose tags do not contain a client-id in Kafka 5.0.","output":"Ref: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1120%3A+AppInfo+metrics+don%27t+contain+the+client-id] We should remove the metrics whose tags do not contain a client-id in Kafka 5.0."}
{"instruction":"Extract key technical details from this issue:","input":"Ref: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1120%3A+AppInfo+metrics+don%27t+contain+the+client-id] We should remove the metrics whose tags do not contain a client-id in Kafka 5.0.","output":"Remove AppInfoParser deprecated metrics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"StreamsGroupDescribe result is missing topology when topology not configured\n\nStreamsGroupDescribe does not include a topology if the topology is not configured. The problem is that it relies on `ConfiguredTopology` which may not be present or empty. Instead, we should use the unconfigured topology when the configured topology is not present","output":"StreamsGroupDescribe result is missing topology when topology not configured"}
{"instruction":"Classify the status of this issue based on its description:","input":"StreamsGroupDescribe result is missing topology when topology not configured\n\nStreamsGroupDescribe does not include a topology if the topology is not configured. The problem is that it relies on `ConfiguredTopology` which may not be present or empty. Instead, we should use the unconfigured topology when the configured topology is not present","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"StreamsGroupDescribe result is missing topology when topology not configured\n\nStreamsGroupDescribe does not include a topology if the topology is not configured. The problem is that it relies on `ConfiguredTopology` which may not be present or empty. Instead, we should use the unconfigured topology when the configured topology is not present","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: StreamsGroupDescribe result is missing topology when topology not configured\n\nStreamsGroupDescribe does not include a topology if the topology is not configured. The problem is that it relies on `ConfiguredTopology` which may not be present or empty. Instead, we should use the unconfigured topology when the configured topology is not present","output":"StreamsGroupDescribe does not include a topology if the topology is not configured. The problem is that it relies on `ConfiguredTopology` which may not be present or empty. Instead, we should use the unconfigured topology when the configured topology is not present"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"StreamsGroupDescribe result is missing topology when topology not configured\n\nStreamsGroupDescribe does not include a topology if the topology is not configured. The problem is that it relies on `ConfiguredTopology` which may not be present or empty. Instead, we should use the unconfigured topology when the configured topology is not present","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"StreamsGroupDescribe does not include a topology if the topology is not configured. The problem is that it relies on `ConfiguredTopology` which may not be present or empty. Instead, we should use the unconfigured topology when the configured topology is not present","output":"StreamsGroupDescribe result is missing topology when topology not configured"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove addMetric(MetricName metricName, Measurable measurable) method.\n\nsee：https://github.com/apache/kafka/pull/20543#discussion_r2371009016","output":"Remove addMetric(MetricName metricName, Measurable measurable) method."}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove addMetric(MetricName metricName, Measurable measurable) method.\n\nsee：https://github.com/apache/kafka/pull/20543#discussion_r2371009016","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove addMetric(MetricName metricName, Measurable measurable) method.\n\nsee：https://github.com/apache/kafka/pull/20543#discussion_r2371009016","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove addMetric(MetricName metricName, Measurable measurable) method.\n\nsee：https://github.com/apache/kafka/pull/20543#discussion_r2371009016","output":"see：https://github.com/apache/kafka/pull/20543#discussion_r2371009016"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Disk space is not being freed\n\nI found that the remoteFetch thread is holding the file, preventing the disk space from being freed. !image-2025-09-24-10-38-25-161.png! However, I didn't encounter this problem with the earlier 0.0.1-SNAPSHOT build, which used Kafka 3.8.1. The current issue appears in version 1.0.0 together with Kafka 3.9.1. !image-2025-09-24-10-38-36-572.png! I'm not sure whether this issue is caused by the tiered storage plugin or by Kafka itself. Could someone help take a look?","output":"Disk space is not being freed"}
{"instruction":"Classify the status of this issue based on its description:","input":"Disk space is not being freed\n\nI found that the remoteFetch thread is holding the file, preventing the disk space from being freed. !image-2025-09-24-10-38-25-161.png! However, I didn't encounter this problem with the earlier 0.0.1-SNAPSHOT build, which used Kafka 3.8.1. The current issue appears in version 1.0.0 together with Kafka 3.9.1. !image-2025-09-24-10-38-36-572.png! I'm not sure whether this issue is caused by the tiered storage plugin or by Kafka itself. Could someone help take a look?","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Disk space is not being freed\n\nI found that the remoteFetch thread is holding the file, preventing the disk space from being freed. !image-2025-09-24-10-38-25-161.png! However, I didn't encounter this problem with the earlier 0.0.1-SNAPSHOT build, which used Kafka 3.8.1. The current issue appears in version 1.0.0 together with Kafka 3.9.1. !image-2025-09-24-10-38-36-572.png! I'm not sure whether this issue is caused by the tiered storage plugin or by Kafka itself. Could someone help take a look?","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Disk space is not being freed\n\nI found that the remoteFetch thread is holding the file, preventing the disk space from being freed. !image-2025-09-24-10-38-25-161.png! However, I didn't encounter this problem with the earlier 0.0.1-SNAPSHOT build, which used Kafka 3.8.1. The current issue appears in version 1.0.0 together with Kafka 3.9.1. !image-2025-09-24-10-38-36-572.png! I'm not sure whether this issue is caused by the tiered storage plugin or by Kafka itself. Could someone help take a look?","output":"I found that the remoteFetch thread is holding the file, preventing the disk space from being freed. !image-2025-09-24-10-38-25-161.png! However, I didn't encounter this problem with the earlier 0.0.1-SNAPSHOT build, which used Kafka 3.8.1. The current issue appears in version 1.0.0 together with Ka"}
{"instruction":"Extract key technical details from this issue:","input":"I found that the remoteFetch thread is holding the file, preventing the disk space from being freed. !image-2025-09-24-10-38-25-161.png! However, I didn't encounter this problem with the earlier 0.0.1-SNAPSHOT build, which used Kafka 3.8.1. The current issue appears in version 1.0.0 together with Kafka 3.9.1. !image-2025-09-24-10-38-36-572.png! I'm not sure whether this issue is caused by the tiered storage plugin or by Kafka itself. Could someone help take a look?","output":"Disk space is not being freed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make open telemetry object instantiation configurable\n\nAfter the 3.7 release of Kafka, the java client will emit many warning messages and more objects deployed due to an open telemetry object instantiation (possibly due to KIP-714). It appears the open telemetry feature was enabled by default and there's no way for a user to disable it. Users receive the INFO message defined https://github.com/apache/kafka/blob/3.7.2/clients/src/main/java/org/apache/kafka/common/telemetry/internals/ClientTelemetryReporter.java#L479 after activating INFO log level for \"org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter\" class. This log line appears lots of times. It appears that the occurrence of this info messages shows ClientTelemetry objects are being created if the feature is not explicitly disabled. Users would like this feature to be opt-in and not enabled by default as it is.","output":"Make open telemetry object instantiation configurable"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make open telemetry object instantiation configurable\n\nAfter the 3.7 release of Kafka, the java client will emit many warning messages and more objects deployed due to an open telemetry object instantiation (possibly due to KIP-714). It appears the open telemetry feature was enabled by default and there's no way for a user to disable it. Users receive the INFO message defined https://github.com/apache/kafka/blob/3.7.2/clients/src/main/java/org/apache/kafka/common/telemetry/internals/ClientTelemetryReporter.java#L479 after activating INFO log level f","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Make open telemetry object instantiation configurable\n\nAfter the 3.7 release of Kafka, the java client will emit many warning messages and more objects deployed due to an open telemetry object instantiation (possibly due to KIP-714). It appears the open telemetry feature was enabled by default and there's no way for a user to disable it. Users receive the INFO message defined https://github.com/apache/kafka/blob/3.7.2/clients/src/main/java/org/apache/kafka/common/telemetry/internals/ClientTelemetryReporter.java#L479 after activating INFO log level f","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make open telemetry object instantiation configurable\n\nAfter the 3.7 release of Kafka, the java client will emit many warning messages and more objects deployed due to an open telemetry object instantiation (possibly due to KIP-714). It appears the open telemetry feature was enabled by default and there's no way for a user to disable it. Users receive the INFO message defined https://github.com/apache/kafka/blob/3.7.2/clients/src/main/java/org/apache/kafka/common/telemetry/internals/ClientTelemetryReporter.java#L479 after activating INFO log level f","output":"After the 3.7 release of Kafka, the java client will emit many warning messages and more objects deployed due to an open telemetry object instantiation (possibly due to KIP-714). It appears the open telemetry feature was enabled by default and there's no way for a user to disable it. Users receive t"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Make open telemetry object instantiation configurable\n\nAfter the 3.7 release of Kafka, the java client will emit many warning messages and more objects deployed due to an open telemetry object instantiation (possibly due to KIP-714). It appears the open telemetry feature was enabled by default and there's no way for a user to disable it. Users receive the INFO message defined https://github.com/apache/kafka/blob/3.7.2/clients/src/main/java/org/apache/kafka/common/telemetry/internals/ClientTelemetryReporter.java#L479 after activating INFO log level f","output":"Won't Fix"}
{"instruction":"Extract key technical details from this issue:","input":"After the 3.7 release of Kafka, the java client will emit many warning messages and more objects deployed due to an open telemetry object instantiation (possibly due to KIP-714). It appears the open telemetry feature was enabled by default and there's no way for a user to disable it. Users receive the INFO message defined https://github.com/apache/kafka/blob/3.7.2/clients/src/main/java/org/apache/kafka/common/telemetry/internals/ClientTelemetryReporter.java#L479 after activating INFO log level for \"org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter\" class. This log line appears lots of times. It appears that the occurrence of this info messages shows ClientTelemetry objects are being created if the feature is not explicitly disabled. Users would like this feature to be opt","output":"Make open telemetry object instantiation configurable"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Throw an exception if client tries to override topic replication factor with a value that it < min.insync.replicas\n\nThe goal of this ticket is to start a KIP with the following proposed changes: Currently, the broker overrides settings upon a client initial request. I.e. there's some logic to consolidate/merge settings from the broker and from the client. During that step, it should be doable to throw an exception if there's an invalid configuration. This ticket is specifically for throwing an exception if the client overrides `replication.factor` with a value that is less than `min.insync.replicas` specified by the broker. This check should happen where the “merging” logic happens, on the broker side.","output":"Throw an exception if client tries to override topic replication factor with a value that it < min.insync.replicas"}
{"instruction":"Classify the status of this issue based on its description:","input":"Throw an exception if client tries to override topic replication factor with a value that it < min.insync.replicas\n\nThe goal of this ticket is to start a KIP with the following proposed changes: Currently, the broker overrides settings upon a client initial request. I.e. there's some logic to consolidate/merge settings from the broker and from the client. During that step, it should be doable to throw an exception if there's an invalid configuration. This ticket is specifically for throwing an exception if the client overrides `replication.factor` with a value that is less than `min.insync.replicas` specified","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Throw an exception if client tries to override topic replication factor with a value that it < min.insync.replicas\n\nThe goal of this ticket is to start a KIP with the following proposed changes: Currently, the broker overrides settings upon a client initial request. I.e. there's some logic to consolidate/merge settings from the broker and from the client. During that step, it should be doable to throw an exception if there's an invalid configuration. This ticket is specifically for throwing an exception if the client overrides `replication.factor` with a value that is less than `min.insync.replicas` specified","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Throw an exception if client tries to override topic replication factor with a value that it < min.insync.replicas\n\nThe goal of this ticket is to start a KIP with the following proposed changes: Currently, the broker overrides settings upon a client initial request. I.e. there's some logic to consolidate/merge settings from the broker and from the client. During that step, it should be doable to throw an exception if there's an invalid configuration. This ticket is specifically for throwing an exception if the client overrides `replication.factor` with a value that is less than `min.insync.replicas` specified","output":"The goal of this ticket is to start a KIP with the following proposed changes: Currently, the broker overrides settings upon a client initial request. I.e. there's some logic to consolidate/merge settings from the broker and from the client. During that step, it should be doable to throw an exceptio"}
{"instruction":"Extract key technical details from this issue:","input":"The goal of this ticket is to start a KIP with the following proposed changes: Currently, the broker overrides settings upon a client initial request. I.e. there's some logic to consolidate/merge settings from the broker and from the client. During that step, it should be doable to throw an exception if there's an invalid configuration. This ticket is specifically for throwing an exception if the client overrides `replication.factor` with a value that is less than `min.insync.replicas` specified by the broker. This check should happen where the “merging” logic happens, on the broker side.","output":"Throw an exception if client tries to override topic replication factor with a value that it < min.insync.replicas"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Deprecate --property and replace with --reader-property in console producer\n\nThe --property argument in kafka-console-producer.sh should be deprecated and replaced with --reader-property.","output":"Deprecate --property and replace with --reader-property in console producer"}
{"instruction":"Classify the status of this issue based on its description:","input":"Deprecate --property and replace with --reader-property in console producer\n\nThe --property argument in kafka-console-producer.sh should be deprecated and replaced with --reader-property.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Deprecate --property and replace with --reader-property in console producer\n\nThe --property argument in kafka-console-producer.sh should be deprecated and replaced with --reader-property.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Deprecate --property and replace with --reader-property in console producer\n\nThe --property argument in kafka-console-producer.sh should be deprecated and replaced with --reader-property.","output":"The --property argument in kafka-console-producer.sh should be deprecated and replaced with --reader-property."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Deprecate --property and replace with --reader-property in console producer\n\nThe --property argument in kafka-console-producer.sh should be deprecated and replaced with --reader-property.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The --property argument in kafka-console-producer.sh should be deprecated and replaced with --reader-property.","output":"Deprecate --property and replace with --reader-property in console producer"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Global stream thread ignores all exceptions\n\n{{globalStreamThread}} in {{KafkaStreams}} class ignores all exceptions and fails to apply the user-provided {{StreamsUncaughtExceptionHandler}} in: {code:java} public void setUncaughtExceptionHandler(final StreamsUncaughtExceptionHandler userStreamsUncaughtExceptionHandler) {code} This can lead to streams being stuck in faulty state after an exception is thrown during their initialization phase (e.g. failure to load the RocksDB native library). The exception isn't logged, so debugging such problem is difficult. From my understanding of the {{b62d8b97}} commit message, the following code is unnecessary as the {{globalStreamThread}} can't be replaced and the issue description from KAFKA-12699 doesn't apply to it. Removing it should help. {code:java} if (globalStreamThread != null) { globalStreamThread.setUncaughtExceptionHandler((t, e) -> { } ); } {code}","output":"Global stream thread ignores all exceptions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Global stream thread ignores all exceptions\n\n{{globalStreamThread}} in {{KafkaStreams}} class ignores all exceptions and fails to apply the user-provided {{StreamsUncaughtExceptionHandler}} in: {code:java} public void setUncaughtExceptionHandler(final StreamsUncaughtExceptionHandler userStreamsUncaughtExceptionHandler) {code} This can lead to streams being stuck in faulty state after an exception is thrown during their initialization phase (e.g. failure to load the RocksDB native library). The exception isn't logged, so debugging such prob","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Global stream thread ignores all exceptions\n\n{{globalStreamThread}} in {{KafkaStreams}} class ignores all exceptions and fails to apply the user-provided {{StreamsUncaughtExceptionHandler}} in: {code:java} public void setUncaughtExceptionHandler(final StreamsUncaughtExceptionHandler userStreamsUncaughtExceptionHandler) {code} This can lead to streams being stuck in faulty state after an exception is thrown during their initialization phase (e.g. failure to load the RocksDB native library). The exception isn't logged, so debugging such prob","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Global stream thread ignores all exceptions\n\n{{globalStreamThread}} in {{KafkaStreams}} class ignores all exceptions and fails to apply the user-provided {{StreamsUncaughtExceptionHandler}} in: {code:java} public void setUncaughtExceptionHandler(final StreamsUncaughtExceptionHandler userStreamsUncaughtExceptionHandler) {code} This can lead to streams being stuck in faulty state after an exception is thrown during their initialization phase (e.g. failure to load the RocksDB native library). The exception isn't logged, so debugging such prob","output":"{{globalStreamThread}} in {{KafkaStreams}} class ignores all exceptions and fails to apply the user-provided {{StreamsUncaughtExceptionHandler}} in: {code:java} public void setUncaughtExceptionHandler(final StreamsUncaughtExceptionHandler userStreamsUncaughtExceptionHandler) {code} This can lead to "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Global stream thread ignores all exceptions\n\n{{globalStreamThread}} in {{KafkaStreams}} class ignores all exceptions and fails to apply the user-provided {{StreamsUncaughtExceptionHandler}} in: {code:java} public void setUncaughtExceptionHandler(final StreamsUncaughtExceptionHandler userStreamsUncaughtExceptionHandler) {code} This can lead to streams being stuck in faulty state after an exception is thrown during their initialization phase (e.g. failure to load the RocksDB native library). The exception isn't logged, so debugging such prob","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"{{globalStreamThread}} in {{KafkaStreams}} class ignores all exceptions and fails to apply the user-provided {{StreamsUncaughtExceptionHandler}} in: {code:java} public void setUncaughtExceptionHandler(final StreamsUncaughtExceptionHandler userStreamsUncaughtExceptionHandler) {code} This can lead to streams being stuck in faulty state after an exception is thrown during their initialization phase (e.g. failure to load the RocksDB native library). The exception isn't logged, so debugging such problem is difficult. From my understanding of the {{b62d8b97}} commit message, the following code is unnecessary as the {{globalStreamThread}} can't be replaced and the issue description from KAFKA-12699 doesn't apply to it. Removing it should help. {code:java} if (globalStreamThread != null) { globalS","output":"Global stream thread ignores all exceptions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add tests for ConsumerRebalanceMetricsManager\n\nWhile working on KAFKA-19722 I noticed we had no test coverage for the rebalance metrics on the new consumer (this class [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/metrics/ConsumerRebalanceMetricsManager.java] ) I introduced the test file and added a test related to KAFKA-19722, but we should extend coverage and test the other rebalance metrics (ex. tests like the ones for the ShareRebalanceMetrics [https://github.com/apache/kafka/blob/trunk/clients/src/test/java/org/apache/kafka/clients/consumer/internals/metrics/ShareRebalanceMetricsManagerTest.java] )","output":"Add tests for ConsumerRebalanceMetricsManager"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add tests for ConsumerRebalanceMetricsManager\n\nWhile working on KAFKA-19722 I noticed we had no test coverage for the rebalance metrics on the new consumer (this class [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/metrics/ConsumerRebalanceMetricsManager.java] ) I introduced the test file and added a test related to KAFKA-19722, but we should extend coverage and test the other rebalance metrics (ex. tests like the ones for the ShareRebalanceMetrics [https://github.com/apache/kafk","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add tests for ConsumerRebalanceMetricsManager\n\nWhile working on KAFKA-19722 I noticed we had no test coverage for the rebalance metrics on the new consumer (this class [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/metrics/ConsumerRebalanceMetricsManager.java] ) I introduced the test file and added a test related to KAFKA-19722, but we should extend coverage and test the other rebalance metrics (ex. tests like the ones for the ShareRebalanceMetrics [https://github.com/apache/kafk","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add tests for ConsumerRebalanceMetricsManager\n\nWhile working on KAFKA-19722 I noticed we had no test coverage for the rebalance metrics on the new consumer (this class [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/metrics/ConsumerRebalanceMetricsManager.java] ) I introduced the test file and added a test related to KAFKA-19722, but we should extend coverage and test the other rebalance metrics (ex. tests like the ones for the ShareRebalanceMetrics [https://github.com/apache/kafk","output":"While working on KAFKA-19722 I noticed we had no test coverage for the rebalance metrics on the new consumer (this class [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/metrics/ConsumerRebalanceMetricsManager.java] ) I introduced the test"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add tests for ConsumerRebalanceMetricsManager\n\nWhile working on KAFKA-19722 I noticed we had no test coverage for the rebalance metrics on the new consumer (this class [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/metrics/ConsumerRebalanceMetricsManager.java] ) I introduced the test file and added a test related to KAFKA-19722, but we should extend coverage and test the other rebalance metrics (ex. tests like the ones for the ShareRebalanceMetrics [https://github.com/apache/kafk","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"While working on KAFKA-19722 I noticed we had no test coverage for the rebalance metrics on the new consumer (this class [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/metrics/ConsumerRebalanceMetricsManager.java] ) I introduced the test file and added a test related to KAFKA-19722, but we should extend coverage and test the other rebalance metrics (ex. tests like the ones for the ShareRebalanceMetrics [https://github.com/apache/kafka/blob/trunk/clients/src/test/java/org/apache/kafka/clients/consumer/internals/metrics/ShareRebalanceMetricsManagerTest.java] )","output":"Add tests for ConsumerRebalanceMetricsManager"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Missing assigned-partitions metric in new consumer\n\nThe metric assigned-partitions is missing in the new async consumer. Registered by the coordinator in the old consumer here [https://github.com/apache/kafka/blob/dbd2b527d0fa5eda4ec603ee449a47c69ac41852/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java#L1640]","output":"Missing assigned-partitions metric in new consumer"}
{"instruction":"Classify the status of this issue based on its description:","input":"Missing assigned-partitions metric in new consumer\n\nThe metric assigned-partitions is missing in the new async consumer. Registered by the coordinator in the old consumer here [https://github.com/apache/kafka/blob/dbd2b527d0fa5eda4ec603ee449a47c69ac41852/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java#L1640]","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Missing assigned-partitions metric in new consumer\n\nThe metric assigned-partitions is missing in the new async consumer. Registered by the coordinator in the old consumer here [https://github.com/apache/kafka/blob/dbd2b527d0fa5eda4ec603ee449a47c69ac41852/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java#L1640]","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Missing assigned-partitions metric in new consumer\n\nThe metric assigned-partitions is missing in the new async consumer. Registered by the coordinator in the old consumer here [https://github.com/apache/kafka/blob/dbd2b527d0fa5eda4ec603ee449a47c69ac41852/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java#L1640]","output":"The metric assigned-partitions is missing in the new async consumer. Registered by the coordinator in the old consumer here [https://github.com/apache/kafka/blob/dbd2b527d0fa5eda4ec603ee449a47c69ac41852/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java#L1640]"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Missing assigned-partitions metric in new consumer\n\nThe metric assigned-partitions is missing in the new async consumer. Registered by the coordinator in the old consumer here [https://github.com/apache/kafka/blob/dbd2b527d0fa5eda4ec603ee449a47c69ac41852/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java#L1640]","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The metric assigned-partitions is missing in the new async consumer. Registered by the coordinator in the old consumer here [https://github.com/apache/kafka/blob/dbd2b527d0fa5eda4ec603ee449a47c69ac41852/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerCoordinator.java#L1640]","output":"Missing assigned-partitions metric in new consumer"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update streams documentation with KIP-1147 changes\n\ndocs/streams/quickstart.html and docsk/streams/developer-guide/datatypes.html both need to be updated to change the flags for kafka-console-consumer.sh to rename --property to --formatter-property.","output":"Update streams documentation with KIP-1147 changes"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update streams documentation with KIP-1147 changes\n\ndocs/streams/quickstart.html and docsk/streams/developer-guide/datatypes.html both need to be updated to change the flags for kafka-console-consumer.sh to rename --property to --formatter-property.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update streams documentation with KIP-1147 changes\n\ndocs/streams/quickstart.html and docsk/streams/developer-guide/datatypes.html both need to be updated to change the flags for kafka-console-consumer.sh to rename --property to --formatter-property.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update streams documentation with KIP-1147 changes\n\ndocs/streams/quickstart.html and docsk/streams/developer-guide/datatypes.html both need to be updated to change the flags for kafka-console-consumer.sh to rename --property to --formatter-property.","output":"docs/streams/quickstart.html and docsk/streams/developer-guide/datatypes.html both need to be updated to change the flags for kafka-console-consumer.sh to rename --property to --formatter-property."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update streams documentation with KIP-1147 changes\n\ndocs/streams/quickstart.html and docsk/streams/developer-guide/datatypes.html both need to be updated to change the flags for kafka-console-consumer.sh to rename --property to --formatter-property.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"docs/streams/quickstart.html and docsk/streams/developer-guide/datatypes.html both need to be updated to change the flags for kafka-console-consumer.sh to rename --property to --formatter-property.","output":"Update streams documentation with KIP-1147 changes"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Regex subscription should be empty for classic members joining mixed group\n\nWe don't recompute the assignment on consumer -> classic member replacement when the consumer member had a regex subscription and the classic member does not. We should explicitly set regex subscription to empty in classicGroupJoinToConsumerGroup","output":"Regex subscription should be empty for classic members joining mixed group"}
{"instruction":"Classify the status of this issue based on its description:","input":"Regex subscription should be empty for classic members joining mixed group\n\nWe don't recompute the assignment on consumer -> classic member replacement when the consumer member had a regex subscription and the classic member does not. We should explicitly set regex subscription to empty in classicGroupJoinToConsumerGroup","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Regex subscription should be empty for classic members joining mixed group\n\nWe don't recompute the assignment on consumer -> classic member replacement when the consumer member had a regex subscription and the classic member does not. We should explicitly set regex subscription to empty in classicGroupJoinToConsumerGroup","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Regex subscription should be empty for classic members joining mixed group\n\nWe don't recompute the assignment on consumer -> classic member replacement when the consumer member had a regex subscription and the classic member does not. We should explicitly set regex subscription to empty in classicGroupJoinToConsumerGroup","output":"We don't recompute the assignment on consumer -> classic member replacement when the consumer member had a regex subscription and the classic member does not. We should explicitly set regex subscription to empty in classicGroupJoinToConsumerGroup"}
{"instruction":"Extract key technical details from this issue:","input":"We don't recompute the assignment on consumer -> classic member replacement when the consumer member had a regex subscription and the classic member does not. We should explicitly set regex subscription to empty in classicGroupJoinToConsumerGroup","output":"Regex subscription should be empty for classic members joining mixed group"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"setting --no-initial-controllers flag should not validate kraft version against metadata version\n\nJust because a controller node sets `--no-initial-controllers` flag does not mean it is necessarily running kraft.version=1. The more precise meaning is that the controller node does not know what kraft version the cluster should be in. It is a valid configuration to run a static quorum defined by `controller.quorum.voters` but have all the controllers format with `--no-initial-controllers`.","output":"setting --no-initial-controllers flag should not validate kraft version against metadata version"}
{"instruction":"Classify the status of this issue based on its description:","input":"setting --no-initial-controllers flag should not validate kraft version against metadata version\n\nJust because a controller node sets `--no-initial-controllers` flag does not mean it is necessarily running kraft.version=1. The more precise meaning is that the controller node does not know what kraft version the cluster should be in. It is a valid configuration to run a static quorum defined by `controller.quorum.voters` but have all the controllers format with `--no-initial-controllers`.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"setting --no-initial-controllers flag should not validate kraft version against metadata version\n\nJust because a controller node sets `--no-initial-controllers` flag does not mean it is necessarily running kraft.version=1. The more precise meaning is that the controller node does not know what kraft version the cluster should be in. It is a valid configuration to run a static quorum defined by `controller.quorum.voters` but have all the controllers format with `--no-initial-controllers`.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: setting --no-initial-controllers flag should not validate kraft version against metadata version\n\nJust because a controller node sets `--no-initial-controllers` flag does not mean it is necessarily running kraft.version=1. The more precise meaning is that the controller node does not know what kraft version the cluster should be in. It is a valid configuration to run a static quorum defined by `controller.quorum.voters` but have all the controllers format with `--no-initial-controllers`.","output":"Just because a controller node sets `--no-initial-controllers` flag does not mean it is necessarily running kraft.version=1. The more precise meaning is that the controller node does not know what kraft version the cluster should be in. It is a valid configuration to run a static quorum defined by `"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"setting --no-initial-controllers flag should not validate kraft version against metadata version\n\nJust because a controller node sets `--no-initial-controllers` flag does not mean it is necessarily running kraft.version=1. The more precise meaning is that the controller node does not know what kraft version the cluster should be in. It is a valid configuration to run a static quorum defined by `controller.quorum.voters` but have all the controllers format with `--no-initial-controllers`.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Just because a controller node sets `--no-initial-controllers` flag does not mean it is necessarily running kraft.version=1. The more precise meaning is that the controller node does not know what kraft version the cluster should be in. It is a valid configuration to run a static quorum defined by `controller.quorum.voters` but have all the controllers format with `--no-initial-controllers`.","output":"setting --no-initial-controllers flag should not validate kraft version against metadata version"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"docker_build_test.py does not run tests when using --kafka-archive.\n\nWhen we want to run docker_sanity_test.py for a local image, we need to pass a local archive image via --kafka-archive to docker_build_test.py. But currently it fails to run the test(docker_sanity_test.py) when we pass --kafka-archive. Currently the tests run only when we pass a URL via --kafka-url. {code:java} python docker_build_test.py kafka/test --image-tag=4.2.0-SNAPSHOT --image-type=jvm --kafka-archive=/Users/shivsundarr/dev/opensource/kafka/core/build/distributions/kafka_2.13-4.2.0-SNAPSHOT.tgz{code} After building the image, got the following output when it attempted to run the tests. {code:java} Traceback (most recent call last): File \"/Users/shivsundarr/dev/opensource/kafka/docker/docker_build_test.py\", line 50, in run_docker_tests execute([\"wget\", \"-nv\", \"-O\", f\"{temp_dir_path}/kafka.tgz\", kafka_url]) File \"/Users/shivsundarr/dev/opensource/kafka/docker/common.py\", line 24, in execute if subprocess.run(command).returncode != 0: ^^^^^^^^^^^^^^^^^^^^^^^ File \"/Users/shivsundarr/.pyenv/versions/3.12.7/lib/python3.12/subprocess.py\", line 548, in run with Popen(*popenargs, **kwargs) as process: ^^^^^^^^^^^^^^^^^^^^^^^^^^^ File \"/Users/shivsundarr/.pyenv/versions/3.12.7/lib/python3.12/subprocess.py\", line 1026, in __init__ self._execute_child(args, executable, preexec_fn, close_fds, File \"/Users/shivsundarr/.pyenv/versions/3.12.7/lib/python3.12/subprocess.py\", line 1885, in _execute_child self.pid = _fork_exec( ^^^^^^^^^^^ TypeError: expected str, bytes or os.PathLike object, not NoneType During handling of the above exception, another exception occurred: Traceback (most recent call last): File \"/Users/shivsundarr/dev/opensource/kafka/docker/docker_build_test.py\", line 85, in run_docker_tests(args.image, args.tag, args.kafka_url, args.image_type) File \"/Users/shivsundarr/dev/opensource/kafka/docker/docker_build_test.py\", line 55, in run_docker_tests raise SystemError(\"Failed to run the tests\") SystemError: Failed to run the tests {code} This is because the code currently only allows kafka_url to be passed for running the tests. {code:java} def run_docker_tests(image, tag, kafka_url, image_type):{code} We need to add another overloaded function which would take kafka_archive parameter instead of kafka_url.","output":"docker_build_test.py does not run tests when using --kafka-archive."}
{"instruction":"Classify the status of this issue based on its description:","input":"docker_build_test.py does not run tests when using --kafka-archive.\n\nWhen we want to run docker_sanity_test.py for a local image, we need to pass a local archive image via --kafka-archive to docker_build_test.py. But currently it fails to run the test(docker_sanity_test.py) when we pass --kafka-archive. Currently the tests run only when we pass a URL via --kafka-url. {code:java} python docker_build_test.py kafka/test --image-tag=4.2.0-SNAPSHOT --image-type=jvm --kafka-archive=/Users/shivsundarr/dev/opensource/kafka/core/build/distributions/kafka_2.13-4.2.0-SNAPSH","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"docker_build_test.py does not run tests when using --kafka-archive.\n\nWhen we want to run docker_sanity_test.py for a local image, we need to pass a local archive image via --kafka-archive to docker_build_test.py. But currently it fails to run the test(docker_sanity_test.py) when we pass --kafka-archive. Currently the tests run only when we pass a URL via --kafka-url. {code:java} python docker_build_test.py kafka/test --image-tag=4.2.0-SNAPSHOT --image-type=jvm --kafka-archive=/Users/shivsundarr/dev/opensource/kafka/core/build/distributions/kafka_2.13-4.2.0-SNAPSH","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: docker_build_test.py does not run tests when using --kafka-archive.\n\nWhen we want to run docker_sanity_test.py for a local image, we need to pass a local archive image via --kafka-archive to docker_build_test.py. But currently it fails to run the test(docker_sanity_test.py) when we pass --kafka-archive. Currently the tests run only when we pass a URL via --kafka-url. {code:java} python docker_build_test.py kafka/test --image-tag=4.2.0-SNAPSHOT --image-type=jvm --kafka-archive=/Users/shivsundarr/dev/opensource/kafka/core/build/distributions/kafka_2.13-4.2.0-SNAPSH","output":"When we want to run docker_sanity_test.py for a local image, we need to pass a local archive image via --kafka-archive to docker_build_test.py. But currently it fails to run the test(docker_sanity_test.py) when we pass --kafka-archive. Currently the tests run only when we pass a URL via --kafka-url."}
{"instruction":"Extract key technical details from this issue:","input":"When we want to run docker_sanity_test.py for a local image, we need to pass a local archive image via --kafka-archive to docker_build_test.py. But currently it fails to run the test(docker_sanity_test.py) when we pass --kafka-archive. Currently the tests run only when we pass a URL via --kafka-url. {code:java} python docker_build_test.py kafka/test --image-tag=4.2.0-SNAPSHOT --image-type=jvm --kafka-archive=/Users/shivsundarr/dev/opensource/kafka/core/build/distributions/kafka_2.13-4.2.0-SNAPSHOT.tgz{code} After building the image, got the following output when it attempted to run the tests. {code:java} Traceback (most recent call last): File \"/Users/shivsundarr/dev/opensource/kafka/docker/docker_build_test.py\", line 50, in run_docker_tests execute([\"wget\", \"-nv\", \"-O\", f\"{temp_dir_path}/","output":"docker_build_test.py does not run tests when using --kafka-archive."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"InsertHeader drops part of the value when header value is a number\n\nWhen I use the SMT *org.apache.kafka.connect.transforms.InsertHeader* and the header value is a number, part of the value is dropped. Example: {code:yaml} # Insert KafkaHeaders for avro serialization transforms: insertSpecHeader transforms.insertSpecHeader.type: org.apache.kafka.connect.transforms.InsertHeader transforms.insertSpecHeader.header: \"specversion\" transforms.insertSpecHeader.value.literal: \"2.0\" {code} Then, the record is produced with the header *\"specversion\": \"2\"* Is KafkaConnect doing a sort of casting and treating the value as float even though I am using literal?","output":"InsertHeader drops part of the value when header value is a number"}
{"instruction":"Classify the status of this issue based on its description:","input":"InsertHeader drops part of the value when header value is a number\n\nWhen I use the SMT *org.apache.kafka.connect.transforms.InsertHeader* and the header value is a number, part of the value is dropped. Example: {code:yaml} # Insert KafkaHeaders for avro serialization transforms: insertSpecHeader transforms.insertSpecHeader.type: org.apache.kafka.connect.transforms.InsertHeader transforms.insertSpecHeader.header: \"specversion\" transforms.insertSpecHeader.value.literal: \"2.0\" {code} Then, the record is produced with the header *\"specversion\": \"2\"* Is KafkaConnect ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"InsertHeader drops part of the value when header value is a number\n\nWhen I use the SMT *org.apache.kafka.connect.transforms.InsertHeader* and the header value is a number, part of the value is dropped. Example: {code:yaml} # Insert KafkaHeaders for avro serialization transforms: insertSpecHeader transforms.insertSpecHeader.type: org.apache.kafka.connect.transforms.InsertHeader transforms.insertSpecHeader.header: \"specversion\" transforms.insertSpecHeader.value.literal: \"2.0\" {code} Then, the record is produced with the header *\"specversion\": \"2\"* Is KafkaConnect ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: InsertHeader drops part of the value when header value is a number\n\nWhen I use the SMT *org.apache.kafka.connect.transforms.InsertHeader* and the header value is a number, part of the value is dropped. Example: {code:yaml} # Insert KafkaHeaders for avro serialization transforms: insertSpecHeader transforms.insertSpecHeader.type: org.apache.kafka.connect.transforms.InsertHeader transforms.insertSpecHeader.header: \"specversion\" transforms.insertSpecHeader.value.literal: \"2.0\" {code} Then, the record is produced with the header *\"specversion\": \"2\"* Is KafkaConnect ","output":"When I use the SMT *org.apache.kafka.connect.transforms.InsertHeader* and the header value is a number, part of the value is dropped. Example: {code:yaml} # Insert KafkaHeaders for avro serialization transforms: insertSpecHeader transforms.insertSpecHeader.type: org.apache.kafka.connect.transforms.I"}
{"instruction":"Extract key technical details from this issue:","input":"When I use the SMT *org.apache.kafka.connect.transforms.InsertHeader* and the header value is a number, part of the value is dropped. Example: {code:yaml} # Insert KafkaHeaders for avro serialization transforms: insertSpecHeader transforms.insertSpecHeader.type: org.apache.kafka.connect.transforms.InsertHeader transforms.insertSpecHeader.header: \"specversion\" transforms.insertSpecHeader.value.literal: \"2.0\" {code} Then, the record is produced with the header *\"specversion\": \"2\"* Is KafkaConnect doing a sort of casting and treating the value as float even though I am using literal?","output":"InsertHeader drops part of the value when header value is a number"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"OOM when loading large uncompacted __consumer_offsets partitions with transactional workload\n\nWhen loading a large poorly compacted __consumer_offsets partition with a transactional workload (alternating transaction offset commits and commit markers), we create and discard lots of TimelineHashMaps. These accumulate in the SnapshotRegistry's rollback mechanism. Overall, memory usage is linear in the size of the partition. We can commit the snapshot every N offsets in {{{}CoordinatorLoaderImpl{}}}, to allow the memory to be reclaimed.","output":"OOM when loading large uncompacted __consumer_offsets partitions with transactional workload"}
{"instruction":"Classify the status of this issue based on its description:","input":"OOM when loading large uncompacted __consumer_offsets partitions with transactional workload\n\nWhen loading a large poorly compacted __consumer_offsets partition with a transactional workload (alternating transaction offset commits and commit markers), we create and discard lots of TimelineHashMaps. These accumulate in the SnapshotRegistry's rollback mechanism. Overall, memory usage is linear in the size of the partition. We can commit the snapshot every N offsets in {{{}CoordinatorLoaderImpl{}}}, to allow the memory to be reclaimed.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"OOM when loading large uncompacted __consumer_offsets partitions with transactional workload\n\nWhen loading a large poorly compacted __consumer_offsets partition with a transactional workload (alternating transaction offset commits and commit markers), we create and discard lots of TimelineHashMaps. These accumulate in the SnapshotRegistry's rollback mechanism. Overall, memory usage is linear in the size of the partition. We can commit the snapshot every N offsets in {{{}CoordinatorLoaderImpl{}}}, to allow the memory to be reclaimed.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: OOM when loading large uncompacted __consumer_offsets partitions with transactional workload\n\nWhen loading a large poorly compacted __consumer_offsets partition with a transactional workload (alternating transaction offset commits and commit markers), we create and discard lots of TimelineHashMaps. These accumulate in the SnapshotRegistry's rollback mechanism. Overall, memory usage is linear in the size of the partition. We can commit the snapshot every N offsets in {{{}CoordinatorLoaderImpl{}}}, to allow the memory to be reclaimed.","output":"When loading a large poorly compacted __consumer_offsets partition with a transactional workload (alternating transaction offset commits and commit markers), we create and discard lots of TimelineHashMaps. These accumulate in the SnapshotRegistry's rollback mechanism. Overall, memory usage is linear"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"OOM when loading large uncompacted __consumer_offsets partitions with transactional workload\n\nWhen loading a large poorly compacted __consumer_offsets partition with a transactional workload (alternating transaction offset commits and commit markers), we create and discard lots of TimelineHashMaps. These accumulate in the SnapshotRegistry's rollback mechanism. Overall, memory usage is linear in the size of the partition. We can commit the snapshot every N offsets in {{{}CoordinatorLoaderImpl{}}}, to allow the memory to be reclaimed.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When loading a large poorly compacted __consumer_offsets partition with a transactional workload (alternating transaction offset commits and commit markers), we create and discard lots of TimelineHashMaps. These accumulate in the SnapshotRegistry's rollback mechanism. Overall, memory usage is linear in the size of the partition. We can commit the snapshot every N offsets in {{{}CoordinatorLoaderImpl{}}}, to allow the memory to be reclaimed.","output":"OOM when loading large uncompacted __consumer_offsets partitions with transactional workload"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Consider bumping 3rd party Github Actions\n\nIn https://github.com/apache/kafka/commit/e1b7699975e787a78f5e9bca540b4aa19f0d419d we bumped the versions of many Github Actions but we did not bump the following: - gradle/actions/setup-gradle - aquasecurity/trivy-action - docker/setup-qemu-action - docker/setup-buildx-action - docker/login-action","output":"Consider bumping 3rd party Github Actions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Consider bumping 3rd party Github Actions\n\nIn https://github.com/apache/kafka/commit/e1b7699975e787a78f5e9bca540b4aa19f0d419d we bumped the versions of many Github Actions but we did not bump the following: - gradle/actions/setup-gradle - aquasecurity/trivy-action - docker/setup-qemu-action - docker/setup-buildx-action - docker/login-action","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Consider bumping 3rd party Github Actions\n\nIn https://github.com/apache/kafka/commit/e1b7699975e787a78f5e9bca540b4aa19f0d419d we bumped the versions of many Github Actions but we did not bump the following: - gradle/actions/setup-gradle - aquasecurity/trivy-action - docker/setup-qemu-action - docker/setup-buildx-action - docker/login-action","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Consider bumping 3rd party Github Actions\n\nIn https://github.com/apache/kafka/commit/e1b7699975e787a78f5e9bca540b4aa19f0d419d we bumped the versions of many Github Actions but we did not bump the following: - gradle/actions/setup-gradle - aquasecurity/trivy-action - docker/setup-qemu-action - docker/setup-buildx-action - docker/login-action","output":"In https://github.com/apache/kafka/commit/e1b7699975e787a78f5e9bca540b4aa19f0d419d we bumped the versions of many Github Actions but we did not bump the following: - gradle/actions/setup-gradle - aquasecurity/trivy-action - docker/setup-qemu-action - docker/setup-buildx-action - docker/login-action"}
{"instruction":"Extract key technical details from this issue:","input":"In https://github.com/apache/kafka/commit/e1b7699975e787a78f5e9bca540b4aa19f0d419d we bumped the versions of many Github Actions but we did not bump the following: - gradle/actions/setup-gradle - aquasecurity/trivy-action - docker/setup-qemu-action - docker/setup-buildx-action - docker/login-action","output":"Consider bumping 3rd party Github Actions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Auto migrate .checkpoint offsets\n\nWhen opening a {{StateStore}} that {{{}managesOffsets{}}}, existing {{.checkpoint}} offsets should be \"migrated\" to the {{StateStore}} using {{{}StateStore#commit{}}}.","output":"Auto migrate .checkpoint offsets"}
{"instruction":"Classify the status of this issue based on its description:","input":"Auto migrate .checkpoint offsets\n\nWhen opening a {{StateStore}} that {{{}managesOffsets{}}}, existing {{.checkpoint}} offsets should be \"migrated\" to the {{StateStore}} using {{{}StateStore#commit{}}}.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Auto migrate .checkpoint offsets\n\nWhen opening a {{StateStore}} that {{{}managesOffsets{}}}, existing {{.checkpoint}} offsets should be \"migrated\" to the {{StateStore}} using {{{}StateStore#commit{}}}.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Auto migrate .checkpoint offsets\n\nWhen opening a {{StateStore}} that {{{}managesOffsets{}}}, existing {{.checkpoint}} offsets should be \"migrated\" to the {{StateStore}} using {{{}StateStore#commit{}}}.","output":"When opening a {{StateStore}} that {{{}managesOffsets{}}}, existing {{.checkpoint}} offsets should be \"migrated\" to the {{StateStore}} using {{{}StateStore#commit{}}}."}
{"instruction":"Extract key technical details from this issue:","input":"When opening a {{StateStore}} that {{{}managesOffsets{}}}, existing {{.checkpoint}} offsets should be \"migrated\" to the {{StateStore}} using {{{}StateStore#commit{}}}.","output":"Auto migrate .checkpoint offsets"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Auto migrate .position offsets\n\nWhen opening a {{{}RocksDbStateStore{}}}, {{.position}} offsets should be migrated into the offsets column family.","output":"Auto migrate .position offsets"}
{"instruction":"Classify the status of this issue based on its description:","input":"Auto migrate .position offsets\n\nWhen opening a {{{}RocksDbStateStore{}}}, {{.position}} offsets should be migrated into the offsets column family.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Auto migrate .position offsets\n\nWhen opening a {{{}RocksDbStateStore{}}}, {{.position}} offsets should be migrated into the offsets column family.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Auto migrate .position offsets\n\nWhen opening a {{{}RocksDbStateStore{}}}, {{.position}} offsets should be migrated into the offsets column family.","output":"When opening a {{{}RocksDbStateStore{}}}, {{.position}} offsets should be migrated into the offsets column family."}
{"instruction":"Extract key technical details from this issue:","input":"When opening a {{{}RocksDbStateStore{}}}, {{.position}} offsets should be migrated into the offsets column family.","output":"Auto migrate .position offsets"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Implement new behaviour in ProcessorStateManager\n\nUpdate {{ProcessorStateManager}} to start passing offsets to {{StateStore#commit}} and loading offsets using {{{}StateStore#getCommittedOffsets{}}}.","output":"Implement new behaviour in ProcessorStateManager"}
{"instruction":"Classify the status of this issue based on its description:","input":"Implement new behaviour in ProcessorStateManager\n\nUpdate {{ProcessorStateManager}} to start passing offsets to {{StateStore#commit}} and loading offsets using {{{}StateStore#getCommittedOffsets{}}}.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Implement new behaviour in ProcessorStateManager\n\nUpdate {{ProcessorStateManager}} to start passing offsets to {{StateStore#commit}} and loading offsets using {{{}StateStore#getCommittedOffsets{}}}.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Implement new behaviour in ProcessorStateManager\n\nUpdate {{ProcessorStateManager}} to start passing offsets to {{StateStore#commit}} and loading offsets using {{{}StateStore#getCommittedOffsets{}}}.","output":"Update {{ProcessorStateManager}} to start passing offsets to {{StateStore#commit}} and loading offsets using {{{}StateStore#getCommittedOffsets{}}}."}
{"instruction":"Extract key technical details from this issue:","input":"Update {{ProcessorStateManager}} to start passing offsets to {{StateStore#commit}} and loading offsets using {{{}StateStore#getCommittedOffsets{}}}.","output":"Implement new behaviour in ProcessorStateManager"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"commit-rate metric\n\nMeasures the frequency of calls to {{StateStore#commit}}","output":"commit-rate metric"}
{"instruction":"Classify the status of this issue based on its description:","input":"commit-rate metric\n\nMeasures the frequency of calls to {{StateStore#commit}}","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"commit-rate metric\n\nMeasures the frequency of calls to {{StateStore#commit}}","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: commit-rate metric\n\nMeasures the frequency of calls to {{StateStore#commit}}","output":"Measures the frequency of calls to {{StateStore#commit}}"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add downgrade support\n\n{{RocksDbStateStore#close}} will need to detect when {{upgrade.from}} is set to a version that doesn't support offsets, and downgrade by porting them out to {{.checkpoint}} and removing the column family.","output":"Add downgrade support"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add downgrade support\n\n{{RocksDbStateStore#close}} will need to detect when {{upgrade.from}} is set to a version that doesn't support offsets, and downgrade by porting them out to {{.checkpoint}} and removing the column family.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add downgrade support\n\n{{RocksDbStateStore#close}} will need to detect when {{upgrade.from}} is set to a version that doesn't support offsets, and downgrade by porting them out to {{.checkpoint}} and removing the column family.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add downgrade support\n\n{{RocksDbStateStore#close}} will need to detect when {{upgrade.from}} is set to a version that doesn't support offsets, and downgrade by porting them out to {{.checkpoint}} and removing the column family.","output":"{{RocksDbStateStore#close}} will need to detect when {{upgrade.from}} is set to a version that doesn't support offsets, and downgrade by porting them out to {{.checkpoint}} and removing the column family."}
{"instruction":"Extract key technical details from this issue:","input":"{{RocksDbStateStore#close}} will need to detect when {{upgrade.from}} is set to a version that doesn't support offsets, and downgrade by porting them out to {{.checkpoint}} and removing the column family.","output":"Add downgrade support"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add LegacyCheckpointingStateStore\n\nWrapping StateStore that implements legacy {{.checkpoint}} behaviour, moving its logic out of the {{ProcessorStateManager.}}","output":"Add LegacyCheckpointingStateStore"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add LegacyCheckpointingStateStore\n\nWrapping StateStore that implements legacy {{.checkpoint}} behaviour, moving its logic out of the {{ProcessorStateManager.}}","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add LegacyCheckpointingStateStore\n\nWrapping StateStore that implements legacy {{.checkpoint}} behaviour, moving its logic out of the {{ProcessorStateManager.}}","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add LegacyCheckpointingStateStore\n\nWrapping StateStore that implements legacy {{.checkpoint}} behaviour, moving its logic out of the {{ProcessorStateManager.}}","output":"Wrapping StateStore that implements legacy {{.checkpoint}} behaviour, moving its logic out of the {{ProcessorStateManager.}}"}
{"instruction":"Extract key technical details from this issue:","input":"Wrapping StateStore that implements legacy {{.checkpoint}} behaviour, moving its logic out of the {{ProcessorStateManager.}}","output":"Add LegacyCheckpointingStateStore"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add new StateStore APIs\n\nJust the new APIs, with no modifications to Streams behaviour. This should keep review nice and simple, as it will just be lots of call-site method renames.","output":"Add new StateStore APIs"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add new StateStore APIs\n\nJust the new APIs, with no modifications to Streams behaviour. This should keep review nice and simple, as it will just be lots of call-site method renames.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add new StateStore APIs\n\nJust the new APIs, with no modifications to Streams behaviour. This should keep review nice and simple, as it will just be lots of call-site method renames.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add new StateStore APIs\n\nJust the new APIs, with no modifications to Streams behaviour. This should keep review nice and simple, as it will just be lots of call-site method renames.","output":"Just the new APIs, with no modifications to Streams behaviour. This should keep review nice and simple, as it will just be lots of call-site method renames."}
{"instruction":"Extract key technical details from this issue:","input":"Just the new APIs, with no modifications to Streams behaviour. This should keep review nice and simple, as it will just be lots of call-site method renames.","output":"Add new StateStore APIs"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")\n\n*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets: * KAFKA-19174 * KAFKA-19654 *Environment:* * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka] * Gradle version 8.14.3, GitHub Actions for Gradle builds: 4.3.0 * Gradle version 9.0.0, GitHub Actions for Gradle builds: 4.4.3 * note: Github Actions for Gradle is using wrapper Gradle version (definition is here: .github/actions/setup-gradle/action.yml) *Scenario:* * upgrade {{com.gradle.develocity}} Gradle plugin version from a current version (3.19) to any recent version (3.19.1 and/or more recent) * GitHub Action build breaks (with this error: \"build scan failed to be published\") for both Gradle 8.14.3 and Gradle 9.0.0 * (!) note for commit that contains Gradle 9.0.0: Github Actions build shows wrong Gradle version (8.14.3) *Test cases:* * test case [1] ** baseline: Gradle 8.14.3 /com.gradle.develocity 3.19 ** git commit: last main branch (trunk) commit ** build result -->> everything works fine (/) (no surprises here, it's a trunk after all) * test case [2] ** Gradle version 8.14.3 / com.gradle.develocity 3.19.2 ** git commit: [https://github.com/apache/kafka/pull/20450/commits/d930867e8c2b4dd3f79f032e7b17328cf0ea97ef] ** Github actions error: (x) [https://github.com/apache/kafka/actions/runs/17714050963] * test case [3] ** Gradle version 9.0.0 / com.gradle.develocity 3.19 ** git commit: [https://github.com/apache/kafka/pull/20450/commits/3b624732469835abc54ce06c2a554361578e7c6a] ** build result -->> everything works fine (/) ** Giithub actions build: ([https://github.com/apache/kafka/actions/runs/17714609830/job/50338068122?pr=20450]) ** scan for Java 17: [https://develocity.apache.org/s/o2v23hp2575mu] ** scan for Java 24: [https://develocity.apache.org/s/nui35ngzalmrm] * test case [4] ** Gradle version 9.0.0 / com.gradle.develocity 3.19.2 ** git commit: [https://github.com/apache/kafka/pull/20450/commits/e1a4ff5a5be79a7a9592795e48e40b2b421a10b0] ** Github actions error: (x) [https://github.com/apache/kafka/actions/runs/17719128481] ** (!) _note: Gradle version displayed on Github Actions build is wrong: 8.14.3 (not 9.0.0)_","output":"Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")"}
{"instruction":"Classify the status of this issue based on its description:","input":"Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")\n\n*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets: * KAFKA-19174 * KAFKA-19654 *Environment:* * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka] * Gradle version 8.14.3, GitHub Actions for Gradle builds: 4.3.0 * Gradle version 9.0.0, GitHub Actions for Gradle builds: 4.4.3 * note: Github Actions for Gradle is using wrapper Gradle version (definition is here: .github/actions/setup-gr","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")\n\n*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets: * KAFKA-19174 * KAFKA-19654 *Environment:* * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka] * Gradle version 8.14.3, GitHub Actions for Gradle builds: 4.3.0 * Gradle version 9.0.0, GitHub Actions for Gradle builds: 4.4.3 * note: Github Actions for Gradle is using wrapper Gradle version (definition is here: .github/actions/setup-gr","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")\n\n*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets: * KAFKA-19174 * KAFKA-19654 *Environment:* * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka] * Gradle version 8.14.3, GitHub Actions for Gradle builds: 4.3.0 * Gradle version 9.0.0, GitHub Actions for Gradle builds: 4.4.3 * note: Github Actions for Gradle is using wrapper Gradle version (definition is here: .github/actions/setup-gr","output":"*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets: * KAFKA-19174 * KAFKA-19654 *Environment:* * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka] * Gradle version 8.14.3, GitHub Actions "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")\n\n*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets: * KAFKA-19174 * KAFKA-19654 *Environment:* * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka] * Gradle version 8.14.3, GitHub Actions for Gradle builds: 4.3.0 * Gradle version 9.0.0, GitHub Actions for Gradle builds: 4.4.3 * note: Github Actions for Gradle is using wrapper Gradle version (definition is here: .github/actions/setup-gr","output":"Not A Bug"}
{"instruction":"Extract key technical details from this issue:","input":"*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets: * KAFKA-19174 * KAFKA-19654 *Environment:* * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka] * Gradle version 8.14.3, GitHub Actions for Gradle builds: 4.3.0 * Gradle version 9.0.0, GitHub Actions for Gradle builds: 4.4.3 * note: Github Actions for Gradle is using wrapper Gradle version (definition is here: .github/actions/setup-gradle/action.yml) *Scenario:* * upgrade {{com.gradle.develocity}} Gradle plugin version from a current version (3.19) to any recent version (3.19.1 and/or more recent) * GitHub Action build breaks (with this error: \"build scan failed to be published\") for both Gradle 8.14.3 and Gradle 9.0.0 * (!) not","output":"Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"ListOffsetsHandler should kick out the unsupported timestamp type when receiving an UnsupportedVersionException\n\nsee https://github.com/apache/kafka/pull/20530#discussion_r2345531638","output":"ListOffsetsHandler should kick out the unsupported timestamp type when receiving an UnsupportedVersionException"}
{"instruction":"Classify the status of this issue based on its description:","input":"ListOffsetsHandler should kick out the unsupported timestamp type when receiving an UnsupportedVersionException\n\nsee https://github.com/apache/kafka/pull/20530#discussion_r2345531638","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"ListOffsetsHandler should kick out the unsupported timestamp type when receiving an UnsupportedVersionException\n\nsee https://github.com/apache/kafka/pull/20530#discussion_r2345531638","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: ListOffsetsHandler should kick out the unsupported timestamp type when receiving an UnsupportedVersionException\n\nsee https://github.com/apache/kafka/pull/20530#discussion_r2345531638","output":"see https://github.com/apache/kafka/pull/20530#discussion_r2345531638"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Update Kafka Streams integration tests using IQv2 to new streams protocol\n\nUpdate all integration tests using IQv2 to use both streams and classic group protocol to receive correct endpoint to partition information for all members of the group. AC: All existing integration tests with IQv2 are passing","output":"Update Kafka Streams integration tests using IQv2 to new streams protocol"}
{"instruction":"Classify the status of this issue based on its description:","input":"Update Kafka Streams integration tests using IQv2 to new streams protocol\n\nUpdate all integration tests using IQv2 to use both streams and classic group protocol to receive correct endpoint to partition information for all members of the group. AC: All existing integration tests with IQv2 are passing","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Update Kafka Streams integration tests using IQv2 to new streams protocol\n\nUpdate all integration tests using IQv2 to use both streams and classic group protocol to receive correct endpoint to partition information for all members of the group. AC: All existing integration tests with IQv2 are passing","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Update Kafka Streams integration tests using IQv2 to new streams protocol\n\nUpdate all integration tests using IQv2 to use both streams and classic group protocol to receive correct endpoint to partition information for all members of the group. AC: All existing integration tests with IQv2 are passing","output":"Update all integration tests using IQv2 to use both streams and classic group protocol to receive correct endpoint to partition information for all members of the group. AC: All existing integration tests with IQv2 are passing"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Update Kafka Streams integration tests using IQv2 to new streams protocol\n\nUpdate all integration tests using IQv2 to use both streams and classic group protocol to receive correct endpoint to partition information for all members of the group. AC: All existing integration tests with IQv2 are passing","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Update all integration tests using IQv2 to use both streams and classic group protocol to receive correct endpoint to partition information for all members of the group. AC: All existing integration tests with IQv2 are passing","output":"Update Kafka Streams integration tests using IQv2 to new streams protocol"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Kafka Broker Fails to Start After Upgrade to 4.1.0 Due to Invalid segment.bytes Configuration\n\nAfter upgrading our Kafka brokers to version {*}4.1.0{*}, the broker fails to start due to a misconfigured topic-level {{segment.bytes}} setting. The new version enforces a *minimum value of 1MB (1048576 bytes)* for this configuration, and any value below this threshold causes the broker to terminate during startup. *Error Details:* ** {code:java} [2025-09-12 14:39:51,285] ERROR Encountered fatal fault: Error starting LogManager (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) org.apache.kafka.common.config.ConfigException: Invalid value 75000 for configuration segment.bytes: Value must be at least 1048576 at org.apache.kafka.common.config.ConfigDef$Range.ensureValid(ConfigDef.java:989) ~[kafka-clients-4.1.0.jar:?] {code} In our setup, some topics were previously configured with a lower segment.bytes value (e.g., 75000), which was allowed in earlier Kafka versions but is now invalid. As a result Kafka broker cannot start, leading to downtime and unavailability.No snapshot file exists yet, so the {{kafka-metadata-shell}} tool cannot be used to patch the config offline. We would appreciate your guidance on the following: * Are there any supported methods from Kafka 4.1.0 to override or bypass this validation at startup to recover without losing data? * If not, is there a documented approach to fix such configuration issues when snapshots are not yet available?","output":"Kafka Broker Fails to Start After Upgrade to 4.1.0 Due to Invalid segment.bytes Configuration"}
{"instruction":"Classify the status of this issue based on its description:","input":"Kafka Broker Fails to Start After Upgrade to 4.1.0 Due to Invalid segment.bytes Configuration\n\nAfter upgrading our Kafka brokers to version {*}4.1.0{*}, the broker fails to start due to a misconfigured topic-level {{segment.bytes}} setting. The new version enforces a *minimum value of 1MB (1048576 bytes)* for this configuration, and any value below this threshold causes the broker to terminate during startup. *Error Details:* ** {code:java} [2025-09-12 14:39:51,285] ERROR Encountered fatal fault: Error starting LogManager (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) org.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Kafka Broker Fails to Start After Upgrade to 4.1.0 Due to Invalid segment.bytes Configuration\n\nAfter upgrading our Kafka brokers to version {*}4.1.0{*}, the broker fails to start due to a misconfigured topic-level {{segment.bytes}} setting. The new version enforces a *minimum value of 1MB (1048576 bytes)* for this configuration, and any value below this threshold causes the broker to terminate during startup. *Error Details:* ** {code:java} [2025-09-12 14:39:51,285] ERROR Encountered fatal fault: Error starting LogManager (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) org.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Kafka Broker Fails to Start After Upgrade to 4.1.0 Due to Invalid segment.bytes Configuration\n\nAfter upgrading our Kafka brokers to version {*}4.1.0{*}, the broker fails to start due to a misconfigured topic-level {{segment.bytes}} setting. The new version enforces a *minimum value of 1MB (1048576 bytes)* for this configuration, and any value below this threshold causes the broker to terminate during startup. *Error Details:* ** {code:java} [2025-09-12 14:39:51,285] ERROR Encountered fatal fault: Error starting LogManager (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) org.","output":"After upgrading our Kafka brokers to version {*}4.1.0{*}, the broker fails to start due to a misconfigured topic-level {{segment.bytes}} setting. The new version enforces a *minimum value of 1MB (1048576 bytes)* for this configuration, and any value below this threshold causes the broker to terminat"}
{"instruction":"Extract key technical details from this issue:","input":"After upgrading our Kafka brokers to version {*}4.1.0{*}, the broker fails to start due to a misconfigured topic-level {{segment.bytes}} setting. The new version enforces a *minimum value of 1MB (1048576 bytes)* for this configuration, and any value below this threshold causes the broker to terminate during startup. *Error Details:* ** {code:java} [2025-09-12 14:39:51,285] ERROR Encountered fatal fault: Error starting LogManager (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler) org.apache.kafka.common.config.ConfigException: Invalid value 75000 for configuration segment.bytes: Value must be at least 1048576 at org.apache.kafka.common.config.ConfigDef$Range.ensureValid(ConfigDef.java:989) ~[kafka-clients-4.1.0.jar:?] {code} In our setup, some topics were previously configured w","output":"Kafka Broker Fails to Start After Upgrade to 4.1.0 Due to Invalid segment.bytes Configuration"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove unsupported \"upgrade from\" versions\n\nCf [https://github.com/apache/kafka/pull/20518#discussion_r2338270305] With AK 4.0.0 release, we officially cut support for direct upgrades of Kafka Streams applications from versions 2.3 and older, and only direct upgrades from 2.4 or newer to 4.0+ are supported. Thus, we should update `UpgradeFromValues.java` and remove older version, and cleanup the backward compatibility code accordingly.","output":"Remove unsupported \"upgrade from\" versions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove unsupported \"upgrade from\" versions\n\nCf [https://github.com/apache/kafka/pull/20518#discussion_r2338270305] With AK 4.0.0 release, we officially cut support for direct upgrades of Kafka Streams applications from versions 2.3 and older, and only direct upgrades from 2.4 or newer to 4.0+ are supported. Thus, we should update `UpgradeFromValues.java` and remove older version, and cleanup the backward compatibility code accordingly.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Remove unsupported \"upgrade from\" versions\n\nCf [https://github.com/apache/kafka/pull/20518#discussion_r2338270305] With AK 4.0.0 release, we officially cut support for direct upgrades of Kafka Streams applications from versions 2.3 and older, and only direct upgrades from 2.4 or newer to 4.0+ are supported. Thus, we should update `UpgradeFromValues.java` and remove older version, and cleanup the backward compatibility code accordingly.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove unsupported \"upgrade from\" versions\n\nCf [https://github.com/apache/kafka/pull/20518#discussion_r2338270305] With AK 4.0.0 release, we officially cut support for direct upgrades of Kafka Streams applications from versions 2.3 and older, and only direct upgrades from 2.4 or newer to 4.0+ are supported. Thus, we should update `UpgradeFromValues.java` and remove older version, and cleanup the backward compatibility code accordingly.","output":"Cf [https://github.com/apache/kafka/pull/20518#discussion_r2338270305] With AK 4.0.0 release, we officially cut support for direct upgrades of Kafka Streams applications from versions 2.3 and older, and only direct upgrades from 2.4 or newer to 4.0+ are supported. Thus, we should update `UpgradeFrom"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Remove unsupported \"upgrade from\" versions\n\nCf [https://github.com/apache/kafka/pull/20518#discussion_r2338270305] With AK 4.0.0 release, we officially cut support for direct upgrades of Kafka Streams applications from versions 2.3 and older, and only direct upgrades from 2.4 or newer to 4.0+ are supported. Thus, we should update `UpgradeFromValues.java` and remove older version, and cleanup the backward compatibility code accordingly.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Cf [https://github.com/apache/kafka/pull/20518#discussion_r2338270305] With AK 4.0.0 release, we officially cut support for direct upgrades of Kafka Streams applications from versions 2.3 and older, and only direct upgrades from 2.4 or newer to 4.0+ are supported. Thus, we should update `UpgradeFromValues.java` and remove older version, and cleanup the backward compatibility code accordingly.","output":"Remove unsupported \"upgrade from\" versions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Move MetadataVersionConfigValidator and related test code to metadata module\n\n1. `MetadataVersionConfigValidator` 2. `MetadataVersionConfigValidatorTest` 3. `LogConfigTest#testValidateWithMetadataVersionJbodSupport`","output":"Move MetadataVersionConfigValidator and related test code to metadata module"}
{"instruction":"Classify the status of this issue based on its description:","input":"Move MetadataVersionConfigValidator and related test code to metadata module\n\n1. `MetadataVersionConfigValidator` 2. `MetadataVersionConfigValidatorTest` 3. `LogConfigTest#testValidateWithMetadataVersionJbodSupport`","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Move MetadataVersionConfigValidator and related test code to metadata module\n\n1. `MetadataVersionConfigValidator` 2. `MetadataVersionConfigValidatorTest` 3. `LogConfigTest#testValidateWithMetadataVersionJbodSupport`","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Move MetadataVersionConfigValidator and related test code to metadata module\n\n1. `MetadataVersionConfigValidator` 2. `MetadataVersionConfigValidatorTest` 3. `LogConfigTest#testValidateWithMetadataVersionJbodSupport`","output":"1. `MetadataVersionConfigValidator` 2. `MetadataVersionConfigValidatorTest` 3. `LogConfigTest#testValidateWithMetadataVersionJbodSupport`"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Move MetadataVersionConfigValidator and related test code to metadata module\n\n1. `MetadataVersionConfigValidator` 2. `MetadataVersionConfigValidatorTest` 3. `LogConfigTest#testValidateWithMetadataVersionJbodSupport`","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"1. `MetadataVersionConfigValidator` 2. `MetadataVersionConfigValidatorTest` 3. `LogConfigTest#testValidateWithMetadataVersionJbodSupport`","output":"Move MetadataVersionConfigValidator and related test code to metadata module"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Mark DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout() as flaky\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Mark DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout() as flaky"}
{"instruction":"Classify the status of this issue based on its description:","input":"Mark DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout() as flaky\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Mark DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout() as flaky\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Mark DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout() as flaky\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"According to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky."}
{"instruction":"Extract key technical details from this issue:","input":"According to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Mark DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout() as flaky"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix flaky DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout()\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Fix flaky DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout()"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix flaky DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout()\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Fix flaky DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout()\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix flaky DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout()\n\nAccording to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"According to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky."}
{"instruction":"Extract key technical details from this issue:","input":"According to https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.tools.streams.DescribeStreamsGroupTest&tests.sortField=FLAKY, {{testDescribeStreamsGroupWithShortTimeout}} is very flaky.","output":"Fix flaky DescribeStreamsGroupTest testDescribeStreamsGroupWithShortTimeout()"}
{"instruction":"Classify the status of this issue based on its description:","input":"improve the documentation of `RecordsToDelete`\n\ndocument the behavior of \"-1\" (HIGH_WATERMARK)","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"improve the documentation of `RecordsToDelete`\n\ndocument the behavior of \"-1\" (HIGH_WATERMARK)","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: improve the documentation of `RecordsToDelete`\n\ndocument the behavior of \"-1\" (HIGH_WATERMARK)","output":"document the behavior of \"-1\" (HIGH_WATERMARK)"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"improve the documentation of `RecordsToDelete`\n\ndocument the behavior of \"-1\" (HIGH_WATERMARK)","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Streams | Fix order of arguments to assertEquals in unit test\n\nPart OF https://issues.apache.org/jira/browse/KAFKA-19097 This sub-task is intended to fix the order of arguments passed in assertions in test cases within the streams package.","output":"Streams | Fix order of arguments to assertEquals in unit test"}
{"instruction":"Classify the status of this issue based on its description:","input":"Streams | Fix order of arguments to assertEquals in unit test\n\nPart OF https://issues.apache.org/jira/browse/KAFKA-19097 This sub-task is intended to fix the order of arguments passed in assertions in test cases within the streams package.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Streams | Fix order of arguments to assertEquals in unit test\n\nPart OF https://issues.apache.org/jira/browse/KAFKA-19097 This sub-task is intended to fix the order of arguments passed in assertions in test cases within the streams package.","output":"Trivial"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Streams | Fix order of arguments to assertEquals in unit test\n\nPart OF https://issues.apache.org/jira/browse/KAFKA-19097 This sub-task is intended to fix the order of arguments passed in assertions in test cases within the streams package.","output":"Part OF https://issues.apache.org/jira/browse/KAFKA-19097 This sub-task is intended to fix the order of arguments passed in assertions in test cases within the streams package."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Streams | Fix order of arguments to assertEquals in unit test\n\nPart OF https://issues.apache.org/jira/browse/KAFKA-19097 This sub-task is intended to fix the order of arguments passed in assertions in test cases within the streams package.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Part OF https://issues.apache.org/jira/browse/KAFKA-19097 This sub-task is intended to fix the order of arguments passed in assertions in test cases within the streams package.","output":"Streams | Fix order of arguments to assertEquals in unit test"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"NPE Cannot invoke org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\n\nSeveral tasks in multiple sink connectors in a long-running connect cluster broke spontaneously (within a couple of hours) with the following stacktrace: {code:java} java.lang.NullPointerException: Cannot invoke \"org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\" because the return value of \"java.util.concurrent.ConcurrentMap.get(Object)\" is null at org.apache.kafka.connect.runtime.Worker$ConnectorStatusMetricsGroup.recordTaskRemoved(Worker.java:2333) at org.apache.kafka.connect.runtime.Worker.startTask(Worker.java:707) at org.apache.kafka.connect.runtime.Worker.startSinkTask(Worker.java:568) at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startTask(DistributedHerder.java:2009) at org.apache.kafka.connect.runtime.distributed.DistributedHerder.lambda$getTaskStartingCallable$39(DistributedHerder.java:2059) at java.base/java.util.concurrent.FutureTask.run(Unknown Source) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.base/java.lang.Thread.run(Unknown Source) {code} Restarting the failed tasks with the REST API lead to another task failure with the following stacktrace: {code:java} java.lang.NullPointerException: Cannot invoke \"java.util.Map.size()\" because \"inputMap\" is null at org.apache.kafka.common.utils.Utils.castToStringObjectMap(Utils.java:1476) at org.apache.kafka.common.config.AbstractConfig. (AbstractConfig.java:112) at org.apache.kafka.common.config.AbstractConfig. (AbstractConfig.java:146) at org.apache.kafka.connect.runtime.TaskConfig. (TaskConfig.java:51) at org.apache.kafka.connect.runtime.Worker.startTask(Worker.java:661) at org.apache.kafka.connect.runtime.Worker.startSinkTask(Worker.java:568) at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startTask(DistributedHerder.java:2009) at org.apache.kafka.connect.runtime.distributed.DistributedHerder.lambda$getTaskStartingCallable$39(DistributedHerder.java:2059) at java.base/java.util.concurrent.FutureTask.run(Unknown Source) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.base/java.lang.Thread.run(Unknown Source) {code} Likely related to KAFKA-17719 ? The failed tasks did not show up on the _connector-failed-task-count_ metric (or in the _restarting/paused/failed_ task metrics), but the failing tasks disappeared from the connector-running-task-count metric. Restarting the whole connect cluster resolved the issue.","output":"NPE Cannot invoke org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()"}
{"instruction":"Classify the status of this issue based on its description:","input":"NPE Cannot invoke org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\n\nSeveral tasks in multiple sink connectors in a long-running connect cluster broke spontaneously (within a couple of hours) with the following stacktrace: {code:java} java.lang.NullPointerException: Cannot invoke \"org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\" because the return value of \"java.util.concurrent.ConcurrentMap.get(Object)\" is null at org.apache.kafka.connect.runtime.Worker$ConnectorStatusMetricsGroup.recordTaskRemoved(Worker.java:2333) at org.apache.kafka.connec","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"NPE Cannot invoke org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\n\nSeveral tasks in multiple sink connectors in a long-running connect cluster broke spontaneously (within a couple of hours) with the following stacktrace: {code:java} java.lang.NullPointerException: Cannot invoke \"org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\" because the return value of \"java.util.concurrent.ConcurrentMap.get(Object)\" is null at org.apache.kafka.connect.runtime.Worker$ConnectorStatusMetricsGroup.recordTaskRemoved(Worker.java:2333) at org.apache.kafka.connec","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: NPE Cannot invoke org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\n\nSeveral tasks in multiple sink connectors in a long-running connect cluster broke spontaneously (within a couple of hours) with the following stacktrace: {code:java} java.lang.NullPointerException: Cannot invoke \"org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\" because the return value of \"java.util.concurrent.ConcurrentMap.get(Object)\" is null at org.apache.kafka.connect.runtime.Worker$ConnectorStatusMetricsGroup.recordTaskRemoved(Worker.java:2333) at org.apache.kafka.connec","output":"Several tasks in multiple sink connectors in a long-running connect cluster broke spontaneously (within a couple of hours) with the following stacktrace: {code:java} java.lang.NullPointerException: Cannot invoke \"org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\" because the return"}
{"instruction":"Extract key technical details from this issue:","input":"Several tasks in multiple sink connectors in a long-running connect cluster broke spontaneously (within a couple of hours) with the following stacktrace: {code:java} java.lang.NullPointerException: Cannot invoke \"org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()\" because the return value of \"java.util.concurrent.ConcurrentMap.get(Object)\" is null at org.apache.kafka.connect.runtime.Worker$ConnectorStatusMetricsGroup.recordTaskRemoved(Worker.java:2333) at org.apache.kafka.connect.runtime.Worker.startTask(Worker.java:707) at org.apache.kafka.connect.runtime.Worker.startSinkTask(Worker.java:568) at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startTask(DistributedHerder.java:2009) at org.apache.kafka.connect.runtime.distributed.DistributedHerder.lambda$getT","output":"NPE Cannot invoke org.apache.kafka.connect.runtime.ConnectMetrics$MetricGroup.close()"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Re-enable SmokeTestDriverIntegrationTest for processing threads\n\nThe test fails occasionally with a race condition like this: {code:java} 2_0 RUNNING StreamTask(active): org.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationExceptionorg.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationException at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:977) at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:894)Caused by: java.util.ConcurrentModificationException at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1597) at java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1620) at org.apache.kafka.clients.consumer.internals.ClassicKafkaConsumer.resume(ClassicKafkaConsumer.java:979) at org.apache.kafka.clients.consumer.KafkaConsumer.resume(KafkaConsumer.java:1509) at org.apache.kafka.streams.processor.internals.StreamTask.resumePollingForPartitionsWithAvailableSpace(StreamTask.java:623) at org.apache.kafka.streams.processor.internals.TaskManager.resumePollingForPartitionsWithAvailableSpace(TaskManager.java:1866) at org.apache.kafka.streams.processor.internals.StreamThread.runOnceWithProcessingThreads(StreamThread.java:1355) at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:932) {code} h4. *Since the feature is not actively developed by anybody, we disable this test. This ticket is to re-enable the test when the race condition is fixed.*","output":"Re-enable SmokeTestDriverIntegrationTest for processing threads"}
{"instruction":"Classify the status of this issue based on its description:","input":"Re-enable SmokeTestDriverIntegrationTest for processing threads\n\nThe test fails occasionally with a race condition like this: {code:java} 2_0 RUNNING StreamTask(active): org.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationExceptionorg.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationException at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:977) at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:894)Caused by: java.util.ConcurrentMo","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Re-enable SmokeTestDriverIntegrationTest for processing threads\n\nThe test fails occasionally with a race condition like this: {code:java} 2_0 RUNNING StreamTask(active): org.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationExceptionorg.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationException at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:977) at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:894)Caused by: java.util.ConcurrentMo","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Re-enable SmokeTestDriverIntegrationTest for processing threads\n\nThe test fails occasionally with a race condition like this: {code:java} 2_0 RUNNING StreamTask(active): org.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationExceptionorg.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationException at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:977) at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:894)Caused by: java.util.ConcurrentMo","output":"The test fails occasionally with a race condition like this: {code:java} 2_0 RUNNING StreamTask(active): org.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationExceptionorg.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationException at org.apach"}
{"instruction":"Extract key technical details from this issue:","input":"The test fails occasionally with a race condition like this: {code:java} 2_0 RUNNING StreamTask(active): org.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationExceptionorg.apache.kafka.streams.errors.StreamsException: java.util.ConcurrentModificationException at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:977) at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:894)Caused by: java.util.ConcurrentModificationException at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1597) at java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1620) at org.apache.kafka.clients.consumer.internals.ClassicKafkaConsumer.resume(ClassicKafkaConsumer.java:979) at org.apache.kafka.clients.consume","output":"Re-enable SmokeTestDriverIntegrationTest for processing threads"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"StreamsRebalanceListener is not triggered on Consumer.close()\n\nIn the consumer, we invoke the consumer rebalance {{onPartitionRevoked}} or {{onPartitionLost}} callbacks, when the consumer closes. The point is that the application may want to commit, or wipe the state if we are closing unsuccessfully. In the {{{}StreamsRebalanceListener{}}}, we did not implement this behavior, which means when closing the consumer we may lose some progress, and in the worst case also miss that we have to wipe our local state state since we got fenced. We should implement something like the {{ConsumerRebalanceListenerInvoker}} and invoke it in {{{}Consumer.close{}}}.","output":"StreamsRebalanceListener is not triggered on Consumer.close()"}
{"instruction":"Classify the status of this issue based on its description:","input":"StreamsRebalanceListener is not triggered on Consumer.close()\n\nIn the consumer, we invoke the consumer rebalance {{onPartitionRevoked}} or {{onPartitionLost}} callbacks, when the consumer closes. The point is that the application may want to commit, or wipe the state if we are closing unsuccessfully. In the {{{}StreamsRebalanceListener{}}}, we did not implement this behavior, which means when closing the consumer we may lose some progress, and in the worst case also miss that we have to wipe our local state state since we got fenced. We should implement som","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"StreamsRebalanceListener is not triggered on Consumer.close()\n\nIn the consumer, we invoke the consumer rebalance {{onPartitionRevoked}} or {{onPartitionLost}} callbacks, when the consumer closes. The point is that the application may want to commit, or wipe the state if we are closing unsuccessfully. In the {{{}StreamsRebalanceListener{}}}, we did not implement this behavior, which means when closing the consumer we may lose some progress, and in the worst case also miss that we have to wipe our local state state since we got fenced. We should implement som","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: StreamsRebalanceListener is not triggered on Consumer.close()\n\nIn the consumer, we invoke the consumer rebalance {{onPartitionRevoked}} or {{onPartitionLost}} callbacks, when the consumer closes. The point is that the application may want to commit, or wipe the state if we are closing unsuccessfully. In the {{{}StreamsRebalanceListener{}}}, we did not implement this behavior, which means when closing the consumer we may lose some progress, and in the worst case also miss that we have to wipe our local state state since we got fenced. We should implement som","output":"In the consumer, we invoke the consumer rebalance {{onPartitionRevoked}} or {{onPartitionLost}} callbacks, when the consumer closes. The point is that the application may want to commit, or wipe the state if we are closing unsuccessfully. In the {{{}StreamsRebalanceListener{}}}, we did not implement"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"StreamsRebalanceListener is not triggered on Consumer.close()\n\nIn the consumer, we invoke the consumer rebalance {{onPartitionRevoked}} or {{onPartitionLost}} callbacks, when the consumer closes. The point is that the application may want to commit, or wipe the state if we are closing unsuccessfully. In the {{{}StreamsRebalanceListener{}}}, we did not implement this behavior, which means when closing the consumer we may lose some progress, and in the worst case also miss that we have to wipe our local state state since we got fenced. We should implement som","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"In the consumer, we invoke the consumer rebalance {{onPartitionRevoked}} or {{onPartitionLost}} callbacks, when the consumer closes. The point is that the application may want to commit, or wipe the state if we are closing unsuccessfully. In the {{{}StreamsRebalanceListener{}}}, we did not implement this behavior, which means when closing the consumer we may lose some progress, and in the worst case also miss that we have to wipe our local state state since we got fenced. We should implement something like the {{ConsumerRebalanceListenerInvoker}} and invoke it in {{{}Consumer.close{}}}.","output":"StreamsRebalanceListener is not triggered on Consumer.close()"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"improve the docs of \"clusterId\" for AddRaftVoterOptions and RemoveRaftVoterOptions\n\n1. The cluster id is optional, but users are not aware of its purpose 2. the RPC documentation is also missing 3. there are no integration tests","output":"improve the docs of \"clusterId\" for AddRaftVoterOptions and RemoveRaftVoterOptions"}
{"instruction":"Classify the status of this issue based on its description:","input":"improve the docs of \"clusterId\" for AddRaftVoterOptions and RemoveRaftVoterOptions\n\n1. The cluster id is optional, but users are not aware of its purpose 2. the RPC documentation is also missing 3. there are no integration tests","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"improve the docs of \"clusterId\" for AddRaftVoterOptions and RemoveRaftVoterOptions\n\n1. The cluster id is optional, but users are not aware of its purpose 2. the RPC documentation is also missing 3. there are no integration tests","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: improve the docs of \"clusterId\" for AddRaftVoterOptions and RemoveRaftVoterOptions\n\n1. The cluster id is optional, but users are not aware of its purpose 2. the RPC documentation is also missing 3. there are no integration tests","output":"1. The cluster id is optional, but users are not aware of its purpose 2. the RPC documentation is also missing 3. there are no integration tests"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"improve the docs of \"clusterId\" for AddRaftVoterOptions and RemoveRaftVoterOptions\n\n1. The cluster id is optional, but users are not aware of its purpose 2. the RPC documentation is also missing 3. there are no integration tests","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"1. The cluster id is optional, but users are not aware of its purpose 2. the RPC documentation is also missing 3. there are no integration tests","output":"improve the docs of \"clusterId\" for AddRaftVoterOptions and RemoveRaftVoterOptions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add metrics corresponding to consumer rebalance listener metrics\n\nThe consumer provides metrics for execution of the consumer rebalance listener: * Consumer PartitionsLost Latency * Consumer PartitionsAssigned Latency * Consumer PartitionsRevoked Latency It would be useful for the StreamsRebalanceListener to replicate semilar metrics for TasksLost, TasksAssigned and TasksRevoked.","output":"Add metrics corresponding to consumer rebalance listener metrics"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add metrics corresponding to consumer rebalance listener metrics\n\nThe consumer provides metrics for execution of the consumer rebalance listener: * Consumer PartitionsLost Latency * Consumer PartitionsAssigned Latency * Consumer PartitionsRevoked Latency It would be useful for the StreamsRebalanceListener to replicate semilar metrics for TasksLost, TasksAssigned and TasksRevoked.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add metrics corresponding to consumer rebalance listener metrics\n\nThe consumer provides metrics for execution of the consumer rebalance listener: * Consumer PartitionsLost Latency * Consumer PartitionsAssigned Latency * Consumer PartitionsRevoked Latency It would be useful for the StreamsRebalanceListener to replicate semilar metrics for TasksLost, TasksAssigned and TasksRevoked.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add metrics corresponding to consumer rebalance listener metrics\n\nThe consumer provides metrics for execution of the consumer rebalance listener: * Consumer PartitionsLost Latency * Consumer PartitionsAssigned Latency * Consumer PartitionsRevoked Latency It would be useful for the StreamsRebalanceListener to replicate semilar metrics for TasksLost, TasksAssigned and TasksRevoked.","output":"The consumer provides metrics for execution of the consumer rebalance listener: * Consumer PartitionsLost Latency * Consumer PartitionsAssigned Latency * Consumer PartitionsRevoked Latency It would be useful for the StreamsRebalanceListener to replicate semilar metrics for TasksLost, TasksAssigned a"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add metrics corresponding to consumer rebalance listener metrics\n\nThe consumer provides metrics for execution of the consumer rebalance listener: * Consumer PartitionsLost Latency * Consumer PartitionsAssigned Latency * Consumer PartitionsRevoked Latency It would be useful for the StreamsRebalanceListener to replicate semilar metrics for TasksLost, TasksAssigned and TasksRevoked.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The consumer provides metrics for execution of the consumer rebalance listener: * Consumer PartitionsLost Latency * Consumer PartitionsAssigned Latency * Consumer PartitionsRevoked Latency It would be useful for the StreamsRebalanceListener to replicate semilar metrics for TasksLost, TasksAssigned and TasksRevoked.","output":"Add metrics corresponding to consumer rebalance listener metrics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Unexpected Fatal error InvalidTxnStateException on Kafka Streams (KIP-890)\n\nWe are seeing cases where a Kafka Streams (KS) thread stalls for ~20 seconds, resulting in a visible gap in the logs. During this stall, the broker correctly aborts the open transaction (triggered by the 10-second transaction timeout). So far, this is expected behavior. However, when the KS thread resumes, instead of receiving the expected InvalidProducerEpochException (which we already handle gracefully as part of transaction abort), the client is instead hit with an InvalidTxnStateException. KS currently treats this as a fatal error, causing the application to fail.","output":"Unexpected Fatal error InvalidTxnStateException on Kafka Streams (KIP-890)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Unexpected Fatal error InvalidTxnStateException on Kafka Streams (KIP-890)\n\nWe are seeing cases where a Kafka Streams (KS) thread stalls for ~20 seconds, resulting in a visible gap in the logs. During this stall, the broker correctly aborts the open transaction (triggered by the 10-second transaction timeout). So far, this is expected behavior. However, when the KS thread resumes, instead of receiving the expected InvalidProducerEpochException (which we already handle gracefully as part of transaction abort), the client is instead hit with an InvalidTxnStateException. K","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Unexpected Fatal error InvalidTxnStateException on Kafka Streams (KIP-890)\n\nWe are seeing cases where a Kafka Streams (KS) thread stalls for ~20 seconds, resulting in a visible gap in the logs. During this stall, the broker correctly aborts the open transaction (triggered by the 10-second transaction timeout). So far, this is expected behavior. However, when the KS thread resumes, instead of receiving the expected InvalidProducerEpochException (which we already handle gracefully as part of transaction abort), the client is instead hit with an InvalidTxnStateException. K","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Unexpected Fatal error InvalidTxnStateException on Kafka Streams (KIP-890)\n\nWe are seeing cases where a Kafka Streams (KS) thread stalls for ~20 seconds, resulting in a visible gap in the logs. During this stall, the broker correctly aborts the open transaction (triggered by the 10-second transaction timeout). So far, this is expected behavior. However, when the KS thread resumes, instead of receiving the expected InvalidProducerEpochException (which we already handle gracefully as part of transaction abort), the client is instead hit with an InvalidTxnStateException. K","output":"We are seeing cases where a Kafka Streams (KS) thread stalls for ~20 seconds, resulting in a visible gap in the logs. During this stall, the broker correctly aborts the open transaction (triggered by the 10-second transaction timeout). So far, this is expected behavior. However, when the KS thread r"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Unexpected Fatal error InvalidTxnStateException on Kafka Streams (KIP-890)\n\nWe are seeing cases where a Kafka Streams (KS) thread stalls for ~20 seconds, resulting in a visible gap in the logs. During this stall, the broker correctly aborts the open transaction (triggered by the 10-second transaction timeout). So far, this is expected behavior. However, when the KS thread resumes, instead of receiving the expected InvalidProducerEpochException (which we already handle gracefully as part of transaction abort), the client is instead hit with an InvalidTxnStateException. K","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We are seeing cases where a Kafka Streams (KS) thread stalls for ~20 seconds, resulting in a visible gap in the logs. During this stall, the broker correctly aborts the open transaction (triggered by the 10-second transaction timeout). So far, this is expected behavior. However, when the KS thread resumes, instead of receiving the expected InvalidProducerEpochException (which we already handle gracefully as part of transaction abort), the client is instead hit with an InvalidTxnStateException. KS currently treats this as a fatal error, causing the application to fail.","output":"Unexpected Fatal error InvalidTxnStateException on Kafka Streams (KIP-890)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"TopologyTestDriver spends most of its time forcing changes to disk with persistent state stores\n\nWe are using TopologyTestDriver It looks like the test driver is syncing the entire state directory to disk for every record processed: !image-2025-09-08-14-07-05-768.png!","output":"TopologyTestDriver spends most of its time forcing changes to disk with persistent state stores"}
{"instruction":"Classify the status of this issue based on its description:","input":"TopologyTestDriver spends most of its time forcing changes to disk with persistent state stores\n\nWe are using TopologyTestDriver It looks like the test driver is syncing the entire state directory to disk for every record processed: !image-2025-09-08-14-07-05-768.png!","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"TopologyTestDriver spends most of its time forcing changes to disk with persistent state stores\n\nWe are using TopologyTestDriver It looks like the test driver is syncing the entire state directory to disk for every record processed: !image-2025-09-08-14-07-05-768.png!","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: TopologyTestDriver spends most of its time forcing changes to disk with persistent state stores\n\nWe are using TopologyTestDriver It looks like the test driver is syncing the entire state directory to disk for every record processed: !image-2025-09-08-14-07-05-768.png!","output":"We are using TopologyTestDriver It looks like the test driver is syncing the entire state directory to disk for every record processed: !image-2025-09-08-14-07-05-768.png!"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"TopologyTestDriver spends most of its time forcing changes to disk with persistent state stores\n\nWe are using TopologyTestDriver It looks like the test driver is syncing the entire state directory to disk for every record processed: !image-2025-09-08-14-07-05-768.png!","output":"Invalid"}
{"instruction":"Extract key technical details from this issue:","input":"We are using TopologyTestDriver It looks like the test driver is syncing the entire state directory to disk for every record processed: !image-2025-09-08-14-07-05-768.png!","output":"TopologyTestDriver spends most of its time forcing changes to disk with persistent state stores"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Provide clean upgrade path from transformValues to processValues\n\nThis ticket is a follow up to https://issues.apache.org/jira/browse/KAFKA-19668 With K19668, we introduced some \"hot fix\", that is actually disabled by default for backward compatibility reasons. A cleaner fix (which required a KIP, and thus cannot go into a bug-fix release), would be to add a new overload of `processValues()` which has the fix enabled, and deprecate the existing `processValues()` methods.","output":"Provide clean upgrade path from transformValues to processValues"}
{"instruction":"Classify the status of this issue based on its description:","input":"Provide clean upgrade path from transformValues to processValues\n\nThis ticket is a follow up to https://issues.apache.org/jira/browse/KAFKA-19668 With K19668, we introduced some \"hot fix\", that is actually disabled by default for backward compatibility reasons. A cleaner fix (which required a KIP, and thus cannot go into a bug-fix release), would be to add a new overload of `processValues()` which has the fix enabled, and deprecate the existing `processValues()` methods.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Provide clean upgrade path from transformValues to processValues\n\nThis ticket is a follow up to https://issues.apache.org/jira/browse/KAFKA-19668 With K19668, we introduced some \"hot fix\", that is actually disabled by default for backward compatibility reasons. A cleaner fix (which required a KIP, and thus cannot go into a bug-fix release), would be to add a new overload of `processValues()` which has the fix enabled, and deprecate the existing `processValues()` methods.","output":"Critical"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Provide clean upgrade path from transformValues to processValues\n\nThis ticket is a follow up to https://issues.apache.org/jira/browse/KAFKA-19668 With K19668, we introduced some \"hot fix\", that is actually disabled by default for backward compatibility reasons. A cleaner fix (which required a KIP, and thus cannot go into a bug-fix release), would be to add a new overload of `processValues()` which has the fix enabled, and deprecate the existing `processValues()` methods.","output":"This ticket is a follow up to https://issues.apache.org/jira/browse/KAFKA-19668 With K19668, we introduced some \"hot fix\", that is actually disabled by default for backward compatibility reasons. A cleaner fix (which required a KIP, and thus cannot go into a bug-fix release), would be to add a new o"}
{"instruction":"Extract key technical details from this issue:","input":"This ticket is a follow up to https://issues.apache.org/jira/browse/KAFKA-19668 With K19668, we introduced some \"hot fix\", that is actually disabled by default for backward compatibility reasons. A cleaner fix (which required a KIP, and thus cannot go into a bug-fix release), would be to add a new overload of `processValues()` which has the fix enabled, and deprecate the existing `processValues()` methods.","output":"Provide clean upgrade path from transformValues to processValues"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"MetaDataShell log error message for SNAPSHOT_HEADER and SNAPSHOT_FOOTER\n\n``` ./bin/kafka-metadata-shell.sh -s /tmp/kafka-meta/bootstrap.checkpoint 17:31:43 Loading... [2025-09-08 17:32:19,271] ERROR Ignoring control record with type SNAPSHOT_HEADER at offset 0 (org.apache.kafka.metadata.util.SnapshotFileReader) [2025-09-08 17:32:19,274] ERROR Ignoring control record with type SNAPSHOT_FOOTER at offset 5 (org.apache.kafka.metadata.util.SnapshotFileReader) Starting... ```","output":"MetaDataShell log error message for SNAPSHOT_HEADER and SNAPSHOT_FOOTER"}
{"instruction":"Classify the status of this issue based on its description:","input":"MetaDataShell log error message for SNAPSHOT_HEADER and SNAPSHOT_FOOTER\n\n``` ./bin/kafka-metadata-shell.sh -s /tmp/kafka-meta/bootstrap.checkpoint 17:31:43 Loading... [2025-09-08 17:32:19,271] ERROR Ignoring control record with type SNAPSHOT_HEADER at offset 0 (org.apache.kafka.metadata.util.SnapshotFileReader) [2025-09-08 17:32:19,274] ERROR Ignoring control record with type SNAPSHOT_FOOTER at offset 5 (org.apache.kafka.metadata.util.SnapshotFileReader) Starting... ```","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"MetaDataShell log error message for SNAPSHOT_HEADER and SNAPSHOT_FOOTER\n\n``` ./bin/kafka-metadata-shell.sh -s /tmp/kafka-meta/bootstrap.checkpoint 17:31:43 Loading... [2025-09-08 17:32:19,271] ERROR Ignoring control record with type SNAPSHOT_HEADER at offset 0 (org.apache.kafka.metadata.util.SnapshotFileReader) [2025-09-08 17:32:19,274] ERROR Ignoring control record with type SNAPSHOT_FOOTER at offset 5 (org.apache.kafka.metadata.util.SnapshotFileReader) Starting... ```","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: MetaDataShell log error message for SNAPSHOT_HEADER and SNAPSHOT_FOOTER\n\n``` ./bin/kafka-metadata-shell.sh -s /tmp/kafka-meta/bootstrap.checkpoint 17:31:43 Loading... [2025-09-08 17:32:19,271] ERROR Ignoring control record with type SNAPSHOT_HEADER at offset 0 (org.apache.kafka.metadata.util.SnapshotFileReader) [2025-09-08 17:32:19,274] ERROR Ignoring control record with type SNAPSHOT_FOOTER at offset 5 (org.apache.kafka.metadata.util.SnapshotFileReader) Starting... ```","output":"``` ./bin/kafka-metadata-shell.sh -s /tmp/kafka-meta/bootstrap.checkpoint 17:31:43 Loading... [2025-09-08 17:32:19,271] ERROR Ignoring control record with type SNAPSHOT_HEADER at offset 0 (org.apache.kafka.metadata.util.SnapshotFileReader) [2025-09-08 17:32:19,274] ERROR Ignoring control record with"}
{"instruction":"Extract key technical details from this issue:","input":"``` ./bin/kafka-metadata-shell.sh -s /tmp/kafka-meta/bootstrap.checkpoint 17:31:43 Loading... [2025-09-08 17:32:19,271] ERROR Ignoring control record with type SNAPSHOT_HEADER at offset 0 (org.apache.kafka.metadata.util.SnapshotFileReader) [2025-09-08 17:32:19,274] ERROR Ignoring control record with type SNAPSHOT_FOOTER at offset 5 (org.apache.kafka.metadata.util.SnapshotFileReader) Starting... ```","output":"MetaDataShell log error message for SNAPSHOT_HEADER and SNAPSHOT_FOOTER"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Trigger Docker image builds in release script\n\nIn the release process, you release manager has to manually trigger the Docker Build Test Workflow for both the jvm and native images (https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=34840886#ReleaseProcess-CreateJVMApacheKafkaDockerArtifacts(Forversions>=3.7.0)). The release script could trigger these jobs automatically using the GitHub REST API.","output":"Trigger Docker image builds in release script"}
{"instruction":"Classify the status of this issue based on its description:","input":"Trigger Docker image builds in release script\n\nIn the release process, you release manager has to manually trigger the Docker Build Test Workflow for both the jvm and native images (https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=34840886#ReleaseProcess-CreateJVMApacheKafkaDockerArtifacts(Forversions>=3.7.0)). The release script could trigger these jobs automatically using the GitHub REST API.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Trigger Docker image builds in release script\n\nIn the release process, you release manager has to manually trigger the Docker Build Test Workflow for both the jvm and native images (https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=34840886#ReleaseProcess-CreateJVMApacheKafkaDockerArtifacts(Forversions>=3.7.0)). The release script could trigger these jobs automatically using the GitHub REST API.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Trigger Docker image builds in release script\n\nIn the release process, you release manager has to manually trigger the Docker Build Test Workflow for both the jvm and native images (https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=34840886#ReleaseProcess-CreateJVMApacheKafkaDockerArtifacts(Forversions>=3.7.0)). The release script could trigger these jobs automatically using the GitHub REST API.","output":"In the release process, you release manager has to manually trigger the Docker Build Test Workflow for both the jvm and native images (https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=34840886#ReleaseProcess-CreateJVMApacheKafkaDockerArtifacts(Forversions>=3.7.0)). The release script"}
{"instruction":"Extract key technical details from this issue:","input":"In the release process, you release manager has to manually trigger the Docker Build Test Workflow for both the jvm and native images (https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=34840886#ReleaseProcess-CreateJVMApacheKafkaDockerArtifacts(Forversions>=3.7.0)). The release script could trigger these jobs automatically using the GitHub REST API.","output":"Trigger Docker image builds in release script"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Revoked partitions are included in currentOffsets passed to preCommit on task stop\n\nWhen a task stops, https://github.com/apache/kafka/blob/84caaa6e9da06435411510a81fa321d4f99c351f/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L664 runs and the https://github.com/apache/kafka/blob/3c7f99ad31397a6a7a4975d058891f236f37d02d/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L444. At that time, the {{currentOffsets}} argument may include {*}revoked partitions{*}. This appears to be caused by: * {{WorkerSinkTask}} does not remove revoked partitions from {{currentOffsets}} * {{WorkerSinkTask#closeAllPartitions()}} passes its {{currentOffsets}} to {{SinkTask#preCommit(...)}} _as-is_ (i.e., without filtering). During normal iterations, {{SinkTask#preCommit(...)}} receives {{{}KafkaConsumer#assignment(){}}}, so revoked partitions are *not* included. Having revoked partitions included *only* at stop is confusing behavior. If this behavior is specified, Could we add a brief note to the {{SinkTask#preCommit(...)}} Javadoc to clarify this behavior?","output":"Revoked partitions are included in currentOffsets passed to preCommit on task stop"}
{"instruction":"Classify the status of this issue based on its description:","input":"Revoked partitions are included in currentOffsets passed to preCommit on task stop\n\nWhen a task stops, https://github.com/apache/kafka/blob/84caaa6e9da06435411510a81fa321d4f99c351f/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L664 runs and the https://github.com/apache/kafka/blob/3c7f99ad31397a6a7a4975d058891f236f37d02d/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L444. At that time, the {{currentOffsets}} argument may include {*}revoked partitions{*}. This appears to be caused by: * {{WorkerSinkTask}} ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Revoked partitions are included in currentOffsets passed to preCommit on task stop\n\nWhen a task stops, https://github.com/apache/kafka/blob/84caaa6e9da06435411510a81fa321d4f99c351f/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L664 runs and the https://github.com/apache/kafka/blob/3c7f99ad31397a6a7a4975d058891f236f37d02d/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L444. At that time, the {{currentOffsets}} argument may include {*}revoked partitions{*}. This appears to be caused by: * {{WorkerSinkTask}} ","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Revoked partitions are included in currentOffsets passed to preCommit on task stop\n\nWhen a task stops, https://github.com/apache/kafka/blob/84caaa6e9da06435411510a81fa321d4f99c351f/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L664 runs and the https://github.com/apache/kafka/blob/3c7f99ad31397a6a7a4975d058891f236f37d02d/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L444. At that time, the {{currentOffsets}} argument may include {*}revoked partitions{*}. This appears to be caused by: * {{WorkerSinkTask}} ","output":"When a task stops, https://github.com/apache/kafka/blob/84caaa6e9da06435411510a81fa321d4f99c351f/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L664 runs and the https://github.com/apache/kafka/blob/3c7f99ad31397a6a7a4975d058891f236f37d02d/connect/runtime/src/main"}
{"instruction":"Extract key technical details from this issue:","input":"When a task stops, https://github.com/apache/kafka/blob/84caaa6e9da06435411510a81fa321d4f99c351f/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L664 runs and the https://github.com/apache/kafka/blob/3c7f99ad31397a6a7a4975d058891f236f37d02d/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSinkTask.java#L444. At that time, the {{currentOffsets}} argument may include {*}revoked partitions{*}. This appears to be caused by: * {{WorkerSinkTask}} does not remove revoked partitions from {{currentOffsets}} * {{WorkerSinkTask#closeAllPartitions()}} passes its {{currentOffsets}} to {{SinkTask#preCommit(...)}} _as-is_ (i.e., without filtering). During normal iterations, {{SinkTask#preCommit(...)}} receives {{{}KafkaConsumer#assignment(){}}}, so r","output":"Revoked partitions are included in currentOffsets passed to preCommit on task stop"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Move Gauge#value to MetricValueProvider\n\nfrom: https://github.com/apache/kafka/pull/3705#discussion_r140830112","output":"Move Gauge#value to MetricValueProvider"}
{"instruction":"Classify the status of this issue based on its description:","input":"Move Gauge#value to MetricValueProvider\n\nfrom: https://github.com/apache/kafka/pull/3705#discussion_r140830112","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Move Gauge#value to MetricValueProvider\n\nfrom: https://github.com/apache/kafka/pull/3705#discussion_r140830112","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Move Gauge#value to MetricValueProvider\n\nfrom: https://github.com/apache/kafka/pull/3705#discussion_r140830112","output":"from: https://github.com/apache/kafka/pull/3705#discussion_r140830112"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Move Gauge#value to MetricValueProvider\n\nfrom: https://github.com/apache/kafka/pull/3705#discussion_r140830112","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Clean up TaskManagerTest\n\nSee https://github.com/apache/kafka/pull/20392#issuecomment-3241457533","output":"Clean up TaskManagerTest"}
{"instruction":"Classify the status of this issue based on its description:","input":"Clean up TaskManagerTest\n\nSee https://github.com/apache/kafka/pull/20392#issuecomment-3241457533","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Clean up TaskManagerTest\n\nSee https://github.com/apache/kafka/pull/20392#issuecomment-3241457533","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Clean up TaskManagerTest\n\nSee https://github.com/apache/kafka/pull/20392#issuecomment-3241457533","output":"See https://github.com/apache/kafka/pull/20392#issuecomment-3241457533"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve logging about task readiness\n\nKafka Streams processes its assigned tasks in a round robin fashion, however, if a task is considered not ready for processing, it might get skipped. We have observed cases, in which Kafka Streams seems to get stuck on a partition, and restarting the application instance resolves this issue. We suspect, it's related to considering the task for the stuck partition as not ready for processing. (As the ready/not-ready decision is based on in-memory state of KS runtime, bouncing the instance would reset KS runtime into a clean state, unblocking the stuck task.) However, we currently don't have sufficient logging to reason about this case, and to understand if and why a task might be skipped. We should add more log statement (DEBUG and/or TRACE) to get better visibility. There might be a lurking bug in this logic that we cannot narrow down w/o the corresponding information logging could provide.","output":"Improve logging about task readiness"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve logging about task readiness\n\nKafka Streams processes its assigned tasks in a round robin fashion, however, if a task is considered not ready for processing, it might get skipped. We have observed cases, in which Kafka Streams seems to get stuck on a partition, and restarting the application instance resolves this issue. We suspect, it's related to considering the task for the stuck partition as not ready for processing. (As the ready/not-ready decision is based on in-memory state of KS runtime, bouncing the instance would r","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Improve logging about task readiness\n\nKafka Streams processes its assigned tasks in a round robin fashion, however, if a task is considered not ready for processing, it might get skipped. We have observed cases, in which Kafka Streams seems to get stuck on a partition, and restarting the application instance resolves this issue. We suspect, it's related to considering the task for the stuck partition as not ready for processing. (As the ready/not-ready decision is based on in-memory state of KS runtime, bouncing the instance would r","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve logging about task readiness\n\nKafka Streams processes its assigned tasks in a round robin fashion, however, if a task is considered not ready for processing, it might get skipped. We have observed cases, in which Kafka Streams seems to get stuck on a partition, and restarting the application instance resolves this issue. We suspect, it's related to considering the task for the stuck partition as not ready for processing. (As the ready/not-ready decision is based on in-memory state of KS runtime, bouncing the instance would r","output":"Kafka Streams processes its assigned tasks in a round robin fashion, however, if a task is considered not ready for processing, it might get skipped. We have observed cases, in which Kafka Streams seems to get stuck on a partition, and restarting the application instance resolves this issue. We susp"}
{"instruction":"Extract key technical details from this issue:","input":"Kafka Streams processes its assigned tasks in a round robin fashion, however, if a task is considered not ready for processing, it might get skipped. We have observed cases, in which Kafka Streams seems to get stuck on a partition, and restarting the application instance resolves this issue. We suspect, it's related to considering the task for the stuck partition as not ready for processing. (As the ready/not-ready decision is based on in-memory state of KS runtime, bouncing the instance would reset KS runtime into a clean state, unblocking the stuck task.) However, we currently don't have sufficient logging to reason about this case, and to understand if and why a task might be skipped. We should add more log statement (DEBUG and/or TRACE) to get better visibility. There might be a lurkin","output":"Improve logging about task readiness"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Optimize MetadataShell tool find command print warning message intead of throwing exception\n\nWhen using the {{find}} command, it currently lists all directories and files. However, if it cannot find a child node, it throws an exception and prevents the subsequent directories from being printed. I think we should change this behavior to print an error message instead of throwing an exception, which would be more user-friendly. In addition, since {{zkMigrationState}} is not used in Kafka 4.X, we should remove this child node.","output":"Optimize MetadataShell tool find command print warning message intead of throwing exception"}
{"instruction":"Classify the status of this issue based on its description:","input":"Optimize MetadataShell tool find command print warning message intead of throwing exception\n\nWhen using the {{find}} command, it currently lists all directories and files. However, if it cannot find a child node, it throws an exception and prevents the subsequent directories from being printed. I think we should change this behavior to print an error message instead of throwing an exception, which would be more user-friendly. In addition, since {{zkMigrationState}} is not used in Kafka 4.X, we should remove this child node.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Optimize MetadataShell tool find command print warning message intead of throwing exception\n\nWhen using the {{find}} command, it currently lists all directories and files. However, if it cannot find a child node, it throws an exception and prevents the subsequent directories from being printed. I think we should change this behavior to print an error message instead of throwing an exception, which would be more user-friendly. In addition, since {{zkMigrationState}} is not used in Kafka 4.X, we should remove this child node.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Optimize MetadataShell tool find command print warning message intead of throwing exception\n\nWhen using the {{find}} command, it currently lists all directories and files. However, if it cannot find a child node, it throws an exception and prevents the subsequent directories from being printed. I think we should change this behavior to print an error message instead of throwing an exception, which would be more user-friendly. In addition, since {{zkMigrationState}} is not used in Kafka 4.X, we should remove this child node.","output":"When using the {{find}} command, it currently lists all directories and files. However, if it cannot find a child node, it throws an exception and prevents the subsequent directories from being printed. I think we should change this behavior to print an error message instead of throwing an exception"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Optimize MetadataShell tool find command print warning message intead of throwing exception\n\nWhen using the {{find}} command, it currently lists all directories and files. However, if it cannot find a child node, it throws an exception and prevents the subsequent directories from being printed. I think we should change this behavior to print an error message instead of throwing an exception, which would be more user-friendly. In addition, since {{zkMigrationState}} is not used in Kafka 4.X, we should remove this child node.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When using the {{find}} command, it currently lists all directories and files. However, if it cannot find a child node, it throws an exception and prevents the subsequent directories from being printed. I think we should change this behavior to print an error message instead of throwing an exception, which would be more user-friendly. In addition, since {{zkMigrationState}} is not used in Kafka 4.X, we should remove this child node.","output":"Optimize MetadataShell tool find command print warning message intead of throwing exception"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka Streams 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.kafka.common.metrics.KafkaMetric.metricValue(KafkaMetric.java:81) {code} It seems that unfortunately the dynamic metric registration introduced in [https://github.com/apache/kafka/pull/20022] undid the fix from [https://github.com/apache/kafka/pull/18771] There is still a race between the metric gauge being removed, and the last open iterator being removed from the tracking set. The same fix from #18771 would fix the issue again.","output":"NoSuchElementException (again) in Kafka Streams iterator metrics"}
{"instruction":"Classify the status of this issue based on its description:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka Streams 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.a","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka Streams 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.a","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka Streams 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.a","output":"Since upgrading to Kafka Streams 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka Streams 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.a","output":"Duplicate"}
{"instruction":"Extract key technical details from this issue:","input":"Since upgrading to Kafka Streams 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.kafka.common.metrics.KafkaMetric.metricValue(KafkaMetric.java:81) {code} It seems that unfortunately the dynamic metric registration introduced in [https://github.com/apache/kafka/pull/20022] undid the fix from [https://github.com/apache/kafka/pull/18771] There is still a race between the metr","output":"NoSuchElementException (again) in Kafka Streams iterator metrics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.kafka.common.metrics.KafkaMetric.metricValue(KafkaMetric.java:81) {code} I think unfortunately the dynamic registration introduced in KAFKA-19398 ([https://github.com/apache/kafka/pull/20022]) might have reverted the fix from [https://github.com/apache/kafka/pull/18771] There is still a race between removing the metric gauge, and the last iterator being removed from the tracking set.","output":"NoSuchElementException (again) in Kafka Streams iterator metrics"}
{"instruction":"Classify the status of this issue based on its description:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.ka","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.ka","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.ka","output":"Since upgrading to Kafka 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at jav"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"NoSuchElementException (again) in Kafka Streams iterator metrics\n\nSince upgrading to Kafka 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.ka","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Since upgrading to Kafka 4.1.0, we again see in our metrics collection: {code:java} Exception thrown from GraphiteReporter#report. Exception was suppressed. java.util.NoSuchElementException: null at java.base/java.util.concurrent.ConcurrentSkipListMap.firstKey(ConcurrentSkipListMap.java:1863) at java.base/java.util.concurrent.ConcurrentSkipListSet.first(ConcurrentSkipListSet.java:393) at org.apache.kafka.streams.internals.metrics.OpenIterators.lambda$add$0(OpenIterators.java:57) at org.apache.kafka.common.metrics.KafkaMetric.metricValue(KafkaMetric.java:81) {code} I think unfortunately the dynamic registration introduced in KAFKA-19398 ([https://github.com/apache/kafka/pull/20022]) might have reverted the fix from [https://github.com/apache/kafka/pull/18771] There is still a race between r","output":"NoSuchElementException (again) in Kafka Streams iterator metrics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Streams open iterator tracking has high contention on metrics lock\n\nWe run Kafka Streams 4.1.0 with custom processors that heavily use state store range iterators. While investigating disappointing performance, we found a surprising source of lock contention. Over the course of about a 1 minute profiler sample, the {{org.apache.kafka.common.metrics.Metrics}} lock is taken approximately 40,000 times and blocks threads for about 1 minute. This appears to be because our state stores generally have no iterators open, except when their processor is processing a record, in which case it opens an iterator (taking the lock through {{OpenIterators.add}} into {{{}Metrics.registerMetric{}}}), does a tiny bit of work, and then closes the iterator (again taking the lock through {{OpenIterators.remove}} into {{{}Metrics.removeMetric{}}}). So, stream processing threads takes a globally shared lock twice per record, for this subset of our data. I've attached a profiler thread state visualization with our findings - the red bar indicates the thread was blocked during the sample on this lock. As you can see, this lock seems to be severely hampering our performance. !image-2025-09-05-12-13-24-910.png!","output":"Streams open iterator tracking has high contention on metrics lock"}
{"instruction":"Classify the status of this issue based on its description:","input":"Streams open iterator tracking has high contention on metrics lock\n\nWe run Kafka Streams 4.1.0 with custom processors that heavily use state store range iterators. While investigating disappointing performance, we found a surprising source of lock contention. Over the course of about a 1 minute profiler sample, the {{org.apache.kafka.common.metrics.Metrics}} lock is taken approximately 40,000 times and blocks threads for about 1 minute. This appears to be because our state stores generally have no iterators open, except when their processor is processing a recor","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Streams open iterator tracking has high contention on metrics lock\n\nWe run Kafka Streams 4.1.0 with custom processors that heavily use state store range iterators. While investigating disappointing performance, we found a surprising source of lock contention. Over the course of about a 1 minute profiler sample, the {{org.apache.kafka.common.metrics.Metrics}} lock is taken approximately 40,000 times and blocks threads for about 1 minute. This appears to be because our state stores generally have no iterators open, except when their processor is processing a recor","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Streams open iterator tracking has high contention on metrics lock\n\nWe run Kafka Streams 4.1.0 with custom processors that heavily use state store range iterators. While investigating disappointing performance, we found a surprising source of lock contention. Over the course of about a 1 minute profiler sample, the {{org.apache.kafka.common.metrics.Metrics}} lock is taken approximately 40,000 times and blocks threads for about 1 minute. This appears to be because our state stores generally have no iterators open, except when their processor is processing a recor","output":"We run Kafka Streams 4.1.0 with custom processors that heavily use state store range iterators. While investigating disappointing performance, we found a surprising source of lock contention. Over the course of about a 1 minute profiler sample, the {{org.apache.kafka.common.metrics.Metrics}} lock is"}
{"instruction":"Extract key technical details from this issue:","input":"We run Kafka Streams 4.1.0 with custom processors that heavily use state store range iterators. While investigating disappointing performance, we found a surprising source of lock contention. Over the course of about a 1 minute profiler sample, the {{org.apache.kafka.common.metrics.Metrics}} lock is taken approximately 40,000 times and blocks threads for about 1 minute. This appears to be because our state stores generally have no iterators open, except when their processor is processing a record, in which case it opens an iterator (taking the lock through {{OpenIterators.add}} into {{{}Metrics.registerMetric{}}}), does a tiny bit of work, and then closes the iterator (again taking the lock through {{OpenIterators.remove}} into {{{}Metrics.removeMetric{}}}). So, stream processing threads t","output":"Streams open iterator tracking has high contention on metrics lock"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Flaky Test org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest\n\nThe test `SmokeTestDriverIntegrationTest` failed many time in recent runs: [https://develocity.apache.org/scans/tests?search.names=Git%20branch&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&search.values=trunk&tests.container=org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest&tests.sortField=FLAKY] Sample run: https://github.com/apache/kafka/actions/runs/17471808549/job/49622305615?pr=20266","output":"Flaky Test org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest"}
{"instruction":"Classify the status of this issue based on its description:","input":"Flaky Test org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest\n\nThe test `SmokeTestDriverIntegrationTest` failed many time in recent runs: [https://develocity.apache.org/scans/tests?search.names=Git%20branch&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&search.values=trunk&tests.container=org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest&tests.sortField=FLAKY] Sample run: https://github.com/apache/kafka/actions/runs/17471808549/job/49622305615?pr=20266","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Flaky Test org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest\n\nThe test `SmokeTestDriverIntegrationTest` failed many time in recent runs: [https://develocity.apache.org/scans/tests?search.names=Git%20branch&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&search.values=trunk&tests.container=org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest&tests.sortField=FLAKY] Sample run: https://github.com/apache/kafka/actions/runs/17471808549/job/49622305615?pr=20266","output":"Critical"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Flaky Test org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest\n\nThe test `SmokeTestDriverIntegrationTest` failed many time in recent runs: [https://develocity.apache.org/scans/tests?search.names=Git%20branch&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&search.values=trunk&tests.container=org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest&tests.sortField=FLAKY] Sample run: https://github.com/apache/kafka/actions/runs/17471808549/job/49622305615?pr=20266","output":"The test `SmokeTestDriverIntegrationTest` failed many time in recent runs: [https://develocity.apache.org/scans/tests?search.names=Git%20branch&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&search.values=trunk&tests.container=org.apache.kafka.str"}
{"instruction":"Extract key technical details from this issue:","input":"The test `SmokeTestDriverIntegrationTest` failed many time in recent runs: [https://develocity.apache.org/scans/tests?search.names=Git%20branch&search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&search.values=trunk&tests.container=org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest&tests.sortField=FLAKY] Sample run: https://github.com/apache/kafka/actions/runs/17471808549/job/49622305615?pr=20266","output":"Flaky Test org.apache.kafka.streams.integration.SmokeTestDriverIntegrationTest"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"EpochState should override close to avoid throwing IOException\n\nAll subclasses of EpochState do not throw an IOException when closing, so catching it is unnecessary. We could override close to remove the IOException declaration and streamline the code {code:java} if (state != null) { try { state.close(); } catch (IOException e) { throw new UncheckedIOException( \"Failed to transition from \" + state.name() + \" to \" + newState.name(), e); } } {code}","output":"EpochState should override close to avoid throwing IOException"}
{"instruction":"Classify the status of this issue based on its description:","input":"EpochState should override close to avoid throwing IOException\n\nAll subclasses of EpochState do not throw an IOException when closing, so catching it is unnecessary. We could override close to remove the IOException declaration and streamline the code {code:java} if (state != null) { try { state.close(); } catch (IOException e) { throw new UncheckedIOException( \"Failed to transition from \" + state.name() + \" to \" + newState.name(), e); } } {code}","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"EpochState should override close to avoid throwing IOException\n\nAll subclasses of EpochState do not throw an IOException when closing, so catching it is unnecessary. We could override close to remove the IOException declaration and streamline the code {code:java} if (state != null) { try { state.close(); } catch (IOException e) { throw new UncheckedIOException( \"Failed to transition from \" + state.name() + \" to \" + newState.name(), e); } } {code}","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: EpochState should override close to avoid throwing IOException\n\nAll subclasses of EpochState do not throw an IOException when closing, so catching it is unnecessary. We could override close to remove the IOException declaration and streamline the code {code:java} if (state != null) { try { state.close(); } catch (IOException e) { throw new UncheckedIOException( \"Failed to transition from \" + state.name() + \" to \" + newState.name(), e); } } {code}","output":"All subclasses of EpochState do not throw an IOException when closing, so catching it is unnecessary. We could override close to remove the IOException declaration and streamline the code {code:java} if (state != null) { try { state.close(); } catch (IOException e) { throw new UncheckedIOException( "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"EpochState should override close to avoid throwing IOException\n\nAll subclasses of EpochState do not throw an IOException when closing, so catching it is unnecessary. We could override close to remove the IOException declaration and streamline the code {code:java} if (state != null) { try { state.close(); } catch (IOException e) { throw new UncheckedIOException( \"Failed to transition from \" + state.name() + \" to \" + newState.name(), e); } } {code}","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"All subclasses of EpochState do not throw an IOException when closing, so catching it is unnecessary. We could override close to remove the IOException declaration and streamline the code {code:java} if (state != null) { try { state.close(); } catch (IOException e) { throw new UncheckedIOException( \"Failed to transition from \" + state.name() + \" to \" + newState.name(), e); } } {code}","output":"EpochState should override close to avoid throwing IOException"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"StreamsOnTasksAssignedCallbackNeededEvent could not be completed\n\nIn several tests, for example PlaintextAdminIntegrationTest, we see this exception silently triggered when the consumer is closed. {code:java} org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed[2025-09-05 14:17:40,972] ERROR [Consumer clientId=consumer-stream_group_id_1-1, groupId=stream_group_id_1] Reconciliation failed: callback invocation failed for tasks LocalAssignment{localEpoch=0, activeTasks={subtopology-0=[0, 1, 2]}, standbyTasks={}, warmupTasks={}} (org.apache.kafka.clients.consumer.internals.StreamsMembershipManager:1077)java.util.concurrent.CompletionException: org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed\tat java.base/java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:368)\tat java.base/java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:377)\tat java.base/java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:1097)\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\tat org.apache.kafka.clients.consumer.internals.events.CompletableEventReaper.completeEventsExceptionallyOnClose(CompletableEventReaper.java:202)\tat org.apache.kafka.clients.consumer.internals.events.CompletableEventReaper.reap(CompletableEventReaper.java:149)\tat org.apache.kafka.clients.consumer.internals.AsyncKafkaConsumer.close(AsyncKafkaConsumer.java:1493) {code}","output":"StreamsOnTasksAssignedCallbackNeededEvent could not be completed"}
{"instruction":"Classify the status of this issue based on its description:","input":"StreamsOnTasksAssignedCallbackNeededEvent could not be completed\n\nIn several tests, for example PlaintextAdminIntegrationTest, we see this exception silently triggered when the consumer is closed. {code:java} org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed[2025-09-05 14:17:40,972] ERROR [Consumer clientId=consumer-stream_group_id_1-1, groupId=stream_group_id_1] Reconciliation failed: callback invocation failed for tasks LocalAssignment{localEpoch=0, activeTasks={subtop","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"StreamsOnTasksAssignedCallbackNeededEvent could not be completed\n\nIn several tests, for example PlaintextAdminIntegrationTest, we see this exception silently triggered when the consumer is closed. {code:java} org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed[2025-09-05 14:17:40,972] ERROR [Consumer clientId=consumer-stream_group_id_1-1, groupId=stream_group_id_1] Reconciliation failed: callback invocation failed for tasks LocalAssignment{localEpoch=0, activeTasks={subtop","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: StreamsOnTasksAssignedCallbackNeededEvent could not be completed\n\nIn several tests, for example PlaintextAdminIntegrationTest, we see this exception silently triggered when the consumer is closed. {code:java} org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed[2025-09-05 14:17:40,972] ERROR [Consumer clientId=consumer-stream_group_id_1-1, groupId=stream_group_id_1] Reconciliation failed: callback invocation failed for tasks LocalAssignment{localEpoch=0, activeTasks={subtop","output":"In several tests, for example PlaintextAdminIntegrationTest, we see this exception silently triggered when the consumer is closed. {code:java} org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed[2025-09-05 14:17"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"StreamsOnTasksAssignedCallbackNeededEvent could not be completed\n\nIn several tests, for example PlaintextAdminIntegrationTest, we see this exception silently triggered when the consumer is closed. {code:java} org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed[2025-09-05 14:17:40,972] ERROR [Consumer clientId=consumer-stream_group_id_1-1, groupId=stream_group_id_1] Reconciliation failed: callback invocation failed for tasks LocalAssignment{localEpoch=0, activeTasks={subtop","output":"Won't Fix"}
{"instruction":"Extract key technical details from this issue:","input":"In several tests, for example PlaintextAdminIntegrationTest, we see this exception silently triggered when the consumer is closed. {code:java} org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consumer closed[2025-09-05 14:17:40,972] ERROR [Consumer clientId=consumer-stream_group_id_1-1, groupId=stream_group_id_1] Reconciliation failed: callback invocation failed for tasks LocalAssignment{localEpoch=0, activeTasks={subtopology-0=[0, 1, 2]}, standbyTasks={}, warmupTasks={}} (org.apache.kafka.clients.consumer.internals.StreamsMembershipManager:1077)java.util.concurrent.CompletionException: org.apache.kafka.common.errors.TimeoutException: StreamsOnTasksAssignedCallbackNeededEvent could not be completed before the consu","output":"StreamsOnTasksAssignedCallbackNeededEvent could not be completed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Disallow create too many partitions in ZK mode\n\nAlso when running in Zookeeper mode Kafka can go OOM if an attempt is made to create a topic with too many partitions, or to extend a topic with too many partitions. https://issues.apache.org/jira/browse/KAFKA-17870 https://issues.apache.org/jira/browse/KAFKA-19673 I think it is worth to port also the constrain introduded in KRaft mode to the 3.9 version of Kafka.","output":"Disallow create too many partitions in ZK mode"}
{"instruction":"Classify the status of this issue based on its description:","input":"Disallow create too many partitions in ZK mode\n\nAlso when running in Zookeeper mode Kafka can go OOM if an attempt is made to create a topic with too many partitions, or to extend a topic with too many partitions. https://issues.apache.org/jira/browse/KAFKA-17870 https://issues.apache.org/jira/browse/KAFKA-19673 I think it is worth to port also the constrain introduded in KRaft mode to the 3.9 version of Kafka.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Disallow create too many partitions in ZK mode\n\nAlso when running in Zookeeper mode Kafka can go OOM if an attempt is made to create a topic with too many partitions, or to extend a topic with too many partitions. https://issues.apache.org/jira/browse/KAFKA-17870 https://issues.apache.org/jira/browse/KAFKA-19673 I think it is worth to port also the constrain introduded in KRaft mode to the 3.9 version of Kafka.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Disallow create too many partitions in ZK mode\n\nAlso when running in Zookeeper mode Kafka can go OOM if an attempt is made to create a topic with too many partitions, or to extend a topic with too many partitions. https://issues.apache.org/jira/browse/KAFKA-17870 https://issues.apache.org/jira/browse/KAFKA-19673 I think it is worth to port also the constrain introduded in KRaft mode to the 3.9 version of Kafka.","output":"Also when running in Zookeeper mode Kafka can go OOM if an attempt is made to create a topic with too many partitions, or to extend a topic with too many partitions. https://issues.apache.org/jira/browse/KAFKA-17870 https://issues.apache.org/jira/browse/KAFKA-19673 I think it is worth to port also t"}
{"instruction":"Extract key technical details from this issue:","input":"Also when running in Zookeeper mode Kafka can go OOM if an attempt is made to create a topic with too many partitions, or to extend a topic with too many partitions. https://issues.apache.org/jira/browse/KAFKA-17870 https://issues.apache.org/jira/browse/KAFKA-19673 I think it is worth to port also the constrain introduded in KRaft mode to the 3.9 version of Kafka.","output":"Disallow create too many partitions in ZK mode"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Disallow create too many partitions also in createPartitions\n\nSimilarly to https://issues.apache.org/jira/browse/KAFKA-17870 Extending existing topics with a request that asks to create too many partitions can lead to OOM error and the client receiving an UnlknownServerException. We should limit the number of new partitions similarly as when creating new topics.","output":"Disallow create too many partitions also in createPartitions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Disallow create too many partitions also in createPartitions\n\nSimilarly to https://issues.apache.org/jira/browse/KAFKA-17870 Extending existing topics with a request that asks to create too many partitions can lead to OOM error and the client receiving an UnlknownServerException. We should limit the number of new partitions similarly as when creating new topics.","output":"Patch Available"}
{"instruction":"Determine the priority level of this issue:","input":"Disallow create too many partitions also in createPartitions\n\nSimilarly to https://issues.apache.org/jira/browse/KAFKA-17870 Extending existing topics with a request that asks to create too many partitions can lead to OOM error and the client receiving an UnlknownServerException. We should limit the number of new partitions similarly as when creating new topics.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Disallow create too many partitions also in createPartitions\n\nSimilarly to https://issues.apache.org/jira/browse/KAFKA-17870 Extending existing topics with a request that asks to create too many partitions can lead to OOM error and the client receiving an UnlknownServerException. We should limit the number of new partitions similarly as when creating new topics.","output":"Similarly to https://issues.apache.org/jira/browse/KAFKA-17870 Extending existing topics with a request that asks to create too many partitions can lead to OOM error and the client receiving an UnlknownServerException. We should limit the number of new partitions similarly as when creating new topic"}
{"instruction":"Extract key technical details from this issue:","input":"Similarly to https://issues.apache.org/jira/browse/KAFKA-17870 Extending existing topics with a request that asks to create too many partitions can lead to OOM error and the client receiving an UnlknownServerException. We should limit the number of new partitions similarly as when creating new topics.","output":"Disallow create too many partitions also in createPartitions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Producer performance test failing in parsing aggregate statistics\n\nWhen running benchmark test, some of the producer perf tests are failing in statistics parsing. Logs attached cmd: `TC_PATHS=\"tests/kafkatest/benchmarks/core/benchmark_test.py\" bash tests/docker/run_tests.sh` JDK: `azul/zulu-openjdk:17`(used azul's jdk because with openjdk tests were failing to run)","output":"Producer performance test failing in parsing aggregate statistics"}
{"instruction":"Classify the status of this issue based on its description:","input":"Producer performance test failing in parsing aggregate statistics\n\nWhen running benchmark test, some of the producer perf tests are failing in statistics parsing. Logs attached cmd: `TC_PATHS=\"tests/kafkatest/benchmarks/core/benchmark_test.py\" bash tests/docker/run_tests.sh` JDK: `azul/zulu-openjdk:17`(used azul's jdk because with openjdk tests were failing to run)","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Producer performance test failing in parsing aggregate statistics\n\nWhen running benchmark test, some of the producer perf tests are failing in statistics parsing. Logs attached cmd: `TC_PATHS=\"tests/kafkatest/benchmarks/core/benchmark_test.py\" bash tests/docker/run_tests.sh` JDK: `azul/zulu-openjdk:17`(used azul's jdk because with openjdk tests were failing to run)","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Producer performance test failing in parsing aggregate statistics\n\nWhen running benchmark test, some of the producer perf tests are failing in statistics parsing. Logs attached cmd: `TC_PATHS=\"tests/kafkatest/benchmarks/core/benchmark_test.py\" bash tests/docker/run_tests.sh` JDK: `azul/zulu-openjdk:17`(used azul's jdk because with openjdk tests were failing to run)","output":"When running benchmark test, some of the producer perf tests are failing in statistics parsing. Logs attached cmd: `TC_PATHS=\"tests/kafkatest/benchmarks/core/benchmark_test.py\" bash tests/docker/run_tests.sh` JDK: `azul/zulu-openjdk:17`(used azul's jdk because with openjdk tests were failing to run)"}
{"instruction":"Extract key technical details from this issue:","input":"When running benchmark test, some of the producer perf tests are failing in statistics parsing. Logs attached cmd: `TC_PATHS=\"tests/kafkatest/benchmarks/core/benchmark_test.py\" bash tests/docker/run_tests.sh` JDK: `azul/zulu-openjdk:17`(used azul's jdk because with openjdk tests were failing to run)","output":"Producer performance test failing in parsing aggregate statistics"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"benchmark_test is throwing `NullPointerException`\n\nWhen benchmark_test is run using docker, following error is thrown in both native and JVM modes. ChatGPT suggested to use a JDK image with latest patch release({{{}17.0.12+7{}}} or {{21.0.4+7)}} and it worked. Maybe we might want to upgrade our JDK image too {code:java} [INFO:2025-09-03 09:41:49,007]: RunnerClient: kafkatest.benchmarks.core.benchmark_test.Benchmark.test_producer_throughput.acks=-1.topic=topic-replication-factor-three.metadata_quorum=ISOLATED_KRAFT: FAIL: RemoteCommandError({'ssh_config': {'host': 'ducker02', 'hostname': 'ducker02', 'user': 'ducker', 'port': 22, 'password': '', 'identityfile': '/home/ducker/.ssh/id_rsa', 'connecttimeout': None}, 'hostname': 'ducker02', 'ssh_hostname': 'ducker02', 'user': 'ducker', 'externally_routable_ip': 'ducker02', '_logger': , 'os': 'linux', '_ssh_client': , '_sftp_client': , '_custom_ssh_exception_checks': None}, '/opt/kafka-dev/bin/kafka-storage.sh format --ignore-formatted --config /mnt/kafka/kafka.properties --cluster-id I2eXt9rvSnyhct8BYmW6-w --feature transaction.version=0', 1, b'java.lang.NullPointerException: Cannot invoke \"jdk.internal.platform.CgroupInfo.getMountPoint()\" because \"anyController\" is null\\n\\tat java.base/jdk.internal.platform.cgroupv3.CgroupV2Subsystem.getInstance(CgroupV2Subsystem.java:81)\\n\\tat java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:113)\\n\\tat java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\\n\\tat java.base/jdk.internal.platform.SystemMetrics.instance(SystemMetrics.java:29)\\n\\tat java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:58)\\n\\tat java.base/jdk.internal.platform.Container.metrics(Container.java:43)\\n\\tat jdk.management/com.sun.management.internal.OperatingSystemImpl. (OperatingSystemImpl.java:182)\\n\\tat jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:280)\\n\\tat jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:199)\\n\\tat java.management/java.lang.management.ManagementFactory.lambda$getPlatformMBeanServer$0(ManagementFactory.java:488)\\n\\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\\n\\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\\n\\tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1779)\\n\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\\n\\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\\n\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\\n\\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\\n\\tat java.management/java.lang.management.ManagementFactory.getPlatformMBeanServer(ManagementFactory.java:489)\\n\\tat jdk.management.agent/sun.management.jmxremote.ConnectorBootstrap.startLocalConnectorServer(ConnectorBootstrap.java:543)\\n\\tat jdk.management.agent/jdk.internal.agent.Agent.startLocalManagementAgent(Agent.java:318)\\n\\tat jdk.management.agent/jdk.internal.agent.Agent.startAgent(Agent.java:450)\\n\\tat jdk.management.agent/jdk.internal.agent.Agent.startAgent(Agent.java:599)\\nException thrown by the agent : java.lang.NullPointerException: Cannot invoke \"jdk.internal.platform.CgroupInfo.getMountPoint()\" because \"anyController\" is null\\n') {code} cmd: `TC_PATHS=\"tests/kafkatest/benchmarks/core/benchmark_test.py\" bash tests/docker/run_tests.sh > benchmark_test.log` image which worked for me: `azul/zulu-openjdk:17`","output":"benchmark_test is throwing `NullPointerException`"}
{"instruction":"Classify the status of this issue based on its description:","input":"benchmark_test is throwing `NullPointerException`\n\nWhen benchmark_test is run using docker, following error is thrown in both native and JVM modes. ChatGPT suggested to use a JDK image with latest patch release({{{}17.0.12+7{}}} or {{21.0.4+7)}} and it worked. Maybe we might want to upgrade our JDK image too {code:java} [INFO:2025-09-03 09:41:49,007]: RunnerClient: kafkatest.benchmarks.core.benchmark_test.Benchmark.test_producer_throughput.acks=-1.topic=topic-replication-factor-three.metadata_quorum=ISOLATED_KRAFT: FAIL: RemoteCommandError({'ssh","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"benchmark_test is throwing `NullPointerException`\n\nWhen benchmark_test is run using docker, following error is thrown in both native and JVM modes. ChatGPT suggested to use a JDK image with latest patch release({{{}17.0.12+7{}}} or {{21.0.4+7)}} and it worked. Maybe we might want to upgrade our JDK image too {code:java} [INFO:2025-09-03 09:41:49,007]: RunnerClient: kafkatest.benchmarks.core.benchmark_test.Benchmark.test_producer_throughput.acks=-1.topic=topic-replication-factor-three.metadata_quorum=ISOLATED_KRAFT: FAIL: RemoteCommandError({'ssh","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: benchmark_test is throwing `NullPointerException`\n\nWhen benchmark_test is run using docker, following error is thrown in both native and JVM modes. ChatGPT suggested to use a JDK image with latest patch release({{{}17.0.12+7{}}} or {{21.0.4+7)}} and it worked. Maybe we might want to upgrade our JDK image too {code:java} [INFO:2025-09-03 09:41:49,007]: RunnerClient: kafkatest.benchmarks.core.benchmark_test.Benchmark.test_producer_throughput.acks=-1.topic=topic-replication-factor-three.metadata_quorum=ISOLATED_KRAFT: FAIL: RemoteCommandError({'ssh","output":"When benchmark_test is run using docker, following error is thrown in both native and JVM modes. ChatGPT suggested to use a JDK image with latest patch release({{{}17.0.12+7{}}} or {{21.0.4+7)}} and it worked. Maybe we might want to upgrade our JDK image too {code:java} [INFO:2025-09-03 09:41:49,007"}
{"instruction":"Extract key technical details from this issue:","input":"When benchmark_test is run using docker, following error is thrown in both native and JVM modes. ChatGPT suggested to use a JDK image with latest patch release({{{}17.0.12+7{}}} or {{21.0.4+7)}} and it worked. Maybe we might want to upgrade our JDK image too {code:java} [INFO:2025-09-03 09:41:49,007]: RunnerClient: kafkatest.benchmarks.core.benchmark_test.Benchmark.test_producer_throughput.acks=-1.topic=topic-replication-factor-three.metadata_quorum=ISOLATED_KRAFT: FAIL: RemoteCommandError({'ssh_config': {'host': 'ducker02', 'hostname': 'ducker02', 'user': 'ducker', 'port': 22, 'password': '', 'identityfile': '/home/ducker/.ssh/id_rsa', 'connecttimeout': None}, 'hostname': 'ducker02', 'ssh_hostname': 'ducker02', 'user': 'ducker', 'externally_routable_ip': 'ducker02', '_logger': , 'os': 'li","output":"benchmark_test is throwing `NullPointerException`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Unify the command-line parser\n\nsee https://github.com/apache/kafka/pull/20438#discussion_r2319682177","output":"Unify the command-line parser"}
{"instruction":"Classify the status of this issue based on its description:","input":"Unify the command-line parser\n\nsee https://github.com/apache/kafka/pull/20438#discussion_r2319682177","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Unify the command-line parser\n\nsee https://github.com/apache/kafka/pull/20438#discussion_r2319682177","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Unify the command-line parser\n\nsee https://github.com/apache/kafka/pull/20438#discussion_r2319682177","output":"see https://github.com/apache/kafka/pull/20438#discussion_r2319682177"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve repartition optimization\n\nKafka Streams supports \"merge.repartition.topic\" optimization. This optimization tries to push repartition topics further upstream, to be able to merge multiple repartition topics from different downstream branches into a single repartition topic. In the current implementation, the optimization stops to push repartition topics upstream, if the parent node is a value-changing operation. We cannot push-up further, because the data type might change, and thus we won't have the correct serde at hand. However, we could actually also inherit the correct serde from further upstream. Thus, we could actually push a repartition-step upstream (and at the same time, switch the serdes), if we can find the right serde before the value-changing operations further upstream.","output":"Improve repartition optimization"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve repartition optimization\n\nKafka Streams supports \"merge.repartition.topic\" optimization. This optimization tries to push repartition topics further upstream, to be able to merge multiple repartition topics from different downstream branches into a single repartition topic. In the current implementation, the optimization stops to push repartition topics upstream, if the parent node is a value-changing operation. We cannot push-up further, because the data type might change, and thus we won't have the correct serde at hand","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve repartition optimization\n\nKafka Streams supports \"merge.repartition.topic\" optimization. This optimization tries to push repartition topics further upstream, to be able to merge multiple repartition topics from different downstream branches into a single repartition topic. In the current implementation, the optimization stops to push repartition topics upstream, if the parent node is a value-changing operation. We cannot push-up further, because the data type might change, and thus we won't have the correct serde at hand","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve repartition optimization\n\nKafka Streams supports \"merge.repartition.topic\" optimization. This optimization tries to push repartition topics further upstream, to be able to merge multiple repartition topics from different downstream branches into a single repartition topic. In the current implementation, the optimization stops to push repartition topics upstream, if the parent node is a value-changing operation. We cannot push-up further, because the data type might change, and thus we won't have the correct serde at hand","output":"Kafka Streams supports \"merge.repartition.topic\" optimization. This optimization tries to push repartition topics further upstream, to be able to merge multiple repartition topics from different downstream branches into a single repartition topic. In the current implementation, the optimization stop"}
{"instruction":"Extract key technical details from this issue:","input":"Kafka Streams supports \"merge.repartition.topic\" optimization. This optimization tries to push repartition topics further upstream, to be able to merge multiple repartition topics from different downstream branches into a single repartition topic. In the current implementation, the optimization stops to push repartition topics upstream, if the parent node is a value-changing operation. We cannot push-up further, because the data type might change, and thus we won't have the correct serde at hand. However, we could actually also inherit the correct serde from further upstream. Thus, we could actually push a repartition-step upstream (and at the same time, switch the serdes), if we can find the right serde before the value-changing operations further upstream.","output":"Improve repartition optimization"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"processValues() must be declared as value-changing operation\n\nWhen adding `KStreams#processValues()` we missed to declare the operation as \"value changing\". This can lead to an \"incorrectly\" built topology. The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existing programs from `transformValues()` to the new `processValues()` (what will be required when upgrading to 4.x release), they might observe this change as a regression. The impact of the changed topology is, that local state is effectively lost, and must be restored from the changelog topic, resulting in downtime after an upgrade. Note: the bug does only surface, if topology optimization is used, in particular the \"merge repartition topics\" rewrite.","output":"processValues() must be declared as value-changing operation"}
{"instruction":"Classify the status of this issue based on its description:","input":"processValues() must be declared as value-changing operation\n\nWhen adding `KStreams#processValues()` we missed to declare the operation as \"value changing\". This can lead to an \"incorrectly\" built topology. The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existing programs from `transformValues()` to the new `processValues()` (what will be required when upgrading to 4.x release), they might observe this change as a regression. The impact of the changed topol","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"processValues() must be declared as value-changing operation\n\nWhen adding `KStreams#processValues()` we missed to declare the operation as \"value changing\". This can lead to an \"incorrectly\" built topology. The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existing programs from `transformValues()` to the new `processValues()` (what will be required when upgrading to 4.x release), they might observe this change as a regression. The impact of the changed topol","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: processValues() must be declared as value-changing operation\n\nWhen adding `KStreams#processValues()` we missed to declare the operation as \"value changing\". This can lead to an \"incorrectly\" built topology. The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existing programs from `transformValues()` to the new `processValues()` (what will be required when upgrading to 4.x release), they might observe this change as a regression. The impact of the changed topol","output":"When adding `KStreams#processValues()` we missed to declare the operation as \"value changing\". This can lead to an \"incorrectly\" built topology. The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existi"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"processValues() must be declared as value-changing operation\n\nWhen adding `KStreams#processValues()` we missed to declare the operation as \"value changing\". This can lead to an \"incorrectly\" built topology. The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existing programs from `transformValues()` to the new `processValues()` (what will be required when upgrading to 4.x release), they might observe this change as a regression. The impact of the changed topol","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When adding `KStreams#processValues()` we missed to declare the operation as \"value changing\". This can lead to an \"incorrectly\" built topology. The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existing programs from `transformValues()` to the new `processValues()` (what will be required when upgrading to 4.x release), they might observe this change as a regression. The impact of the changed topology is, that local state is effectively lost, and must be restored from the changelog topic, resulting in downtime after an upgrade. Note: the bug does only surface, if topology optimization is used, in particular the \"merge repartition topics\" rewrite.","output":"processValues() must be declared as value-changing operation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Close ShareConsumer in ShareConsumerPerformance only after metrics displayed\n\nThis is a peer of https://issues.apache.org/jira/browse/KAFKA-19564. Essentially, it's not reliable to access the metrics from the share consumer once it has been closed, and this tool does precisely that. As a result, it prints a truncated list of metrics.","output":"Close ShareConsumer in ShareConsumerPerformance only after metrics displayed"}
{"instruction":"Classify the status of this issue based on its description:","input":"Close ShareConsumer in ShareConsumerPerformance only after metrics displayed\n\nThis is a peer of https://issues.apache.org/jira/browse/KAFKA-19564. Essentially, it's not reliable to access the metrics from the share consumer once it has been closed, and this tool does precisely that. As a result, it prints a truncated list of metrics.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Close ShareConsumer in ShareConsumerPerformance only after metrics displayed\n\nThis is a peer of https://issues.apache.org/jira/browse/KAFKA-19564. Essentially, it's not reliable to access the metrics from the share consumer once it has been closed, and this tool does precisely that. As a result, it prints a truncated list of metrics.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Close ShareConsumer in ShareConsumerPerformance only after metrics displayed\n\nThis is a peer of https://issues.apache.org/jira/browse/KAFKA-19564. Essentially, it's not reliable to access the metrics from the share consumer once it has been closed, and this tool does precisely that. As a result, it prints a truncated list of metrics.","output":"This is a peer of https://issues.apache.org/jira/browse/KAFKA-19564. Essentially, it's not reliable to access the metrics from the share consumer once it has been closed, and this tool does precisely that. As a result, it prints a truncated list of metrics."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Close ShareConsumer in ShareConsumerPerformance only after metrics displayed\n\nThis is a peer of https://issues.apache.org/jira/browse/KAFKA-19564. Essentially, it's not reliable to access the metrics from the share consumer once it has been closed, and this tool does precisely that. As a result, it prints a truncated list of metrics.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"This is a peer of https://issues.apache.org/jira/browse/KAFKA-19564. Essentially, it's not reliable to access the metrics from the share consumer once it has been closed, and this tool does precisely that. As a result, it prints a truncated list of metrics.","output":"Close ShareConsumer in ShareConsumerPerformance only after metrics displayed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Clean up integration tests related to state-updater\n\nThis is the first step in the parent task: To clean up all the integration tests related to state-updater flag See [https://github.com/apache/kafka/pull/20392#issuecomment-3240659815] for more details","output":"Clean up integration tests related to state-updater"}
{"instruction":"Classify the status of this issue based on its description:","input":"Clean up integration tests related to state-updater\n\nThis is the first step in the parent task: To clean up all the integration tests related to state-updater flag See [https://github.com/apache/kafka/pull/20392#issuecomment-3240659815] for more details","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Clean up integration tests related to state-updater\n\nThis is the first step in the parent task: To clean up all the integration tests related to state-updater flag See [https://github.com/apache/kafka/pull/20392#issuecomment-3240659815] for more details","output":"Blocker"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Clean up integration tests related to state-updater\n\nThis is the first step in the parent task: To clean up all the integration tests related to state-updater flag See [https://github.com/apache/kafka/pull/20392#issuecomment-3240659815] for more details","output":"This is the first step in the parent task: To clean up all the integration tests related to state-updater flag See [https://github.com/apache/kafka/pull/20392#issuecomment-3240659815] for more details"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Clean up integration tests related to state-updater\n\nThis is the first step in the parent task: To clean up all the integration tests related to state-updater flag See [https://github.com/apache/kafka/pull/20392#issuecomment-3240659815] for more details","output":"Resolved"}
{"instruction":"Extract key technical details from this issue:","input":"This is the first step in the parent task: To clean up all the integration tests related to state-updater flag See [https://github.com/apache/kafka/pull/20392#issuecomment-3240659815] for more details","output":"Clean up integration tests related to state-updater"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Remove waiting for event completion in AsyncKafkaConsumer.pollForRecords()\n\nWe create—and wait on—{{{}CreateFetchRequestEvent{}}}s in {{{}AsyncKafkaConsumer.pollForRecords(){}}}. The inter-thread communication involved in sending the event, notifying the event future, and blocking on the event future results in high CPU usage. Investigate if it is possible to reduce/eliminate the need for the event future.","output":"Remove waiting for event completion in AsyncKafkaConsumer.pollForRecords()"}
{"instruction":"Classify the status of this issue based on its description:","input":"Remove waiting for event completion in AsyncKafkaConsumer.pollForRecords()\n\nWe create—and wait on—{{{}CreateFetchRequestEvent{}}}s in {{{}AsyncKafkaConsumer.pollForRecords(){}}}. The inter-thread communication involved in sending the event, notifying the event future, and blocking on the event future results in high CPU usage. Investigate if it is possible to reduce/eliminate the need for the event future.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Remove waiting for event completion in AsyncKafkaConsumer.pollForRecords()\n\nWe create—and wait on—{{{}CreateFetchRequestEvent{}}}s in {{{}AsyncKafkaConsumer.pollForRecords(){}}}. The inter-thread communication involved in sending the event, notifying the event future, and blocking on the event future results in high CPU usage. Investigate if it is possible to reduce/eliminate the need for the event future.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Remove waiting for event completion in AsyncKafkaConsumer.pollForRecords()\n\nWe create—and wait on—{{{}CreateFetchRequestEvent{}}}s in {{{}AsyncKafkaConsumer.pollForRecords(){}}}. The inter-thread communication involved in sending the event, notifying the event future, and blocking on the event future results in high CPU usage. Investigate if it is possible to reduce/eliminate the need for the event future.","output":"We create—and wait on—{{{}CreateFetchRequestEvent{}}}s in {{{}AsyncKafkaConsumer.pollForRecords(){}}}. The inter-thread communication involved in sending the event, notifying the event future, and blocking on the event future results in high CPU usage. Investigate if it is possible to reduce/elimina"}
{"instruction":"Extract key technical details from this issue:","input":"We create—and wait on—{{{}CreateFetchRequestEvent{}}}s in {{{}AsyncKafkaConsumer.pollForRecords(){}}}. The inter-thread communication involved in sending the event, notifying the event future, and blocking on the event future results in high CPU usage. Investigate if it is possible to reduce/eliminate the need for the event future.","output":"Remove waiting for event completion in AsyncKafkaConsumer.pollForRecords()"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support building with Java 25 (LTS release)\n\n*Depends upon/blocked by:* * Kafka ticket: KAFKA-19174 Gradle version upgrade 8 -->> 9 (review is under way) * Spotbugs next version: ** [https://github.com/spotbugs/spotbugs/issues/3564] ** [https://github.com/spotbugs/spotbugs/issues/3569] ** https://issues.apache.org/jira/browse/BCEL-377 ** [https://github.com/spotbugs/spotbugs/pull/3712] ** [https://github.com/spotbugs/spotbugs/discussions/3380] *Related links:* * JDK 25 release date: September 16th 2025: ** [https://mail.openjdk.org/pipermail/announce/2025-September/000360.html] ** [https://openjdk.org/projects/jdk/25] * Gradle 9.1 will support Java 25: [https://docs.gradle.org/9.1.0/release-notes.html#support-for-java-25] * Scala 2.13.17 is also announced: ** [https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html#jdk-25-compatibility-notes] ** [https://contributors.scala-lang.org/t/scala-2-13-17-release-planning/6994/10] ** [https://github.com/scala/scala/milestone/109] * other related links: ** [https://github.com/adoptium/temurin/issues/96] ** [https://launchpad.net/ubuntu/+source/openjdk-25] ** [https://github.com/actions/setup-java/issues/899] *Related Github PR:* [https://github.com/apache/kafka/pull/20295] _*MINOR: Run CI with Java 24*_ FYI ijuma chia7712","output":"Support building with Java 25 (LTS release)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support building with Java 25 (LTS release)\n\n*Depends upon/blocked by:* * Kafka ticket: KAFKA-19174 Gradle version upgrade 8 -->> 9 (review is under way) * Spotbugs next version: ** [https://github.com/spotbugs/spotbugs/issues/3564] ** [https://github.com/spotbugs/spotbugs/issues/3569] ** https://issues.apache.org/jira/browse/BCEL-377 ** [https://github.com/spotbugs/spotbugs/pull/3712] ** [https://github.com/spotbugs/spotbugs/discussions/3380] *Related links:* * JDK 25 release date: September 16th 2025: ** [https://mail.openjdk.org/piperma","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Support building with Java 25 (LTS release)\n\n*Depends upon/blocked by:* * Kafka ticket: KAFKA-19174 Gradle version upgrade 8 -->> 9 (review is under way) * Spotbugs next version: ** [https://github.com/spotbugs/spotbugs/issues/3564] ** [https://github.com/spotbugs/spotbugs/issues/3569] ** https://issues.apache.org/jira/browse/BCEL-377 ** [https://github.com/spotbugs/spotbugs/pull/3712] ** [https://github.com/spotbugs/spotbugs/discussions/3380] *Related links:* * JDK 25 release date: September 16th 2025: ** [https://mail.openjdk.org/piperma","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support building with Java 25 (LTS release)\n\n*Depends upon/blocked by:* * Kafka ticket: KAFKA-19174 Gradle version upgrade 8 -->> 9 (review is under way) * Spotbugs next version: ** [https://github.com/spotbugs/spotbugs/issues/3564] ** [https://github.com/spotbugs/spotbugs/issues/3569] ** https://issues.apache.org/jira/browse/BCEL-377 ** [https://github.com/spotbugs/spotbugs/pull/3712] ** [https://github.com/spotbugs/spotbugs/discussions/3380] *Related links:* * JDK 25 release date: September 16th 2025: ** [https://mail.openjdk.org/piperma","output":"*Depends upon/blocked by:* * Kafka ticket: KAFKA-19174 Gradle version upgrade 8 -->> 9 (review is under way) * Spotbugs next version: ** [https://github.com/spotbugs/spotbugs/issues/3564] ** [https://github.com/spotbugs/spotbugs/issues/3569] ** https://issues.apache.org/jira/browse/BCEL-377 ** [http"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Support building with Java 25 (LTS release)\n\n*Depends upon/blocked by:* * Kafka ticket: KAFKA-19174 Gradle version upgrade 8 -->> 9 (review is under way) * Spotbugs next version: ** [https://github.com/spotbugs/spotbugs/issues/3564] ** [https://github.com/spotbugs/spotbugs/issues/3569] ** https://issues.apache.org/jira/browse/BCEL-377 ** [https://github.com/spotbugs/spotbugs/pull/3712] ** [https://github.com/spotbugs/spotbugs/discussions/3380] *Related links:* * JDK 25 release date: September 16th 2025: ** [https://mail.openjdk.org/piperma","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"*Depends upon/blocked by:* * Kafka ticket: KAFKA-19174 Gradle version upgrade 8 -->> 9 (review is under way) * Spotbugs next version: ** [https://github.com/spotbugs/spotbugs/issues/3564] ** [https://github.com/spotbugs/spotbugs/issues/3569] ** https://issues.apache.org/jira/browse/BCEL-377 ** [https://github.com/spotbugs/spotbugs/pull/3712] ** [https://github.com/spotbugs/spotbugs/discussions/3380] *Related links:* * JDK 25 release date: September 16th 2025: ** [https://mail.openjdk.org/pipermail/announce/2025-September/000360.html] ** [https://openjdk.org/projects/jdk/25] * Gradle 9.1 will support Java 25: [https://docs.gradle.org/9.1.0/release-notes.html#support-for-java-25] * Scala 2.13.17 is also announced: ** [https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html#jdk-","output":"Support building with Java 25 (LTS release)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"kafka-broker-api tool should support to get controller api version\n\nlike tool kafka-broker-api-versions.sh, we can get all RPC version from broker. It should also support for controller. KIP: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1220%3A+kafka-broker-api-versions+tool+support+controllers]","output":"kafka-broker-api tool should support to get controller api version"}
{"instruction":"Classify the status of this issue based on its description:","input":"kafka-broker-api tool should support to get controller api version\n\nlike tool kafka-broker-api-versions.sh, we can get all RPC version from broker. It should also support for controller. KIP: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1220%3A+kafka-broker-api-versions+tool+support+controllers]","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"kafka-broker-api tool should support to get controller api version\n\nlike tool kafka-broker-api-versions.sh, we can get all RPC version from broker. It should also support for controller. KIP: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1220%3A+kafka-broker-api-versions+tool+support+controllers]","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: kafka-broker-api tool should support to get controller api version\n\nlike tool kafka-broker-api-versions.sh, we can get all RPC version from broker. It should also support for controller. KIP: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1220%3A+kafka-broker-api-versions+tool+support+controllers]","output":"like tool kafka-broker-api-versions.sh, we can get all RPC version from broker. It should also support for controller. KIP: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1220%3A+kafka-broker-api-versions+tool+support+controllers]"}
{"instruction":"Extract key technical details from this issue:","input":"like tool kafka-broker-api-versions.sh, we can get all RPC version from broker. It should also support for controller. KIP: [https://cwiki.apache.org/confluence/display/KAFKA/KIP-1220%3A+kafka-broker-api-versions+tool+support+controllers]","output":"kafka-broker-api tool should support to get controller api version"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support resetting offsets in kafka-share-groups.sh for topics which are not currently subscribed\n\nThe kafka-share-groups.sh tool can be used to reset the start offset for consumption if the share group is empty. One use for this is to initialise the start offset before starting to use the share group. Currently, the tool only lets the user reset the start offset for a topic which already has offsets in the share group. Instead, it should permit setting the SPSO for any topic, subject to auth checking. This brings the tool's behaviour in line with kafka-consumer-groups.sh.","output":"Support resetting offsets in kafka-share-groups.sh for topics which are not currently subscribed"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support resetting offsets in kafka-share-groups.sh for topics which are not currently subscribed\n\nThe kafka-share-groups.sh tool can be used to reset the start offset for consumption if the share group is empty. One use for this is to initialise the start offset before starting to use the share group. Currently, the tool only lets the user reset the start offset for a topic which already has offsets in the share group. Instead, it should permit setting the SPSO for any topic, subject to auth checking. This brings the tool's behaviour in line with kafka-consumer-groups.sh.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Support resetting offsets in kafka-share-groups.sh for topics which are not currently subscribed\n\nThe kafka-share-groups.sh tool can be used to reset the start offset for consumption if the share group is empty. One use for this is to initialise the start offset before starting to use the share group. Currently, the tool only lets the user reset the start offset for a topic which already has offsets in the share group. Instead, it should permit setting the SPSO for any topic, subject to auth checking. This brings the tool's behaviour in line with kafka-consumer-groups.sh.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support resetting offsets in kafka-share-groups.sh for topics which are not currently subscribed\n\nThe kafka-share-groups.sh tool can be used to reset the start offset for consumption if the share group is empty. One use for this is to initialise the start offset before starting to use the share group. Currently, the tool only lets the user reset the start offset for a topic which already has offsets in the share group. Instead, it should permit setting the SPSO for any topic, subject to auth checking. This brings the tool's behaviour in line with kafka-consumer-groups.sh.","output":"The kafka-share-groups.sh tool can be used to reset the start offset for consumption if the share group is empty. One use for this is to initialise the start offset before starting to use the share group. Currently, the tool only lets the user reset the start offset for a topic which already has off"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Support resetting offsets in kafka-share-groups.sh for topics which are not currently subscribed\n\nThe kafka-share-groups.sh tool can be used to reset the start offset for consumption if the share group is empty. One use for this is to initialise the start offset before starting to use the share group. Currently, the tool only lets the user reset the start offset for a topic which already has offsets in the share group. Instead, it should permit setting the SPSO for any topic, subject to auth checking. This brings the tool's behaviour in line with kafka-consumer-groups.sh.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"The kafka-share-groups.sh tool can be used to reset the start offset for consumption if the share group is empty. One use for this is to initialise the start offset before starting to use the share group. Currently, the tool only lets the user reset the start offset for a topic which already has offsets in the share group. Instead, it should permit setting the SPSO for any topic, subject to auth checking. This brings the tool's behaviour in line with kafka-consumer-groups.sh.","output":"Support resetting offsets in kafka-share-groups.sh for topics which are not currently subscribed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Streams groups sometimes describe as NOT_READY when STABLE\n\nStreams groups sometimes describe as NOT_READY when STABLE. That is, the group is configured and all topics exist, but when you use LIST_GROUP and STREAMS_GROUP_DESCRIBE, the group will show up as not ready. The root cause seems to be that [https://github.com/apache/kafka/pull/19802] moved the creation of the soft state configured topology from the replay path to the heartbeat. This way, LIST_GROUP and STREAMS_GROUP_DESCRIBE, which show the snapshot of the last committed offset, may not show the configured topology, and therefore assume that the streams group is NOT_READY instead of STABLE.","output":"Streams groups sometimes describe as NOT_READY when STABLE"}
{"instruction":"Classify the status of this issue based on its description:","input":"Streams groups sometimes describe as NOT_READY when STABLE\n\nStreams groups sometimes describe as NOT_READY when STABLE. That is, the group is configured and all topics exist, but when you use LIST_GROUP and STREAMS_GROUP_DESCRIBE, the group will show up as not ready. The root cause seems to be that [https://github.com/apache/kafka/pull/19802] moved the creation of the soft state configured topology from the replay path to the heartbeat. This way, LIST_GROUP and STREAMS_GROUP_DESCRIBE, which show the snapshot of the last committed offset, may not show the","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Streams groups sometimes describe as NOT_READY when STABLE\n\nStreams groups sometimes describe as NOT_READY when STABLE. That is, the group is configured and all topics exist, but when you use LIST_GROUP and STREAMS_GROUP_DESCRIBE, the group will show up as not ready. The root cause seems to be that [https://github.com/apache/kafka/pull/19802] moved the creation of the soft state configured topology from the replay path to the heartbeat. This way, LIST_GROUP and STREAMS_GROUP_DESCRIBE, which show the snapshot of the last committed offset, may not show the","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Streams groups sometimes describe as NOT_READY when STABLE\n\nStreams groups sometimes describe as NOT_READY when STABLE. That is, the group is configured and all topics exist, but when you use LIST_GROUP and STREAMS_GROUP_DESCRIBE, the group will show up as not ready. The root cause seems to be that [https://github.com/apache/kafka/pull/19802] moved the creation of the soft state configured topology from the replay path to the heartbeat. This way, LIST_GROUP and STREAMS_GROUP_DESCRIBE, which show the snapshot of the last committed offset, may not show the","output":"Streams groups sometimes describe as NOT_READY when STABLE. That is, the group is configured and all topics exist, but when you use LIST_GROUP and STREAMS_GROUP_DESCRIBE, the group will show up as not ready. The root cause seems to be that [https://github.com/apache/kafka/pull/19802] moved the creat"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Streams groups sometimes describe as NOT_READY when STABLE\n\nStreams groups sometimes describe as NOT_READY when STABLE. That is, the group is configured and all topics exist, but when you use LIST_GROUP and STREAMS_GROUP_DESCRIBE, the group will show up as not ready. The root cause seems to be that [https://github.com/apache/kafka/pull/19802] moved the creation of the soft state configured topology from the replay path to the heartbeat. This way, LIST_GROUP and STREAMS_GROUP_DESCRIBE, which show the snapshot of the last committed offset, may not show the","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Streams groups sometimes describe as NOT_READY when STABLE. That is, the group is configured and all topics exist, but when you use LIST_GROUP and STREAMS_GROUP_DESCRIBE, the group will show up as not ready. The root cause seems to be that [https://github.com/apache/kafka/pull/19802] moved the creation of the soft state configured topology from the replay path to the heartbeat. This way, LIST_GROUP and STREAMS_GROUP_DESCRIBE, which show the snapshot of the last committed offset, may not show the configured topology, and therefore assume that the streams group is NOT_READY instead of STABLE.","output":"Streams groups sometimes describe as NOT_READY when STABLE"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"JoinWithIncompleteMetadataIntegrationTest fails in isolated run of one parameter\n\nWhen I run JoinWithIncompleteMetadataIntegrationTest, with only the new protocol enabled, it fails (since it does not run long enough for the exception to be triggered by the timer). When the test is run for both protocols, the second run passes because it uses an existing group ID and that is why it why streams is shutting down.","output":"JoinWithIncompleteMetadataIntegrationTest fails in isolated run of one parameter"}
{"instruction":"Classify the status of this issue based on its description:","input":"JoinWithIncompleteMetadataIntegrationTest fails in isolated run of one parameter\n\nWhen I run JoinWithIncompleteMetadataIntegrationTest, with only the new protocol enabled, it fails (since it does not run long enough for the exception to be triggered by the timer). When the test is run for both protocols, the second run passes because it uses an existing group ID and that is why it why streams is shutting down.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"JoinWithIncompleteMetadataIntegrationTest fails in isolated run of one parameter\n\nWhen I run JoinWithIncompleteMetadataIntegrationTest, with only the new protocol enabled, it fails (since it does not run long enough for the exception to be triggered by the timer). When the test is run for both protocols, the second run passes because it uses an existing group ID and that is why it why streams is shutting down.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: JoinWithIncompleteMetadataIntegrationTest fails in isolated run of one parameter\n\nWhen I run JoinWithIncompleteMetadataIntegrationTest, with only the new protocol enabled, it fails (since it does not run long enough for the exception to be triggered by the timer). When the test is run for both protocols, the second run passes because it uses an existing group ID and that is why it why streams is shutting down.","output":"When I run JoinWithIncompleteMetadataIntegrationTest, with only the new protocol enabled, it fails (since it does not run long enough for the exception to be triggered by the timer). When the test is run for both protocols, the second run passes because it uses an existing group ID and that is why i"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"JoinWithIncompleteMetadataIntegrationTest fails in isolated run of one parameter\n\nWhen I run JoinWithIncompleteMetadataIntegrationTest, with only the new protocol enabled, it fails (since it does not run long enough for the exception to be triggered by the timer). When the test is run for both protocols, the second run passes because it uses an existing group ID and that is why it why streams is shutting down.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When I run JoinWithIncompleteMetadataIntegrationTest, with only the new protocol enabled, it fails (since it does not run long enough for the exception to be triggered by the timer). When the test is run for both protocols, the second run passes because it uses an existing group ID and that is why it why streams is shutting down.","output":"JoinWithIncompleteMetadataIntegrationTest fails in isolated run of one parameter"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Wrong generic type for UnregisterBrokerOptions\n\nThis UnregisterBrokerOptions extends from the UpdateFeaturesOptions, which is obviously wrong. [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/UnregisterBrokerOptions.java#L23] And that's why in KafkaAdminClientTest.java, we set timeout via `options.timeoutMs = 10;`. We should set it via timeoutMs(int) method gracefully like other tests.","output":"Wrong generic type for UnregisterBrokerOptions"}
{"instruction":"Classify the status of this issue based on its description:","input":"Wrong generic type for UnregisterBrokerOptions\n\nThis UnregisterBrokerOptions extends from the UpdateFeaturesOptions, which is obviously wrong. [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/UnregisterBrokerOptions.java#L23] And that's why in KafkaAdminClientTest.java, we set timeout via `options.timeoutMs = 10;`. We should set it via timeoutMs(int) method gracefully like other tests.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Wrong generic type for UnregisterBrokerOptions\n\nThis UnregisterBrokerOptions extends from the UpdateFeaturesOptions, which is obviously wrong. [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/UnregisterBrokerOptions.java#L23] And that's why in KafkaAdminClientTest.java, we set timeout via `options.timeoutMs = 10;`. We should set it via timeoutMs(int) method gracefully like other tests.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Wrong generic type for UnregisterBrokerOptions\n\nThis UnregisterBrokerOptions extends from the UpdateFeaturesOptions, which is obviously wrong. [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/UnregisterBrokerOptions.java#L23] And that's why in KafkaAdminClientTest.java, we set timeout via `options.timeoutMs = 10;`. We should set it via timeoutMs(int) method gracefully like other tests.","output":"This UnregisterBrokerOptions extends from the UpdateFeaturesOptions, which is obviously wrong. [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/UnregisterBrokerOptions.java#L23] And that's why in KafkaAdminClientTest.java, we set timeout via `options.t"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Wrong generic type for UnregisterBrokerOptions\n\nThis UnregisterBrokerOptions extends from the UpdateFeaturesOptions, which is obviously wrong. [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/UnregisterBrokerOptions.java#L23] And that's why in KafkaAdminClientTest.java, we set timeout via `options.timeoutMs = 10;`. We should set it via timeoutMs(int) method gracefully like other tests.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"This UnregisterBrokerOptions extends from the UpdateFeaturesOptions, which is obviously wrong. [https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/UnregisterBrokerOptions.java#L23] And that's why in KafkaAdminClientTest.java, we set timeout via `options.timeoutMs = 10;`. We should set it via timeoutMs(int) method gracefully like other tests.","output":"Wrong generic type for UnregisterBrokerOptions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Tweak org.apache.kafka.clients.consumer.OffsetAndMetadata\n\n1. Using `leaderEpoch=\" + leaderEpoch` feels a bit odd, since not every value of `leaderEpoch` is invalid 2. `leaderEpoch=null` should be treated as same as `leaderEpoch=-1`, but `OffsetAndMetadata#equals` does not respect it. 3. `OffsetAndMetadata#metadata` currently has neither integration nor unit tests","output":"Tweak org.apache.kafka.clients.consumer.OffsetAndMetadata"}
{"instruction":"Classify the status of this issue based on its description:","input":"Tweak org.apache.kafka.clients.consumer.OffsetAndMetadata\n\n1. Using `leaderEpoch=\" + leaderEpoch` feels a bit odd, since not every value of `leaderEpoch` is invalid 2. `leaderEpoch=null` should be treated as same as `leaderEpoch=-1`, but `OffsetAndMetadata#equals` does not respect it. 3. `OffsetAndMetadata#metadata` currently has neither integration nor unit tests","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Tweak org.apache.kafka.clients.consumer.OffsetAndMetadata\n\n1. Using `leaderEpoch=\" + leaderEpoch` feels a bit odd, since not every value of `leaderEpoch` is invalid 2. `leaderEpoch=null` should be treated as same as `leaderEpoch=-1`, but `OffsetAndMetadata#equals` does not respect it. 3. `OffsetAndMetadata#metadata` currently has neither integration nor unit tests","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Tweak org.apache.kafka.clients.consumer.OffsetAndMetadata\n\n1. Using `leaderEpoch=\" + leaderEpoch` feels a bit odd, since not every value of `leaderEpoch` is invalid 2. `leaderEpoch=null` should be treated as same as `leaderEpoch=-1`, but `OffsetAndMetadata#equals` does not respect it. 3. `OffsetAndMetadata#metadata` currently has neither integration nor unit tests","output":"1. Using `leaderEpoch=\" + leaderEpoch` feels a bit odd, since not every value of `leaderEpoch` is invalid 2. `leaderEpoch=null` should be treated as same as `leaderEpoch=-1`, but `OffsetAndMetadata#equals` does not respect it. 3. `OffsetAndMetadata#metadata` currently has neither integration nor uni"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Tweak org.apache.kafka.clients.consumer.OffsetAndMetadata\n\n1. Using `leaderEpoch=\" + leaderEpoch` feels a bit odd, since not every value of `leaderEpoch` is invalid 2. `leaderEpoch=null` should be treated as same as `leaderEpoch=-1`, but `OffsetAndMetadata#equals` does not respect it. 3. `OffsetAndMetadata#metadata` currently has neither integration nor unit tests","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"1. Using `leaderEpoch=\" + leaderEpoch` feels a bit odd, since not every value of `leaderEpoch` is invalid 2. `leaderEpoch=null` should be treated as same as `leaderEpoch=-1`, but `OffsetAndMetadata#equals` does not respect it. 3. `OffsetAndMetadata#metadata` currently has neither integration nor unit tests","output":"Tweak org.apache.kafka.clients.consumer.OffsetAndMetadata"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve RebalanceProtocolMigrationIntegrationTest\n\nWith KAFKA-19647, we added RebalanceProtocolMigrationIntegrationTest, that needs to wait for a \"classic\" consumer group to timeout. After KAFKA-18193 is completed, we should consider to use the new API to send a leave-group request in the test, to reduce test runtime.","output":"Improve RebalanceProtocolMigrationIntegrationTest"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve RebalanceProtocolMigrationIntegrationTest\n\nWith KAFKA-19647, we added RebalanceProtocolMigrationIntegrationTest, that needs to wait for a \"classic\" consumer group to timeout. After KAFKA-18193 is completed, we should consider to use the new API to send a leave-group request in the test, to reduce test runtime.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve RebalanceProtocolMigrationIntegrationTest\n\nWith KAFKA-19647, we added RebalanceProtocolMigrationIntegrationTest, that needs to wait for a \"classic\" consumer group to timeout. After KAFKA-18193 is completed, we should consider to use the new API to send a leave-group request in the test, to reduce test runtime.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve RebalanceProtocolMigrationIntegrationTest\n\nWith KAFKA-19647, we added RebalanceProtocolMigrationIntegrationTest, that needs to wait for a \"classic\" consumer group to timeout. After KAFKA-18193 is completed, we should consider to use the new API to send a leave-group request in the test, to reduce test runtime.","output":"With KAFKA-19647, we added RebalanceProtocolMigrationIntegrationTest, that needs to wait for a \"classic\" consumer group to timeout. After KAFKA-18193 is completed, we should consider to use the new API to send a leave-group request in the test, to reduce test runtime."}
{"instruction":"Extract key technical details from this issue:","input":"With KAFKA-19647, we added RebalanceProtocolMigrationIntegrationTest, that needs to wait for a \"classic\" consumer group to timeout. After KAFKA-18193 is completed, we should consider to use the new API to send a leave-group request in the test, to reduce test runtime.","output":"Improve RebalanceProtocolMigrationIntegrationTest"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Investigate stalling share consumer poll when empty response is returned early\n\nThis is related to https://issues.apache.org/jira/browse/KAFKA-19259. If an empty ShareFetch response is returned before the poll delay has elapsed, it seems possible that the application thread will continue to wait rather than promptly sending another ShareFetch request.","output":"Investigate stalling share consumer poll when empty response is returned early"}
{"instruction":"Classify the status of this issue based on its description:","input":"Investigate stalling share consumer poll when empty response is returned early\n\nThis is related to https://issues.apache.org/jira/browse/KAFKA-19259. If an empty ShareFetch response is returned before the poll delay has elapsed, it seems possible that the application thread will continue to wait rather than promptly sending another ShareFetch request.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Investigate stalling share consumer poll when empty response is returned early\n\nThis is related to https://issues.apache.org/jira/browse/KAFKA-19259. If an empty ShareFetch response is returned before the poll delay has elapsed, it seems possible that the application thread will continue to wait rather than promptly sending another ShareFetch request.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Investigate stalling share consumer poll when empty response is returned early\n\nThis is related to https://issues.apache.org/jira/browse/KAFKA-19259. If an empty ShareFetch response is returned before the poll delay has elapsed, it seems possible that the application thread will continue to wait rather than promptly sending another ShareFetch request.","output":"This is related to https://issues.apache.org/jira/browse/KAFKA-19259. If an empty ShareFetch response is returned before the poll delay has elapsed, it seems possible that the application thread will continue to wait rather than promptly sending another ShareFetch request."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Investigate stalling share consumer poll when empty response is returned early\n\nThis is related to https://issues.apache.org/jira/browse/KAFKA-19259. If an empty ShareFetch response is returned before the poll delay has elapsed, it seems possible that the application thread will continue to wait rather than promptly sending another ShareFetch request.","output":"Not A Problem"}
{"instruction":"Extract key technical details from this issue:","input":"This is related to https://issues.apache.org/jira/browse/KAFKA-19259. If an empty ShareFetch response is returned before the poll delay has elapsed, it seems possible that the application thread will continue to wait rather than promptly sending another ShareFetch request.","output":"Investigate stalling share consumer poll when empty response is returned early"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"The normal topic auto-creation paths should use num.partitions and default.replication.factor from the controller properties\n\nsee https://github.com/apache/kafka/pull/20421#issuecomment-3236341849","output":"The normal topic auto-creation paths should use num.partitions and default.replication.factor from the controller properties"}
{"instruction":"Classify the status of this issue based on its description:","input":"The normal topic auto-creation paths should use num.partitions and default.replication.factor from the controller properties\n\nsee https://github.com/apache/kafka/pull/20421#issuecomment-3236341849","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"The normal topic auto-creation paths should use num.partitions and default.replication.factor from the controller properties\n\nsee https://github.com/apache/kafka/pull/20421#issuecomment-3236341849","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: The normal topic auto-creation paths should use num.partitions and default.replication.factor from the controller properties\n\nsee https://github.com/apache/kafka/pull/20421#issuecomment-3236341849","output":"see https://github.com/apache/kafka/pull/20421#issuecomment-3236341849"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"[Gradle 8 --> 9 upgrade] GitHub Actions build issues: JUnit tests parsing fails (for a new/flaky steps)\n\n(!) {*}Note{*}: this blocks Gradle upgrade from 8 to 9 (KAFKA-19174) - _Gradle upgrade related stuff are done, but can't be merged due to CI build issues._ See here for more details: [https://github.com/apache/kafka/pull/19513#issuecomment-3236158518] Interestingly enough: only parsing fails (not tests) and on top of that it happens for flaky/new matrix {*}_only_{*}. _______________________________________________________________________________________________________________________________ -{*}(i) Update{*}: after so many testing on Gradle upgrade PR ([https://github.com/apache/kafka/pull/19513]) I can confirm that something strange is going on between GitHub Actions and Develocity instances.- -Let me describe just a tip of the issues here; will use 'com.gradle.develocity' plugin version as an example (and please keep in mind that no classes/test are added or changed):- * Gradle 9/PR branch (with plugin version 3.19, i.e. trunk version): *parsing step fails for JUnit reports* (for flaky/new jobs, as noted above); * -Gradle 8/trunk branch (with plugin version upgrade *only* - from 3.19 to 3.19.1): CI build ends up with this error: *upload build to Develocity fails*- -(on) From where I see this solution for this issue should be drafted along these lines:- - -'com.gradle.develocity' plugin version and configuration- - -`com.gradle.common-custom-user-data-gradle-plugin` version- - -github action `setup-gradle` version and configuration- mumrah chia7712 I will create a separate PR and tag you there (it will be a trunk-based PR, I do believe it will be easier to test/solve these issues on a trunk level (and only then to apply Gradle upgrade).","output":"[Gradle 8 --> 9 upgrade] GitHub Actions build issues: JUnit tests parsing fails (for a new/flaky steps)"}
{"instruction":"Classify the status of this issue based on its description:","input":"[Gradle 8 --> 9 upgrade] GitHub Actions build issues: JUnit tests parsing fails (for a new/flaky steps)\n\n(!) {*}Note{*}: this blocks Gradle upgrade from 8 to 9 (KAFKA-19174) - _Gradle upgrade related stuff are done, but can't be merged due to CI build issues._ See here for more details: [https://github.com/apache/kafka/pull/19513#issuecomment-3236158518] Interestingly enough: only parsing fails (not tests) and on top of that it happens for flaky/new matrix {*}_only_{*}. _______________________________________________________________________________________________________________________________ -{","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"[Gradle 8 --> 9 upgrade] GitHub Actions build issues: JUnit tests parsing fails (for a new/flaky steps)\n\n(!) {*}Note{*}: this blocks Gradle upgrade from 8 to 9 (KAFKA-19174) - _Gradle upgrade related stuff are done, but can't be merged due to CI build issues._ See here for more details: [https://github.com/apache/kafka/pull/19513#issuecomment-3236158518] Interestingly enough: only parsing fails (not tests) and on top of that it happens for flaky/new matrix {*}_only_{*}. _______________________________________________________________________________________________________________________________ -{","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: [Gradle 8 --> 9 upgrade] GitHub Actions build issues: JUnit tests parsing fails (for a new/flaky steps)\n\n(!) {*}Note{*}: this blocks Gradle upgrade from 8 to 9 (KAFKA-19174) - _Gradle upgrade related stuff are done, but can't be merged due to CI build issues._ See here for more details: [https://github.com/apache/kafka/pull/19513#issuecomment-3236158518] Interestingly enough: only parsing fails (not tests) and on top of that it happens for flaky/new matrix {*}_only_{*}. _______________________________________________________________________________________________________________________________ -{","output":"(!) {*}Note{*}: this blocks Gradle upgrade from 8 to 9 (KAFKA-19174) - _Gradle upgrade related stuff are done, but can't be merged due to CI build issues._ See here for more details: [https://github.com/apache/kafka/pull/19513#issuecomment-3236158518] Interestingly enough: only parsing fails (not te"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"[Gradle 8 --> 9 upgrade] GitHub Actions build issues: JUnit tests parsing fails (for a new/flaky steps)\n\n(!) {*}Note{*}: this blocks Gradle upgrade from 8 to 9 (KAFKA-19174) - _Gradle upgrade related stuff are done, but can't be merged due to CI build issues._ See here for more details: [https://github.com/apache/kafka/pull/19513#issuecomment-3236158518] Interestingly enough: only parsing fails (not tests) and on top of that it happens for flaky/new matrix {*}_only_{*}. _______________________________________________________________________________________________________________________________ -{","output":"Duplicate"}
{"instruction":"Extract key technical details from this issue:","input":"(!) {*}Note{*}: this blocks Gradle upgrade from 8 to 9 (KAFKA-19174) - _Gradle upgrade related stuff are done, but can't be merged due to CI build issues._ See here for more details: [https://github.com/apache/kafka/pull/19513#issuecomment-3236158518] Interestingly enough: only parsing fails (not tests) and on top of that it happens for flaky/new matrix {*}_only_{*}. _______________________________________________________________________________________________________________________________ -{*}(i) Update{*}: after so many testing on Gradle upgrade PR ([https://github.com/apache/kafka/pull/19513]) I can confirm that something strange is going on between GitHub Actions and Develocity instances.- -Let me describe just a tip of the issues here; will use 'com.gradle.develocity' plugin versio","output":"[Gradle 8 --> 9 upgrade] GitHub Actions build issues: JUnit tests parsing fails (for a new/flaky steps)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Extract dropping table from catalog from DataFrameWriter in case of overwriting table during creation\n\nCurrently, if we call DataFrameWriter.saveAsTable(tableName) with the SaveMode equal to Overwrite and the DataSource is V1, the table is dropped from catalog directly in the DataFrameWriter and only then the CreateTable command is created. In case if we want to somehow change the default behavior using Spark extensions, for instance, postpone the table dropping to decrease the time interval, when the old table is dropped and the new one is not created, such hardcoded behavior in DataFrameWriter makes it almost impossible if we want to use the original saveAsTable method. For instance, if we call df.write.mode(\"overwrite\").insertInto(table_name) then it's possible to control the table removal logic if we provide our own implementation of the spark.sql.sources.commitProtocolClass. In case of saveAsTable it makes no sense, because a table is unconditionally dropped before handling the CreateTable command. Therefore, is it possible to extract the table dropping logic from DataFrameWriter to the corresponding LogicalPlan commands (as it was done for V2 Datasources) in order to give more flexibility to Spark extensions?","output":"Extract dropping table from catalog from DataFrameWriter in case of overwriting table during creation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Extract dropping table from catalog from DataFrameWriter in case of overwriting table during creation\n\nCurrently, if we call DataFrameWriter.saveAsTable(tableName) with the SaveMode equal to Overwrite and the DataSource is V1, the table is dropped from catalog directly in the DataFrameWriter and only then the CreateTable command is created. In case if we want to somehow change the default behavior using Spark extensions, for instance, postpone the table dropping to decrease the time interval, when the old table is dropped and the new one is not created, such hardcoded behavior in DataFrameWriter ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Extract dropping table from catalog from DataFrameWriter in case of overwriting table during creation\n\nCurrently, if we call DataFrameWriter.saveAsTable(tableName) with the SaveMode equal to Overwrite and the DataSource is V1, the table is dropped from catalog directly in the DataFrameWriter and only then the CreateTable command is created. In case if we want to somehow change the default behavior using Spark extensions, for instance, postpone the table dropping to decrease the time interval, when the old table is dropped and the new one is not created, such hardcoded behavior in DataFrameWriter ","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Extract dropping table from catalog from DataFrameWriter in case of overwriting table during creation\n\nCurrently, if we call DataFrameWriter.saveAsTable(tableName) with the SaveMode equal to Overwrite and the DataSource is V1, the table is dropped from catalog directly in the DataFrameWriter and only then the CreateTable command is created. In case if we want to somehow change the default behavior using Spark extensions, for instance, postpone the table dropping to decrease the time interval, when the old table is dropped and the new one is not created, such hardcoded behavior in DataFrameWriter ","output":"Currently, if we call DataFrameWriter.saveAsTable(tableName) with the SaveMode equal to Overwrite and the DataSource is V1, the table is dropped from catalog directly in the DataFrameWriter and only then the CreateTable command is created. In case if we want to somehow change the default behavior us"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, if we call DataFrameWriter.saveAsTable(tableName) with the SaveMode equal to Overwrite and the DataSource is V1, the table is dropped from catalog directly in the DataFrameWriter and only then the CreateTable command is created. In case if we want to somehow change the default behavior using Spark extensions, for instance, postpone the table dropping to decrease the time interval, when the old table is dropped and the new one is not created, such hardcoded behavior in DataFrameWriter makes it almost impossible if we want to use the original saveAsTable method. For instance, if we call df.write.mode(\"overwrite\").insertInto(table_name) then it's possible to control the table removal logic if we provide our own implementation of the spark.sql.sources.commitProtocolClass. In case of","output":"Extract dropping table from catalog from DataFrameWriter in case of overwriting table during creation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve Error Handling for Spark Connect\n\nThis is an umbrella Jira to migrate exceptions in Spark Connect from plain runtime exceptions to proper Spark Exceptions with error class.","output":"Improve Error Handling for Spark Connect"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve Error Handling for Spark Connect\n\nThis is an umbrella Jira to migrate exceptions in Spark Connect from plain runtime exceptions to proper Spark Exceptions with error class.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve Error Handling for Spark Connect\n\nThis is an umbrella Jira to migrate exceptions in Spark Connect from plain runtime exceptions to proper Spark Exceptions with error class.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve Error Handling for Spark Connect\n\nThis is an umbrella Jira to migrate exceptions in Spark Connect from plain runtime exceptions to proper Spark Exceptions with error class.","output":"This is an umbrella Jira to migrate exceptions in Spark Connect from plain runtime exceptions to proper Spark Exceptions with error class."}
{"instruction":"Extract key technical details from this issue:","input":"This is an umbrella Jira to migrate exceptions in Spark Connect from plain runtime exceptions to proper Spark Exceptions with error class.","output":"Improve Error Handling for Spark Connect"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve the testing experience for TransformWithState\n\nCurrently it's hard to write unit tests for user's implementation of StatefulProcessor used in TransformWithState. User either needs to test it by running actual streaming query, or they need to refactor business logic into a separate function (that will be called from handleInputRows), and write unit tests for that function. I propose to add a simple testing framework for TransformWithState that will allow users easily test their business logic inside StatefulProcessor. On high-level, it's a class TwsTester that takes StatefulProcessor and allows to feed in input rows and immediately returns what rows would be produced by TWS. It also allows to set and inspect state. This can be used in unit tests without having to run streaming query and it won't need RocksDB (it will use in-memory state store). I will start with implementing this for Scala users, potentially making it available for Python users later.","output":"Improve the testing experience for TransformWithState"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve the testing experience for TransformWithState\n\nCurrently it's hard to write unit tests for user's implementation of StatefulProcessor used in TransformWithState. User either needs to test it by running actual streaming query, or they need to refactor business logic into a separate function (that will be called from handleInputRows), and write unit tests for that function. I propose to add a simple testing framework for TransformWithState that will allow users easily test their business logic inside StatefulProcessor. On high-level, it's a cl","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Improve the testing experience for TransformWithState\n\nCurrently it's hard to write unit tests for user's implementation of StatefulProcessor used in TransformWithState. User either needs to test it by running actual streaming query, or they need to refactor business logic into a separate function (that will be called from handleInputRows), and write unit tests for that function. I propose to add a simple testing framework for TransformWithState that will allow users easily test their business logic inside StatefulProcessor. On high-level, it's a cl","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve the testing experience for TransformWithState\n\nCurrently it's hard to write unit tests for user's implementation of StatefulProcessor used in TransformWithState. User either needs to test it by running actual streaming query, or they need to refactor business logic into a separate function (that will be called from handleInputRows), and write unit tests for that function. I propose to add a simple testing framework for TransformWithState that will allow users easily test their business logic inside StatefulProcessor. On high-level, it's a cl","output":"Currently it's hard to write unit tests for user's implementation of StatefulProcessor used in TransformWithState. User either needs to test it by running actual streaming query, or they need to refactor business logic into a separate function (that will be called from handleInputRows), and write un"}
{"instruction":"Extract key technical details from this issue:","input":"Currently it's hard to write unit tests for user's implementation of StatefulProcessor used in TransformWithState. User either needs to test it by running actual streaming query, or they need to refactor business logic into a separate function (that will be called from handleInputRows), and write unit tests for that function. I propose to add a simple testing framework for TransformWithState that will allow users easily test their business logic inside StatefulProcessor. On high-level, it's a class TwsTester that takes StatefulProcessor and allows to feed in input rows and immediately returns what rows would be produced by TWS. It also allows to set and inspect state. This can be used in unit tests without having to run streaming query and it won't need RocksDB (it will use in-memory state","output":"Improve the testing experience for TransformWithState"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Automatic Snapshot Repair for State store\n\nToday, the engine currently treats both the changelog and snapshot files with the same importance, so when a state store needs to be loaded it reads the latest snapshot and applies the subsequent changes on it. If the snapshot is bad or corrupted, then the query will fail and be completely down and blocked, needing manual intervention. This leads to user clearing their query checkpoint and having to do full recomputation. This shouldn’t be the case. The changelog should be treated as the “source of truth” and the snapshot is just a disposable materialization of the log. Introducing Automatic snapshot repair, which will automatically repair the checkpoint by skipping bad snapshots and rebuilding the current state from the last good snapshot (works even if there’s none) and applying the changelogs on it. This eliminates the need for manual intervention and unblocks the pipeline to keep it running. Also emit metrics about number of state stores that were auto repaired in a given batch, so that you can build alert and dashboard for it.","output":"Automatic Snapshot Repair for State store"}
{"instruction":"Classify the status of this issue based on its description:","input":"Automatic Snapshot Repair for State store\n\nToday, the engine currently treats both the changelog and snapshot files with the same importance, so when a state store needs to be loaded it reads the latest snapshot and applies the subsequent changes on it. If the snapshot is bad or corrupted, then the query will fail and be completely down and blocked, needing manual intervention. This leads to user clearing their query checkpoint and having to do full recomputation. This shouldn’t be the case. The changelog should be treated as the “source","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Automatic Snapshot Repair for State store\n\nToday, the engine currently treats both the changelog and snapshot files with the same importance, so when a state store needs to be loaded it reads the latest snapshot and applies the subsequent changes on it. If the snapshot is bad or corrupted, then the query will fail and be completely down and blocked, needing manual intervention. This leads to user clearing their query checkpoint and having to do full recomputation. This shouldn’t be the case. The changelog should be treated as the “source","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Automatic Snapshot Repair for State store\n\nToday, the engine currently treats both the changelog and snapshot files with the same importance, so when a state store needs to be loaded it reads the latest snapshot and applies the subsequent changes on it. If the snapshot is bad or corrupted, then the query will fail and be completely down and blocked, needing manual intervention. This leads to user clearing their query checkpoint and having to do full recomputation. This shouldn’t be the case. The changelog should be treated as the “source","output":"Today, the engine currently treats both the changelog and snapshot files with the same importance, so when a state store needs to be loaded it reads the latest snapshot and applies the subsequent changes on it. If the snapshot is bad or corrupted, then the query will fail and be completely down and "}
{"instruction":"Extract key technical details from this issue:","input":"Today, the engine currently treats both the changelog and snapshot files with the same importance, so when a state store needs to be loaded it reads the latest snapshot and applies the subsequent changes on it. If the snapshot is bad or corrupted, then the query will fail and be completely down and blocked, needing manual intervention. This leads to user clearing their query checkpoint and having to do full recomputation. This shouldn’t be the case. The changelog should be treated as the “source of truth” and the snapshot is just a disposable materialization of the log. Introducing Automatic snapshot repair, which will automatically repair the checkpoint by skipping bad snapshots and rebuilding the current state from the last good snapshot (works even if there’s none) and applying the chan","output":"Automatic Snapshot Repair for State store"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Metrics & semantic modeling in Spark\n\nSPIP: https://docs.google.com/document/d/1xVTLijvDTJ90lZ_ujwzf9HvBJgWg0mY6cYM44Fcghl0/edit?tab=t.0#heading=h.4iogryr5qznc","output":"Metrics & semantic modeling in Spark"}
{"instruction":"Classify the status of this issue based on its description:","input":"Metrics & semantic modeling in Spark\n\nSPIP: https://docs.google.com/document/d/1xVTLijvDTJ90lZ_ujwzf9HvBJgWg0mY6cYM44Fcghl0/edit?tab=t.0#heading=h.4iogryr5qznc","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Metrics & semantic modeling in Spark\n\nSPIP: https://docs.google.com/document/d/1xVTLijvDTJ90lZ_ujwzf9HvBJgWg0mY6cYM44Fcghl0/edit?tab=t.0#heading=h.4iogryr5qznc","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Metrics & semantic modeling in Spark\n\nSPIP: https://docs.google.com/document/d/1xVTLijvDTJ90lZ_ujwzf9HvBJgWg0mY6cYM44Fcghl0/edit?tab=t.0#heading=h.4iogryr5qznc","output":"SPIP: https://docs.google.com/document/d/1xVTLijvDTJ90lZ_ujwzf9HvBJgWg0mY6cYM44Fcghl0/edit?tab=t.0#heading=h.4iogryr5qznc"}
{"instruction":"Extract key technical details from this issue:","input":"SPIP: https://docs.google.com/document/d/1xVTLijvDTJ90lZ_ujwzf9HvBJgWg0mY6cYM44Fcghl0/edit?tab=t.0#heading=h.4iogryr5qznc","output":"Metrics & semantic modeling in Spark"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve the put/merge operation in ListState when t here are multiple values\n\nIn SS TWS, when we do the {{put(array)}} operation in liststate, we put the first element and then merge the remaining elements one by one. so if we want to put an array with 100 elements, it means we need do 1 put + 99 merges. This can result in worse performance than a single put operation for the entire array. Similar, we have the same issue in {{merge(array)}}","output":"Improve the put/merge operation in ListState when t here are multiple values"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve the put/merge operation in ListState when t here are multiple values\n\nIn SS TWS, when we do the {{put(array)}} operation in liststate, we put the first element and then merge the remaining elements one by one. so if we want to put an array with 100 elements, it means we need do 1 put + 99 merges. This can result in worse performance than a single put operation for the entire array. Similar, we have the same issue in {{merge(array)}}","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Improve the put/merge operation in ListState when t here are multiple values\n\nIn SS TWS, when we do the {{put(array)}} operation in liststate, we put the first element and then merge the remaining elements one by one. so if we want to put an array with 100 elements, it means we need do 1 put + 99 merges. This can result in worse performance than a single put operation for the entire array. Similar, we have the same issue in {{merge(array)}}","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve the put/merge operation in ListState when t here are multiple values\n\nIn SS TWS, when we do the {{put(array)}} operation in liststate, we put the first element and then merge the remaining elements one by one. so if we want to put an array with 100 elements, it means we need do 1 put + 99 merges. This can result in worse performance than a single put operation for the entire array. Similar, we have the same issue in {{merge(array)}}","output":"In SS TWS, when we do the {{put(array)}} operation in liststate, we put the first element and then merge the remaining elements one by one. so if we want to put an array with 100 elements, it means we need do 1 put + 99 merges. This can result in worse performance than a single put operation for the"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Improve the put/merge operation in ListState when t here are multiple values\n\nIn SS TWS, when we do the {{put(array)}} operation in liststate, we put the first element and then merge the remaining elements one by one. so if we want to put an array with 100 elements, it means we need do 1 put + 99 merges. This can result in worse performance than a single put operation for the entire array. Similar, we have the same issue in {{merge(array)}}","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"In SS TWS, when we do the {{put(array)}} operation in liststate, we put the first element and then merge the remaining elements one by one. so if we want to put an array with 100 elements, it means we need do 1 put + 99 merges. This can result in worse performance than a single put operation for the entire array. Similar, we have the same issue in {{merge(array)}}","output":"Improve the put/merge operation in ListState when t here are multiple values"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Throw better error to indicate that TWS is only supported with RocksDB state store provider\n\nWhen user tries to use TWS with HDFS as state store, they should get an error explicitly requiring to use RocksDB state provider.","output":"Throw better error to indicate that TWS is only supported with RocksDB state store provider"}
{"instruction":"Classify the status of this issue based on its description:","input":"Throw better error to indicate that TWS is only supported with RocksDB state store provider\n\nWhen user tries to use TWS with HDFS as state store, they should get an error explicitly requiring to use RocksDB state provider.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Throw better error to indicate that TWS is only supported with RocksDB state store provider\n\nWhen user tries to use TWS with HDFS as state store, they should get an error explicitly requiring to use RocksDB state provider.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Throw better error to indicate that TWS is only supported with RocksDB state store provider\n\nWhen user tries to use TWS with HDFS as state store, they should get an error explicitly requiring to use RocksDB state provider.","output":"When user tries to use TWS with HDFS as state store, they should get an error explicitly requiring to use RocksDB state provider."}
{"instruction":"Extract key technical details from this issue:","input":"When user tries to use TWS with HDFS as state store, they should get an error explicitly requiring to use RocksDB state provider.","output":"Throw better error to indicate that TWS is only supported with RocksDB state store provider"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add off-heap mode support for LongHashedRelation\n\nLongHashedRelation now only supports on-heap mode. The task is for adding off-heap mode support for the relation.","output":"Add off-heap mode support for LongHashedRelation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add off-heap mode support for LongHashedRelation\n\nLongHashedRelation now only supports on-heap mode. The task is for adding off-heap mode support for the relation.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add off-heap mode support for LongHashedRelation\n\nLongHashedRelation now only supports on-heap mode. The task is for adding off-heap mode support for the relation.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add off-heap mode support for LongHashedRelation\n\nLongHashedRelation now only supports on-heap mode. The task is for adding off-heap mode support for the relation.","output":"LongHashedRelation now only supports on-heap mode. The task is for adding off-heap mode support for the relation."}
{"instruction":"Extract key technical details from this issue:","input":"LongHashedRelation now only supports on-heap mode. The task is for adding off-heap mode support for the relation.","output":"Add off-heap mode support for LongHashedRelation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"State Store Row Checksum implementation\n\nIntroduce row checksum creation and verification for state store, both {*}HDFS and RocksDB state store{*}. This will help detect corruption at the row level and help prevent corruption.","output":"State Store Row Checksum implementation"}
{"instruction":"Classify the status of this issue based on its description:","input":"State Store Row Checksum implementation\n\nIntroduce row checksum creation and verification for state store, both {*}HDFS and RocksDB state store{*}. This will help detect corruption at the row level and help prevent corruption.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"State Store Row Checksum implementation\n\nIntroduce row checksum creation and verification for state store, both {*}HDFS and RocksDB state store{*}. This will help detect corruption at the row level and help prevent corruption.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: State Store Row Checksum implementation\n\nIntroduce row checksum creation and verification for state store, both {*}HDFS and RocksDB state store{*}. This will help detect corruption at the row level and help prevent corruption.","output":"Introduce row checksum creation and verification for state store, both {*}HDFS and RocksDB state store{*}. This will help detect corruption at the row level and help prevent corruption."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"State Store Row Checksum implementation\n\nIntroduce row checksum creation and verification for state store, both {*}HDFS and RocksDB state store{*}. This will help detect corruption at the row level and help prevent corruption.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Introduce row checksum creation and verification for state store, both {*}HDFS and RocksDB state store{*}. This will help detect corruption at the row level and help prevent corruption.","output":"State Store Row Checksum implementation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Spark 4.0.1 still throws \"String length (20054016) exceeds the maximum length (20000000)\" and \"from_json\" fails on a very large JSON with a jackson_core parse error\n\nBased on JIRA *SPARK-49872* and the implementation in https://github.com/apache/spark/blob/29434ea766b0fc3c3bf6eaadb43a8f931133649e/core/src/main/scala/org/apache/spark/util/JsonProtocol.scala#L71, the relevant limit was removed in {*}4.0.1{*}. However, in our environment we can still reliably reproduce: # When generating/processing a very large string: {code:java} Caused by: com.fasterxml.jackson.core.exc.StreamConstraintsException: String value length (20040525) exceeds the maximum allowed (20000000, from `StreamReadConstraints.getMaxStringLength()`){code} # When using {{from_json}} on a _valid_ very large single-line JSON (no missing comma), Jackson throws at around column {*}20,271,838{*}: {code:java} Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('1' (code 49)): was expecting comma to separate Object entries at [Source: UNKNOWN; line: 1, column: 20271838]{code} I'm sure this is not a formatting issue. If I truncate the JSON to below column {*}20,271,838{*}, it parses successfully. Here is my parsing code: {code:java} raw_df.withColumn(\"parsed_item\", f.from_json(f.col(\"item\"), my_schema){code}","output":"Spark 4.0.1 still throws \"String length (20054016) exceeds the maximum length (20000000)\" and \"from_json\" fails on a very large JSON with a jackson_core parse error"}
{"instruction":"Classify the status of this issue based on its description:","input":"Spark 4.0.1 still throws \"String length (20054016) exceeds the maximum length (20000000)\" and \"from_json\" fails on a very large JSON with a jackson_core parse error\n\nBased on JIRA *SPARK-49872* and the implementation in https://github.com/apache/spark/blob/29434ea766b0fc3c3bf6eaadb43a8f931133649e/core/src/main/scala/org/apache/spark/util/JsonProtocol.scala#L71, the relevant limit was removed in {*}4.0.1{*}. However, in our environment we can still reliably reproduce: # When generating/processing a very large string: {code:java} Caused by: com.fasterxml.jackson.core.exc.StreamConstraintsException: String value length (20040525) exceeds the maximum allowed (20","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Spark 4.0.1 still throws \"String length (20054016) exceeds the maximum length (20000000)\" and \"from_json\" fails on a very large JSON with a jackson_core parse error\n\nBased on JIRA *SPARK-49872* and the implementation in https://github.com/apache/spark/blob/29434ea766b0fc3c3bf6eaadb43a8f931133649e/core/src/main/scala/org/apache/spark/util/JsonProtocol.scala#L71, the relevant limit was removed in {*}4.0.1{*}. However, in our environment we can still reliably reproduce: # When generating/processing a very large string: {code:java} Caused by: com.fasterxml.jackson.core.exc.StreamConstraintsException: String value length (20040525) exceeds the maximum allowed (20","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Spark 4.0.1 still throws \"String length (20054016) exceeds the maximum length (20000000)\" and \"from_json\" fails on a very large JSON with a jackson_core parse error\n\nBased on JIRA *SPARK-49872* and the implementation in https://github.com/apache/spark/blob/29434ea766b0fc3c3bf6eaadb43a8f931133649e/core/src/main/scala/org/apache/spark/util/JsonProtocol.scala#L71, the relevant limit was removed in {*}4.0.1{*}. However, in our environment we can still reliably reproduce: # When generating/processing a very large string: {code:java} Caused by: com.fasterxml.jackson.core.exc.StreamConstraintsException: String value length (20040525) exceeds the maximum allowed (20","output":"Based on JIRA *SPARK-49872* and the implementation in https://github.com/apache/spark/blob/29434ea766b0fc3c3bf6eaadb43a8f931133649e/core/src/main/scala/org/apache/spark/util/JsonProtocol.scala#L71, the relevant limit was removed in {*}4.0.1{*}. However, in our environment we can still reliably repro"}
{"instruction":"Extract key technical details from this issue:","input":"Based on JIRA *SPARK-49872* and the implementation in https://github.com/apache/spark/blob/29434ea766b0fc3c3bf6eaadb43a8f931133649e/core/src/main/scala/org/apache/spark/util/JsonProtocol.scala#L71, the relevant limit was removed in {*}4.0.1{*}. However, in our environment we can still reliably reproduce: # When generating/processing a very large string: {code:java} Caused by: com.fasterxml.jackson.core.exc.StreamConstraintsException: String value length (20040525) exceeds the maximum allowed (20000000, from `StreamReadConstraints.getMaxStringLength()`){code} # When using {{from_json}} on a _valid_ very large single-line JSON (no missing comma), Jackson throws at around column {*}20,271,838{*}: {code:java} Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('1' (","output":"Spark 4.0.1 still throws \"String length (20054016) exceeds the maximum length (20000000)\" and \"from_json\" fails on a very large JSON with a jackson_core parse error"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"XML to Variant conversion throws ArithmeticException on decimals with extreme exponents\n\nWhen parsing XML data with `parse_xml` that contains decimal numbers with very large exponents (e.g., \"1E+2147483647\"), the conversion to Variant type fails with: ``` java.lang.ArithmeticException: BigInteger would overflow supported range at java.base/java.math.BigDecimal.setScale(BigDecimal.java:3000) at org.apache.spark.sql.catalyst.xml.StaxXmlParser$.org$apache$spark$sql$catalyst$xml$StaxXmlParser$$appendXMLCharacterToVariant(StaxXmlParser.scala:1285) ```","output":"XML to Variant conversion throws ArithmeticException on decimals with extreme exponents"}
{"instruction":"Classify the status of this issue based on its description:","input":"XML to Variant conversion throws ArithmeticException on decimals with extreme exponents\n\nWhen parsing XML data with `parse_xml` that contains decimal numbers with very large exponents (e.g., \"1E+2147483647\"), the conversion to Variant type fails with: ``` java.lang.ArithmeticException: BigInteger would overflow supported range at java.base/java.math.BigDecimal.setScale(BigDecimal.java:3000) at org.apache.spark.sql.catalyst.xml.StaxXmlParser$.org$apache$spark$sql$catalyst$xml$StaxXmlParser$$appendXMLCharacterToVariant(StaxXmlParser.scala:1285) ```","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"XML to Variant conversion throws ArithmeticException on decimals with extreme exponents\n\nWhen parsing XML data with `parse_xml` that contains decimal numbers with very large exponents (e.g., \"1E+2147483647\"), the conversion to Variant type fails with: ``` java.lang.ArithmeticException: BigInteger would overflow supported range at java.base/java.math.BigDecimal.setScale(BigDecimal.java:3000) at org.apache.spark.sql.catalyst.xml.StaxXmlParser$.org$apache$spark$sql$catalyst$xml$StaxXmlParser$$appendXMLCharacterToVariant(StaxXmlParser.scala:1285) ```","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: XML to Variant conversion throws ArithmeticException on decimals with extreme exponents\n\nWhen parsing XML data with `parse_xml` that contains decimal numbers with very large exponents (e.g., \"1E+2147483647\"), the conversion to Variant type fails with: ``` java.lang.ArithmeticException: BigInteger would overflow supported range at java.base/java.math.BigDecimal.setScale(BigDecimal.java:3000) at org.apache.spark.sql.catalyst.xml.StaxXmlParser$.org$apache$spark$sql$catalyst$xml$StaxXmlParser$$appendXMLCharacterToVariant(StaxXmlParser.scala:1285) ```","output":"When parsing XML data with `parse_xml` that contains decimal numbers with very large exponents (e.g., \"1E+2147483647\"), the conversion to Variant type fails with: ``` java.lang.ArithmeticException: BigInteger would overflow supported range at java.base/java.math.BigDecimal.setScale(BigDecimal.java:3"}
{"instruction":"Extract key technical details from this issue:","input":"When parsing XML data with `parse_xml` that contains decimal numbers with very large exponents (e.g., \"1E+2147483647\"), the conversion to Variant type fails with: ``` java.lang.ArithmeticException: BigInteger would overflow supported range at java.base/java.math.BigDecimal.setScale(BigDecimal.java:3000) at org.apache.spark.sql.catalyst.xml.StaxXmlParser$.org$apache$spark$sql$catalyst$xml$StaxXmlParser$$appendXMLCharacterToVariant(StaxXmlParser.scala:1285) ```","output":"XML to Variant conversion throws ArithmeticException on decimals with extreme exponents"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Extract common methods to KafkaOffsetReaderBase\n\nWhen reviewing https://github.com/apache/spark/pull/52729, I found that KafkaOffsetReaderConsumer and KafkaOffsetReaderAdmin have the exactly same getOffsetRangesFromResolvedOffsets method. The method is actually long so seems good to extract them to common one.","output":"Extract common methods to KafkaOffsetReaderBase"}
{"instruction":"Classify the status of this issue based on its description:","input":"Extract common methods to KafkaOffsetReaderBase\n\nWhen reviewing https://github.com/apache/spark/pull/52729, I found that KafkaOffsetReaderConsumer and KafkaOffsetReaderAdmin have the exactly same getOffsetRangesFromResolvedOffsets method. The method is actually long so seems good to extract them to common one.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Extract common methods to KafkaOffsetReaderBase\n\nWhen reviewing https://github.com/apache/spark/pull/52729, I found that KafkaOffsetReaderConsumer and KafkaOffsetReaderAdmin have the exactly same getOffsetRangesFromResolvedOffsets method. The method is actually long so seems good to extract them to common one.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Extract common methods to KafkaOffsetReaderBase\n\nWhen reviewing https://github.com/apache/spark/pull/52729, I found that KafkaOffsetReaderConsumer and KafkaOffsetReaderAdmin have the exactly same getOffsetRangesFromResolvedOffsets method. The method is actually long so seems good to extract them to common one.","output":"When reviewing https://github.com/apache/spark/pull/52729, I found that KafkaOffsetReaderConsumer and KafkaOffsetReaderAdmin have the exactly same getOffsetRangesFromResolvedOffsets method. The method is actually long so seems good to extract them to common one."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Extract common methods to KafkaOffsetReaderBase\n\nWhen reviewing https://github.com/apache/spark/pull/52729, I found that KafkaOffsetReaderConsumer and KafkaOffsetReaderAdmin have the exactly same getOffsetRangesFromResolvedOffsets method. The method is actually long so seems good to extract them to common one.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When reviewing https://github.com/apache/spark/pull/52729, I found that KafkaOffsetReaderConsumer and KafkaOffsetReaderAdmin have the exactly same getOffsetRangesFromResolvedOffsets method. The method is actually long so seems good to extract them to common one.","output":"Extract common methods to KafkaOffsetReaderBase"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"AssertDataframeEqual carries rows when showing differences\n\nWhen we try to do assertDataFrameEqual, on two dataframes that have not the same amount of rows, the output gets cascading from the difference till the end. Why this is happening: [https://github.com/apache/spark/blob/067969ff946712eeabf47040415f25000837cd87/python/pyspark/testing/utils.py#L1036] {code:java} def assert_rows_equal( rows1: List[Row], rows2: List[Row], maxErrors: int = None, showOnlyDiff: bool = False ): __tracebackhide__ = True zipped = list(zip_longest(rows1, rows2)) diff_rows_cnt = 0 diff_rows = [] has_diff_rows = False rows_str1 = \"\" rows_str2 = \"\" # count different rows for r1, r2 in zipped: if not compare_rows(r1, r2): diff_rows_cnt += 1 has_diff_rows = True if includeDiffRows: diff_rows.append((r1, r2)) rows_str1 += str(r1) + \"\\n\" rows_str2 += str(r2) + \"\\n\" if maxErrors is not None and diff_rows_cnt >= maxErrors: break elif not showOnlyDiff: rows_str1 += str(r1) + \"\\n\" rows_str2 += str(r2) + \"\\n\" generated_diff = _context_diff( actual=rows_str1.splitlines(), expected=rows_str2.splitlines(), n=len(zipped) ) if has_diff_rows: error_msg = \"Results do not match: \" percent_diff = (diff_rows_cnt / len(zipped)) * 100 error_msg += \"( %.5f %% )\" % percent_diff error_msg += \"\\n\" + \"\\n\".join(generated_diff) data = diff_rows if includeDiffRows else None raise PySparkAssertionError( errorClass=\"DIFFERENT_ROWS\", messageParameters={\"error_msg\": error_msg}, data=data ){code} The problem lies in the way that we zip the lines {code:java} zipped = list(zip_longest(rows1, rows2)){code} With zip longest we assume that the rows are in order and we do position by position comparison but it does not work well with checkRowOrder which defaults to False. If I have 1 line difference in 100 line dataframe the result percentage won't be 1% but the amount of rows that cascade towards on from that difference. The best solution here would be to have a set based comparison and return the percentage and the rows over that. A sample of what zip_longest is doing: {code:java} from itertools import zip_longest rows1 = [ 'A', 'B', 'C', 'D', 'E'] rows2 = [ 'A', 'C', 'D',] zipped = list(zip_longest(rows1, rows2))zipped {code} Result: {code:java} [('A', 'A'), ('B', 'C'), ('C', 'D'), ('D', None), ('E', None)]{code} So in this case we would have 80% rows failure. This comes directly with the implementation of CheckRowOrder, when it is True we do not sort and it makes sense to use the zip_longest, when it is False it makes sense to use set based comparison since we have already sorted.","output":"AssertDataframeEqual carries rows when showing differences"}
{"instruction":"Classify the status of this issue based on its description:","input":"AssertDataframeEqual carries rows when showing differences\n\nWhen we try to do assertDataFrameEqual, on two dataframes that have not the same amount of rows, the output gets cascading from the difference till the end. Why this is happening: [https://github.com/apache/spark/blob/067969ff946712eeabf47040415f25000837cd87/python/pyspark/testing/utils.py#L1036] {code:java} def assert_rows_equal( rows1: List[Row], rows2: List[Row], maxErrors: int = None, showOnlyDiff: bool = False ): __tracebackhide__ = True zipped = list(zip_longest(rows1, rows2)) diff_rows_cn","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"AssertDataframeEqual carries rows when showing differences\n\nWhen we try to do assertDataFrameEqual, on two dataframes that have not the same amount of rows, the output gets cascading from the difference till the end. Why this is happening: [https://github.com/apache/spark/blob/067969ff946712eeabf47040415f25000837cd87/python/pyspark/testing/utils.py#L1036] {code:java} def assert_rows_equal( rows1: List[Row], rows2: List[Row], maxErrors: int = None, showOnlyDiff: bool = False ): __tracebackhide__ = True zipped = list(zip_longest(rows1, rows2)) diff_rows_cn","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: AssertDataframeEqual carries rows when showing differences\n\nWhen we try to do assertDataFrameEqual, on two dataframes that have not the same amount of rows, the output gets cascading from the difference till the end. Why this is happening: [https://github.com/apache/spark/blob/067969ff946712eeabf47040415f25000837cd87/python/pyspark/testing/utils.py#L1036] {code:java} def assert_rows_equal( rows1: List[Row], rows2: List[Row], maxErrors: int = None, showOnlyDiff: bool = False ): __tracebackhide__ = True zipped = list(zip_longest(rows1, rows2)) diff_rows_cn","output":"When we try to do assertDataFrameEqual, on two dataframes that have not the same amount of rows, the output gets cascading from the difference till the end. Why this is happening: [https://github.com/apache/spark/blob/067969ff946712eeabf47040415f25000837cd87/python/pyspark/testing/utils.py#L1036] {c"}
{"instruction":"Extract key technical details from this issue:","input":"When we try to do assertDataFrameEqual, on two dataframes that have not the same amount of rows, the output gets cascading from the difference till the end. Why this is happening: [https://github.com/apache/spark/blob/067969ff946712eeabf47040415f25000837cd87/python/pyspark/testing/utils.py#L1036] {code:java} def assert_rows_equal( rows1: List[Row], rows2: List[Row], maxErrors: int = None, showOnlyDiff: bool = False ): __tracebackhide__ = True zipped = list(zip_longest(rows1, rows2)) diff_rows_cnt = 0 diff_rows = [] has_diff_rows = False rows_str1 = \"\" rows_str2 = \"\" # count different rows for r1, r2 in zipped: if not compare_rows(r1, r2): diff_rows_cnt += 1 has_diff_rows = True if includeDiffRows: diff_rows.append((r1, r2)) rows_str1 += str(r1) + \"\\n\" rows_str2 += str(r2) + \"\\n\" if maxErro","output":"AssertDataframeEqual carries rows when showing differences"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add off-heap mode support for on-heap-only memory consumers\n\nThere are a few memory consumers that only support on-heap mode. Including: # LongToUnsafeRowMap (for long key hash join) # ExternalSorter (for non-serializable sort-based shuffle) It's ideal to make them support off-heap when Spark is running with off-heap memory mode. For 3rd accelerator plugins that leverage Spark off-heap memory, having the large allocations in vanilla Spark supporting off-heap mode will significantly ease the memory settings for running the mixed query plan that contains both vanilla Spark and offloaded computations.","output":"Add off-heap mode support for on-heap-only memory consumers"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add off-heap mode support for on-heap-only memory consumers\n\nThere are a few memory consumers that only support on-heap mode. Including: # LongToUnsafeRowMap (for long key hash join) # ExternalSorter (for non-serializable sort-based shuffle) It's ideal to make them support off-heap when Spark is running with off-heap memory mode. For 3rd accelerator plugins that leverage Spark off-heap memory, having the large allocations in vanilla Spark supporting off-heap mode will significantly ease the memory settings for running the mixed query plan that contains bo","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add off-heap mode support for on-heap-only memory consumers\n\nThere are a few memory consumers that only support on-heap mode. Including: # LongToUnsafeRowMap (for long key hash join) # ExternalSorter (for non-serializable sort-based shuffle) It's ideal to make them support off-heap when Spark is running with off-heap memory mode. For 3rd accelerator plugins that leverage Spark off-heap memory, having the large allocations in vanilla Spark supporting off-heap mode will significantly ease the memory settings for running the mixed query plan that contains bo","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add off-heap mode support for on-heap-only memory consumers\n\nThere are a few memory consumers that only support on-heap mode. Including: # LongToUnsafeRowMap (for long key hash join) # ExternalSorter (for non-serializable sort-based shuffle) It's ideal to make them support off-heap when Spark is running with off-heap memory mode. For 3rd accelerator plugins that leverage Spark off-heap memory, having the large allocations in vanilla Spark supporting off-heap mode will significantly ease the memory settings for running the mixed query plan that contains bo","output":"There are a few memory consumers that only support on-heap mode. Including: # LongToUnsafeRowMap (for long key hash join) # ExternalSorter (for non-serializable sort-based shuffle) It's ideal to make them support off-heap when Spark is running with off-heap memory mode. For 3rd accelerator plugins t"}
{"instruction":"Extract key technical details from this issue:","input":"There are a few memory consumers that only support on-heap mode. Including: # LongToUnsafeRowMap (for long key hash join) # ExternalSorter (for non-serializable sort-based shuffle) It's ideal to make them support off-heap when Spark is running with off-heap memory mode. For 3rd accelerator plugins that leverage Spark off-heap memory, having the large allocations in vanilla Spark supporting off-heap mode will significantly ease the memory settings for running the mixed query plan that contains both vanilla Spark and offloaded computations.","output":"Add off-heap mode support for on-heap-only memory consumers"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"When TaskSchedulerImpl searches for an executor to schedule an unschedulable task, it should exclude executors that are pending to remove\n\nCall kill executor !image-2025-10-30-17-22-25-127.png|width=1255,height=241! Container 18 didn't kill it !image-2025-10-30-17-24-03-632.png|width=1087,height=183! Pending container causing task can't be scheduled .","output":"When TaskSchedulerImpl searches for an executor to schedule an unschedulable task, it should exclude executors that are pending to remove"}
{"instruction":"Classify the status of this issue based on its description:","input":"When TaskSchedulerImpl searches for an executor to schedule an unschedulable task, it should exclude executors that are pending to remove\n\nCall kill executor !image-2025-10-30-17-22-25-127.png|width=1255,height=241! Container 18 didn't kill it !image-2025-10-30-17-24-03-632.png|width=1087,height=183! Pending container causing task can't be scheduled .","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"When TaskSchedulerImpl searches for an executor to schedule an unschedulable task, it should exclude executors that are pending to remove\n\nCall kill executor !image-2025-10-30-17-22-25-127.png|width=1255,height=241! Container 18 didn't kill it !image-2025-10-30-17-24-03-632.png|width=1087,height=183! Pending container causing task can't be scheduled .","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: When TaskSchedulerImpl searches for an executor to schedule an unschedulable task, it should exclude executors that are pending to remove\n\nCall kill executor !image-2025-10-30-17-22-25-127.png|width=1255,height=241! Container 18 didn't kill it !image-2025-10-30-17-24-03-632.png|width=1087,height=183! Pending container causing task can't be scheduled .","output":"Call kill executor !image-2025-10-30-17-22-25-127.png|width=1255,height=241! Container 18 didn't kill it !image-2025-10-30-17-24-03-632.png|width=1087,height=183! Pending container causing task can't be scheduled ."}
{"instruction":"Extract key technical details from this issue:","input":"Call kill executor !image-2025-10-30-17-22-25-127.png|width=1255,height=241! Container 18 didn't kill it !image-2025-10-30-17-24-03-632.png|width=1087,height=183! Pending container causing task can't be scheduled .","output":"When TaskSchedulerImpl searches for an executor to schedule an unschedulable task, it should exclude executors that are pending to remove"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Spark Executor launch task failed should return task killed message\n\nWhen not enable speculation ,executor launch task failed caused by OOM or other issue, DAGScheduler won;t know task failed and won't scheduler again, causing application stuck !image-2025-10-30-16-52-22-524.png|width=589,height=233!","output":"Spark Executor launch task failed should return task killed message"}
{"instruction":"Classify the status of this issue based on its description:","input":"Spark Executor launch task failed should return task killed message\n\nWhen not enable speculation ,executor launch task failed caused by OOM or other issue, DAGScheduler won;t know task failed and won't scheduler again, causing application stuck !image-2025-10-30-16-52-22-524.png|width=589,height=233!","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Spark Executor launch task failed should return task killed message\n\nWhen not enable speculation ,executor launch task failed caused by OOM or other issue, DAGScheduler won;t know task failed and won't scheduler again, causing application stuck !image-2025-10-30-16-52-22-524.png|width=589,height=233!","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Spark Executor launch task failed should return task killed message\n\nWhen not enable speculation ,executor launch task failed caused by OOM or other issue, DAGScheduler won;t know task failed and won't scheduler again, causing application stuck !image-2025-10-30-16-52-22-524.png|width=589,height=233!","output":"When not enable speculation ,executor launch task failed caused by OOM or other issue, DAGScheduler won;t know task failed and won't scheduler again, causing application stuck !image-2025-10-30-16-52-22-524.png|width=589,height=233!"}
{"instruction":"Extract key technical details from this issue:","input":"When not enable speculation ,executor launch task failed caused by OOM or other issue, DAGScheduler won;t know task failed and won't scheduler again, causing application stuck !image-2025-10-30-16-52-22-524.png|width=589,height=233!","output":"Spark Executor launch task failed should return task killed message"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix `initialize` to add `CREATE` option additionally in `DriverRunner`\n\nWhen submitting jobs to standalone cluster using restful api, we get errors like: ``` 25/10/30 16:02:59 INFO DriverRunner: Killing driver process! 25/10/30 16:02:59 INFO CommandUtils: Redirection to /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stdout closed: Stream closed 25/10/30 16:02:59 WARN Worker: Driver driver-20251030160259-0020 failed with unrecoverable exception: java.nio.file.NoSuchFileException: /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stderr ``` We need to fix the usage of `Files.writeString` in DriverRunner","output":"Fix `initialize` to add `CREATE` option additionally in `DriverRunner`"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix `initialize` to add `CREATE` option additionally in `DriverRunner`\n\nWhen submitting jobs to standalone cluster using restful api, we get errors like: ``` 25/10/30 16:02:59 INFO DriverRunner: Killing driver process! 25/10/30 16:02:59 INFO CommandUtils: Redirection to /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stdout closed: Stream closed 25/10/30 16:02:59 WARN Worker: Driver driver-20251030160259-0020 failed with unrecoverable exception: java.nio.file.NoSuchFileException: /Users/ericgao/workspace/open_source/spark/work/driver-20251","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix `initialize` to add `CREATE` option additionally in `DriverRunner`\n\nWhen submitting jobs to standalone cluster using restful api, we get errors like: ``` 25/10/30 16:02:59 INFO DriverRunner: Killing driver process! 25/10/30 16:02:59 INFO CommandUtils: Redirection to /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stdout closed: Stream closed 25/10/30 16:02:59 WARN Worker: Driver driver-20251030160259-0020 failed with unrecoverable exception: java.nio.file.NoSuchFileException: /Users/ericgao/workspace/open_source/spark/work/driver-20251","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix `initialize` to add `CREATE` option additionally in `DriverRunner`\n\nWhen submitting jobs to standalone cluster using restful api, we get errors like: ``` 25/10/30 16:02:59 INFO DriverRunner: Killing driver process! 25/10/30 16:02:59 INFO CommandUtils: Redirection to /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stdout closed: Stream closed 25/10/30 16:02:59 WARN Worker: Driver driver-20251030160259-0020 failed with unrecoverable exception: java.nio.file.NoSuchFileException: /Users/ericgao/workspace/open_source/spark/work/driver-20251","output":"When submitting jobs to standalone cluster using restful api, we get errors like: ``` 25/10/30 16:02:59 INFO DriverRunner: Killing driver process! 25/10/30 16:02:59 INFO CommandUtils: Redirection to /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stdout closed: Stream clos"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix `initialize` to add `CREATE` option additionally in `DriverRunner`\n\nWhen submitting jobs to standalone cluster using restful api, we get errors like: ``` 25/10/30 16:02:59 INFO DriverRunner: Killing driver process! 25/10/30 16:02:59 INFO CommandUtils: Redirection to /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stdout closed: Stream closed 25/10/30 16:02:59 WARN Worker: Driver driver-20251030160259-0020 failed with unrecoverable exception: java.nio.file.NoSuchFileException: /Users/ericgao/workspace/open_source/spark/work/driver-20251","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When submitting jobs to standalone cluster using restful api, we get errors like: ``` 25/10/30 16:02:59 INFO DriverRunner: Killing driver process! 25/10/30 16:02:59 INFO CommandUtils: Redirection to /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stdout closed: Stream closed 25/10/30 16:02:59 WARN Worker: Driver driver-20251030160259-0020 failed with unrecoverable exception: java.nio.file.NoSuchFileException: /Users/ericgao/workspace/open_source/spark/work/driver-20251030160259-0020/stderr ``` We need to fix the usage of `Files.writeString` in DriverRunner","output":"Fix `initialize` to add `CREATE` option additionally in `DriverRunner`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Deflake StateStoreSuite `SPARK-40492: maintenance before unload`\n\n`SPARK-40492: maintenance before unload` in StateStoreSuite is flaky due to timing issues. Fix this by adding hooks to pause maintenance.","output":"Deflake StateStoreSuite `SPARK-40492: maintenance before unload`"}
{"instruction":"Classify the status of this issue based on its description:","input":"Deflake StateStoreSuite `SPARK-40492: maintenance before unload`\n\n`SPARK-40492: maintenance before unload` in StateStoreSuite is flaky due to timing issues. Fix this by adding hooks to pause maintenance.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Deflake StateStoreSuite `SPARK-40492: maintenance before unload`\n\n`SPARK-40492: maintenance before unload` in StateStoreSuite is flaky due to timing issues. Fix this by adding hooks to pause maintenance.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Deflake StateStoreSuite `SPARK-40492: maintenance before unload`\n\n`SPARK-40492: maintenance before unload` in StateStoreSuite is flaky due to timing issues. Fix this by adding hooks to pause maintenance.","output":"`SPARK-40492: maintenance before unload` in StateStoreSuite is flaky due to timing issues. Fix this by adding hooks to pause maintenance."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Deflake StateStoreSuite `SPARK-40492: maintenance before unload`\n\n`SPARK-40492: maintenance before unload` in StateStoreSuite is flaky due to timing issues. Fix this by adding hooks to pause maintenance.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"`SPARK-40492: maintenance before unload` in StateStoreSuite is flaky due to timing issues. Fix this by adding hooks to pause maintenance.","output":"Deflake StateStoreSuite `SPARK-40492: maintenance before unload`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix Flaky Test:`OracleJoinPushdownIntegrationSuite`\n\nRecently, `OracleJoinPushdownIntegrationSuite` frequently fails. https://github.com/beliefer/spark/actions/runs/18904457292/job/53959322233#logs {code:java} [info] org.apache.spark.sql.jdbc.v2.join.OracleJoinPushdownIntegrationSuite *** ABORTED *** (10 minutes, 15 seconds) [info] The code passed to eventually never returned normally. Attempted 599 times over 10.012648813883333 minutes. Last failure message: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4vZNTQR2sFHpk9xQC1A==) [info] https://docs.oracle.com/error-help/db/ora-12541/. (DockerJDBCIntegrationSuite.scala:214) [info] org.scalatest.exceptions.TestFailedDueToTimeoutException: [info] at org.scalatest.enablers.Retrying$$anon$4.tryTryAgain$2(Retrying.scala:219) [info] at org.scalatest.enablers.Retrying$$anon$4.retry(Retrying.scala:226) [info] at org.scalatest.concurrent.Eventually.eventually(Eventually.scala:313) [info] at org.scalatest.concurrent.Eventually.eventually$(Eventually.scala:312) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.eventually(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.$anonfun$beforeAll$1(DockerJDBCIntegrationSuite.scala:214) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled(DockerIntegrationFunSuite.scala:49) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled$(DockerIntegrationFunSuite.scala:47) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.runIfTestsEnabled(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.beforeAll(DockerJDBCIntegrationSuite.scala:133) [info] at org.scalatest.BeforeAndAfterAll.liftedTree1$1(BeforeAndAfterAll.scala:212) [info] at org.scalatest.BeforeAndAfterAll.run(BeforeAndAfterAll.scala:210) [info] at org.scalatest.BeforeAndAfterAll.run$(BeforeAndAfterAll.scala:208) [info] at org.apache.spark.SparkFunSuite.run(SparkFunSuite.scala:68) [info] at org.scalatest.tools.Framework.org$scalatest$tools$Framework$$runSuite(Framework.scala:321) [info] at org.scalatest.tools.Framework$ScalaTestTask.execute(Framework.scala:517) [info] at sbt.ForkMain$Run.lambda$runTest$1(ForkMain.java:414) [info] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [info] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [info] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [info] at java.base/java.lang.Thread.run(Thread.java:840) [info] Cause: java.sql.SQLException: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4vZNTQR2sFHpk9xQC1A==) [info] https://docs.oracle.com/error-help/db/ora-12541/ [info] at oracle.jdbc.driver.T4CConnection.handleLogonNetException(T4CConnection.java:1631) [info] at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:1151) [info] at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1189) [info] at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:106) [info] at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:895) [info] at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:702) [info] at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681) [info] at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:190) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.getConnection(DockerJDBCIntegrationSuite.scala:250) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.$anonfun$beforeAll$8(DockerJDBCIntegrationSuite.scala:215) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.scalatest.enablers.Retrying$$anon$4.makeAValiantAttempt$1(Retrying.scala:184) [info] at org.scalatest.enablers.Retrying$$anon$4.tryTryAgain$2(Retrying.scala:196) [info] at org.scalatest.enablers.Retrying$$anon$4.retry(Retrying.scala:226) [info] at org.scalatest.concurrent.Eventually.eventually(Eventually.scala:313) [info] at org.scalatest.concurrent.Eventually.eventually$(Eventually.scala:312) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.eventually(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.$anonfun$beforeAll$1(DockerJDBCIntegrationSuite.scala:214) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled(DockerIntegrationFunSuite.scala:49) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled$(DockerIntegrationFunSuite.scala:47) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.runIfTestsEnabled(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.beforeAll(DockerJDBCIntegrationSuite.scala:133) [info] at org.scalatest.BeforeAndAfterAll.liftedTree1$1(BeforeAndAfterAll.scala:212) [info] at org.scalatest.BeforeAndAfterAll.run(BeforeAndAfterAll.scala:210) [info] at org.scalatest.BeforeAndAfterAll.run$(BeforeAndAfterAll.scala:208) [info] at org.apache.spark.SparkFunSuite.run(SparkFunSuite.scala:68) [info] at org.scalatest.tools.Framework.org$scalatest$tools$Framework$$runSuite(Framework.scala:321) [info] at org.scalatest.tools.Framework$ScalaTestTask.execute(Framework.scala:517) [info] at sbt.ForkMain$Run.lambda$runTest$1(ForkMain.java:414) [info] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [info] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [info] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [info] at java.base/java.lang.Thread.run(Thread.java:840) [info] Cause: oracle.net.ns.NetException: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4vZNTQR2sFHpk9xQC1A==) [info] https://docs.oracle.com/error-help/db/ora-12541/ [info] at oracle.net.nt.TcpNTAdapter.handleEstablishSocketException(TcpNTAdapter.java:418) [info] at oracle.net.nt.TcpNTAdapter.establishSocket(TcpNTAdapter.java:350) [info] at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:228) [info] at oracle.net.nt.ConnOption.connect(ConnOption.java:333) [info] at oracle.net.nt.ConnStrategy.executeConnOption(ConnStrategy.java:1223) [info] at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:762) [info] at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:712) [info] at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:960) [info] at oracle.net.ns.NSProtocol.connect(NSProtocol.java:329) [info] at oracle.jdbc.driver.T4CConnection.connectNetworkSessionProtocol(T4CConnection.java:3462) [info] at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:1030) [info] at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1189) [info] at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:106) [info] at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:895) [info] at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:702) [info] at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681) [info] at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:190) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.getConnection(DockerJDBCIntegrationSuite.scala:250) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.$anonfun$beforeAll$8(DockerJDBCIntegrationSuite.scala:215) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.scalatest.enablers.Retrying$$anon$4.makeAValiantAttempt$1(Retrying.scala:184) [info] at org.scalatest.enablers.Retrying$$anon$4.tryTryAgain$2(Retrying.scala:196) [info] at org.scalatest.enablers.Retrying$$anon$4.retry(Retrying.scala:226) [info] at org.scalatest.concurrent.Eventually.eventually(Eventually.scala:313) [info] at org.scalatest.concurrent.Eventually.eventually$(Eventually.scala:312) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.eventually(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.$anonfun$beforeAll$1(DockerJDBCIntegrationSuite.scala:214) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled(DockerIntegrationFunSuite.scala:49) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled$(DockerIntegrationFunSuite.scala:47) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.runIfTestsEnabled(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.beforeAll(DockerJDBCIntegrationSuite.scala:133) [info] at org.scalatest.BeforeAndAfterAll.liftedTree1$1(BeforeAndAfterAll.scala:212) [info] at org.scalatest.BeforeAndAfterAll.run(BeforeAndAfterAll.scala:210) [info] at org.scalatest.BeforeAndAfterAll.run$(BeforeAndAfterAll.scala:208) [info] at org.apache.spark.SparkFunSuite.run(SparkFunSuite.scala:68) [info] at org.scalatest.tools.Framework.org$scalatest$tools$Framework$$runSuite(Framework.scala:321) [info] at org.scalatest.tools.Framework$ScalaTestTask.execute(Framework.scala:517) [info] at sbt.ForkMain$Run.lambda$runTest$1(ForkMain.java:414) [info] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [info] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [info] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [info] at java.base/java.lang.Thread.run(Thread.java:840) [info] Cause: java.net.ConnectException: Connection refused [info] at java.base/sun.nio.ch.Net.pollConnect(Native Method) [info] at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) [info] at java.base/sun.nio.ch.SocketChannelImpl.finishTimedConnect(SocketChannelImpl.java:1141) [info] at java.base/sun.nio.ch.SocketChannelImpl.blockingConnect(SocketChannelImpl.java:1183) [info] at java.base/sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:98) [info] at oracle.net.nt.TimeoutSocketChannel.doConnect(TimeoutSocketChannel.java:289) [info] at oracle.net.nt.TimeoutSocketChannel.initializeSocketChannel(TimeoutSocketChannel.java:269) [info] at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:236) [info] at oracle.net.nt.TimeoutSocketChannel. (TimeoutSocketChannel.java:203) [info] at oracle.net.nt.TcpNTAdapter.establishSocket(TcpNTAdapter.java:339) [info] at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:228) [info] at oracle.net.nt.ConnOption.connect(ConnOption.java:333) [info] at oracle.net.nt.ConnStrategy.executeConnOption(ConnStrategy.java:1223) [info] at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:762) [info] at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:712) [info] at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:960) [info] at oracle.net.ns.NSProtocol.connect(NSProtocol.java:329) [info] at oracle.jdbc.driver.T4CConnection.connectNetworkSessionProtocol(T4CConnection.java:3462) [info] at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:1030) [info] at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1189) [info] at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:106) [info] at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:895) [info] at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:702) [info] at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681) [info] at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:190) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.getConnection(DockerJDBCIntegrationSuite.scala:250) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.$anonfun$beforeAll$8(DockerJDBCIntegrationSuite.scala:215) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.scalatest.enablers.Retrying$$anon$4.makeAValiantAttempt$1(Retrying.scala:184) [info] at org.scalatest.enablers.Retrying$$anon$4.tryTryAgain$2(Retrying.scala:196) [info] at org.scalatest.enablers.Retrying$$anon$4.retry(Retrying.scala:226) [info] at org.scalatest.concurrent.Eventually.eventually(Eventually.scala:313) [info] at org.scalatest.concurrent.Eventually.eventually$(Eventually.scala:312) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.eventually(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.$anonfun$beforeAll$1(DockerJDBCIntegrationSuite.scala:214) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled(DockerIntegrationFunSuite.scala:49) [info] at org.apache.spark.sql.jdbc.DockerIntegrationFunSuite.runIfTestsEnabled$(DockerIntegrationFunSuite.scala:47) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.runIfTestsEnabled(DockerJDBCIntegrationSuite.scala:103) [info] at org.apache.spark.sql.jdbc.DockerJDBCIntegrationSuite.beforeAll(DockerJDBCIntegrationSuite.scala:133) [info] at org.scalatest.BeforeAndAfterAll.liftedTree1$1(BeforeAndAfterAll.scala:212) [info] at org.scalatest.BeforeAndAfterAll.run(BeforeAndAfterAll.scala:210) [info] at org.scalatest.BeforeAndAfterAll.run$(BeforeAndAfterAll.scala:208) [info] at org.apache.spark.SparkFunSuite.run(SparkFunSuite.scala:68) [info] at org.scalatest.tools.Framework.org$scalatest$tools$Framework$$runSuite(Framework.scala:321) [info] at org.scalatest.tools.Framework$ScalaTestTask.execute(Framework.scala:517) [info] at sbt.ForkMain$Run.lambda$runTest$1(ForkMain.java:414) [info] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [info] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [info] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [info] at java.base/java.lang.Thread.run(Thread.java:840) {code}","output":"Fix Flaky Test:`OracleJoinPushdownIntegrationSuite`"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix Flaky Test:`OracleJoinPushdownIntegrationSuite`\n\nRecently, `OracleJoinPushdownIntegrationSuite` frequently fails. https://github.com/beliefer/spark/actions/runs/18904457292/job/53959322233#logs {code:java} [info] org.apache.spark.sql.jdbc.v2.join.OracleJoinPushdownIntegrationSuite *** ABORTED *** (10 minutes, 15 seconds) [info] The code passed to eventually never returned normally. Attempted 599 times over 10.012648813883333 minutes. Last failure message: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix Flaky Test:`OracleJoinPushdownIntegrationSuite`\n\nRecently, `OracleJoinPushdownIntegrationSuite` frequently fails. https://github.com/beliefer/spark/actions/runs/18904457292/job/53959322233#logs {code:java} [info] org.apache.spark.sql.jdbc.v2.join.OracleJoinPushdownIntegrationSuite *** ABORTED *** (10 minutes, 15 seconds) [info] The code passed to eventually never returned normally. Attempted 599 times over 10.012648813883333 minutes. Last failure message: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix Flaky Test:`OracleJoinPushdownIntegrationSuite`\n\nRecently, `OracleJoinPushdownIntegrationSuite` frequently fails. https://github.com/beliefer/spark/actions/runs/18904457292/job/53959322233#logs {code:java} [info] org.apache.spark.sql.jdbc.v2.join.OracleJoinPushdownIntegrationSuite *** ABORTED *** (10 minutes, 15 seconds) [info] The code passed to eventually never returned normally. Attempted 599 times over 10.012648813883333 minutes. Last failure message: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4","output":"Recently, `OracleJoinPushdownIntegrationSuite` frequently fails. https://github.com/beliefer/spark/actions/runs/18904457292/job/53959322233#logs {code:java} [info] org.apache.spark.sql.jdbc.v2.join.OracleJoinPushdownIntegrationSuite *** ABORTED *** (10 minutes, 15 seconds) [info] The code passed to "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix Flaky Test:`OracleJoinPushdownIntegrationSuite`\n\nRecently, `OracleJoinPushdownIntegrationSuite` frequently fails. https://github.com/beliefer/spark/actions/runs/18904457292/job/53959322233#logs {code:java} [info] org.apache.spark.sql.jdbc.v2.join.OracleJoinPushdownIntegrationSuite *** ABORTED *** (10 minutes, 15 seconds) [info] The code passed to eventually never returned normally. Attempted 599 times over 10.012648813883333 minutes. Last failure message: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Recently, `OracleJoinPushdownIntegrationSuite` frequently fails. https://github.com/beliefer/spark/actions/runs/18904457292/job/53959322233#logs {code:java} [info] org.apache.spark.sql.jdbc.v2.join.OracleJoinPushdownIntegrationSuite *** ABORTED *** (10 minutes, 15 seconds) [info] The code passed to eventually never returned normally. Attempted 599 times over 10.012648813883333 minutes. Last failure message: ORA-12541: Cannot connect. No listener at host 10.1.0.201 port 44551. (CONNECTION_ID=5rB4vZNTQR2sFHpk9xQC1A==) [info] https://docs.oracle.com/error-help/db/ora-12541/. (DockerJDBCIntegrationSuite.scala:214) [info] org.scalatest.exceptions.TestFailedDueToTimeoutException: [info] at org.scalatest.enablers.Retrying$$anon$4.tryTryAgain$2(Retrying.scala:219) [info] at org.scalatest.enablers.","output":"Fix Flaky Test:`OracleJoinPushdownIntegrationSuite`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make ResolvedCollation evaluable\n\nIn this PR I propose to make ResolvedCollation evaluable. By making ResolvedCollation evaluable, it can now pass the canEvaluateWithinJoin check, allowing the optimizer to use efficient hash joins for queries with inline COLLATE in join conditions (before this change we would fallback to BroadcastNestedLoopJoin).","output":"Make ResolvedCollation evaluable"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make ResolvedCollation evaluable\n\nIn this PR I propose to make ResolvedCollation evaluable. By making ResolvedCollation evaluable, it can now pass the canEvaluateWithinJoin check, allowing the optimizer to use efficient hash joins for queries with inline COLLATE in join conditions (before this change we would fallback to BroadcastNestedLoopJoin).","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Make ResolvedCollation evaluable\n\nIn this PR I propose to make ResolvedCollation evaluable. By making ResolvedCollation evaluable, it can now pass the canEvaluateWithinJoin check, allowing the optimizer to use efficient hash joins for queries with inline COLLATE in join conditions (before this change we would fallback to BroadcastNestedLoopJoin).","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make ResolvedCollation evaluable\n\nIn this PR I propose to make ResolvedCollation evaluable. By making ResolvedCollation evaluable, it can now pass the canEvaluateWithinJoin check, allowing the optimizer to use efficient hash joins for queries with inline COLLATE in join conditions (before this change we would fallback to BroadcastNestedLoopJoin).","output":"In this PR I propose to make ResolvedCollation evaluable. By making ResolvedCollation evaluable, it can now pass the canEvaluateWithinJoin check, allowing the optimizer to use efficient hash joins for queries with inline COLLATE in join conditions (before this change we would fallback to BroadcastNe"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Make ResolvedCollation evaluable\n\nIn this PR I propose to make ResolvedCollation evaluable. By making ResolvedCollation evaluable, it can now pass the canEvaluateWithinJoin check, allowing the optimizer to use efficient hash joins for queries with inline COLLATE in join conditions (before this change we would fallback to BroadcastNestedLoopJoin).","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"In this PR I propose to make ResolvedCollation evaluable. By making ResolvedCollation evaluable, it can now pass the canEvaluateWithinJoin check, allowing the optimizer to use efficient hash joins for queries with inline COLLATE in join conditions (before this change we would fallback to BroadcastNestedLoopJoin).","output":"Make ResolvedCollation evaluable"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches`\n\nSimilar to `Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` resolved in SPARK-54058, `Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite` also seems flaky. https://github.com/micheal-o/spark/actions/runs/18895266750/job/53931238163 {code} [info] - Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't contain the expected exception with message: Some of partitions in Kafka topic(s) report available offset which is less than end offset during running query with Trigger.AvailableNow. [info] org.scalatest.exceptions.TestFailedException: isPropagated was false Partition [topic-42, 1] metadata not propagated after timeout [info] at org.scalatest.Assertions.newAssertionFailedException(Assertions.scala:472) [info] at org.scalatest.Assertions.newAssertionFailedException$(Assertions.scala:471) [info] at org.scalatest.Assertions$.newAssertionFailedException(Assertions.scala:1231) [info] at org.scalatest.Assertions$AssertionsHelper.macroAssert(Assertions.scala:1295) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.$anonfun$waitUntilMetadataIsPropagated$1(KafkaTestUtils.scala:614) [info] at org.scalatest.enablers.Retrying$$anon$4.makeAValiantAttempt$1(Retrying.scala:184) [info] at org.scalatest.enablers.Retrying$$anon$4.tryTryAgain$2(Retrying.scala:196) [info] at org.scalatest.enablers.Retrying$$anon$4.retry(Retrying.scala:226) [info] at org.scalatest.concurrent.Eventually.eventually(Eventually.scala:348) [info] at org.scalatest.concurrent.Eventually.eventually$(Eventually.scala:347) [info] at org.scalatest.concurrent.Eventually$.eventually(Eventually.scala:457) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.waitUntilMetadataIsPropagated(KafkaTestUtils.scala:613) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.$anonfun$createTopic$1(KafkaTestUtils.scala:378) [info] at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:256) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.createTopic(KafkaTestUtils.scala:377) [info] at org.apache.spark.sql.kafka010.KafkaMicroBatchSourceSuiteBase.$anonfun$new$16(KafkaMicroBatchSourceSuite.scala:406) [info] at org.apache.spark.sql.kafka010.KafkaMicroBatchSourceSuiteBase.$anonfun$new$16$adapted(KafkaMicroBatchSourceSuite.scala:403) [info] at org.apache.spark.sql.execution.streaming.sources.ForeachBatchSink.callBatchWriter(ForeachBatchSink.scala:56) [info] at org.apache.spark.sql.execution.streaming.sources.ForeachBatchSink.addBatch(ForeachBatchSink.scala:49) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runBatch$19(MicroBatchExecution.scala:1063) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$8(SQLExecution.scala:176) [info] at org.apache.spark.sql.execution.SQLExecution$.withSessionTagsApplied(SQLExecution.scala:284) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$7(SQLExecution.scala:138) [info] at org.apache.spark.JobArtifactSet$.withActiveJobArtifactState(JobArtifactSet.scala:94) [info] at org.apache.spark.sql.artifact.ArtifactManager.$anonfun$withResources$1(ArtifactManager.scala:112) [info] at org.apache.spark.sql.artifact.ArtifactManager.withClassLoaderIfNeeded(ArtifactManager.scala:106) [info] at org.apache.spark.sql.artifact.ArtifactManager.withResources(ArtifactManager.scala:111) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$6(SQLExecution.scala:138) [info] at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:307) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$1(SQLExecution.scala:137) [info] at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:804) [info] at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId0(SQLExecution.scala:91) [info] at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:249) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runBatch$18(MicroBatchExecution.scala:1054) [info] at org.apache.spark.sql.execution.streaming.runtime.ProgressContext.reportTimeTaken(ProgressReporter.scala:200) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.runBatch(MicroBatchExecution.scala:1054) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$executeOneBatch$2(MicroBatchExecution.scala:513) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.apache.spark.sql.execution.streaming.runtime.ProgressContext.reportTimeTaken(ProgressReporter.scala:200) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.executeOneBatch(MicroBatchExecution.scala:478) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runActivatedStream$1(MicroBatchExecution.scala:458) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runActivatedStream$1$adapted(MicroBatchExecution.scala:458) [info] at org.apache.spark.sql.execution.streaming.runtime.TriggerExecutor.runOneBatch(TriggerExecutor.scala:40) [info] at org.apache.spark.sql.execution.streaming.runtime.TriggerExecutor.runOneBatch$(TriggerExecutor.scala:38) [info] at org.apache.spark.sql.execution.streaming.runtime.MultiBatchExecutor.runOneBatch(TriggerExecutor.scala:60) [info] at org.apache.spark.sql.execution.streaming.runtime.MultiBatchExecutor.execute(TriggerExecutor.scala:65) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.runActivatedStream(MicroBatchExecution.scala:458) [info] at org.apache.spark.sql.execution.streaming.runtime.StreamExecution.$anonfun$runStream$1(StreamExecution.scala:347) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:804) [info] at org.apache.spark.sql.execution.streaming.runtime.StreamExecution.org$apache$spark$sql$execution$streaming$runtime$StreamExecution$$runStream(StreamExecution.scala:307) [info] at org.apache.spark.sql.execution.streaming.runtime.StreamExecution$$anon$1.run(StreamExecution.scala:230) [info] at scala.Predef$.assert(Predef.scala:279) [info] at org.apache.spark.TestUtils$.assertExceptionMsg(TestUtils.scala:198) [info] at org.apache.spark.sql.kafka010.KafkaMicroBatchSourceSuiteBase.$anonfun$new$14(KafkaMicroBatchSourceSuite.scala:428) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.scalatest.enablers.Timed$$anon$1.timeoutAfter(Timed.scala:127) [info] at org.scalatest.concurrent.TimeLimits$.failAfterImpl(TimeLimits.scala:282) [info] at org.scalatest.concurrent.TimeLimits.failAfter(TimeLimits.scala:231) [info] at org.scalatest.concurrent.TimeLimits.failAfter$(TimeLimits.scala:230) [info] at org.apache.spark.SparkFunSuite.failAfter(SparkFunSuite.scala:68) [info] at org.apache.spark.SparkFunSuite.$anonfun$test$2(SparkFunSuite.scala:154) [info] at org.scalatest.OutcomeOf.outcomeOf(OutcomeOf.scala:85) [info] at org.scalatest.OutcomeOf.outcomeOf$(OutcomeOf.scala:83) [info] at org.scalatest.OutcomeOf$.outcomeOf(OutcomeOf.scala:104) [info] at org.scalatest.Transformer.apply(Transformer.scala:22) [info] at org.scalatest.Transformer.apply(Transformer.scala:20) [info] at org.scalatest.funsuite.AnyFunSuiteLike$$anon$1.apply(AnyFunSuiteLike.scala:226) [info] at org.apache.spark.SparkFunSuite.withFixture(SparkFunSuite.scala:226) [info] at org.scalatest.funsuite.AnyFunSuiteLike.invokeWithFixture$1(AnyFunSuiteLike.scala:224) [info] at org.scalatest.funsuite.AnyFunSuiteLike.$anonfun$runTest$1(AnyFunSuiteLike.scala:236) [info] at org.scalatest.SuperEngine.runTestImpl(Engine.scala:306) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTest(AnyFunSuiteLike.scala:236) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTest$(AnyFunSuiteLike.scala:218) [info] at org.apache.spark.SparkFunSuite.org$scalatest$BeforeAndAfterEach$$super$runTest(SparkFunSuite.scala:68) [info] at org.scalatest.BeforeAndAfterEach.runTest(BeforeAndAfterEach.scala:234) [info] at org.scalatest.BeforeAndAfterEach.runTest$(BeforeAndAfterEach.scala:227) [info] at org.apache.spark.SparkFunSuite.runTest(SparkFunSuite.scala:68) [info] at org.scalatest.funsuite.AnyFunSuiteLike.$anonfun$runTests$1(AnyFunSuiteLike.scala:269) [info] at org.scalatest.SuperEngine.$anonfun$runTestsInBranch$1(Engine.scala:413) [info] at scala.collection.immutable.List.foreach(List.scala:323) [info] at org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401) [info] at org.scalatest.SuperEngine.runTestsInBranch(Engine.scala:396) [info] at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:475) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTests(AnyFunSuiteLike.scala:269) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTests$(AnyFunSuiteLike.scala:268) [info] at org.scalatest.funsuite.AnyFunSuite.runTests(AnyFunSuite.scala:1564) [info] at org.scalatest.Suite.run(Suite.scala:1114) [info] at org.scalatest.Suite.run$(Suite.scala:1096) [info] at org.scalatest.funsuite.AnyFunSuite.org$scalatest$funsuite$AnyFunSuiteLike$$super$run(AnyFunSuite.scala:1564) [info] at org.scalatest.funsuite.AnyFunSuiteLike.$anonfun$run$1(AnyFunSuiteLike.scala:273) [info] at org.scalatest.SuperEngine.runImpl(Engine.scala:535) [info] at org.scalatest.funsuite.AnyFunSuiteLike.run(AnyFunSuiteLike.scala:273) [info] at org.scalatest.funsuite.AnyFunSuiteLike.run$(AnyFunSuiteLike.scala:272) [info] at org.apache.spark.SparkFunSuite.org$scalatest$BeforeAndAfterAll$$super$run(SparkFunSuite.scala:68) [info] at org.scalatest.BeforeAndAfterAll.liftedTree1$1(BeforeAndAfterAll.scala:213) [info] at org.scalatest.BeforeAndAfterAll.run(BeforeAndAfterAll.scala:210) [info] at org.scalatest.BeforeAndAfterAll.run$(BeforeAndAfterAll.scala:208) [info] at org.apache.spark.SparkFunSuite.run(SparkFunSuite.scala:68) [info] at org.scalatest.tools.Framework.org$scalatest$tools$Framework$$runSuite(Framework.scala:321) [info] at org.scalatest.tools.Framework$ScalaTestTask.execute(Framework.scala:517) [info] at sbt.ForkMain$Run.lambda$runTest$1(ForkMain.java:414) [info] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [info] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [info] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [info] at java.base/java.lang.Thread.run(Thread.java:840) {code}","output":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches`"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches`\n\nSimilar to `Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` resolved in SPARK-54058, `Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite` also seems flaky. https://github.com/micheal-o/spark/actions/runs/18895266750/job/53931238163 {code} [info] - Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lan","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches`\n\nSimilar to `Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` resolved in SPARK-54058, `Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite` also seems flaky. https://github.com/micheal-o/spark/actions/runs/18895266750/job/53931238163 {code} [info] - Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lan","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches`\n\nSimilar to `Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` resolved in SPARK-54058, `Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite` also seems flaky. https://github.com/micheal-o/spark/actions/runs/18895266750/job/53931238163 {code} [info] - Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lan","output":"Similar to `Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` resolved in SPARK-54058, `Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite` also seems flaky. https://github.com/micheal-o/spark/actions/runs/18895266750/job/53931"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches`\n\nSimilar to `Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` resolved in SPARK-54058, `Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite` also seems flaky. https://github.com/micheal-o/spark/actions/runs/18895266750/job/53931238163 {code} [info] - Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lan","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Similar to `Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` resolved in SPARK-54058, `Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite` also seems flaky. https://github.com/micheal-o/spark/actions/runs/18895266750/job/53931238163 {code} [info] - Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't contain the expected exception with message: Some of partitions in Kafka topic(s) report available offset which is less than end offset during running query with Trigger.AvailableNow. [info] org.scalatest.exceptions.TestFailedException: isPr","output":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when offset(s) in planned topic partitions got unavailable during subsequent batches`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make sure we don't upload empty files in RocksDB snapshot\n\nThis change is to make sure the RocksDB snapshot zip file doesn't contain empty files (except RocksDB log file). Other files such as OPTION, manifest, metadata are not expected to be empty in any situation. Introduced a conf {{verifyNonEmptyFilesInZip}} to make sure we can turn this off if needed.","output":"Make sure we don't upload empty files in RocksDB snapshot"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make sure we don't upload empty files in RocksDB snapshot\n\nThis change is to make sure the RocksDB snapshot zip file doesn't contain empty files (except RocksDB log file). Other files such as OPTION, manifest, metadata are not expected to be empty in any situation. Introduced a conf {{verifyNonEmptyFilesInZip}} to make sure we can turn this off if needed.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Make sure we don't upload empty files in RocksDB snapshot\n\nThis change is to make sure the RocksDB snapshot zip file doesn't contain empty files (except RocksDB log file). Other files such as OPTION, manifest, metadata are not expected to be empty in any situation. Introduced a conf {{verifyNonEmptyFilesInZip}} to make sure we can turn this off if needed.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make sure we don't upload empty files in RocksDB snapshot\n\nThis change is to make sure the RocksDB snapshot zip file doesn't contain empty files (except RocksDB log file). Other files such as OPTION, manifest, metadata are not expected to be empty in any situation. Introduced a conf {{verifyNonEmptyFilesInZip}} to make sure we can turn this off if needed.","output":"This change is to make sure the RocksDB snapshot zip file doesn't contain empty files (except RocksDB log file). Other files such as OPTION, manifest, metadata are not expected to be empty in any situation. Introduced a conf {{verifyNonEmptyFilesInZip}} to make sure we can turn this off if needed."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Make sure we don't upload empty files in RocksDB snapshot\n\nThis change is to make sure the RocksDB snapshot zip file doesn't contain empty files (except RocksDB log file). Other files such as OPTION, manifest, metadata are not expected to be empty in any situation. Introduced a conf {{verifyNonEmptyFilesInZip}} to make sure we can turn this off if needed.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"This change is to make sure the RocksDB snapshot zip file doesn't contain empty files (except RocksDB log file). Other files such as OPTION, manifest, metadata are not expected to be empty in any situation. Introduced a conf {{verifyNonEmptyFilesInZip}} to make sure we can turn this off if needed.","output":"Make sure we don't upload empty files in RocksDB snapshot"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Spark Structured Streaming Filesink can not generate open lineage with output details\n\nh2. Environment details h3. OpenLineage version {quote}io.openlineage:openlineage-spark_2.13:1.39.0 Technology and package versions Python: 3.13.3 Scala: 2.13.16 Java: OpenJDK 64-Bit Server VM, 17.0.16 pip freeze py4j==0.10.9.9 pyspark==4.0.1{quote} For the openlineage set up, I used the default setting: {quote}$ git clone https://github.com/MarquezProject/marquez.git && cd marquez $ ./docker/up.sh{quote} h3. Spark Deployment details I used native spark on local machine. There is no managed services involved. Problem details h2. Issue details When using Spark structured streaming to write parquet file to file systems, * File sink will only generate openlineage event with streaming processing type with output information as empty. * Foreachbatch sink will generate openlineage event with both streaming processing type and batch processing type. The batch processing type will have valid output information. The bug is that File sink in Spark structured streaming does not generate open lineage event with output details. More details about the sample code and sample events are following. File sink: Sample code: {quote} query = streaming_df.writeStream \\ .format('parquet') \\ .outputMode('append') \\ .partitionBy('year', 'month', 'day') \\ .option('checkpointLocation', checkpoint_path) \\ .option('path', output_path) \\ .queryName('filesink') \\ .start() {quote} Sample event for \"processingType\":\"STREAMING\" {quote} 25/10/29 00:49:02 DEBUG wire: http-outgoing-52 >> \"{\"eventTime\":\"2025-10-28T13:45:34.282Z\",\"producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunEvent\",\"eventType\":\"COMPLETE\",\"run\":{\"runId\":\"019a2b14-4e9d-7574-95a9-55182f07591d\",\"facets\":{\"parent\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-1-0/ParentRunFacet.json#/$defs/ParentRunFacet\",\"run\":{\"runId\":\"019a2b10-5218-7ba3-9cf4-1ce4b1800752\"},\"job\":{\"namespace\":\"spark_namespace\",\"name\":\"filesink\"},\"root\":{\"run\":{\"runId\":\"019a2b10-5218-7ba3-9cf4-1ce4b1800752\"},\"job\":{\"namespace\":\"airflow_namespace\",\"name\":\"airflow_dag.airflow_task\"}}},\"spark_properties\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunFacet\",\"properties\":{\"spark.master\":\"local[*]\",\"spark.app.name\":\"filesink\"}},\"processing_engine\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-1-1/ProcessingEngineRunFacet.json#/$defs/ProcessingEngineRunFacet\",\"version\":\"4.0.1\",\"name\":\"spark\",\"openlineageAdapterVersion\":\"1.39.0\"},\"environment-properties\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunFacet\",\"environment-properties\":{}}}},\"job\":{\"namespace\":\"spark_namespace\",\"name\":\"filesink.project\",\"facets\":{\"jobType\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/2-0-3/JobTypeJobFacet.json#/$defs/JobTypeJobFacet\",\"processingType\":\"STREAMING\",\"integration\":\"SPARK\",\"jobType\":\"SQL_JOB\"}}},\"inputs\":[],\"outputs\":[]}\"{quote} foreachbatch sink sample code {quote} def write_to_file(batch_df, batch_id): if batch_df.count() > 0: batch_df.write \\ .mode(\"append\") \\ .partitionBy(\"year\", \"month\", \"day\") \\ .parquet(output_path) {quote} {quote} query = streaming_df \\ .writeStream \\ .outputMode(\"append\") \\ .foreachBatch(write_to_file) \\ .option(\"checkpointLocation\", checkpoint_path) \\ .trigger(processingTime='10 seconds') \\ .start() {quote} The above code with generate both streaming and batch processing type event. Sample streaming type event {quote} 25/10/29 01:04:45 DEBUG wire: http-outgoing-1 >> \"{\"eventTime\":\"2025-10-28T14:04:43.373Z\",\"producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunEvent\",\"eventType\":\"COMPLETE\",\"run\":{\"runId\":\"019a2b22-b364-79ca-be87-2d173c25c16c\",\"facets\":{\"parent\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-1-0/ParentRunFacet.json#/$defs/ParentRunFacet\",\"run\":{\"runId\":\"019a2b22-9e86-770e-8af9-f9136ec6594c\"},\"job\":{\"namespace\":\"spark_namespace\",\"name\":\"foreachbatchsink\"},\"root\":{\"run\":{\"runId\":\"019a2b22-9e86-770e-8af9-f9136ec6594c\"},\"job\":{\"namespace\":\"airflow_namespace\",\"name\":\"airflow_dag.airflow_task\"}}},\"spark_properties\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunFacet\",\"properties\":{\"spark.master\":\"local[*]\",\"spark.app.name\":\"foreachbatchsink\"}},\"processing_engine\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-1-1/ProcessingEngineRunFacet.json#/$defs/ProcessingEngineRunFacet\",\"version\":\"4.0.1\",\"name\":\"spark\",\"openlineageAdapterVersion\":\"1.39.0\"},\"environment-properties\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunFacet\",\"environment-properties\":{}}}},\"job\":{\"namespace\":\"spark_namespace\",\"name\":\"foreachbatchsink.project\",\"facets\":{\"jobType\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/2-0-3/JobTypeJobFacet.json#/$defs/JobTypeJobFacet\",\"processingType\":\"STREAMING\",\"integration\":\"SPARK\",\"jobType\":\"SQL_JOB\"}}},\"inputs\":[],\"outputs\":[]}\" {quote} Sample batch type event {quote} 25/10/29 01:07:26 DEBUG wire: http-outgoing-33 >> \"{\"eventTime\":\"2025-10-28T14:07:20.711Z\",\"producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunEvent\",\"eventType\":\"COMPLETE\",\"run\":{\"runId\":\"019a2b25-28f6-7fa0-a4e2-2aaba4f61d7e\",\"facets\":{\"parent\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-1-0/ParentRunFacet.json#/$defs/ParentRunFacet\",\"run\":{\"runId\":\"019a2b22-9e86-770e-8af9-f9136ec6594c\"},\"job\":{\"namespace\":\"spark_namespace\",\"name\":\"foreachbatchsink\"},\"root\":{\"run\":{\"runId\":\"019a2b22-9e86-770e-8af9-f9136ec6594c\"},\"job\":{\"namespace\":\"airflow_namespace\",\"name\":\"airflow_dag.airflow_task\"}}},\"spark_properties\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunFacet\",\"properties\":{\"spark.master\":\"local[*]\",\"spark.app.name\":\"foreachbatchsink\"}},\"processing_engine\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-1-1/ProcessingEngineRunFacet.json#/$defs/ProcessingEngineRunFacet\",\"version\":\"4.0.1\",\"name\":\"spark\",\"openlineageAdapterVersion\":\"1.39.0\"},\"environment-properties\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunFacet\",\"environment-properties\":{}}}},\"job\":{\"namespace\":\"spark_namespace\",\"name\":\"foreachbatchsink.execute_insert_into_hadoop_fs_relation_command.tests_output_foreachbatchsink\",\"facets\":{\"jobType\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/2-0-3/JobTypeJobFacet.json#/$defs/JobTypeJobFacet\",\"processingType\":\"BATCH\",\"integration\":\"SPARK\",\"jobType\":\"SQL_JOB\"}}},\"inputs\":[],\"outputs\":[{\"namespace\":\"file\",\"name\":\"/Users/xxxx/venvs/tests/output_foreachbatchsink\",\"facets\":{\"dataSource\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-0-1/DatasourceDatasetFacet.json#/$defs/DatasourceDatasetFacet\",\"name\":\"file\",\"uri\":\"file\"},\"schema\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-1-1/SchemaDatasetFacet.json#/$defs/SchemaDatasetFacet\",\"fields\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"timestamp\",\"type\":\"timestamp\"},{\"name\":\"value\",\"type\":\"double\"},{\"name\":\"year\",\"type\":\"integer\"},{\"name\":\"month\",\"type\":\"integer\"},{\"name\":\"day\",\"type\":\"integer\"}]}},\"outputFacets\":{\"outputStatistics\":{\"_producer\":\"https://github.com/OpenLineage/OpenLineage/tree/1.39.0/integration/spark\",\"_schemaURL\":\"https://openlineage.io/spec/facets/1-0-2/OutputStatisticsOutputDatasetFacet.json#/$defs/OutputStatisticsOutputDatasetFacet\",\"rowCount\":10,\"size\":13259,\"fileCount\":10}}}]}\"{quote} What you think should happen instead File sink for spark structured streaming should create open lineage event with valid output details as the information is in the spark query logic plan. Here is the logic plan for streaming query using file sink. {quote} == Analyzed Logical Plan == id: bigint, name: string, timestamp: timestamp, value: double, year: int, month: int, day: int ~WriteToMicroBatchDataSourceV1 FileSink[file:/Users/xxx/venvs/tests/output_filesink], 753bdc9a-07cd-4788-a17d-27ff622ababc, [checkpointLocation=checkpoint_filesink, path=output_filesink, queryName=filesink], Append, 1 +- ~Project [id#2L, name#3, timestamp#0, value#4, year#5, month#6, dayofmonth(cast(timestamp#0 as date)) AS day#7] +- ~Project [id#2L, name#3, timestamp#0, value#4, year#5, month(cast(timestamp#0 as date)) AS month#6] +- ~Project [id#2L, name#3, timestamp#0, value#4, year(cast(timestamp#0 as date)) AS year#5] +- ~Project [(value#1L % cast(1000 as bigint)) AS id#2L, concat(user_, cast((value#1L % cast(100 as bigint)) as string)) AS name#3, timestamp#0, (rand(-1344458628259366487) * cast(100 as double)) AS value#4] +- ~StreamingDataSourceV2ScanRelation[timestamp#0, value#1L] RateStream(rowsPerSecond=1, rampUpTimeSeconds=0, numPartitions=12) {quote} How to reproduce * step 1: install pyspark on your local machine https://spark.apache.org/docs/latest/api/python/getting_started/install.html * step 2: install openlineage server on your local machine https://openlineage.io/getting-started * step 3: refer to following spark-submit command to run file_sink.py and foreachbatch_sink.py. You will see the open lineage event in the debug logs. {quote} spark-submit --packages io.openlineage:openlineage-spark_2.13:1.39.0 --conf \"spark.extraListeners=io.openlineage.spark.agent.OpenLineageSparkListener\" --conf \"spark.openlineage.transport.type=http\" --conf \"spark.openlineage.transport.url=http://localhost:5000\" --conf \"spark.openlineage.namespace=spark_namespace\" --conf \"spark.openlineage.parentJobNamespace=airflow_namespace\" --conf \"spark.openlineage.parentJobName=airflow_dag.airflow_task\" --conf \"spark.openlineage.parentRunId=xxxx-xxxx-xxxx-xxxx\" [filename].py {quote}","output":"Spark Structured Streaming Filesink can not generate open lineage with output details"}
{"instruction":"Classify the status of this issue based on its description:","input":"Spark Structured Streaming Filesink can not generate open lineage with output details\n\nh2. Environment details h3. OpenLineage version {quote}io.openlineage:openlineage-spark_2.13:1.39.0 Technology and package versions Python: 3.13.3 Scala: 2.13.16 Java: OpenJDK 64-Bit Server VM, 17.0.16 pip freeze py4j==0.10.9.9 pyspark==4.0.1{quote} For the openlineage set up, I used the default setting: {quote}$ git clone https://github.com/MarquezProject/marquez.git && cd marquez $ ./docker/up.sh{quote} h3. Spark Deployment details I used native spark on local machine. There is no managed serv","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Spark Structured Streaming Filesink can not generate open lineage with output details\n\nh2. Environment details h3. OpenLineage version {quote}io.openlineage:openlineage-spark_2.13:1.39.0 Technology and package versions Python: 3.13.3 Scala: 2.13.16 Java: OpenJDK 64-Bit Server VM, 17.0.16 pip freeze py4j==0.10.9.9 pyspark==4.0.1{quote} For the openlineage set up, I used the default setting: {quote}$ git clone https://github.com/MarquezProject/marquez.git && cd marquez $ ./docker/up.sh{quote} h3. Spark Deployment details I used native spark on local machine. There is no managed serv","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Spark Structured Streaming Filesink can not generate open lineage with output details\n\nh2. Environment details h3. OpenLineage version {quote}io.openlineage:openlineage-spark_2.13:1.39.0 Technology and package versions Python: 3.13.3 Scala: 2.13.16 Java: OpenJDK 64-Bit Server VM, 17.0.16 pip freeze py4j==0.10.9.9 pyspark==4.0.1{quote} For the openlineage set up, I used the default setting: {quote}$ git clone https://github.com/MarquezProject/marquez.git && cd marquez $ ./docker/up.sh{quote} h3. Spark Deployment details I used native spark on local machine. There is no managed serv","output":"h2. Environment details h3. OpenLineage version {quote}io.openlineage:openlineage-spark_2.13:1.39.0 Technology and package versions Python: 3.13.3 Scala: 2.13.16 Java: OpenJDK 64-Bit Server VM, 17.0.16 pip freeze py4j==0.10.9.9 pyspark==4.0.1{quote} For the openlineage set up, I used the default set"}
{"instruction":"Extract key technical details from this issue:","input":"h2. Environment details h3. OpenLineage version {quote}io.openlineage:openlineage-spark_2.13:1.39.0 Technology and package versions Python: 3.13.3 Scala: 2.13.16 Java: OpenJDK 64-Bit Server VM, 17.0.16 pip freeze py4j==0.10.9.9 pyspark==4.0.1{quote} For the openlineage set up, I used the default setting: {quote}$ git clone https://github.com/MarquezProject/marquez.git && cd marquez $ ./docker/up.sh{quote} h3. Spark Deployment details I used native spark on local machine. There is no managed services involved. Problem details h2. Issue details When using Spark structured streaming to write parquet file to file systems, * File sink will only generate openlineage event with streaming processing type with output information as empty. * Foreachbatch sink will generate openlineage event with bot","output":"Spark Structured Streaming Filesink can not generate open lineage with output details"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix `pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather` in Python 3.14\n\n{code} ====================================================================== ERROR [1.960s]: test_to_feather (pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/pandas/tests/io/test_feather.py\", line 43, in test_to_feather self.psdf.to_feather(path2) ~~~~~~~~~~~~~~~~~~~~^^^^^^^ File \"/__w/spark/spark/python/pyspark/pandas/frame.py\", line 2702, in to_feather return validate_arguments_and_invoke_function( self._to_internal_pandas(), self.to_feather, pd.DataFrame.to_feather, args ) File \"/__w/spark/spark/python/pyspark/pandas/utils.py\", line 592, in validate_arguments_and_invoke_function return pandas_func(**args) File \"/usr/local/lib/python3.14/dist-packages/pandas/core/frame.py\", line 2949, in to_feather to_feather(self, path, **kwargs) ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^ File \"/usr/local/lib/python3.14/dist-packages/pandas/io/feather_format.py\", line 65, in to_feather feather.write_feather(df, handles.handle, **kwargs) ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ File \"/usr/local/lib/python3.14/dist-packages/pyarrow/feather.py\", line 156, in write_feather table = Table.from_pandas(df, preserve_index=preserve_index) File \"pyarrow/table.pxi\", line 4795, in pyarrow.lib.Table.from_pandas File \"/usr/local/lib/python3.14/dist-packages/pyarrow/pandas_compat.py\", line 663, in dataframe_to_arrays pandas_metadata = construct_metadata( columns_to_convert, df, column_names, index_columns, index_descriptors, preserve_index, types, column_field_names=column_field_names ) File \"/usr/local/lib/python3.14/dist-packages/pyarrow/pandas_compat.py\", line 281, in construct_metadata b'pandas': json.dumps({ ~~~~~~~~~~^^ 'index_columns': index_descriptors, ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ... ... 'pandas_version': _pandas_api.version ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ }).encode('utf8') ^^ File \"/usr/lib/python3.14/json/__init__.py\", line 231, in dumps return _default_encoder.encode(obj) ~~~~~~~~~~~~~~~~~~~~~~~^^^^^ File \"/usr/lib/python3.14/json/encoder.py\", line 200, in encode chunks = self.iterencode(o, _one_shot=True) File \"/usr/lib/python3.14/json/encoder.py\", line 261, in iterencode return _iterencode(o, 0) File \"/usr/lib/python3.14/json/encoder.py\", line 180, in default raise TypeError(f'Object of type {o.__class__.__name__} ' f'is not JSON serializable') TypeError: Object of type PlanMetrics is not JSON serializable when serializing list item 0 when serializing dict item 'metrics' when serializing dict item 'attributes' {code}","output":"Fix `pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather` in Python 3.14"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix `pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather` in Python 3.14\n\n{code} ====================================================================== ERROR [1.960s]: test_to_feather (pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/pandas/tests/io/test_feather.py\", line 43, in test_to_feather self.psdf.to_feather(path2) ~~~~~~~~~~~~~~~~~~~~^^^^^^^ File \"/__w/spark/spark/python/pyspark/p","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Fix `pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather` in Python 3.14\n\n{code} ====================================================================== ERROR [1.960s]: test_to_feather (pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/pandas/tests/io/test_feather.py\", line 43, in test_to_feather self.psdf.to_feather(path2) ~~~~~~~~~~~~~~~~~~~~^^^^^^^ File \"/__w/spark/spark/python/pyspark/p","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix `pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather` in Python 3.14\n\n{code} ====================================================================== ERROR [1.960s]: test_to_feather (pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/pandas/tests/io/test_feather.py\", line 43, in test_to_feather self.psdf.to_feather(path2) ~~~~~~~~~~~~~~~~~~~~^^^^^^^ File \"/__w/spark/spark/python/pyspark/p","output":"{code} ====================================================================== ERROR [1.960s]: test_to_feather (pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather) ---------------------------------------------------------------------- Traceback (most recent call la"}
{"instruction":"Extract key technical details from this issue:","input":"{code} ====================================================================== ERROR [1.960s]: test_to_feather (pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/pandas/tests/io/test_feather.py\", line 43, in test_to_feather self.psdf.to_feather(path2) ~~~~~~~~~~~~~~~~~~~~^^^^^^^ File \"/__w/spark/spark/python/pyspark/pandas/frame.py\", line 2702, in to_feather return validate_arguments_and_invoke_function( self._to_internal_pandas(), self.to_feather, pd.DataFrame.to_feather, args ) File \"/__w/spark/spark/python/pyspark/pandas/utils.py\", line 592, in validate_arguments_and_invoke_function return pandas_func(**args)","output":"Fix `pyspark.pandas.tests.connect.io.test_parity_feather.FeatherParityTests.test_to_feather` in Python 3.14"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Improve `SparkSubmit` to invoke `exitFn` with the root cause instead of `SparkUserAppException`\n\nI hit this when I ran a pipeline that had no flows: ``` org.apache.spark.SparkUserAppException: User application exited with 1 at org.apache.spark.deploy.PythonRunner$.main(PythonRunner.scala:127) at org.apache.spark.deploy.PythonRunner.main(PythonRunner.scala) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:569) at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52) at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:1028) at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:203) at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:226) at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:95) at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1166) at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1175) at org.apache.spark.deploy.SparkPipelines$.main(SparkPipelines.scala:42) at org.apache.spark.deploy.SparkPipelines.main(SparkPipelines.scala) ``` This is not information that's relevant to the user.","output":"Improve `SparkSubmit` to invoke `exitFn` with the root cause instead of `SparkUserAppException`"}
{"instruction":"Classify the status of this issue based on its description:","input":"Improve `SparkSubmit` to invoke `exitFn` with the root cause instead of `SparkUserAppException`\n\nI hit this when I ran a pipeline that had no flows: ``` org.apache.spark.SparkUserAppException: User application exited with 1 at org.apache.spark.deploy.PythonRunner$.main(PythonRunner.scala:127) at org.apache.spark.deploy.PythonRunner.main(PythonRunner.scala) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingMethodAccess","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Improve `SparkSubmit` to invoke `exitFn` with the root cause instead of `SparkUserAppException`\n\nI hit this when I ran a pipeline that had no flows: ``` org.apache.spark.SparkUserAppException: User application exited with 1 at org.apache.spark.deploy.PythonRunner$.main(PythonRunner.scala:127) at org.apache.spark.deploy.PythonRunner.main(PythonRunner.scala) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingMethodAccess","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Improve `SparkSubmit` to invoke `exitFn` with the root cause instead of `SparkUserAppException`\n\nI hit this when I ran a pipeline that had no flows: ``` org.apache.spark.SparkUserAppException: User application exited with 1 at org.apache.spark.deploy.PythonRunner$.main(PythonRunner.scala:127) at org.apache.spark.deploy.PythonRunner.main(PythonRunner.scala) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingMethodAccess","output":"I hit this when I ran a pipeline that had no flows: ``` org.apache.spark.SparkUserAppException: User application exited with 1 at org.apache.spark.deploy.PythonRunner$.main(PythonRunner.scala:127) at org.apache.spark.deploy.PythonRunner.main(PythonRunner.scala) at java.base/jdk.internal.reflect.Nati"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Improve `SparkSubmit` to invoke `exitFn` with the root cause instead of `SparkUserAppException`\n\nI hit this when I ran a pipeline that had no flows: ``` org.apache.spark.SparkUserAppException: User application exited with 1 at org.apache.spark.deploy.PythonRunner$.main(PythonRunner.scala:127) at org.apache.spark.deploy.PythonRunner.main(PythonRunner.scala) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingMethodAccess","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"I hit this when I ran a pipeline that had no flows: ``` org.apache.spark.SparkUserAppException: User application exited with 1 at org.apache.spark.deploy.PythonRunner$.main(PythonRunner.scala:127) at org.apache.spark.deploy.PythonRunner.main(PythonRunner.scala) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:569) at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52) at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:1028","output":"Improve `SparkSubmit` to invoke `exitFn` with the root cause instead of `SparkUserAppException`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix `test_in_memory_data_source` in Python 3.14\n\n{code} ====================================================================== ERROR [0.007s]: test_in_memory_data_source (pyspark.sql.tests.test_python_datasource.PythonDataSourceTests.test_in_memory_data_source) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/serializers.py\", line 460, in dumps return cloudpickle.dumps(obj, pickle_protocol) ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/cloudpickle/cloudpickle.py\", line 1537, in dumps cp.dump(obj) ~~~~~~~^^^^^ File \"/__w/spark/spark/python/pyspark/cloudpickle/cloudpickle.py\", line 1303, in dump return super().dump(obj) ~~~~~~~~~~~~^^^^^ TypeError: cannot pickle '_abc._abc_data' object when serializing dict item '_abc_impl' when serializing tuple item 0 when serializing cell reconstructor arguments when serializing cell object when serializing tuple item 0 when serializing dict item '__closure__' when serializing tuple item 1 when serializing function state when serializing function object when serializing dict item '__annotate_func__' when serializing tuple item 0 when serializing abc.ABCMeta state when serializing abc.ABCMeta object when serializing tuple item 0 when serializing cell reconstructor arguments when serializing cell object when serializing tuple item 0 when serializing dict item '__closure__' when serializing tuple item 1 when serializing function state when serializing function object when serializing dict item 'reader' when serializing tuple item 0 when serializing abc.ABCMeta state when serializing abc.ABCMeta object During handling of the above exception, another exception occurred: Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/sql/tests/test_python_datasource.py\", line 283, in test_in_memory_data_source self.spark.dataSource.register(InMemoryDataSource) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/sql/datasource.py\", line 1197, in register wrapped = _wrap_function(sc, dataSource) File \"/__w/spark/spark/python/pyspark/sql/udf.py\", line 59, in _wrap_function pickled_command, broadcast_vars, env, includes = _prepare_for_python_RDD(sc, command) ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/core/rdd.py\", line 5121, in _prepare_for_python_RDD pickled_command = ser.dumps(command) File \"/__w/spark/spark/python/pyspark/serializers.py\", line 470, in dumps raise pickle.PicklingError(msg) _pickle.PicklingError: Could not serialize object: TypeError: cannot pickle '_abc._abc_data' object {code} {code} ====================================================================== ERROR [0.014s]: test_in_memory_data_source (pyspark.sql.tests.connect.test_parity_python_datasource.PythonDataSourceParityTests.test_in_memory_data_source) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/serializers.py\", line 460, in dumps return cloudpickle.dumps(obj, pickle_protocol) ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/cloudpickle/cloudpickle.py\", line 1537, in dumps cp.dump(obj) ~~~~~~~^^^^^ File \"/__w/spark/spark/python/pyspark/cloudpickle/cloudpickle.py\", line 1303, in dump return super().dump(obj) ~~~~~~~~~~~~^^^^^ TypeError: cannot pickle '_abc._abc_data' object when serializing dict item '_abc_impl' when serializing tuple item 0 when serializing cell reconstructor arguments when serializing cell object when serializing tuple item 0 when serializing dict item '__closure__' when serializing tuple item 1 when serializing function state when serializing function object when serializing dict item '__annotate_func__' when serializing tuple item 0 when serializing abc.ABCMeta state when serializing abc.ABCMeta object when serializing tuple item 0 when serializing cell reconstructor arguments when serializing cell object when serializing tuple item 0 when serializing dict item '__closure__' when serializing tuple item 1 when serializing function state when serializing function object when serializing dict item 'reader' when serializing tuple item 0 when serializing abc.ABCMeta state when serializing abc.ABCMeta object During handling of the above exception, another exception occurred: Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/sql/tests/test_python_datasource.py\", line 283, in test_in_memory_data_source self.spark.dataSource.register(InMemoryDataSource) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/sql/connect/datasource.py\", line 45, in register self.sparkSession._client.register_data_source(dataSource) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/sql/connect/client/core.py\", line 863, in register_data_source ).to_data_source_proto(self) ~~~~~~~~~~~~~~~~~~~~^^^^^^ File \"/__w/spark/spark/python/pyspark/sql/connect/plan.py\", line 2833, in to_data_source_proto plan.python_data_source.CopyFrom(self._data_source.to_plan(session)) ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/sql/connect/plan.py\", line 2807, in to_plan ds.command = CloudPickleSerializer().dumps(self._data_source) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/serializers.py\", line 470, in dumps raise pickle.PicklingError(msg) _pickle.PicklingError: Could not serialize object: TypeError: cannot pickle '_abc._abc_data' object ---------------------------------------------------------------------- {code}","output":"Fix `test_in_memory_data_source` in Python 3.14"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix `test_in_memory_data_source` in Python 3.14\n\n{code} ====================================================================== ERROR [0.007s]: test_in_memory_data_source (pyspark.sql.tests.test_python_datasource.PythonDataSourceTests.test_in_memory_data_source) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/serializers.py\", line 460, in dumps return cloudpickle.dumps(obj, pickle_protocol) ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spa","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Fix `test_in_memory_data_source` in Python 3.14\n\n{code} ====================================================================== ERROR [0.007s]: test_in_memory_data_source (pyspark.sql.tests.test_python_datasource.PythonDataSourceTests.test_in_memory_data_source) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/serializers.py\", line 460, in dumps return cloudpickle.dumps(obj, pickle_protocol) ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spa","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix `test_in_memory_data_source` in Python 3.14\n\n{code} ====================================================================== ERROR [0.007s]: test_in_memory_data_source (pyspark.sql.tests.test_python_datasource.PythonDataSourceTests.test_in_memory_data_source) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/serializers.py\", line 460, in dumps return cloudpickle.dumps(obj, pickle_protocol) ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spa","output":"{code} ====================================================================== ERROR [0.007s]: test_in_memory_data_source (pyspark.sql.tests.test_python_datasource.PythonDataSourceTests.test_in_memory_data_source) ---------------------------------------------------------------------- Traceback (most "}
{"instruction":"Extract key technical details from this issue:","input":"{code} ====================================================================== ERROR [0.007s]: test_in_memory_data_source (pyspark.sql.tests.test_python_datasource.PythonDataSourceTests.test_in_memory_data_source) ---------------------------------------------------------------------- Traceback (most recent call last): File \"/__w/spark/spark/python/pyspark/serializers.py\", line 460, in dumps return cloudpickle.dumps(obj, pickle_protocol) ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^ File \"/__w/spark/spark/python/pyspark/cloudpickle/cloudpickle.py\", line 1537, in dumps cp.dump(obj) ~~~~~~~^^^^^ File \"/__w/spark/spark/python/pyspark/cloudpickle/cloudpickle.py\", line 1303, in dump return super().dump(obj) ~~~~~~~~~~~~^^^^^ TypeError: cannot pickle '_abc._abc_data' object when serializing dict item '_","output":"Fix `test_in_memory_data_source` in Python 3.14"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Trigger snapshot generation for next batch when lag is detected\n\nWe have done work to detect snapshot lag. Now we need to trigger snapshot generation for the next microbatch, when snapshot lag is detected.","output":"Trigger snapshot generation for next batch when lag is detected"}
{"instruction":"Classify the status of this issue based on its description:","input":"Trigger snapshot generation for next batch when lag is detected\n\nWe have done work to detect snapshot lag. Now we need to trigger snapshot generation for the next microbatch, when snapshot lag is detected.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Trigger snapshot generation for next batch when lag is detected\n\nWe have done work to detect snapshot lag. Now we need to trigger snapshot generation for the next microbatch, when snapshot lag is detected.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Trigger snapshot generation for next batch when lag is detected\n\nWe have done work to detect snapshot lag. Now we need to trigger snapshot generation for the next microbatch, when snapshot lag is detected.","output":"We have done work to detect snapshot lag. Now we need to trigger snapshot generation for the next microbatch, when snapshot lag is detected."}
{"instruction":"Extract key technical details from this issue:","input":"We have done work to detect snapshot lag. Now we need to trigger snapshot generation for the next microbatch, when snapshot lag is detected.","output":"Trigger snapshot generation for next batch when lag is detected"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Wrap IllegalArgumentException with proper error code for invalid datetime patterns\n\nWhen `TO_TIMESTAMP` is called with an invalid datetime pattern (e.g., `'yyyyMMddHHMIss'` with invalid letter `'I'`), the `IllegalArgumentException` from Java's `DateTimeFormatterBuilder` escapes during constant folding optimization, resulting in a raw exception without proper error codes or `SQLSTATE`.","output":"Wrap IllegalArgumentException with proper error code for invalid datetime patterns"}
{"instruction":"Classify the status of this issue based on its description:","input":"Wrap IllegalArgumentException with proper error code for invalid datetime patterns\n\nWhen `TO_TIMESTAMP` is called with an invalid datetime pattern (e.g., `'yyyyMMddHHMIss'` with invalid letter `'I'`), the `IllegalArgumentException` from Java's `DateTimeFormatterBuilder` escapes during constant folding optimization, resulting in a raw exception without proper error codes or `SQLSTATE`.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Wrap IllegalArgumentException with proper error code for invalid datetime patterns\n\nWhen `TO_TIMESTAMP` is called with an invalid datetime pattern (e.g., `'yyyyMMddHHMIss'` with invalid letter `'I'`), the `IllegalArgumentException` from Java's `DateTimeFormatterBuilder` escapes during constant folding optimization, resulting in a raw exception without proper error codes or `SQLSTATE`.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Wrap IllegalArgumentException with proper error code for invalid datetime patterns\n\nWhen `TO_TIMESTAMP` is called with an invalid datetime pattern (e.g., `'yyyyMMddHHMIss'` with invalid letter `'I'`), the `IllegalArgumentException` from Java's `DateTimeFormatterBuilder` escapes during constant folding optimization, resulting in a raw exception without proper error codes or `SQLSTATE`.","output":"When `TO_TIMESTAMP` is called with an invalid datetime pattern (e.g., `'yyyyMMddHHMIss'` with invalid letter `'I'`), the `IllegalArgumentException` from Java's `DateTimeFormatterBuilder` escapes during constant folding optimization, resulting in a raw exception without proper error codes or `SQLSTAT"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Wrap IllegalArgumentException with proper error code for invalid datetime patterns\n\nWhen `TO_TIMESTAMP` is called with an invalid datetime pattern (e.g., `'yyyyMMddHHMIss'` with invalid letter `'I'`), the `IllegalArgumentException` from Java's `DateTimeFormatterBuilder` escapes during constant folding optimization, resulting in a raw exception without proper error codes or `SQLSTATE`.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When `TO_TIMESTAMP` is called with an invalid datetime pattern (e.g., `'yyyyMMddHHMIss'` with invalid letter `'I'`), the `IllegalArgumentException` from Java's `DateTimeFormatterBuilder` escapes during constant folding optimization, resulting in a raw exception without proper error codes or `SQLSTATE`.","output":"Wrap IllegalArgumentException with proper error code for invalid datetime patterns"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches`\n\nRecently, `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` frequently fails. [https://github.com/apache/spark/actions/runs/18872699886/job/53854858890] {code:java} [info] - Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't contain the expected exception with message: Some of partitions in Kafka topic(s) have been lost during running query with Trigger.AvailableNow. [info] org.scalatest.exceptions.TestFailedException: isPropagated was false Partition [topic-41, 1] metadata not propagated after timeout [info] at org.scalatest.Assertions.newAssertionFailedException(Assertions.scala:472) [info] at org.scalatest.Assertions.newAssertionFailedException$(Assertions.scala:471) [info] at org.scalatest.Assertions$.newAssertionFailedException(Assertions.scala:1231) [info] at org.scalatest.Assertions$AssertionsHelper.macroAssert(Assertions.scala:1295) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.$anonfun$waitUntilMetadataIsPropagated$1(KafkaTestUtils.scala:614) [info] at org.scalatest.enablers.Retrying$$anon$4.makeAValiantAttempt$1(Retrying.scala:184) [info] at org.scalatest.enablers.Retrying$$anon$4.tryTryAgain$2(Retrying.scala:196) [info] at org.scalatest.enablers.Retrying$$anon$4.retry(Retrying.scala:226) [info] at org.scalatest.concurrent.Eventually.eventually(Eventually.scala:348) [info] at org.scalatest.concurrent.Eventually.eventually$(Eventually.scala:347) [info] at org.scalatest.concurrent.Eventually$.eventually(Eventually.scala:457) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.waitUntilMetadataIsPropagated(KafkaTestUtils.scala:613) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.$anonfun$createTopic$1(KafkaTestUtils.scala:378) [info] at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:256) [info] at org.apache.spark.sql.kafka010.KafkaTestUtils.createTopic(KafkaTestUtils.scala:377) [info] at org.apache.spark.sql.kafka010.KafkaMicroBatchSourceSuiteBase.$anonfun$new$11(KafkaMicroBatchSourceSuite.scala:352) [info] at org.apache.spark.sql.kafka010.KafkaMicroBatchSourceSuiteBase.$anonfun$new$11$adapted(KafkaMicroBatchSourceSuite.scala:349) [info] at org.apache.spark.sql.execution.streaming.sources.ForeachBatchSink.callBatchWriter(ForeachBatchSink.scala:56) [info] at org.apache.spark.sql.execution.streaming.sources.ForeachBatchSink.addBatch(ForeachBatchSink.scala:49) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runBatch$19(MicroBatchExecution.scala:1063) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$8(SQLExecution.scala:176) [info] at org.apache.spark.sql.execution.SQLExecution$.withSessionTagsApplied(SQLExecution.scala:284) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$7(SQLExecution.scala:138) [info] at org.apache.spark.JobArtifactSet$.withActiveJobArtifactState(JobArtifactSet.scala:94) [info] at org.apache.spark.sql.artifact.ArtifactManager.$anonfun$withResources$1(ArtifactManager.scala:112) [info] at org.apache.spark.sql.artifact.ArtifactManager.withClassLoaderIfNeeded(ArtifactManager.scala:106) [info] at org.apache.spark.sql.artifact.ArtifactManager.withResources(ArtifactManager.scala:111) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$6(SQLExecution.scala:138) [info] at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:307) [info] at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId0$1(SQLExecution.scala:137) [info] at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:804) [info] at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId0(SQLExecution.scala:91) [info] at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:249) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runBatch$18(MicroBatchExecution.scala:1054) [info] at org.apache.spark.sql.execution.streaming.runtime.ProgressContext.reportTimeTaken(ProgressReporter.scala:200) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.runBatch(MicroBatchExecution.scala:1054) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$executeOneBatch$2(MicroBatchExecution.scala:513) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.apache.spark.sql.execution.streaming.runtime.ProgressContext.reportTimeTaken(ProgressReporter.scala:200) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.executeOneBatch(MicroBatchExecution.scala:478) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runActivatedStream$1(MicroBatchExecution.scala:458) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.$anonfun$runActivatedStream$1$adapted(MicroBatchExecution.scala:458) [info] at org.apache.spark.sql.execution.streaming.runtime.TriggerExecutor.runOneBatch(TriggerExecutor.scala:40) [info] at org.apache.spark.sql.execution.streaming.runtime.TriggerExecutor.runOneBatch$(TriggerExecutor.scala:38) [info] at org.apache.spark.sql.execution.streaming.runtime.MultiBatchExecutor.runOneBatch(TriggerExecutor.scala:60) [info] at org.apache.spark.sql.execution.streaming.runtime.MultiBatchExecutor.execute(TriggerExecutor.scala:65) [info] at org.apache.spark.sql.execution.streaming.runtime.MicroBatchExecution.runActivatedStream(MicroBatchExecution.scala:458) [info] at org.apache.spark.sql.execution.streaming.runtime.StreamExecution.$anonfun$runStream$1(StreamExecution.scala:347) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:804) [info] at org.apache.spark.sql.execution.streaming.runtime.StreamExecution.org$apache$spark$sql$execution$streaming$runtime$StreamExecution$$runStream(StreamExecution.scala:307) [info] at org.apache.spark.sql.execution.streaming.runtime.StreamExecution$$anon$1.run(StreamExecution.scala:230) [info] at scala.Predef$.assert(Predef.scala:279) [info] at org.apache.spark.TestUtils$.assertExceptionMsg(TestUtils.scala:198) [info] at org.apache.spark.sql.kafka010.KafkaMicroBatchSourceSuiteBase.$anonfun$new$9(KafkaMicroBatchSourceSuite.scala:374) [info] at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18) [info] at org.scalatest.enablers.Timed$$anon$1.timeoutAfter(Timed.scala:127) [info] at org.scalatest.concurrent.TimeLimits$.failAfterImpl(TimeLimits.scala:282) [info] at org.scalatest.concurrent.TimeLimits.failAfter(TimeLimits.scala:231) [info] at org.scalatest.concurrent.TimeLimits.failAfter$(TimeLimits.scala:230) [info] at org.apache.spark.SparkFunSuite.failAfter(SparkFunSuite.scala:68) [info] at org.apache.spark.SparkFunSuite.$anonfun$test$2(SparkFunSuite.scala:154) [info] at org.scalatest.OutcomeOf.outcomeOf(OutcomeOf.scala:85) [info] at org.scalatest.OutcomeOf.outcomeOf$(OutcomeOf.scala:83) [info] at org.scalatest.OutcomeOf$.outcomeOf(OutcomeOf.scala:104) [info] at org.scalatest.Transformer.apply(Transformer.scala:22) [info] at org.scalatest.Transformer.apply(Transformer.scala:20) [info] at org.scalatest.funsuite.AnyFunSuiteLike$$anon$1.apply(AnyFunSuiteLike.scala:226) [info] at org.apache.spark.SparkFunSuite.withFixture(SparkFunSuite.scala:226) [info] at org.scalatest.funsuite.AnyFunSuiteLike.invokeWithFixture$1(AnyFunSuiteLike.scala:224) [info] at org.scalatest.funsuite.AnyFunSuiteLike.$anonfun$runTest$1(AnyFunSuiteLike.scala:236) [info] at org.scalatest.SuperEngine.runTestImpl(Engine.scala:306) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTest(AnyFunSuiteLike.scala:236) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTest$(AnyFunSuiteLike.scala:218) [info] at org.apache.spark.SparkFunSuite.org$scalatest$BeforeAndAfterEach$$super$runTest(SparkFunSuite.scala:68) [info] at org.scalatest.BeforeAndAfterEach.runTest(BeforeAndAfterEach.scala:234) [info] at org.scalatest.BeforeAndAfterEach.runTest$(BeforeAndAfterEach.scala:227) [info] at org.apache.spark.SparkFunSuite.runTest(SparkFunSuite.scala:68) [info] at org.scalatest.funsuite.AnyFunSuiteLike.$anonfun$runTests$1(AnyFunSuiteLike.scala:269) [info] at org.scalatest.SuperEngine.$anonfun$runTestsInBranch$1(Engine.scala:413) [info] at scala.collection.immutable.List.foreach(List.scala:323) [info] at org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401) [info] at org.scalatest.SuperEngine.runTestsInBranch(Engine.scala:396) [info] at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:475) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTests(AnyFunSuiteLike.scala:269) [info] at org.scalatest.funsuite.AnyFunSuiteLike.runTests$(AnyFunSuiteLike.scala:268) [info] at org.scalatest.funsuite.AnyFunSuite.runTests(AnyFunSuite.scala:1564) [info] at org.scalatest.Suite.run(Suite.scala:1114) [info] at org.scalatest.Suite.run$(Suite.scala:1096) [info] at org.scalatest.funsuite.AnyFunSuite.org$scalatest$funsuite$AnyFunSuiteLike$$super$run(AnyFunSuite.scala:1564) [info] at org.scalatest.funsuite.AnyFunSuiteLike.$anonfun$run$1(AnyFunSuiteLike.scala:273) [info] at org.scalatest.SuperEngine.runImpl(Engine.scala:535) [info] at org.scalatest.funsuite.AnyFunSuiteLike.run(AnyFunSuiteLike.scala:273) [info] at org.scalatest.funsuite.AnyFunSuiteLike.run$(AnyFunSuiteLike.scala:272) [info] at org.apache.spark.SparkFunSuite.org$scalatest$BeforeAndAfterAll$$super$run(SparkFunSuite.scala:68) [info] at org.scalatest.BeforeAndAfterAll.liftedTree1$1(BeforeAndAfterAll.scala:213) [info] at org.scalatest.BeforeAndAfterAll.run(BeforeAndAfterAll.scala:210) [info] at org.scalatest.BeforeAndAfterAll.run$(BeforeAndAfterAll.scala:208) [info] at org.apache.spark.SparkFunSuite.run(SparkFunSuite.scala:68) [info] at org.scalatest.tools.Framework.org$scalatest$tools$Framework$$runSuite(Framework.scala:321) [info] at org.scalatest.tools.Framework$ScalaTestTask.execute(Framework.scala:517) [info] at sbt.ForkMain$Run.lambda$runTest$1(ForkMain.java:414) [info] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [info] at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [info] at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [info] at java.base/java.lang.Thread.run(Thread.java:840) {code}","output":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches`"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches`\n\nRecently, `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` frequently fails. [https://github.com/apache/spark/actions/runs/18872699886/job/53854858890] {code:java} [info] - Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't con","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches`\n\nRecently, `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` frequently fails. [https://github.com/apache/spark/actions/runs/18872699886/job/53854858890] {code:java} [info] - Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't con","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches`\n\nRecently, `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` frequently fails. [https://github.com/apache/spark/actions/runs/18872699886/job/53854858890] {code:java} [info] - Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't con","output":"Recently, `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` frequently fails. [https://github.com/apache/spark/actions/runs/18872699886/job/53854858890] {code:java} [info] - Query with Trigger"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches`\n\nRecently, `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` frequently fails. [https://github.com/apache/spark/actions/runs/18872699886/job/53854858890] {code:java} [info] - Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't con","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Recently, `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches` frequently fails. [https://github.com/apache/spark/actions/runs/18872699886/job/53854858890] {code:java} [info] - Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches *** FAILED *** (1 minute) [info] java.lang.AssertionError: assertion failed: Exception tree doesn't contain the expected exception with message: Some of partitions in Kafka topic(s) have been lost during running query with Trigger.AvailableNow. [info] org.scalatest.exceptions.TestFailedException: isPropagated was false Partition [topic-41, 1] metadata not propagated after timeout [info] at org.scalat","output":"Fix Flaky Test: `KafkaMicroBatchV1SourceWithConsumerSuite.Query with Trigger.AvailableNow should throw error when topic partitions got unavailable during subsequent batches`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Retrieve dependency version from pom.xml for DependencyOverrides in SparkBuild.scala\n\nCurrently, version strings for some dependencies are hard coded in DependencyOverrides in SparkBuild, so developers need to keep consistent with version strings specified in pom.xml manually.","output":"Retrieve dependency version from pom.xml for DependencyOverrides in SparkBuild.scala"}
{"instruction":"Classify the status of this issue based on its description:","input":"Retrieve dependency version from pom.xml for DependencyOverrides in SparkBuild.scala\n\nCurrently, version strings for some dependencies are hard coded in DependencyOverrides in SparkBuild, so developers need to keep consistent with version strings specified in pom.xml manually.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Retrieve dependency version from pom.xml for DependencyOverrides in SparkBuild.scala\n\nCurrently, version strings for some dependencies are hard coded in DependencyOverrides in SparkBuild, so developers need to keep consistent with version strings specified in pom.xml manually.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Retrieve dependency version from pom.xml for DependencyOverrides in SparkBuild.scala\n\nCurrently, version strings for some dependencies are hard coded in DependencyOverrides in SparkBuild, so developers need to keep consistent with version strings specified in pom.xml manually.","output":"Currently, version strings for some dependencies are hard coded in DependencyOverrides in SparkBuild, so developers need to keep consistent with version strings specified in pom.xml manually."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Retrieve dependency version from pom.xml for DependencyOverrides in SparkBuild.scala\n\nCurrently, version strings for some dependencies are hard coded in DependencyOverrides in SparkBuild, so developers need to keep consistent with version strings specified in pom.xml manually.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, version strings for some dependencies are hard coded in DependencyOverrides in SparkBuild, so developers need to keep consistent with version strings specified in pom.xml manually.","output":"Retrieve dependency version from pom.xml for DependencyOverrides in SparkBuild.scala"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Enable substitution for SQLConf settings\n\nValues set for custom catalogs are not being substituted: {code:java} spark.sql.catalog.mssql=org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog spark.sql.catalog.mssql.user=${env:MSSQL__USER} {code} Fails with: {code:java} spark.sql(\"show tables in mssql\").show() com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user '${env:MSSQL__USER}' {code}","output":"Enable substitution for SQLConf settings"}
{"instruction":"Classify the status of this issue based on its description:","input":"Enable substitution for SQLConf settings\n\nValues set for custom catalogs are not being substituted: {code:java} spark.sql.catalog.mssql=org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog spark.sql.catalog.mssql.user=${env:MSSQL__USER} {code} Fails with: {code:java} spark.sql(\"show tables in mssql\").show() com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user '${env:MSSQL__USER}' {code}","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Enable substitution for SQLConf settings\n\nValues set for custom catalogs are not being substituted: {code:java} spark.sql.catalog.mssql=org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog spark.sql.catalog.mssql.user=${env:MSSQL__USER} {code} Fails with: {code:java} spark.sql(\"show tables in mssql\").show() com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user '${env:MSSQL__USER}' {code}","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Enable substitution for SQLConf settings\n\nValues set for custom catalogs are not being substituted: {code:java} spark.sql.catalog.mssql=org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog spark.sql.catalog.mssql.user=${env:MSSQL__USER} {code} Fails with: {code:java} spark.sql(\"show tables in mssql\").show() com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user '${env:MSSQL__USER}' {code}","output":"Values set for custom catalogs are not being substituted: {code:java} spark.sql.catalog.mssql=org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog spark.sql.catalog.mssql.user=${env:MSSQL__USER} {code} Fails with: {code:java} spark.sql(\"show tables in mssql\").show() com.microsoft.sqls"}
{"instruction":"Extract key technical details from this issue:","input":"Values set for custom catalogs are not being substituted: {code:java} spark.sql.catalog.mssql=org.apache.spark.sql.execution.datasources.v2.jdbc.JDBCTableCatalog spark.sql.catalog.mssql.user=${env:MSSQL__USER} {code} Fails with: {code:java} spark.sql(\"show tables in mssql\").show() com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user '${env:MSSQL__USER}' {code}","output":"Enable substitution for SQLConf settings"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Spark Connect sessions leak pyspark UDF daemon processes and threads\n\nEach Spark Connect session that uses Python UDFs seems to leak one PySpark `daemon` process. Over time, these can accumulate in the 100s until the corresponding node or container goes OOM (although it can take a while as each process doesn't use a lot of memory and some of those pages are shared). {code:java} spark 263 0.0 0.0 121424 59504 ? S 05:00 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1515 0.0 0.0 121324 60148 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1525 0.0 0.0 121324 60400 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1568 0.0 0.0 121324 60280 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon{code} In addition there are also threads leaking - e.g., here is a thread dump histogram from a sample executor with 200+ leaked daemon processes: {code:java} # These threads seem to be leaking 226 threads Idle Worker Monitor for /opt/spark/.venv/bin/python3 226 threads process reaper 226 threads stderr reader for /opt/spark/.venv/bin/python3 226 threads stdout reader for /opt/spark/.venv/bin/python3 250 threads Worker Monitor for /opt/spark/.venv/bin/python3 # These threads seem fine, Spark is configured with 24 cores/executor 21 threads stdout writer for /opt/spark/.venv/bin/python3 21 threads Writer Monitor for /opt/spark/.venv/bin/python3{code} With Spark Connect, each session always has a `SPARK_JOB_ARTIFACT_UUID`, even if there are no artifacts, so the UDF environment built by `BasePythonRunner.compute` is always different, and each session ends up with its own `PythonWorkerFactory` and hence its own daemon process. `PythonWorkerFactory` has a `stop` method that stops the daemon, but there does not seem to be anyone that calls `PythonWorkerFactory.stop`, except at shutdown in `SparkEnv.stop`. This can be reproduced by running a bunch of Spark Connect sessions: {code:java} parallel -n0 .venv/bin/python3 dummy.py ::: {1..200} {code} with `dummy.py`: {code:java} from collections.abc import Iterable import pandas as pd from pyspark.sql import SparkSession def _udf(iterator: Iterable[pd.DataFrame]) -> Iterable[pd.DataFrame]: yield from iterator if __name__ == \"__main__\": spark = SparkSession.builder.remote(\"...\").getOrCreate() df = spark.range(128) df.mapInPandas(_udf, df.schema).count() {code}","output":"Spark Connect sessions leak pyspark UDF daemon processes and threads"}
{"instruction":"Classify the status of this issue based on its description:","input":"Spark Connect sessions leak pyspark UDF daemon processes and threads\n\nEach Spark Connect session that uses Python UDFs seems to leak one PySpark `daemon` process. Over time, these can accumulate in the 100s until the corresponding node or container goes OOM (although it can take a while as each process doesn't use a lot of memory and some of those pages are shared). {code:java} spark 263 0.0 0.0 121424 59504 ? S 05:00 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1515 0.0 0.0 121324 60148 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.dae","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Spark Connect sessions leak pyspark UDF daemon processes and threads\n\nEach Spark Connect session that uses Python UDFs seems to leak one PySpark `daemon` process. Over time, these can accumulate in the 100s until the corresponding node or container goes OOM (although it can take a while as each process doesn't use a lot of memory and some of those pages are shared). {code:java} spark 263 0.0 0.0 121424 59504 ? S 05:00 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1515 0.0 0.0 121324 60148 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.dae","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Spark Connect sessions leak pyspark UDF daemon processes and threads\n\nEach Spark Connect session that uses Python UDFs seems to leak one PySpark `daemon` process. Over time, these can accumulate in the 100s until the corresponding node or container goes OOM (although it can take a while as each process doesn't use a lot of memory and some of those pages are shared). {code:java} spark 263 0.0 0.0 121424 59504 ? S 05:00 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1515 0.0 0.0 121324 60148 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.dae","output":"Each Spark Connect session that uses Python UDFs seems to leak one PySpark `daemon` process. Over time, these can accumulate in the 100s until the corresponding node or container goes OOM (although it can take a while as each process doesn't use a lot of memory and some of those pages are shared). {"}
{"instruction":"Extract key technical details from this issue:","input":"Each Spark Connect session that uses Python UDFs seems to leak one PySpark `daemon` process. Over time, these can accumulate in the 100s until the corresponding node or container goes OOM (although it can take a while as each process doesn't use a lot of memory and some of those pages are shared). {code:java} spark 263 0.0 0.0 121424 59504 ? S 05:00 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1515 0.0 0.0 121324 60148 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1525 0.0 0.0 121324 60400 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon spark 1568 0.0 0.0 121324 60280 ? S 05:04 0:01 \\_ /opt/spark/.venv/bin/python3 -m pyspark.daemon{code} In addition there are also threads leaking - e.g., here is a thread dump histogram from a sample","output":"Spark Connect sessions leak pyspark UDF daemon processes and threads"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add SparkThrowable wrapper to workaround Py4J limitation\n\nWe could have a wrapper class to work around the problem in https://issues.apache.org/jira/browse/SPARK-52022","output":"Add SparkThrowable wrapper to workaround Py4J limitation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add SparkThrowable wrapper to workaround Py4J limitation\n\nWe could have a wrapper class to work around the problem in https://issues.apache.org/jira/browse/SPARK-52022","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add SparkThrowable wrapper to workaround Py4J limitation\n\nWe could have a wrapper class to work around the problem in https://issues.apache.org/jira/browse/SPARK-52022","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add SparkThrowable wrapper to workaround Py4J limitation\n\nWe could have a wrapper class to work around the problem in https://issues.apache.org/jira/browse/SPARK-52022","output":"We could have a wrapper class to work around the problem in https://issues.apache.org/jira/browse/SPARK-52022"}
{"instruction":"Extract key technical details from this issue:","input":"We could have a wrapper class to work around the problem in https://issues.apache.org/jira/browse/SPARK-52022","output":"Add SparkThrowable wrapper to workaround Py4J limitation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"spark-network-common no longer shades all of Guava\n\nShading of Guava in `spark-network-common` has changed from 3.x to 4.x such that conflicting classes prevent downstream code from using Guava. In spark jars prior to 4.x, `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class` was not a class included in the jar. Post 4.x, Guava is still shaded to `sparkproject` but `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class`, used in Guava's `InternetDomainName` and elsewhere, is now present in the jar. {code:java} $ jar tf spark-network-common_2.13-4.0.0.jar | rg PublicSuffixPatterns com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class {code} If a library depends on spark but also depends on Guava, calls to `InternetDomainName` that call `PublicSuffixPatterns` will fail with `Exception in thread \"main\" java.lang.NoSuchFieldError: EXACT`. Inspecting the code locations in such a library via `classOf[InternetDomainName].getProtectionDomain.getCodeSource.getLocation` and `classOf[PublicSuffixPatterns].getProtectionDomain.getCodeSource.getLocation` reveals that `InternetDomainName` is sourced from Guava, `target/bg-jobs/sbt_2062a9c3/target/5fcb43b5/1685140132000/guava-32.0.0-jre.jar`, while `PublicSuffixPatterns` is sourced instead from spark jar, `target/bg-jobs/sbt_2062a9c3/target/db746978/1747651686000/spark-network-common_2.13-4.0.0.jar`.","output":"spark-network-common no longer shades all of Guava"}
{"instruction":"Classify the status of this issue based on its description:","input":"spark-network-common no longer shades all of Guava\n\nShading of Guava in `spark-network-common` has changed from 3.x to 4.x such that conflicting classes prevent downstream code from using Guava. In spark jars prior to 4.x, `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class` was not a class included in the jar. Post 4.x, Guava is still shaded to `sparkproject` but `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class`, used in Guava's `InternetDomainName` and elsewhere, is now present in the jar. {code:java} $ jar tf spark-net","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"spark-network-common no longer shades all of Guava\n\nShading of Guava in `spark-network-common` has changed from 3.x to 4.x such that conflicting classes prevent downstream code from using Guava. In spark jars prior to 4.x, `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class` was not a class included in the jar. Post 4.x, Guava is still shaded to `sparkproject` but `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class`, used in Guava's `InternetDomainName` and elsewhere, is now present in the jar. {code:java} $ jar tf spark-net","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: spark-network-common no longer shades all of Guava\n\nShading of Guava in `spark-network-common` has changed from 3.x to 4.x such that conflicting classes prevent downstream code from using Guava. In spark jars prior to 4.x, `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class` was not a class included in the jar. Post 4.x, Guava is still shaded to `sparkproject` but `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class`, used in Guava's `InternetDomainName` and elsewhere, is now present in the jar. {code:java} $ jar tf spark-net","output":"Shading of Guava in `spark-network-common` has changed from 3.x to 4.x such that conflicting classes prevent downstream code from using Guava. In spark jars prior to 4.x, `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class` was not a class included in the jar. Post 4.x, Guava is still sha"}
{"instruction":"Extract key technical details from this issue:","input":"Shading of Guava in `spark-network-common` has changed from 3.x to 4.x such that conflicting classes prevent downstream code from using Guava. In spark jars prior to 4.x, `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class` was not a class included in the jar. Post 4.x, Guava is still shaded to `sparkproject` but `com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class`, used in Guava's `InternetDomainName` and elsewhere, is now present in the jar. {code:java} $ jar tf spark-network-common_2.13-4.0.0.jar | rg PublicSuffixPatterns com/google/thirdparty/publicsuffix/PublicSuffixPatterns.class {code} If a library depends on spark but also depends on Guava, calls to `InternetDomainName` that call `PublicSuffixPatterns` will fail with `Exception in thread \"main\" java.lang.NoSuc","output":"spark-network-common no longer shades all of Guava"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Refactor ParameterizedQuery arguments validation\n\n* In this issue I propose to refactor ParameterizedQuery arguments validation to ParameterizedQueryArgumentsValidator so it can be reused between single-pass and fixed-point analyzer implementations. We also remove one redundant case from the ParameterizedQueryArgumentsValidator.isNotAllowed (Alias shouldn't call isNotAllowed again as it introduces unnecessary overhead to the method) to improve performance.","output":"Refactor ParameterizedQuery arguments validation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Refactor ParameterizedQuery arguments validation\n\n* In this issue I propose to refactor ParameterizedQuery arguments validation to ParameterizedQueryArgumentsValidator so it can be reused between single-pass and fixed-point analyzer implementations. We also remove one redundant case from the ParameterizedQueryArgumentsValidator.isNotAllowed (Alias shouldn't call isNotAllowed again as it introduces unnecessary overhead to the method) to improve performance.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Refactor ParameterizedQuery arguments validation\n\n* In this issue I propose to refactor ParameterizedQuery arguments validation to ParameterizedQueryArgumentsValidator so it can be reused between single-pass and fixed-point analyzer implementations. We also remove one redundant case from the ParameterizedQueryArgumentsValidator.isNotAllowed (Alias shouldn't call isNotAllowed again as it introduces unnecessary overhead to the method) to improve performance.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Refactor ParameterizedQuery arguments validation\n\n* In this issue I propose to refactor ParameterizedQuery arguments validation to ParameterizedQueryArgumentsValidator so it can be reused between single-pass and fixed-point analyzer implementations. We also remove one redundant case from the ParameterizedQueryArgumentsValidator.isNotAllowed (Alias shouldn't call isNotAllowed again as it introduces unnecessary overhead to the method) to improve performance.","output":"* In this issue I propose to refactor ParameterizedQuery arguments validation to ParameterizedQueryArgumentsValidator so it can be reused between single-pass and fixed-point analyzer implementations. We also remove one redundant case from the ParameterizedQueryArgumentsValidator.isNotAllowed (Alias "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Refactor ParameterizedQuery arguments validation\n\n* In this issue I propose to refactor ParameterizedQuery arguments validation to ParameterizedQueryArgumentsValidator so it can be reused between single-pass and fixed-point analyzer implementations. We also remove one redundant case from the ParameterizedQueryArgumentsValidator.isNotAllowed (Alias shouldn't call isNotAllowed again as it introduces unnecessary overhead to the method) to improve performance.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"* In this issue I propose to refactor ParameterizedQuery arguments validation to ParameterizedQueryArgumentsValidator so it can be reused between single-pass and fixed-point analyzer implementations. We also remove one redundant case from the ParameterizedQueryArgumentsValidator.isNotAllowed (Alias shouldn't call isNotAllowed again as it introduces unnecessary overhead to the method) to improve performance.","output":"Refactor ParameterizedQuery arguments validation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"SS | `Add TaskContext information to KafkaDataConsumer release() logs for better debugging`\n\nCurrently, log messages in the {{release()}} method of {{KafkaDataConsumer}} do not include Spark task context information (e.g., TaskID). This change adds task context details to the {{release()}} logs to improve traceability and debugging of Kafka consumer lifecycle events. We previously added similar context in {{{}KafkaBatchReaderFactory.createReader{}}}, which has proven useful for debugging. Including this information in {{release()}} helps correlate consumer release metrics with the specific Spark tasks that borrowed the consumer.","output":"SS | `Add TaskContext information to KafkaDataConsumer release() logs for better debugging`"}
{"instruction":"Classify the status of this issue based on its description:","input":"SS | `Add TaskContext information to KafkaDataConsumer release() logs for better debugging`\n\nCurrently, log messages in the {{release()}} method of {{KafkaDataConsumer}} do not include Spark task context information (e.g., TaskID). This change adds task context details to the {{release()}} logs to improve traceability and debugging of Kafka consumer lifecycle events. We previously added similar context in {{{}KafkaBatchReaderFactory.createReader{}}}, which has proven useful for debugging. Including this information in {{release()}} helps correlate consumer release metrics with the speci","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"SS | `Add TaskContext information to KafkaDataConsumer release() logs for better debugging`\n\nCurrently, log messages in the {{release()}} method of {{KafkaDataConsumer}} do not include Spark task context information (e.g., TaskID). This change adds task context details to the {{release()}} logs to improve traceability and debugging of Kafka consumer lifecycle events. We previously added similar context in {{{}KafkaBatchReaderFactory.createReader{}}}, which has proven useful for debugging. Including this information in {{release()}} helps correlate consumer release metrics with the speci","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: SS | `Add TaskContext information to KafkaDataConsumer release() logs for better debugging`\n\nCurrently, log messages in the {{release()}} method of {{KafkaDataConsumer}} do not include Spark task context information (e.g., TaskID). This change adds task context details to the {{release()}} logs to improve traceability and debugging of Kafka consumer lifecycle events. We previously added similar context in {{{}KafkaBatchReaderFactory.createReader{}}}, which has proven useful for debugging. Including this information in {{release()}} helps correlate consumer release metrics with the speci","output":"Currently, log messages in the {{release()}} method of {{KafkaDataConsumer}} do not include Spark task context information (e.g., TaskID). This change adds task context details to the {{release()}} logs to improve traceability and debugging of Kafka consumer lifecycle events. We previously added sim"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"SS | `Add TaskContext information to KafkaDataConsumer release() logs for better debugging`\n\nCurrently, log messages in the {{release()}} method of {{KafkaDataConsumer}} do not include Spark task context information (e.g., TaskID). This change adds task context details to the {{release()}} logs to improve traceability and debugging of Kafka consumer lifecycle events. We previously added similar context in {{{}KafkaBatchReaderFactory.createReader{}}}, which has proven useful for debugging. Including this information in {{release()}} helps correlate consumer release metrics with the speci","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, log messages in the {{release()}} method of {{KafkaDataConsumer}} do not include Spark task context information (e.g., TaskID). This change adds task context details to the {{release()}} logs to improve traceability and debugging of Kafka consumer lifecycle events. We previously added similar context in {{{}KafkaBatchReaderFactory.createReader{}}}, which has proven useful for debugging. Including this information in {{release()}} helps correlate consumer release metrics with the specific Spark tasks that borrowed the consumer.","output":"SS | `Add TaskContext information to KafkaDataConsumer release() logs for better debugging`"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Throughput deteriorated after migration from spark 3.5.5 to spark 4.0.0\n\nMy team recently updated spark dependency version from 3.5.5 to 4.0.0 This included use of spark-4.0.0-bin-hadoop3.tgz, update in pom.xml files and change of import statements (org.apache.spark.sql -> org.apache.spark.sql.classic). After this change our throughput (calculated as rows transferred per second) has significantly dropped for our both scenarios: 1. read from file, write to database and 2. read from database, write to database. I have performed comparison between application versions with spark 3.5.5 and 4.0.0 in cluster mode, local mode and one comparison (with use of synthetic file) using spark-shell only. In case of spark-shell I had more or less the same throughput for 3.5.5 and 4.0.0 but in case of our app used in cluster / local mode - both of these scenarios had better throughput with 3.5.5. I have observed that with 4.0.0 there are longer delays (when compared with 3.5.5) between log lines \"Running task x in stage y\" and \"Finished task x in stage y\". Is this throughput degradation a known issue? Could it be related to this task - [SPARK-48456] [M1] Performance benchmark - ASF JIRA ? (I'll also mention that we are using checkpointing (in case it might be important here))","output":"Throughput deteriorated after migration from spark 3.5.5 to spark 4.0.0"}
{"instruction":"Classify the status of this issue based on its description:","input":"Throughput deteriorated after migration from spark 3.5.5 to spark 4.0.0\n\nMy team recently updated spark dependency version from 3.5.5 to 4.0.0 This included use of spark-4.0.0-bin-hadoop3.tgz, update in pom.xml files and change of import statements (org.apache.spark.sql -> org.apache.spark.sql.classic). After this change our throughput (calculated as rows transferred per second) has significantly dropped for our both scenarios: 1. read from file, write to database and 2. read from database, write to database. I have performed comparison between application versions w","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Throughput deteriorated after migration from spark 3.5.5 to spark 4.0.0\n\nMy team recently updated spark dependency version from 3.5.5 to 4.0.0 This included use of spark-4.0.0-bin-hadoop3.tgz, update in pom.xml files and change of import statements (org.apache.spark.sql -> org.apache.spark.sql.classic). After this change our throughput (calculated as rows transferred per second) has significantly dropped for our both scenarios: 1. read from file, write to database and 2. read from database, write to database. I have performed comparison between application versions w","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Throughput deteriorated after migration from spark 3.5.5 to spark 4.0.0\n\nMy team recently updated spark dependency version from 3.5.5 to 4.0.0 This included use of spark-4.0.0-bin-hadoop3.tgz, update in pom.xml files and change of import statements (org.apache.spark.sql -> org.apache.spark.sql.classic). After this change our throughput (calculated as rows transferred per second) has significantly dropped for our both scenarios: 1. read from file, write to database and 2. read from database, write to database. I have performed comparison between application versions w","output":"My team recently updated spark dependency version from 3.5.5 to 4.0.0 This included use of spark-4.0.0-bin-hadoop3.tgz, update in pom.xml files and change of import statements (org.apache.spark.sql -> org.apache.spark.sql.classic). After this change our throughput (calculated as rows transferred per"}
{"instruction":"Extract key technical details from this issue:","input":"My team recently updated spark dependency version from 3.5.5 to 4.0.0 This included use of spark-4.0.0-bin-hadoop3.tgz, update in pom.xml files and change of import statements (org.apache.spark.sql -> org.apache.spark.sql.classic). After this change our throughput (calculated as rows transferred per second) has significantly dropped for our both scenarios: 1. read from file, write to database and 2. read from database, write to database. I have performed comparison between application versions with spark 3.5.5 and 4.0.0 in cluster mode, local mode and one comparison (with use of synthetic file) using spark-shell only. In case of spark-shell I had more or less the same throughput for 3.5.5 and 4.0.0 but in case of our app used in cluster / local mode - both of these scenarios had better thr","output":"Throughput deteriorated after migration from spark 3.5.5 to spark 4.0.0"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Construct FileStatus from the executor side directly\n\nhttps://github.com/apache/spark/pull/50765#discussion_r2357607758","output":"Construct FileStatus from the executor side directly"}
{"instruction":"Classify the status of this issue based on its description:","input":"Construct FileStatus from the executor side directly\n\nhttps://github.com/apache/spark/pull/50765#discussion_r2357607758","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Construct FileStatus from the executor side directly\n\nhttps://github.com/apache/spark/pull/50765#discussion_r2357607758","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Construct FileStatus from the executor side directly\n\nhttps://github.com/apache/spark/pull/50765#discussion_r2357607758","output":"https://github.com/apache/spark/pull/50765#discussion_r2357607758"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add golden files for Analyzer edge cases\n\nNew golden files for edge-cases discovered during the Analyzer support and development.","output":"Add golden files for Analyzer edge cases"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add golden files for Analyzer edge cases\n\nNew golden files for edge-cases discovered during the Analyzer support and development.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add golden files for Analyzer edge cases\n\nNew golden files for edge-cases discovered during the Analyzer support and development.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add golden files for Analyzer edge cases\n\nNew golden files for edge-cases discovered during the Analyzer support and development.","output":"New golden files for edge-cases discovered during the Analyzer support and development."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add golden files for Analyzer edge cases\n\nNew golden files for edge-cases discovered during the Analyzer support and development.","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add detailed error message for corrupted view metadata with mismatched column counts\n\nEnhance error reporting for corrupted view metadata by adding a detailed, user-friendly assertion message when the number of view query column names and the number of columns in the view schema mismatch.","output":"Add detailed error message for corrupted view metadata with mismatched column counts"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add detailed error message for corrupted view metadata with mismatched column counts\n\nEnhance error reporting for corrupted view metadata by adding a detailed, user-friendly assertion message when the number of view query column names and the number of columns in the view schema mismatch.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add detailed error message for corrupted view metadata with mismatched column counts\n\nEnhance error reporting for corrupted view metadata by adding a detailed, user-friendly assertion message when the number of view query column names and the number of columns in the view schema mismatch.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add detailed error message for corrupted view metadata with mismatched column counts\n\nEnhance error reporting for corrupted view metadata by adding a detailed, user-friendly assertion message when the number of view query column names and the number of columns in the view schema mismatch.","output":"Enhance error reporting for corrupted view metadata by adding a detailed, user-friendly assertion message when the number of view query column names and the number of columns in the view schema mismatch."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add detailed error message for corrupted view metadata with mismatched column counts\n\nEnhance error reporting for corrupted view metadata by adding a detailed, user-friendly assertion message when the number of view query column names and the number of columns in the view schema mismatch.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Enhance error reporting for corrupted view metadata by adding a detailed, user-friendly assertion message when the number of view query column names and the number of columns in the view schema mismatch.","output":"Add detailed error message for corrupted view metadata with mismatched column counts"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Display a detailed error message when table metadata is corrupted\n\nCurrently, no meaningful error message appears when the table metadata is corrupted due to a mismatch between the partition column names in the table schema and the declared partition columns. To facilitate debugging, a detailed error message should be shown in this situation.","output":"Display a detailed error message when table metadata is corrupted"}
{"instruction":"Classify the status of this issue based on its description:","input":"Display a detailed error message when table metadata is corrupted\n\nCurrently, no meaningful error message appears when the table metadata is corrupted due to a mismatch between the partition column names in the table schema and the declared partition columns. To facilitate debugging, a detailed error message should be shown in this situation.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Display a detailed error message when table metadata is corrupted\n\nCurrently, no meaningful error message appears when the table metadata is corrupted due to a mismatch between the partition column names in the table schema and the declared partition columns. To facilitate debugging, a detailed error message should be shown in this situation.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Display a detailed error message when table metadata is corrupted\n\nCurrently, no meaningful error message appears when the table metadata is corrupted due to a mismatch between the partition column names in the table schema and the declared partition columns. To facilitate debugging, a detailed error message should be shown in this situation.","output":"Currently, no meaningful error message appears when the table metadata is corrupted due to a mismatch between the partition column names in the table schema and the declared partition columns. To facilitate debugging, a detailed error message should be shown in this situation."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Display a detailed error message when table metadata is corrupted\n\nCurrently, no meaningful error message appears when the table metadata is corrupted due to a mismatch between the partition column names in the table schema and the declared partition columns. To facilitate debugging, a detailed error message should be shown in this situation.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Currently, no meaningful error message appears when the table metadata is corrupted due to a mismatch between the partition column names in the table schema and the declared partition columns. To facilitate debugging, a detailed error message should be shown in this situation.","output":"Display a detailed error message when table metadata is corrupted"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Use empty schema when altering a view which is not Hive compatible\n\nSpark attempts to save views in a Hive-compatible format and only sets the schema to empty if the save operation fails. However, due to certain Hive compatibility issues, the save operation may succeed while subsequent read operations fail. This issue arises after the change introduced in SPARK-46934, which removed the {{verifyColumnDataType}} check during the {{ALTER TABLE}} operation.","output":"Use empty schema when altering a view which is not Hive compatible"}
{"instruction":"Classify the status of this issue based on its description:","input":"Use empty schema when altering a view which is not Hive compatible\n\nSpark attempts to save views in a Hive-compatible format and only sets the schema to empty if the save operation fails. However, due to certain Hive compatibility issues, the save operation may succeed while subsequent read operations fail. This issue arises after the change introduced in SPARK-46934, which removed the {{verifyColumnDataType}} check during the {{ALTER TABLE}} operation.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Use empty schema when altering a view which is not Hive compatible\n\nSpark attempts to save views in a Hive-compatible format and only sets the schema to empty if the save operation fails. However, due to certain Hive compatibility issues, the save operation may succeed while subsequent read operations fail. This issue arises after the change introduced in SPARK-46934, which removed the {{verifyColumnDataType}} check during the {{ALTER TABLE}} operation.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Use empty schema when altering a view which is not Hive compatible\n\nSpark attempts to save views in a Hive-compatible format and only sets the schema to empty if the save operation fails. However, due to certain Hive compatibility issues, the save operation may succeed while subsequent read operations fail. This issue arises after the change introduced in SPARK-46934, which removed the {{verifyColumnDataType}} check during the {{ALTER TABLE}} operation.","output":"Spark attempts to save views in a Hive-compatible format and only sets the schema to empty if the save operation fails. However, due to certain Hive compatibility issues, the save operation may succeed while subsequent read operations fail. This issue arises after the change introduced in SPARK-4693"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Use empty schema when altering a view which is not Hive compatible\n\nSpark attempts to save views in a Hive-compatible format and only sets the schema to empty if the save operation fails. However, due to certain Hive compatibility issues, the save operation may succeed while subsequent read operations fail. This issue arises after the change introduced in SPARK-46934, which removed the {{verifyColumnDataType}} check during the {{ALTER TABLE}} operation.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Spark attempts to save views in a Hive-compatible format and only sets the schema to empty if the save operation fails. However, due to certain Hive compatibility issues, the save operation may succeed while subsequent read operations fail. This issue arises after the change introduced in SPARK-46934, which removed the {{verifyColumnDataType}} check during the {{ALTER TABLE}} operation.","output":"Use empty schema when altering a view which is not Hive compatible"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support recaching when a table is written via a different table implementation (V1 or V2)\n\nWhen a table is cached using one table implementation (e.g., V2) and written through the other (e.g., V1), Spark may not automatically trigger recaching. As a result, the cached data can become stale even though the underlying table content has changed. This issue arises because the current recaching mechanism does not consistently handle cross-implementation writes. Given that the community is actively working on Data Source V2 (DSV2), many data sources are expected to have both V1 and V2 implementations for a period of time, making this issue more likely to occur in practice. *Proposed Fix:* Enhance the cache invalidation logic to detect writes that occur through a different table implementation (V1 ↔ V2) and trigger recaching accordingly. {*}Expected Outcome:{*}{*}{*} * Cached data remains up to date when a table is written through either V1 or V2 paths. * Both logical-plan-based and file-path-based recaching continue to work as expected for V1&V2 connectors","output":"Support recaching when a table is written via a different table implementation (V1 or V2)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support recaching when a table is written via a different table implementation (V1 or V2)\n\nWhen a table is cached using one table implementation (e.g., V2) and written through the other (e.g., V1), Spark may not automatically trigger recaching. As a result, the cached data can become stale even though the underlying table content has changed. This issue arises because the current recaching mechanism does not consistently handle cross-implementation writes. Given that the community is actively working on Data Source V2 (DSV2), many data sources are expected to have both V1 and V2 imple","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Support recaching when a table is written via a different table implementation (V1 or V2)\n\nWhen a table is cached using one table implementation (e.g., V2) and written through the other (e.g., V1), Spark may not automatically trigger recaching. As a result, the cached data can become stale even though the underlying table content has changed. This issue arises because the current recaching mechanism does not consistently handle cross-implementation writes. Given that the community is actively working on Data Source V2 (DSV2), many data sources are expected to have both V1 and V2 imple","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support recaching when a table is written via a different table implementation (V1 or V2)\n\nWhen a table is cached using one table implementation (e.g., V2) and written through the other (e.g., V1), Spark may not automatically trigger recaching. As a result, the cached data can become stale even though the underlying table content has changed. This issue arises because the current recaching mechanism does not consistently handle cross-implementation writes. Given that the community is actively working on Data Source V2 (DSV2), many data sources are expected to have both V1 and V2 imple","output":"When a table is cached using one table implementation (e.g., V2) and written through the other (e.g., V1), Spark may not automatically trigger recaching. As a result, the cached data can become stale even though the underlying table content has changed. This issue arises because the current recachin"}
{"instruction":"Extract key technical details from this issue:","input":"When a table is cached using one table implementation (e.g., V2) and written through the other (e.g., V1), Spark may not automatically trigger recaching. As a result, the cached data can become stale even though the underlying table content has changed. This issue arises because the current recaching mechanism does not consistently handle cross-implementation writes. Given that the community is actively working on Data Source V2 (DSV2), many data sources are expected to have both V1 and V2 implementations for a period of time, making this issue more likely to occur in practice. *Proposed Fix:* Enhance the cache invalidation logic to detect writes that occur through a different table implementation (V1 ↔ V2) and trigger recaching accordingly. {*}Expected Outcome:{*}{*}{*} * Cached data rema","output":"Support recaching when a table is written via a different table implementation (V1 or V2)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"add sbt-dependency-graph to SBT plugins\n\nThe plugin adds few useful commands to browser dependencies tree in SBT.","output":"add sbt-dependency-graph to SBT plugins"}
{"instruction":"Classify the status of this issue based on its description:","input":"add sbt-dependency-graph to SBT plugins\n\nThe plugin adds few useful commands to browser dependencies tree in SBT.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"add sbt-dependency-graph to SBT plugins\n\nThe plugin adds few useful commands to browser dependencies tree in SBT.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: add sbt-dependency-graph to SBT plugins\n\nThe plugin adds few useful commands to browser dependencies tree in SBT.","output":"The plugin adds few useful commands to browser dependencies tree in SBT."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Make DSv2 table resolution aware of cached tables\n\nMake DSv2 table resolution aware of cached tables. If the user executes CACHE TABLE t, the subsequent resolution calls must use the cached table metadata, instead of potentially allowing the connectors to refresh and break the cache lookup.","output":"Make DSv2 table resolution aware of cached tables"}
{"instruction":"Classify the status of this issue based on its description:","input":"Make DSv2 table resolution aware of cached tables\n\nMake DSv2 table resolution aware of cached tables. If the user executes CACHE TABLE t, the subsequent resolution calls must use the cached table metadata, instead of potentially allowing the connectors to refresh and break the cache lookup.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Make DSv2 table resolution aware of cached tables\n\nMake DSv2 table resolution aware of cached tables. If the user executes CACHE TABLE t, the subsequent resolution calls must use the cached table metadata, instead of potentially allowing the connectors to refresh and break the cache lookup.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Make DSv2 table resolution aware of cached tables\n\nMake DSv2 table resolution aware of cached tables. If the user executes CACHE TABLE t, the subsequent resolution calls must use the cached table metadata, instead of potentially allowing the connectors to refresh and break the cache lookup.","output":"Make DSv2 table resolution aware of cached tables. If the user executes CACHE TABLE t, the subsequent resolution calls must use the cached table metadata, instead of potentially allowing the connectors to refresh and break the cache lookup."}
{"instruction":"Extract key technical details from this issue:","input":"Make DSv2 table resolution aware of cached tables. If the user executes CACHE TABLE t, the subsequent resolution calls must use the cached table metadata, instead of potentially allowing the connectors to refresh and break the cache lookup.","output":"Make DSv2 table resolution aware of cached tables"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Prevent spark.sql session state mutation within Python pipeline files\n\nWe should ban all uses of spark.sql except for select statements.","output":"Prevent spark.sql session state mutation within Python pipeline files"}
{"instruction":"Classify the status of this issue based on its description:","input":"Prevent spark.sql session state mutation within Python pipeline files\n\nWe should ban all uses of spark.sql except for select statements.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Prevent spark.sql session state mutation within Python pipeline files\n\nWe should ban all uses of spark.sql except for select statements.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Prevent spark.sql session state mutation within Python pipeline files\n\nWe should ban all uses of spark.sql except for select statements.","output":"We should ban all uses of spark.sql except for select statements."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Relex Py4J requirement to 0.10.9.7+\n\nJVM are compatible with 0.10.9.7+ and above versions have some correctness fixes","output":"Relex Py4J requirement to 0.10.9.7+"}
{"instruction":"Classify the status of this issue based on its description:","input":"Relex Py4J requirement to 0.10.9.7+\n\nJVM are compatible with 0.10.9.7+ and above versions have some correctness fixes","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Relex Py4J requirement to 0.10.9.7+\n\nJVM are compatible with 0.10.9.7+ and above versions have some correctness fixes","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Relex Py4J requirement to 0.10.9.7+\n\nJVM are compatible with 0.10.9.7+ and above versions have some correctness fixes","output":"JVM are compatible with 0.10.9.7+ and above versions have some correctness fixes"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Relex Py4J requirement to 0.10.9.7+\n\nJVM are compatible with 0.10.9.7+ and above versions have some correctness fixes","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Skip query execution for DESCRIBE QUERY\n\nDESCRIBE QUERY command only needs the schema of the query, so we only need to do analysis. Therefore, we can skip the unnecessary execution portion for the command.","output":"Skip query execution for DESCRIBE QUERY"}
{"instruction":"Classify the status of this issue based on its description:","input":"Skip query execution for DESCRIBE QUERY\n\nDESCRIBE QUERY command only needs the schema of the query, so we only need to do analysis. Therefore, we can skip the unnecessary execution portion for the command.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Skip query execution for DESCRIBE QUERY\n\nDESCRIBE QUERY command only needs the schema of the query, so we only need to do analysis. Therefore, we can skip the unnecessary execution portion for the command.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Skip query execution for DESCRIBE QUERY\n\nDESCRIBE QUERY command only needs the schema of the query, so we only need to do analysis. Therefore, we can skip the unnecessary execution portion for the command.","output":"DESCRIBE QUERY command only needs the schema of the query, so we only need to do analysis. Therefore, we can skip the unnecessary execution portion for the command."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Skip query execution for DESCRIBE QUERY\n\nDESCRIBE QUERY command only needs the schema of the query, so we only need to do analysis. Therefore, we can skip the unnecessary execution portion for the command.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"DESCRIBE QUERY command only needs the schema of the query, so we only need to do analysis. Therefore, we can skip the unnecessary execution portion for the command.","output":"Skip query execution for DESCRIBE QUERY"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"WithAggregationKinesisBackedBlockRDDSuite fails on JDK 9 and above\n\nRunning {{ENABLE_KINESIS_TESTS=1 build/mvn test -Pkinesis-asl -pl connector/kinesis-asl}} on JDK 9 or above fails with {code} WithAggregationKinesisBackedBlockRDDSuite: *** RUN ABORTED *** java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter at com.amazonaws.services.kinesis.producer.HashedFileCopier.copyFileFrom(HashedFileCopier.java:56) at com.amazonaws.services.kinesis.producer.KinesisProducer.extractBinaries(KinesisProducer.java:893) at com.amazonaws.services.kinesis.producer.KinesisProducer. (KinesisProducer.java:245) at org.apache.spark.streaming.kinesis.KPLDataGenerator.producer$lzycompute(KPLBasedKinesisTestUtils.scala:52) at org.apache.spark.streaming.kinesis.KPLDataGenerator.producer(KPLBasedKinesisTestUtils.scala:45) at org.apache.spark.streaming.kinesis.KPLDataGenerator.$anonfun$sendData$1(KPLBasedKinesisTestUtils.scala:60) at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23) at scala.collection.immutable.Range.foreach(Range.scala:158) at org.apache.spark.streaming.kinesis.KPLDataGenerator.sendData(KPLBasedKinesisTestUtils.scala:57) at org.apache.spark.streaming.kinesis.KinesisTestUtils.pushData(KinesisTestUtils.scala:134) ... Cause: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) at com.amazonaws.services.kinesis.producer.HashedFileCopier.copyFileFrom(HashedFileCopier.java:56) at com.amazonaws.services.kinesis.producer.KinesisProducer.extractBinaries(KinesisProducer.java:893) at com.amazonaws.services.kinesis.producer.KinesisProducer. (KinesisProducer.java:245) at org.apache.spark.streaming.kinesis.KPLDataGenerator.producer$lzycompute(KPLBasedKinesisTestUtils.scala:52) at org.apache.spark.streaming.kinesis.KPLDataGenerator.producer(KPLBasedKinesisTestUtils.scala:45) at org.apache.spark.streaming.kinesis.KPLDataGenerator.$anonfun$sendData$1(KPLBasedKinesisTestUtils.scala:60) at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23) ... {code}","output":"WithAggregationKinesisBackedBlockRDDSuite fails on JDK 9 and above"}
{"instruction":"Classify the status of this issue based on its description:","input":"WithAggregationKinesisBackedBlockRDDSuite fails on JDK 9 and above\n\nRunning {{ENABLE_KINESIS_TESTS=1 build/mvn test -Pkinesis-asl -pl connector/kinesis-asl}} on JDK 9 or above fails with {code} WithAggregationKinesisBackedBlockRDDSuite: *** RUN ABORTED *** java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter at com.amazonaws.services.kinesis.producer.HashedFileCopier.copyFileFrom(HashedFileCopier.java:56) at com.amazonaws.services.kinesis.producer.KinesisProducer.extractBinaries(KinesisProducer.java:893) at com.amazonaws.services.kinesis.producer.Kin","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"WithAggregationKinesisBackedBlockRDDSuite fails on JDK 9 and above\n\nRunning {{ENABLE_KINESIS_TESTS=1 build/mvn test -Pkinesis-asl -pl connector/kinesis-asl}} on JDK 9 or above fails with {code} WithAggregationKinesisBackedBlockRDDSuite: *** RUN ABORTED *** java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter at com.amazonaws.services.kinesis.producer.HashedFileCopier.copyFileFrom(HashedFileCopier.java:56) at com.amazonaws.services.kinesis.producer.KinesisProducer.extractBinaries(KinesisProducer.java:893) at com.amazonaws.services.kinesis.producer.Kin","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: WithAggregationKinesisBackedBlockRDDSuite fails on JDK 9 and above\n\nRunning {{ENABLE_KINESIS_TESTS=1 build/mvn test -Pkinesis-asl -pl connector/kinesis-asl}} on JDK 9 or above fails with {code} WithAggregationKinesisBackedBlockRDDSuite: *** RUN ABORTED *** java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter at com.amazonaws.services.kinesis.producer.HashedFileCopier.copyFileFrom(HashedFileCopier.java:56) at com.amazonaws.services.kinesis.producer.KinesisProducer.extractBinaries(KinesisProducer.java:893) at com.amazonaws.services.kinesis.producer.Kin","output":"Running {{ENABLE_KINESIS_TESTS=1 build/mvn test -Pkinesis-asl -pl connector/kinesis-asl}} on JDK 9 or above fails with {code} WithAggregationKinesisBackedBlockRDDSuite: *** RUN ABORTED *** java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter at com.amazonaws.services.kinesis.producer.Has"}
{"instruction":"Extract key technical details from this issue:","input":"Running {{ENABLE_KINESIS_TESTS=1 build/mvn test -Pkinesis-asl -pl connector/kinesis-asl}} on JDK 9 or above fails with {code} WithAggregationKinesisBackedBlockRDDSuite: *** RUN ABORTED *** java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter at com.amazonaws.services.kinesis.producer.HashedFileCopier.copyFileFrom(HashedFileCopier.java:56) at com.amazonaws.services.kinesis.producer.KinesisProducer.extractBinaries(KinesisProducer.java:893) at com.amazonaws.services.kinesis.producer.KinesisProducer. (KinesisProducer.java:245) at org.apache.spark.streaming.kinesis.KPLDataGenerator.producer$lzycompute(KPLBasedKinesisTestUtils.scala:52) at org.apache.spark.streaming.kinesis.KPLDataGenerator.producer(KPLBasedKinesisTestUtils.scala:45) at org.apache.spark.streaming.kinesis.KPLDataGener","output":"WithAggregationKinesisBackedBlockRDDSuite fails on JDK 9 and above"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix uncaching table by name without cascading\n\n{{cacheManager.uncacheTableOrView(spark, Seq(\"testcat\", \"tbl\"), cascade = false)}} does not find the table reference because it is wrapped into a subquery alias.","output":"Fix uncaching table by name without cascading"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix uncaching table by name without cascading\n\n{{cacheManager.uncacheTableOrView(spark, Seq(\"testcat\", \"tbl\"), cascade = false)}} does not find the table reference because it is wrapped into a subquery alias.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix uncaching table by name without cascading\n\n{{cacheManager.uncacheTableOrView(spark, Seq(\"testcat\", \"tbl\"), cascade = false)}} does not find the table reference because it is wrapped into a subquery alias.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix uncaching table by name without cascading\n\n{{cacheManager.uncacheTableOrView(spark, Seq(\"testcat\", \"tbl\"), cascade = false)}} does not find the table reference because it is wrapped into a subquery alias.","output":"{{cacheManager.uncacheTableOrView(spark, Seq(\"testcat\", \"tbl\"), cascade = false)}} does not find the table reference because it is wrapped into a subquery alias."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix uncaching table by name without cascading\n\n{{cacheManager.uncacheTableOrView(spark, Seq(\"testcat\", \"tbl\"), cascade = false)}} does not find the table reference because it is wrapped into a subquery alias.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"{{cacheManager.uncacheTableOrView(spark, Seq(\"testcat\", \"tbl\"), cascade = false)}} does not find the table reference because it is wrapped into a subquery alias.","output":"Fix uncaching table by name without cascading"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Use the staging directory as the output path then move to final path\n\nSparkSQL uses the partition location or table location as the commit path (except in *_dynamic partition overwrite_* mode and *_custom partition path_* mode). This has at least the following issues: * As described in SPARK-37210, conflicts can occur when multiple partitions job of the same table are run concurrently. Using a staging directory can avoid this issue. * As described in SPARK-53937, using a staging directory allows for near-atomic operations. _*Dynamic partition overwrite*_ mode and *_custom partition path_* mode already use the staging directory. And *_dynamic partition overwrite_* mode and _*custom partition path*_ are implemented differently, which can be further simplified into a unified process. And in https://github.com/apache/spark/pull/29000, reset the staging directory as the output directory of FileOutputCommitter. This way is more safer. It should be modified to this way.","output":"Use the staging directory as the output path then move to final path"}
{"instruction":"Classify the status of this issue based on its description:","input":"Use the staging directory as the output path then move to final path\n\nSparkSQL uses the partition location or table location as the commit path (except in *_dynamic partition overwrite_* mode and *_custom partition path_* mode). This has at least the following issues: * As described in SPARK-37210, conflicts can occur when multiple partitions job of the same table are run concurrently. Using a staging directory can avoid this issue. * As described in SPARK-53937, using a staging directory allows for near-atomic operations. _*Dynamic partition overwrite*_ mode and ","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Use the staging directory as the output path then move to final path\n\nSparkSQL uses the partition location or table location as the commit path (except in *_dynamic partition overwrite_* mode and *_custom partition path_* mode). This has at least the following issues: * As described in SPARK-37210, conflicts can occur when multiple partitions job of the same table are run concurrently. Using a staging directory can avoid this issue. * As described in SPARK-53937, using a staging directory allows for near-atomic operations. _*Dynamic partition overwrite*_ mode and ","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Use the staging directory as the output path then move to final path\n\nSparkSQL uses the partition location or table location as the commit path (except in *_dynamic partition overwrite_* mode and *_custom partition path_* mode). This has at least the following issues: * As described in SPARK-37210, conflicts can occur when multiple partitions job of the same table are run concurrently. Using a staging directory can avoid this issue. * As described in SPARK-53937, using a staging directory allows for near-atomic operations. _*Dynamic partition overwrite*_ mode and ","output":"SparkSQL uses the partition location or table location as the commit path (except in *_dynamic partition overwrite_* mode and *_custom partition path_* mode). This has at least the following issues: * As described in SPARK-37210, conflicts can occur when multiple partitions job of the same table are"}
{"instruction":"Extract key technical details from this issue:","input":"SparkSQL uses the partition location or table location as the commit path (except in *_dynamic partition overwrite_* mode and *_custom partition path_* mode). This has at least the following issues: * As described in SPARK-37210, conflicts can occur when multiple partitions job of the same table are run concurrently. Using a staging directory can avoid this issue. * As described in SPARK-53937, using a staging directory allows for near-atomic operations. _*Dynamic partition overwrite*_ mode and *_custom partition path_* mode already use the staging directory. And *_dynamic partition overwrite_* mode and _*custom partition path*_ are implemented differently, which can be further simplified into a unified process. And in https://github.com/apache/spark/pull/29000, reset the staging directory","output":"Use the staging directory as the output path then move to final path"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Reduce memory footprint from cached local relations upon cloning\n\nCloning sessions is a common operation in Spark applications (e.g., for creating isolated execution contexts). The current approach of duplicating cached data can significantly increase memory footprint, especially when: * Sessions are cloned frequently * Cached relations contain large datasets * Multiple clones exist simultaneously An improvement can be made by implementing reference counting as opposed to data replication for the block manager entries that reference cached local relations.","output":"Reduce memory footprint from cached local relations upon cloning"}
{"instruction":"Classify the status of this issue based on its description:","input":"Reduce memory footprint from cached local relations upon cloning\n\nCloning sessions is a common operation in Spark applications (e.g., for creating isolated execution contexts). The current approach of duplicating cached data can significantly increase memory footprint, especially when: * Sessions are cloned frequently * Cached relations contain large datasets * Multiple clones exist simultaneously An improvement can be made by implementing reference counting as opposed to data replication for the block manager entries that reference cached local relations.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Reduce memory footprint from cached local relations upon cloning\n\nCloning sessions is a common operation in Spark applications (e.g., for creating isolated execution contexts). The current approach of duplicating cached data can significantly increase memory footprint, especially when: * Sessions are cloned frequently * Cached relations contain large datasets * Multiple clones exist simultaneously An improvement can be made by implementing reference counting as opposed to data replication for the block manager entries that reference cached local relations.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Reduce memory footprint from cached local relations upon cloning\n\nCloning sessions is a common operation in Spark applications (e.g., for creating isolated execution contexts). The current approach of duplicating cached data can significantly increase memory footprint, especially when: * Sessions are cloned frequently * Cached relations contain large datasets * Multiple clones exist simultaneously An improvement can be made by implementing reference counting as opposed to data replication for the block manager entries that reference cached local relations.","output":"Cloning sessions is a common operation in Spark applications (e.g., for creating isolated execution contexts). The current approach of duplicating cached data can significantly increase memory footprint, especially when: * Sessions are cloned frequently * Cached relations contain large datasets * Mu"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Reduce memory footprint from cached local relations upon cloning\n\nCloning sessions is a common operation in Spark applications (e.g., for creating isolated execution contexts). The current approach of duplicating cached data can significantly increase memory footprint, especially when: * Sessions are cloned frequently * Cached relations contain large datasets * Multiple clones exist simultaneously An improvement can be made by implementing reference counting as opposed to data replication for the block manager entries that reference cached local relations.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Cloning sessions is a common operation in Spark applications (e.g., for creating isolated execution contexts). The current approach of duplicating cached data can significantly increase memory footprint, especially when: * Sessions are cloned frequently * Cached relations contain large datasets * Multiple clones exist simultaneously An improvement can be made by implementing reference counting as opposed to data replication for the block manager entries that reference cached local relations.","output":"Reduce memory footprint from cached local relations upon cloning"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Complex sql with expand operator and code gen enabled, very slow\n\nComplex sql with expand operator and code gen enabled, very slow sql format like select keya,keyb,count(distinct case when),...,count(distinct case when),sum(a),sum(b) from x group by keya,keyb when disable whole stage code gen, run will speed up 20x times when add executor jvm parameter -XX:-TieredCompilation, run will speed up 20x times reduce select column count, such as 28 -> 27, can speed up 10x times","output":"Complex sql with expand operator and code gen enabled, very slow"}
{"instruction":"Classify the status of this issue based on its description:","input":"Complex sql with expand operator and code gen enabled, very slow\n\nComplex sql with expand operator and code gen enabled, very slow sql format like select keya,keyb,count(distinct case when),...,count(distinct case when),sum(a),sum(b) from x group by keya,keyb when disable whole stage code gen, run will speed up 20x times when add executor jvm parameter -XX:-TieredCompilation, run will speed up 20x times reduce select column count, such as 28 -> 27, can speed up 10x times","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Complex sql with expand operator and code gen enabled, very slow\n\nComplex sql with expand operator and code gen enabled, very slow sql format like select keya,keyb,count(distinct case when),...,count(distinct case when),sum(a),sum(b) from x group by keya,keyb when disable whole stage code gen, run will speed up 20x times when add executor jvm parameter -XX:-TieredCompilation, run will speed up 20x times reduce select column count, such as 28 -> 27, can speed up 10x times","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Complex sql with expand operator and code gen enabled, very slow\n\nComplex sql with expand operator and code gen enabled, very slow sql format like select keya,keyb,count(distinct case when),...,count(distinct case when),sum(a),sum(b) from x group by keya,keyb when disable whole stage code gen, run will speed up 20x times when add executor jvm parameter -XX:-TieredCompilation, run will speed up 20x times reduce select column count, such as 28 -> 27, can speed up 10x times","output":"Complex sql with expand operator and code gen enabled, very slow sql format like select keya,keyb,count(distinct case when),...,count(distinct case when),sum(a),sum(b) from x group by keya,keyb when disable whole stage code gen, run will speed up 20x times when add executor jvm parameter -XX:-Tiered"}
{"instruction":"Extract key technical details from this issue:","input":"Complex sql with expand operator and code gen enabled, very slow sql format like select keya,keyb,count(distinct case when),...,count(distinct case when),sum(a),sum(b) from x group by keya,keyb when disable whole stage code gen, run will speed up 20x times when add executor jvm parameter -XX:-TieredCompilation, run will speed up 20x times reduce select column count, such as 28 -> 27, can speed up 10x times","output":"Complex sql with expand operator and code gen enabled, very slow"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add PipelineAnalysisContext message to support pipeline analysis during Spark Connect query execution\n\nWhen a user invokes an API like `spark.sql` inside a query function that triggers analysis, we want to include information that allows us to do SDP-specific special handling. Adding a PipelineAnalysisContext will allow us to include information along with related RPCs so that the server knows to do this special handling.","output":"Add PipelineAnalysisContext message to support pipeline analysis during Spark Connect query execution"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add PipelineAnalysisContext message to support pipeline analysis during Spark Connect query execution\n\nWhen a user invokes an API like `spark.sql` inside a query function that triggers analysis, we want to include information that allows us to do SDP-specific special handling. Adding a PipelineAnalysisContext will allow us to include information along with related RPCs so that the server knows to do this special handling.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add PipelineAnalysisContext message to support pipeline analysis during Spark Connect query execution\n\nWhen a user invokes an API like `spark.sql` inside a query function that triggers analysis, we want to include information that allows us to do SDP-specific special handling. Adding a PipelineAnalysisContext will allow us to include information along with related RPCs so that the server knows to do this special handling.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add PipelineAnalysisContext message to support pipeline analysis during Spark Connect query execution\n\nWhen a user invokes an API like `spark.sql` inside a query function that triggers analysis, we want to include information that allows us to do SDP-specific special handling. Adding a PipelineAnalysisContext will allow us to include information along with related RPCs so that the server knows to do this special handling.","output":"When a user invokes an API like `spark.sql` inside a query function that triggers analysis, we want to include information that allows us to do SDP-specific special handling. Adding a PipelineAnalysisContext will allow us to include information along with related RPCs so that the server knows to do "}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add PipelineAnalysisContext message to support pipeline analysis during Spark Connect query execution\n\nWhen a user invokes an API like `spark.sql` inside a query function that triggers analysis, we want to include information that allows us to do SDP-specific special handling. Adding a PipelineAnalysisContext will allow us to include information along with related RPCs so that the server knows to do this special handling.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"When a user invokes an API like `spark.sql` inside a query function that triggers analysis, we want to include information that allows us to do SDP-specific special handling. Adding a PipelineAnalysisContext will allow us to include information along with related RPCs so that the server knows to do this special handling.","output":"Add PipelineAnalysisContext message to support pipeline analysis during Spark Connect query execution"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"InferFiltersFromConstraints rule does not infer filter conditions for complex join expressions\n\nThe Spark optimizer's {{InferFiltersFromConstraints}} rule is currently unable to infer filter conditions when join constraints involve complex expressions. While it works for simple attribute equalities ({{{}a = b{}}}), it can't infer constraint from anything more complex than that. *Example (works as expected):* {code:sql} SELECT * FROM t1 JOIN t2 ON t1.a = t2.b WHERE t2.b = 1 {code} In this case, the optimizer correctly infers the additional constraint {{{}t1.a = 1{}}}. *Example (does not work):* {code:sql} SELECT * FROM t1 JOIN right ON t1.a = t2.b + 2 WHERE t2.b = 1 {code} In this case, it is clear that {{t1.a = 3}} (since {{b = 1}} and {{{}a = b + 2{}}}), but the optimizer does not infer this constraint. *How to Reproduce:* {code:scala} spark.sql(\"CREATE TABLE t1(a INT)\") spark.sql(\"CREATE TABLE t2(b INT)\") spark.sql(\"\"\" SELECT * FROM t1 INNER JOIN t2 ON t2.b = t1.a + 2 WHERE t1.a = 1 \"\"\").explain {code} {code:java} == Physical Plan == AdaptiveSparkPlan +- BroadcastHashJoin [(a#2 + 2)], [b#3], Inner, BuildRight, false :- Filter (isnotnull(a#2) AND (a#2 = 1)) : +- FileScan spark_catalog.default.t1[a#2] +- Filter isnotnull(b#3) +- FileScan spark_catalog.default.t2[b#3] {code} *Expected Behavior:* The optimizer should be able to statically evaluate and infer that {{t2.b = 3}} given the join condition and the filter on {{{}t1.a{}}}. *Impact:* This limits the optimizer's ability to push down filters and optimize query execution plans for queries with complex join conditions.","output":"InferFiltersFromConstraints rule does not infer filter conditions for complex join expressions"}
{"instruction":"Classify the status of this issue based on its description:","input":"InferFiltersFromConstraints rule does not infer filter conditions for complex join expressions\n\nThe Spark optimizer's {{InferFiltersFromConstraints}} rule is currently unable to infer filter conditions when join constraints involve complex expressions. While it works for simple attribute equalities ({{{}a = b{}}}), it can't infer constraint from anything more complex than that. *Example (works as expected):* {code:sql} SELECT * FROM t1 JOIN t2 ON t1.a = t2.b WHERE t2.b = 1 {code} In this case, the optimizer correctly infers the additional constraint {{{}t1.a = 1{}}}. *Example (does not wor","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"InferFiltersFromConstraints rule does not infer filter conditions for complex join expressions\n\nThe Spark optimizer's {{InferFiltersFromConstraints}} rule is currently unable to infer filter conditions when join constraints involve complex expressions. While it works for simple attribute equalities ({{{}a = b{}}}), it can't infer constraint from anything more complex than that. *Example (works as expected):* {code:sql} SELECT * FROM t1 JOIN t2 ON t1.a = t2.b WHERE t2.b = 1 {code} In this case, the optimizer correctly infers the additional constraint {{{}t1.a = 1{}}}. *Example (does not wor","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: InferFiltersFromConstraints rule does not infer filter conditions for complex join expressions\n\nThe Spark optimizer's {{InferFiltersFromConstraints}} rule is currently unable to infer filter conditions when join constraints involve complex expressions. While it works for simple attribute equalities ({{{}a = b{}}}), it can't infer constraint from anything more complex than that. *Example (works as expected):* {code:sql} SELECT * FROM t1 JOIN t2 ON t1.a = t2.b WHERE t2.b = 1 {code} In this case, the optimizer correctly infers the additional constraint {{{}t1.a = 1{}}}. *Example (does not wor","output":"The Spark optimizer's {{InferFiltersFromConstraints}} rule is currently unable to infer filter conditions when join constraints involve complex expressions. While it works for simple attribute equalities ({{{}a = b{}}}), it can't infer constraint from anything more complex than that. *Example (works"}
{"instruction":"Extract key technical details from this issue:","input":"The Spark optimizer's {{InferFiltersFromConstraints}} rule is currently unable to infer filter conditions when join constraints involve complex expressions. While it works for simple attribute equalities ({{{}a = b{}}}), it can't infer constraint from anything more complex than that. *Example (works as expected):* {code:sql} SELECT * FROM t1 JOIN t2 ON t1.a = t2.b WHERE t2.b = 1 {code} In this case, the optimizer correctly infers the additional constraint {{{}t1.a = 1{}}}. *Example (does not work):* {code:sql} SELECT * FROM t1 JOIN right ON t1.a = t2.b + 2 WHERE t2.b = 1 {code} In this case, it is clear that {{t1.a = 3}} (since {{b = 1}} and {{{}a = b + 2{}}}), but the optimizer does not infer this constraint. *How to Reproduce:* {code:scala} spark.sql(\"CREATE TABLE t1(a INT)\") spark.sql(\"","output":"InferFiltersFromConstraints rule does not infer filter conditions for complex join expressions"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add support to track `spark_conf` at the dataset level\n\nWe need to add {{sql_confs}} to {{DefineOutput}} in SDP to support following use case SQL file #1 {code:java} SET some_conf = some_value; CREATE STREAMING TABLE st; {code} SQL file #2 CREATE FLOW INSERT INTO st FROM .... Since we don't store {{sql_confs}} at the Dataset level, the conf would be ignored. We should store it at dataset level and will merge the {{sql_conf}} stored at the dataset level to its corresponding flow when we construct the DataflowGraph.","output":"Add support to track `spark_conf` at the dataset level"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add support to track `spark_conf` at the dataset level\n\nWe need to add {{sql_confs}} to {{DefineOutput}} in SDP to support following use case SQL file #1 {code:java} SET some_conf = some_value; CREATE STREAMING TABLE st; {code} SQL file #2 CREATE FLOW INSERT INTO st FROM .... Since we don't store {{sql_confs}} at the Dataset level, the conf would be ignored. We should store it at dataset level and will merge the {{sql_conf}} stored at the dataset level to its corresponding flow when we construct the DataflowGraph.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Add support to track `spark_conf` at the dataset level\n\nWe need to add {{sql_confs}} to {{DefineOutput}} in SDP to support following use case SQL file #1 {code:java} SET some_conf = some_value; CREATE STREAMING TABLE st; {code} SQL file #2 CREATE FLOW INSERT INTO st FROM .... Since we don't store {{sql_confs}} at the Dataset level, the conf would be ignored. We should store it at dataset level and will merge the {{sql_conf}} stored at the dataset level to its corresponding flow when we construct the DataflowGraph.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add support to track `spark_conf` at the dataset level\n\nWe need to add {{sql_confs}} to {{DefineOutput}} in SDP to support following use case SQL file #1 {code:java} SET some_conf = some_value; CREATE STREAMING TABLE st; {code} SQL file #2 CREATE FLOW INSERT INTO st FROM .... Since we don't store {{sql_confs}} at the Dataset level, the conf would be ignored. We should store it at dataset level and will merge the {{sql_conf}} stored at the dataset level to its corresponding flow when we construct the DataflowGraph.","output":"We need to add {{sql_confs}} to {{DefineOutput}} in SDP to support following use case SQL file #1 {code:java} SET some_conf = some_value; CREATE STREAMING TABLE st; {code} SQL file #2 CREATE FLOW INSERT INTO st FROM .... Since we don't store {{sql_confs}} at the Dataset level, the conf would be igno"}
{"instruction":"Extract key technical details from this issue:","input":"We need to add {{sql_confs}} to {{DefineOutput}} in SDP to support following use case SQL file #1 {code:java} SET some_conf = some_value; CREATE STREAMING TABLE st; {code} SQL file #2 CREATE FLOW INSERT INTO st FROM .... Since we don't store {{sql_confs}} at the Dataset level, the conf would be ignored. We should store it at dataset level and will merge the {{sql_conf}} stored at the dataset level to its corresponding flow when we construct the DataflowGraph.","output":"Add support to track `spark_conf` at the dataset level"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add support for KLL quantiles functions based on DataSketches\n\nDocumentation reference: [https://datasketches.apache.org/docs/KLL/KLLSketch.html]. DataSketches code API reference: [https://apache.github.io/datasketches-java/6.1.0/org/apache/datasketches/kll/KllLongsSketch.html] Reference PR for recently adding Theta sketches: [https://github.com/apache/spark/pull/51298]","output":"Add support for KLL quantiles functions based on DataSketches"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add support for KLL quantiles functions based on DataSketches\n\nDocumentation reference: [https://datasketches.apache.org/docs/KLL/KLLSketch.html]. DataSketches code API reference: [https://apache.github.io/datasketches-java/6.1.0/org/apache/datasketches/kll/KllLongsSketch.html] Reference PR for recently adding Theta sketches: [https://github.com/apache/spark/pull/51298]","output":"In Progress"}
{"instruction":"Determine the priority level of this issue:","input":"Add support for KLL quantiles functions based on DataSketches\n\nDocumentation reference: [https://datasketches.apache.org/docs/KLL/KLLSketch.html]. DataSketches code API reference: [https://apache.github.io/datasketches-java/6.1.0/org/apache/datasketches/kll/KllLongsSketch.html] Reference PR for recently adding Theta sketches: [https://github.com/apache/spark/pull/51298]","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add support for KLL quantiles functions based on DataSketches\n\nDocumentation reference: [https://datasketches.apache.org/docs/KLL/KLLSketch.html]. DataSketches code API reference: [https://apache.github.io/datasketches-java/6.1.0/org/apache/datasketches/kll/KllLongsSketch.html] Reference PR for recently adding Theta sketches: [https://github.com/apache/spark/pull/51298]","output":"Documentation reference: [https://datasketches.apache.org/docs/KLL/KLLSketch.html]. DataSketches code API reference: [https://apache.github.io/datasketches-java/6.1.0/org/apache/datasketches/kll/KllLongsSketch.html] Reference PR for recently adding Theta sketches: [https://github.com/apache/spark/pu"}
{"instruction":"Extract key technical details from this issue:","input":"Documentation reference: [https://datasketches.apache.org/docs/KLL/KLLSketch.html]. DataSketches code API reference: [https://apache.github.io/datasketches-java/6.1.0/org/apache/datasketches/kll/KllLongsSketch.html] Reference PR for recently adding Theta sketches: [https://github.com/apache/spark/pull/51298]","output":"Add support for KLL quantiles functions based on DataSketches"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Reorganize Python streaming TWS test\n\nReorganize the Python TWS tests: * moving tws related tests to a new `/streaming` directory * further split the Python TWS tests to smaller ones to speed up the CI","output":"Reorganize Python streaming TWS test"}
{"instruction":"Classify the status of this issue based on its description:","input":"Reorganize Python streaming TWS test\n\nReorganize the Python TWS tests: * moving tws related tests to a new `/streaming` directory * further split the Python TWS tests to smaller ones to speed up the CI","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Reorganize Python streaming TWS test\n\nReorganize the Python TWS tests: * moving tws related tests to a new `/streaming` directory * further split the Python TWS tests to smaller ones to speed up the CI","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Reorganize Python streaming TWS test\n\nReorganize the Python TWS tests: * moving tws related tests to a new `/streaming` directory * further split the Python TWS tests to smaller ones to speed up the CI","output":"Reorganize the Python TWS tests: * moving tws related tests to a new `/streaming` directory * further split the Python TWS tests to smaller ones to speed up the CI"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Reorganize Python streaming TWS test\n\nReorganize the Python TWS tests: * moving tws related tests to a new `/streaming` directory * further split the Python TWS tests to smaller ones to speed up the CI","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Reorganize the Python TWS tests: * moving tws related tests to a new `/streaming` directory * further split the Python TWS tests to smaller ones to speed up the CI","output":"Reorganize Python streaming TWS test"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Spark aggregation is incorrect (floating point error)\n\n{code:java} List data = Arrays.asList( RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95) ); StructType schema = DataTypes.createStructType(new StructField[] { DataTypes.createStructField(\"timestamp\", DataTypes.StringType, false), DataTypes.createStructField(\"id\", DataTypes.StringType, false), DataTypes.createStructField(\"value\", DataTypes.DoubleType, false) }); Dataset df = spark.createDataFrame(data, schema); // Show the input data System.out.println(\"Input data:\"); df.show(); // Perform the aggregation Dataset result = df.groupBy(\"id\") .agg( avg(\"value\").as(METADATA_COL_METRICVALUE), sum(\"value\").as(METADATA_COL_SUM_VALUE) ); // Show the results System.out.println(\"Aggregation results:\"); result.show(); // Collect the results List results = result.collectAsList(); // Print the results System.out.println(\"Number of results: \" + results.size()); for (Row row : results) { System.out.println(\"Metric value: \" + row.getDouble(row.fieldIndex(METADATA_COL_METRICVALUE))); System.out.println(\"Sum value: \" + row.getDouble(row.fieldIndex(METADATA_COL_SUM_VALUE))); } // Verify the results assertEquals(1, results.size(), \"Expected 1 aggregated result\"); Row resultRow = results.get(0); doublesumValue = resultRow.getDouble(resultRow.fieldIndex(METADATA_COL_SUM_VALUE)); doubleexpectedSum = 799.6; // 8 * 99.95 System.out.println(\"Expected sum: \" + expectedSum); System.out.println(\"Actual sum: \" + sumValue); System.out.println(\"Difference: \" + Math.abs(expectedSum - sumValue)); // Check if the sum is close to the expected value assertTrue(Math.abs(expectedSum - sumValue) < 0.001, \"Sum value should be close to \" + expectedSum + \" but was \" + sumValue); {code} {code:java} Input data: +--------------------+------+-----+ | timestamp| id|value| +--------------------+------+-----+ |2021-01-01T00:00:...|pod123|99.95| |2021-01-01T00:00:...|pod123|99.95| |2021-01-01T00:00:...|pod123|99.95| |2021-01-01T00:00:...|pod123|99.95| |2021-01-01T00:00:...|pod123|99.95| |2021-01-01T00:00:...|pod123|99.95| |2021-01-01T00:00:...|pod123|99.95| |2021-01-01T00:00:...|pod123|99.95| +--------------------+------+-----+ Aggregation results: +------+-----------------+-----------------+ | id| metric_value| sum_value| +------+-----------------+-----------------+ |pod123|99.95000000000002|799.6000000000001| +------+-----------------+-----------------+ Number of results: 1 Metric value: 99.95000000000002 Sum value: 799.6000000000001 Expected sum: 799.6 Actual sum: 799.6000000000001 Difference: 1.1368683772161603E-13{code}","output":"Spark aggregation is incorrect (floating point error)"}
{"instruction":"Classify the status of this issue based on its description:","input":"Spark aggregation is incorrect (floating point error)\n\n{code:java} List data = Arrays.asList( RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"po","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"Spark aggregation is incorrect (floating point error)\n\n{code:java} List data = Arrays.asList( RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"po","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Spark aggregation is incorrect (floating point error)\n\n{code:java} List data = Arrays.asList( RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"po","output":"{code:java} List data = Arrays.asList( RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123"}
{"instruction":"Extract key technical details from this issue:","input":"{code:java} List data = Arrays.asList( RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95), RowFactory.create(\"2021-01-01T00:00:00.000+0000\", \"pod123\", 99.95) ); StructType schema = DataTypes.createStructType(new StructField[] { DataTypes.createStructField(\"timestamp\", DataTypes.StringType, false), DataTypes.createStructField(\"id\", DataTypes.StringType, false), DataTypes.cre","output":"Spark aggregation is incorrect (floating point error)"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add `SparkConf.getAllWithPrefix(String, String => K)` API\n\nWe need to set some config related to S3 for our inner Spark. The implementation of the function show below. {code:java} private def setS3Configs(conf: SparkConf): Unit = { val S3A_PREFIX = \"spark.fs.s3a\" val SPARK_HADOOP_S3A_PREFIX = \"spark.hadoop.fs.s3a\" val s3aConf = conf.getAllWithPrefix(S3A_PREFIX) s3aConf .foreach( confPair => { val keyWithoutPrefix = confPair._1 val oldKey = S3A_PREFIX + keyWithoutPrefix val newKey = SPARK_HADOOP_S3A_PREFIX + keyWithoutPrefix val value = confPair._2 (newKey, value) }) } {code} These code seems redundant and complicated. The reason is getAllWithPrefix only return the suffix part.","output":"Add `SparkConf.getAllWithPrefix(String, String => K)` API"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add `SparkConf.getAllWithPrefix(String, String => K)` API\n\nWe need to set some config related to S3 for our inner Spark. The implementation of the function show below. {code:java} private def setS3Configs(conf: SparkConf): Unit = { val S3A_PREFIX = \"spark.fs.s3a\" val SPARK_HADOOP_S3A_PREFIX = \"spark.hadoop.fs.s3a\" val s3aConf = conf.getAllWithPrefix(S3A_PREFIX) s3aConf .foreach( confPair => { val keyWithoutPrefix = confPair._1 val oldKey = S3A_PREFIX + keyWithoutPrefix val newKey = SPARK_HADOOP_S3A_PREFIX + keyWithoutPrefix val value = confPair._2 (newK","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add `SparkConf.getAllWithPrefix(String, String => K)` API\n\nWe need to set some config related to S3 for our inner Spark. The implementation of the function show below. {code:java} private def setS3Configs(conf: SparkConf): Unit = { val S3A_PREFIX = \"spark.fs.s3a\" val SPARK_HADOOP_S3A_PREFIX = \"spark.hadoop.fs.s3a\" val s3aConf = conf.getAllWithPrefix(S3A_PREFIX) s3aConf .foreach( confPair => { val keyWithoutPrefix = confPair._1 val oldKey = S3A_PREFIX + keyWithoutPrefix val newKey = SPARK_HADOOP_S3A_PREFIX + keyWithoutPrefix val value = confPair._2 (newK","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add `SparkConf.getAllWithPrefix(String, String => K)` API\n\nWe need to set some config related to S3 for our inner Spark. The implementation of the function show below. {code:java} private def setS3Configs(conf: SparkConf): Unit = { val S3A_PREFIX = \"spark.fs.s3a\" val SPARK_HADOOP_S3A_PREFIX = \"spark.hadoop.fs.s3a\" val s3aConf = conf.getAllWithPrefix(S3A_PREFIX) s3aConf .foreach( confPair => { val keyWithoutPrefix = confPair._1 val oldKey = S3A_PREFIX + keyWithoutPrefix val newKey = SPARK_HADOOP_S3A_PREFIX + keyWithoutPrefix val value = confPair._2 (newK","output":"We need to set some config related to S3 for our inner Spark. The implementation of the function show below. {code:java} private def setS3Configs(conf: SparkConf): Unit = { val S3A_PREFIX = \"spark.fs.s3a\" val SPARK_HADOOP_S3A_PREFIX = \"spark.hadoop.fs.s3a\" val s3aConf = conf.getAllWithPrefix(S3A_PRE"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add `SparkConf.getAllWithPrefix(String, String => K)` API\n\nWe need to set some config related to S3 for our inner Spark. The implementation of the function show below. {code:java} private def setS3Configs(conf: SparkConf): Unit = { val S3A_PREFIX = \"spark.fs.s3a\" val SPARK_HADOOP_S3A_PREFIX = \"spark.hadoop.fs.s3a\" val s3aConf = conf.getAllWithPrefix(S3A_PREFIX) s3aConf .foreach( confPair => { val keyWithoutPrefix = confPair._1 val oldKey = S3A_PREFIX + keyWithoutPrefix val newKey = SPARK_HADOOP_S3A_PREFIX + keyWithoutPrefix val value = confPair._2 (newK","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We need to set some config related to S3 for our inner Spark. The implementation of the function show below. {code:java} private def setS3Configs(conf: SparkConf): Unit = { val S3A_PREFIX = \"spark.fs.s3a\" val SPARK_HADOOP_S3A_PREFIX = \"spark.hadoop.fs.s3a\" val s3aConf = conf.getAllWithPrefix(S3A_PREFIX) s3aConf .foreach( confPair => { val keyWithoutPrefix = confPair._1 val oldKey = S3A_PREFIX + keyWithoutPrefix val newKey = SPARK_HADOOP_S3A_PREFIX + keyWithoutPrefix val value = confPair._2 (newKey, value) }) } {code} These code seems redundant and complicated. The reason is getAllWithPrefix only return the suffix part.","output":"Add `SparkConf.getAllWithPrefix(String, String => K)` API"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Classify errors for AvroOptions boolean casting failure\n\nIllegalArgumentException is thrown when AvroOptions option requiring boolean is given to be not boolean. Should classify the error.","output":"Classify errors for AvroOptions boolean casting failure"}
{"instruction":"Classify the status of this issue based on its description:","input":"Classify errors for AvroOptions boolean casting failure\n\nIllegalArgumentException is thrown when AvroOptions option requiring boolean is given to be not boolean. Should classify the error.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Classify errors for AvroOptions boolean casting failure\n\nIllegalArgumentException is thrown when AvroOptions option requiring boolean is given to be not boolean. Should classify the error.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Classify errors for AvroOptions boolean casting failure\n\nIllegalArgumentException is thrown when AvroOptions option requiring boolean is given to be not boolean. Should classify the error.","output":"IllegalArgumentException is thrown when AvroOptions option requiring boolean is given to be not boolean. Should classify the error."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Classify errors for AvroOptions boolean casting failure\n\nIllegalArgumentException is thrown when AvroOptions option requiring boolean is given to be not boolean. Should classify the error.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"IllegalArgumentException is thrown when AvroOptions option requiring boolean is given to be not boolean. Should classify the error.","output":"Classify errors for AvroOptions boolean casting failure"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Streaming Query RecentProgress performance regression in Classic Pyspark\n\nWe have identified a significant performance regression in Apache Spark's streaming recentProgress method in python notebook starting from version 4.0.0. The time required to fetch recentProgress increases substantially as the number of progress records grows, creating a linear or worse scaling issue. We only observe this behavior in classic pyspark. With the following code, it output charts for time it takes to get recentProgress before and after changes in https://github.com/apache/spark/commit/22eb6c4b0a82b9fcf84fc9952b1f6c41dde9bd8d#diff-4d4ed29d139877b160de444add7ee63cfa7a7577d849ab2686f1aa2d5b4aae64 ``` %python from datetime import datetime import time df = spark.readStream.format(\"rate\").option(\"rowsPerSecond\", 10).load() q = df.writeStream.format(\"noop\").start() print(\"begin waiting for progress\") progress_list = [] time_diff_list = [] numProgress = len(q.recentProgress) while numProgress < 70 and q.exception() is None: time.sleep(1) beforeTime = datetime.now() print(beforeTime.strftime(\"%Y-%m-%d %H:%M:%S\") +\": before we got those progress: \"+str(numProgress)) rep = q.recentProgress numProgress = len(rep) afterTime = datetime.now() print(afterTime.strftime(\"%Y-%m-%d %H:%M:%S\") +\": after we got those progress: \"+str(numProgress)) time_diff = (afterTime - beforeTime).total_seconds() print(\"Total Time: \"+str(time_diff) +\" seconds\") progress_list.append(numProgress) time_diff_list.append(time_diff) q.stop() q.awaitTermination() assert(q.exception() is None) import pandas as pd plot_df = pd.DataFrame(\\{'numProgress': progress_list, 'time_diff': time_diff_list}) display(spark.createDataFrame(plot_df).orderBy(\"numProgress\").toPandas().plot.line(x=\"numProgress\", y=\"time_diff\")) ``` See attachment for the generated graph. Attachment 1 is regression shown in current version. Attachment 2 is regression shown in previous version","output":"Streaming Query RecentProgress performance regression in Classic Pyspark"}
{"instruction":"Classify the status of this issue based on its description:","input":"Streaming Query RecentProgress performance regression in Classic Pyspark\n\nWe have identified a significant performance regression in Apache Spark's streaming recentProgress method in python notebook starting from version 4.0.0. The time required to fetch recentProgress increases substantially as the number of progress records grows, creating a linear or worse scaling issue. We only observe this behavior in classic pyspark. With the following code, it output charts for time it takes to get recentProgress before and after changes in https://github.com/apache/spark/commi","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Streaming Query RecentProgress performance regression in Classic Pyspark\n\nWe have identified a significant performance regression in Apache Spark's streaming recentProgress method in python notebook starting from version 4.0.0. The time required to fetch recentProgress increases substantially as the number of progress records grows, creating a linear or worse scaling issue. We only observe this behavior in classic pyspark. With the following code, it output charts for time it takes to get recentProgress before and after changes in https://github.com/apache/spark/commi","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Streaming Query RecentProgress performance regression in Classic Pyspark\n\nWe have identified a significant performance regression in Apache Spark's streaming recentProgress method in python notebook starting from version 4.0.0. The time required to fetch recentProgress increases substantially as the number of progress records grows, creating a linear or worse scaling issue. We only observe this behavior in classic pyspark. With the following code, it output charts for time it takes to get recentProgress before and after changes in https://github.com/apache/spark/commi","output":"We have identified a significant performance regression in Apache Spark's streaming recentProgress method in python notebook starting from version 4.0.0. The time required to fetch recentProgress increases substantially as the number of progress records grows, creating a linear or worse scaling issu"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Streaming Query RecentProgress performance regression in Classic Pyspark\n\nWe have identified a significant performance regression in Apache Spark's streaming recentProgress method in python notebook starting from version 4.0.0. The time required to fetch recentProgress increases substantially as the number of progress records grows, creating a linear or worse scaling issue. We only observe this behavior in classic pyspark. With the following code, it output charts for time it takes to get recentProgress before and after changes in https://github.com/apache/spark/commi","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We have identified a significant performance regression in Apache Spark's streaming recentProgress method in python notebook starting from version 4.0.0. The time required to fetch recentProgress increases substantially as the number of progress records grows, creating a linear or worse scaling issue. We only observe this behavior in classic pyspark. With the following code, it output charts for time it takes to get recentProgress before and after changes in https://github.com/apache/spark/commit/22eb6c4b0a82b9fcf84fc9952b1f6c41dde9bd8d#diff-4d4ed29d139877b160de444add7ee63cfa7a7577d849ab2686f1aa2d5b4aae64 ``` %python from datetime import datetime import time df = spark.readStream.format(\"rate\").option(\"rowsPerSecond\", 10).load() q = df.writeStream.format(\"noop\").start() print(\"begin waitin","output":"Streaming Query RecentProgress performance regression in Classic Pyspark"}
{"instruction":"Classify the status of this issue based on its description:","input":"fixing a doc of from_protobuf function pyspark.\n\nfixing a doc of from_protobuf function pyspark.","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"fixing a doc of from_protobuf function pyspark.\n\nfixing a doc of from_protobuf function pyspark.","output":"Minor"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: fixing a doc of from_protobuf function pyspark.\n\nfixing a doc of from_protobuf function pyspark.","output":"fixing a doc of from_protobuf function pyspark."}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Add utility functions to detect JVM GCs\n\nBoth G1GC and ZGC needs extra object header (usually 16 bytes in 64bit system) when allocating region or ZPage for java long array, so the really bytes allocated is pageSize+16. So we need consider the object header when allocating spark pages.","output":"Add utility functions to detect JVM GCs"}
{"instruction":"Classify the status of this issue based on its description:","input":"Add utility functions to detect JVM GCs\n\nBoth G1GC and ZGC needs extra object header (usually 16 bytes in 64bit system) when allocating region or ZPage for java long array, so the really bytes allocated is pageSize+16. So we need consider the object header when allocating spark pages.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Add utility functions to detect JVM GCs\n\nBoth G1GC and ZGC needs extra object header (usually 16 bytes in 64bit system) when allocating region or ZPage for java long array, so the really bytes allocated is pageSize+16. So we need consider the object header when allocating spark pages.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Add utility functions to detect JVM GCs\n\nBoth G1GC and ZGC needs extra object header (usually 16 bytes in 64bit system) when allocating region or ZPage for java long array, so the really bytes allocated is pageSize+16. So we need consider the object header when allocating spark pages.","output":"Both G1GC and ZGC needs extra object header (usually 16 bytes in 64bit system) when allocating region or ZPage for java long array, so the really bytes allocated is pageSize+16. So we need consider the object header when allocating spark pages."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Add utility functions to detect JVM GCs\n\nBoth G1GC and ZGC needs extra object header (usually 16 bytes in 64bit system) when allocating region or ZPage for java long array, so the really bytes allocated is pageSize+16. So we need consider the object header when allocating spark pages.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Both G1GC and ZGC needs extra object header (usually 16 bytes in 64bit system) when allocating region or ZPage for java long array, so the really bytes allocated is pageSize+16. So we need consider the object header when allocating spark pages.","output":"Add utility functions to detect JVM GCs"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Let approx_top_k_accumulate/combine/estimate handle NULLs\n\nAs a follow-up of https://issues.apache.org/jira/browse/SPARK-53947, let approx_top_k_accumulate/combine/estimate handle NULLs.","output":"Let approx_top_k_accumulate/combine/estimate handle NULLs"}
{"instruction":"Classify the status of this issue based on its description:","input":"Let approx_top_k_accumulate/combine/estimate handle NULLs\n\nAs a follow-up of https://issues.apache.org/jira/browse/SPARK-53947, let approx_top_k_accumulate/combine/estimate handle NULLs.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Let approx_top_k_accumulate/combine/estimate handle NULLs\n\nAs a follow-up of https://issues.apache.org/jira/browse/SPARK-53947, let approx_top_k_accumulate/combine/estimate handle NULLs.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Let approx_top_k_accumulate/combine/estimate handle NULLs\n\nAs a follow-up of https://issues.apache.org/jira/browse/SPARK-53947, let approx_top_k_accumulate/combine/estimate handle NULLs.","output":"As a follow-up of https://issues.apache.org/jira/browse/SPARK-53947, let approx_top_k_accumulate/combine/estimate handle NULLs."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Let approx_top_k_accumulate/combine/estimate handle NULLs\n\nAs a follow-up of https://issues.apache.org/jira/browse/SPARK-53947, let approx_top_k_accumulate/combine/estimate handle NULLs.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"As a follow-up of https://issues.apache.org/jira/browse/SPARK-53947, let approx_top_k_accumulate/combine/estimate handle NULLs.","output":"Let approx_top_k_accumulate/combine/estimate handle NULLs"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Spark Connect Python client does not throw a proper error when creating a dataframe from an empty pandas dataframe\n\nSpark Connect Python client does not throw a proper error when creating a dataframe from a pandas dataframe with a index and empty data. Generally, spark connect client throws a client-side error `[CANNOT_INFER_EMPTY_SCHEMA] Can not infer schema from an empty dataset`. when creating a dataframe without data, for example via {quote}spark.createDataFrame([]).show() {quote} or {quote}df = pd.DataFrame() spark.createDataFrame(df).show(){quote} or {quote}df = pd.DataFrame(\\{\"a\": []}) spark.createDataFrame(df).show(){quote} This does not happen when pandas dataframe has an index but no data, e.g. {quote}df = pd.DataFrame(index=range(5)) spark.createDataFrame(df).show(){quote} What happens instead is that the dataframe is successfully converted to a LocalRelation on the client, is sent to the server, but the server then throws the following exception: `INTERNAL_ERROR: Input data for LocalRelation does not produce a schema. SQLSTATE: XX000`. XX000 is an internal error sql state and the error is not actionable enough for the user. This should be fixed.","output":"Spark Connect Python client does not throw a proper error when creating a dataframe from an empty pandas dataframe"}
{"instruction":"Classify the status of this issue based on its description:","input":"Spark Connect Python client does not throw a proper error when creating a dataframe from an empty pandas dataframe\n\nSpark Connect Python client does not throw a proper error when creating a dataframe from a pandas dataframe with a index and empty data. Generally, spark connect client throws a client-side error `[CANNOT_INFER_EMPTY_SCHEMA] Can not infer schema from an empty dataset`. when creating a dataframe without data, for example via {quote}spark.createDataFrame([]).show() {quote} or {quote}df = pd.DataFrame() spark.createDataFrame(df).show(){quote} or {quote}df = pd.DataFrame(\\{\"a\": []}) spark.createData","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Spark Connect Python client does not throw a proper error when creating a dataframe from an empty pandas dataframe\n\nSpark Connect Python client does not throw a proper error when creating a dataframe from a pandas dataframe with a index and empty data. Generally, spark connect client throws a client-side error `[CANNOT_INFER_EMPTY_SCHEMA] Can not infer schema from an empty dataset`. when creating a dataframe without data, for example via {quote}spark.createDataFrame([]).show() {quote} or {quote}df = pd.DataFrame() spark.createDataFrame(df).show(){quote} or {quote}df = pd.DataFrame(\\{\"a\": []}) spark.createData","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Spark Connect Python client does not throw a proper error when creating a dataframe from an empty pandas dataframe\n\nSpark Connect Python client does not throw a proper error when creating a dataframe from a pandas dataframe with a index and empty data. Generally, spark connect client throws a client-side error `[CANNOT_INFER_EMPTY_SCHEMA] Can not infer schema from an empty dataset`. when creating a dataframe without data, for example via {quote}spark.createDataFrame([]).show() {quote} or {quote}df = pd.DataFrame() spark.createDataFrame(df).show(){quote} or {quote}df = pd.DataFrame(\\{\"a\": []}) spark.createData","output":"Spark Connect Python client does not throw a proper error when creating a dataframe from a pandas dataframe with a index and empty data. Generally, spark connect client throws a client-side error `[CANNOT_INFER_EMPTY_SCHEMA] Can not infer schema from an empty dataset`. when creating a dataframe with"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Spark Connect Python client does not throw a proper error when creating a dataframe from an empty pandas dataframe\n\nSpark Connect Python client does not throw a proper error when creating a dataframe from a pandas dataframe with a index and empty data. Generally, spark connect client throws a client-side error `[CANNOT_INFER_EMPTY_SCHEMA] Can not infer schema from an empty dataset`. when creating a dataframe without data, for example via {quote}spark.createDataFrame([]).show() {quote} or {quote}df = pd.DataFrame() spark.createDataFrame(df).show(){quote} or {quote}df = pd.DataFrame(\\{\"a\": []}) spark.createData","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Spark Connect Python client does not throw a proper error when creating a dataframe from a pandas dataframe with a index and empty data. Generally, spark connect client throws a client-side error `[CANNOT_INFER_EMPTY_SCHEMA] Can not infer schema from an empty dataset`. when creating a dataframe without data, for example via {quote}spark.createDataFrame([]).show() {quote} or {quote}df = pd.DataFrame() spark.createDataFrame(df).show(){quote} or {quote}df = pd.DataFrame(\\{\"a\": []}) spark.createDataFrame(df).show(){quote} This does not happen when pandas dataframe has an index but no data, e.g. {quote}df = pd.DataFrame(index=range(5)) spark.createDataFrame(df).show(){quote} What happens instead is that the dataframe is successfully converted to a LocalRelation on the client, is sent to the ser","output":"Spark Connect Python client does not throw a proper error when creating a dataframe from an empty pandas dataframe"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Fix deadlock in Observation\n\nObservation class has been evolved a few times during Spark 3.5 to Spark 4.0.0. Previously it uses locking mechanism (synchronized) between get and onFinish methods to coordinate metrics update and retrieval. But it has a potential deadlocking bug. If get is called before ObservationListener is triggered to call onFinish, get will forever be waiting for metrics because it locks the observation object by synchronized so later onFinish call is locked out from updating the metrics. This locking mechanism was replaced by a promise by SPARK-49423 which is a large refactoring on the observation feature. But in the PR, I don’t see the deadlock bug was mentioned, and there is no bug fix PR proposed to earlier versions. So I think that the bug was not known and the fix is unintentional in Spark 4.0.0. The bug is still in Spark 3.5 branch.","output":"Fix deadlock in Observation"}
{"instruction":"Classify the status of this issue based on its description:","input":"Fix deadlock in Observation\n\nObservation class has been evolved a few times during Spark 3.5 to Spark 4.0.0. Previously it uses locking mechanism (synchronized) between get and onFinish methods to coordinate metrics update and retrieval. But it has a potential deadlocking bug. If get is called before ObservationListener is triggered to call onFinish, get will forever be waiting for metrics because it locks the observation object by synchronized so later onFinish call is locked out from updating the metrics. This locking mec","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Fix deadlock in Observation\n\nObservation class has been evolved a few times during Spark 3.5 to Spark 4.0.0. Previously it uses locking mechanism (synchronized) between get and onFinish methods to coordinate metrics update and retrieval. But it has a potential deadlocking bug. If get is called before ObservationListener is triggered to call onFinish, get will forever be waiting for metrics because it locks the observation object by synchronized so later onFinish call is locked out from updating the metrics. This locking mec","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Fix deadlock in Observation\n\nObservation class has been evolved a few times during Spark 3.5 to Spark 4.0.0. Previously it uses locking mechanism (synchronized) between get and onFinish methods to coordinate metrics update and retrieval. But it has a potential deadlocking bug. If get is called before ObservationListener is triggered to call onFinish, get will forever be waiting for metrics because it locks the observation object by synchronized so later onFinish call is locked out from updating the metrics. This locking mec","output":"Observation class has been evolved a few times during Spark 3.5 to Spark 4.0.0. Previously it uses locking mechanism (synchronized) between get and onFinish methods to coordinate metrics update and retrieval. But it has a potential deadlocking bug. If get is called before ObservationListener is trig"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Fix deadlock in Observation\n\nObservation class has been evolved a few times during Spark 3.5 to Spark 4.0.0. Previously it uses locking mechanism (synchronized) between get and onFinish methods to coordinate metrics update and retrieval. But it has a potential deadlocking bug. If get is called before ObservationListener is triggered to call onFinish, get will forever be waiting for metrics because it locks the observation object by synchronized so later onFinish call is locked out from updating the metrics. This locking mec","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Observation class has been evolved a few times during Spark 3.5 to Spark 4.0.0. Previously it uses locking mechanism (synchronized) between get and onFinish methods to coordinate metrics update and retrieval. But it has a potential deadlocking bug. If get is called before ObservationListener is triggered to call onFinish, get will forever be waiting for metrics because it locks the observation object by synchronized so later onFinish call is locked out from updating the metrics. This locking mechanism was replaced by a promise by SPARK-49423 which is a large refactoring on the observation feature. But in the PR, I don’t see the deadlock bug was mentioned, and there is no bug fix PR proposed to earlier versions. So I think that the bug was not known and the fix is unintentional in Spark 4.0","output":"Fix deadlock in Observation"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Let approx_top_k handle NULLs\n\nSpark uses FrequentItemsSketch of Apache DataSketches in the approx_top_k function, which does not consider NULL values by itself ([https://github.com/apache/datasketches-java/blob/main/src/main/java/org/apache/datasketches/frequencies/FrequentItemsSketch.java#L587).] However, NULL value could be meaningful in some use cases and users might want to include NULL in the approx_top_k output. Therefore, this ticket aims to add a nullCounter associated with the FrequentItemsSketch to count for NULL in the approx_top_k aggregation.","output":"Let approx_top_k handle NULLs"}
{"instruction":"Classify the status of this issue based on its description:","input":"Let approx_top_k handle NULLs\n\nSpark uses FrequentItemsSketch of Apache DataSketches in the approx_top_k function, which does not consider NULL values by itself ([https://github.com/apache/datasketches-java/blob/main/src/main/java/org/apache/datasketches/frequencies/FrequentItemsSketch.java#L587).] However, NULL value could be meaningful in some use cases and users might want to include NULL in the approx_top_k output. Therefore, this ticket aims to add a nullCounter associated with the FrequentItemsSketch to count for NULL i","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Let approx_top_k handle NULLs\n\nSpark uses FrequentItemsSketch of Apache DataSketches in the approx_top_k function, which does not consider NULL values by itself ([https://github.com/apache/datasketches-java/blob/main/src/main/java/org/apache/datasketches/frequencies/FrequentItemsSketch.java#L587).] However, NULL value could be meaningful in some use cases and users might want to include NULL in the approx_top_k output. Therefore, this ticket aims to add a nullCounter associated with the FrequentItemsSketch to count for NULL i","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Let approx_top_k handle NULLs\n\nSpark uses FrequentItemsSketch of Apache DataSketches in the approx_top_k function, which does not consider NULL values by itself ([https://github.com/apache/datasketches-java/blob/main/src/main/java/org/apache/datasketches/frequencies/FrequentItemsSketch.java#L587).] However, NULL value could be meaningful in some use cases and users might want to include NULL in the approx_top_k output. Therefore, this ticket aims to add a nullCounter associated with the FrequentItemsSketch to count for NULL i","output":"Spark uses FrequentItemsSketch of Apache DataSketches in the approx_top_k function, which does not consider NULL values by itself ([https://github.com/apache/datasketches-java/blob/main/src/main/java/org/apache/datasketches/frequencies/FrequentItemsSketch.java#L587).] However, NULL value could be me"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Let approx_top_k handle NULLs\n\nSpark uses FrequentItemsSketch of Apache DataSketches in the approx_top_k function, which does not consider NULL values by itself ([https://github.com/apache/datasketches-java/blob/main/src/main/java/org/apache/datasketches/frequencies/FrequentItemsSketch.java#L587).] However, NULL value could be meaningful in some use cases and users might want to include NULL in the approx_top_k output. Therefore, this ticket aims to add a nullCounter associated with the FrequentItemsSketch to count for NULL i","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Spark uses FrequentItemsSketch of Apache DataSketches in the approx_top_k function, which does not consider NULL values by itself ([https://github.com/apache/datasketches-java/blob/main/src/main/java/org/apache/datasketches/frequencies/FrequentItemsSketch.java#L587).] However, NULL value could be meaningful in some use cases and users might want to include NULL in the approx_top_k output. Therefore, this ticket aims to add a nullCounter associated with the FrequentItemsSketch to count for NULL in the approx_top_k aggregation.","output":"Let approx_top_k handle NULLs"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade SBT to 1.11.7\n\nWe last upgraded SBT two years ago. Let's upgrade SBT to the latest version.","output":"Upgrade SBT to 1.11.7"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade SBT to 1.11.7\n\nWe last upgraded SBT two years ago. Let's upgrade SBT to the latest version.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade SBT to 1.11.7\n\nWe last upgraded SBT two years ago. Let's upgrade SBT to the latest version.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade SBT to 1.11.7\n\nWe last upgraded SBT two years ago. Let's upgrade SBT to the latest version.","output":"We last upgraded SBT two years ago. Let's upgrade SBT to the latest version."}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade SBT to 1.11.7\n\nWe last upgraded SBT two years ago. Let's upgrade SBT to the latest version.","output":"Fixed"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Upgrade semanticdb-shared to 4.13.10\n\nAmmonite was upgraded to 3.0.3 so semanticdb-shared should be upgraded correspondingly. https://mvnrepository.com/artifact/com.lihaoyi/ammonite-interp-3.3.6_3.3.6/3.0.3","output":"Upgrade semanticdb-shared to 4.13.10"}
{"instruction":"Classify the status of this issue based on its description:","input":"Upgrade semanticdb-shared to 4.13.10\n\nAmmonite was upgraded to 3.0.3 so semanticdb-shared should be upgraded correspondingly. https://mvnrepository.com/artifact/com.lihaoyi/ammonite-interp-3.3.6_3.3.6/3.0.3","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Upgrade semanticdb-shared to 4.13.10\n\nAmmonite was upgraded to 3.0.3 so semanticdb-shared should be upgraded correspondingly. https://mvnrepository.com/artifact/com.lihaoyi/ammonite-interp-3.3.6_3.3.6/3.0.3","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Upgrade semanticdb-shared to 4.13.10\n\nAmmonite was upgraded to 3.0.3 so semanticdb-shared should be upgraded correspondingly. https://mvnrepository.com/artifact/com.lihaoyi/ammonite-interp-3.3.6_3.3.6/3.0.3","output":"Ammonite was upgraded to 3.0.3 so semanticdb-shared should be upgraded correspondingly. https://mvnrepository.com/artifact/com.lihaoyi/ammonite-interp-3.3.6_3.3.6/3.0.3"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Upgrade semanticdb-shared to 4.13.10\n\nAmmonite was upgraded to 3.0.3 so semanticdb-shared should be upgraded correspondingly. https://mvnrepository.com/artifact/com.lihaoyi/ammonite-interp-3.3.6_3.3.6/3.0.3","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"Ammonite was upgraded to 3.0.3 so semanticdb-shared should be upgraded correspondingly. https://mvnrepository.com/artifact/com.lihaoyi/ammonite-interp-3.3.6_3.3.6/3.0.3","output":"Upgrade semanticdb-shared to 4.13.10"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support changing stateless shuffle partitions upon restart of streaming query\n\nWe have been having a huge restriction on the number of shuffle partitions in streaming - once the streaming query runs, there is no way but discard the checkpoint to change the number of shuffle partitions. There has been consistent requests for unblocking this. The main reason of the limitation is due to the fact the stateful operator has fixed partitions and we should make sure it is unchanged. While the invariant is not changed, there is no technical reason to also disallow changing of the number of shuffle partitions in stateless shuffle e.g. stream-static join, MERGE INTO, etcetc.","output":"Support changing stateless shuffle partitions upon restart of streaming query"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support changing stateless shuffle partitions upon restart of streaming query\n\nWe have been having a huge restriction on the number of shuffle partitions in streaming - once the streaming query runs, there is no way but discard the checkpoint to change the number of shuffle partitions. There has been consistent requests for unblocking this. The main reason of the limitation is due to the fact the stateful operator has fixed partitions and we should make sure it is unchanged. While the invariant is not changed, there is no technical reason to also disallow changing of the n","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Support changing stateless shuffle partitions upon restart of streaming query\n\nWe have been having a huge restriction on the number of shuffle partitions in streaming - once the streaming query runs, there is no way but discard the checkpoint to change the number of shuffle partitions. There has been consistent requests for unblocking this. The main reason of the limitation is due to the fact the stateful operator has fixed partitions and we should make sure it is unchanged. While the invariant is not changed, there is no technical reason to also disallow changing of the n","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support changing stateless shuffle partitions upon restart of streaming query\n\nWe have been having a huge restriction on the number of shuffle partitions in streaming - once the streaming query runs, there is no way but discard the checkpoint to change the number of shuffle partitions. There has been consistent requests for unblocking this. The main reason of the limitation is due to the fact the stateful operator has fixed partitions and we should make sure it is unchanged. While the invariant is not changed, there is no technical reason to also disallow changing of the n","output":"We have been having a huge restriction on the number of shuffle partitions in streaming - once the streaming query runs, there is no way but discard the checkpoint to change the number of shuffle partitions. There has been consistent requests for unblocking this. The main reason of the limitation is"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Support changing stateless shuffle partitions upon restart of streaming query\n\nWe have been having a huge restriction on the number of shuffle partitions in streaming - once the streaming query runs, there is no way but discard the checkpoint to change the number of shuffle partitions. There has been consistent requests for unblocking this. The main reason of the limitation is due to the fact the stateful operator has fixed partitions and we should make sure it is unchanged. While the invariant is not changed, there is no technical reason to also disallow changing of the n","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We have been having a huge restriction on the number of shuffle partitions in streaming - once the streaming query runs, there is no way but discard the checkpoint to change the number of shuffle partitions. There has been consistent requests for unblocking this. The main reason of the limitation is due to the fact the stateful operator has fixed partitions and we should make sure it is unchanged. While the invariant is not changed, there is no technical reason to also disallow changing of the number of shuffle partitions in stateless shuffle e.g. stream-static join, MERGE INTO, etcetc.","output":"Support changing stateless shuffle partitions upon restart of streaming query"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"Support AQE in stateless streaming workloads\n\nWe have been disabling AQE for streaming workloads since stateful operators do not work with AQE. But applying AQE in stateless workloads is still beneficial and we have been blocking the case too aggressively. We have been observed streaming workloads which can enjoy the benefits of AQE e.g. stream-static join with large static table, MERGE INTO in ForeachBatch sink, etc. To accelerate the workloads, we would want to support AQE in stateless streaming workloads.","output":"Support AQE in stateless streaming workloads"}
{"instruction":"Classify the status of this issue based on its description:","input":"Support AQE in stateless streaming workloads\n\nWe have been disabling AQE for streaming workloads since stateful operators do not work with AQE. But applying AQE in stateless workloads is still beneficial and we have been blocking the case too aggressively. We have been observed streaming workloads which can enjoy the benefits of AQE e.g. stream-static join with large static table, MERGE INTO in ForeachBatch sink, etc. To accelerate the workloads, we would want to support AQE in stateless streaming workloads.","output":"Resolved"}
{"instruction":"Determine the priority level of this issue:","input":"Support AQE in stateless streaming workloads\n\nWe have been disabling AQE for streaming workloads since stateful operators do not work with AQE. But applying AQE in stateless workloads is still beneficial and we have been blocking the case too aggressively. We have been observed streaming workloads which can enjoy the benefits of AQE e.g. stream-static join with large static table, MERGE INTO in ForeachBatch sink, etc. To accelerate the workloads, we would want to support AQE in stateless streaming workloads.","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: Support AQE in stateless streaming workloads\n\nWe have been disabling AQE for streaming workloads since stateful operators do not work with AQE. But applying AQE in stateless workloads is still beneficial and we have been blocking the case too aggressively. We have been observed streaming workloads which can enjoy the benefits of AQE e.g. stream-static join with large static table, MERGE INTO in ForeachBatch sink, etc. To accelerate the workloads, we would want to support AQE in stateless streaming workloads.","output":"We have been disabling AQE for streaming workloads since stateful operators do not work with AQE. But applying AQE in stateless workloads is still beneficial and we have been blocking the case too aggressively. We have been observed streaming workloads which can enjoy the benefits of AQE e.g. stream"}
{"instruction":"Based on the issue description, predict if it would be resolved:","input":"Support AQE in stateless streaming workloads\n\nWe have been disabling AQE for streaming workloads since stateful operators do not work with AQE. But applying AQE in stateless workloads is still beneficial and we have been blocking the case too aggressively. We have been observed streaming workloads which can enjoy the benefits of AQE e.g. stream-static join with large static table, MERGE INTO in ForeachBatch sink, etc. To accelerate the workloads, we would want to support AQE in stateless streaming workloads.","output":"Fixed"}
{"instruction":"Extract key technical details from this issue:","input":"We have been disabling AQE for streaming workloads since stateful operators do not work with AQE. But applying AQE in stateless workloads is still beneficial and we have been blocking the case too aggressively. We have been observed streaming workloads which can enjoy the benefits of AQE e.g. stream-static join with large static table, MERGE INTO in ForeachBatch sink, etc. To accelerate the workloads, we would want to support AQE in stateless streaming workloads.","output":"Support AQE in stateless streaming workloads"}
{"instruction":"Summarize the following technical issue in 2-3 sentences:","input":"SparkSQL partition overwrite is not an atomic operation.\n\nI found that SparkSQL partition overwrite is not an atomic operation. When SparkSQL application rewrites existing table partition, [delete the matching partition]([https://github.com/apache/spark/blob/24a6abf34d253162055c8b9bd0030bf9a2ca75b1/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/InsertIntoHadoopFsRelationCommand.scala#L136]), then run the job. During task execution, the Hive partition is not deleted, but the data in the filesystem is deleted. If you read data while the job is running, you will read empty data. If the job is interrupted, the data will be lost. Note: Only for spark.sql.hive.convertMetastoreOrc or spark.sql.hive.convertMetastoreParquet is true. It is not problem for hive serde.","output":"SparkSQL partition overwrite is not an atomic operation."}
{"instruction":"Classify the status of this issue based on its description:","input":"SparkSQL partition overwrite is not an atomic operation.\n\nI found that SparkSQL partition overwrite is not an atomic operation. When SparkSQL application rewrites existing table partition, [delete the matching partition]([https://github.com/apache/spark/blob/24a6abf34d253162055c8b9bd0030bf9a2ca75b1/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/InsertIntoHadoopFsRelationCommand.scala#L136]), then run the job. During task execution, the Hive partition is not deleted, but the data in the filesystem is deleted. If you read data while t","output":"Open"}
{"instruction":"Determine the priority level of this issue:","input":"SparkSQL partition overwrite is not an atomic operation.\n\nI found that SparkSQL partition overwrite is not an atomic operation. When SparkSQL application rewrites existing table partition, [delete the matching partition]([https://github.com/apache/spark/blob/24a6abf34d253162055c8b9bd0030bf9a2ca75b1/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/InsertIntoHadoopFsRelationCommand.scala#L136]), then run the job. During task execution, the Hive partition is not deleted, but the data in the filesystem is deleted. If you read data while t","output":"Major"}
{"instruction":"Answer the following question about this issue:","input":"What is the main problem described in this issue?\n\nIssue: SparkSQL partition overwrite is not an atomic operation.\n\nI found that SparkSQL partition overwrite is not an atomic operation. When SparkSQL application rewrites existing table partition, [delete the matching partition]([https://github.com/apache/spark/blob/24a6abf34d253162055c8b9bd0030bf9a2ca75b1/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/InsertIntoHadoopFsRelationCommand.scala#L136]), then run the job. During task execution, the Hive partition is not deleted, but the data in the filesystem is deleted. If you read data while t","output":"I found that SparkSQL partition overwrite is not an atomic operation. When SparkSQL application rewrites existing table partition, [delete the matching partition]([https://github.com/apache/spark/blob/24a6abf34d253162055c8b9bd0030bf9a2ca75b1/sql/core/src/main/scala/org/apache/spark/sql/execution/dat"}
{"instruction":"Extract key technical details from this issue:","input":"I found that SparkSQL partition overwrite is not an atomic operation. When SparkSQL application rewrites existing table partition, [delete the matching partition]([https://github.com/apache/spark/blob/24a6abf34d253162055c8b9bd0030bf9a2ca75b1/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/InsertIntoHadoopFsRelationCommand.scala#L136]), then run the job. During task execution, the Hive partition is not deleted, but the data in the filesystem is deleted. If you read data while the job is running, you will read empty data. If the job is interrupted, the data will be lost. Note: Only for spark.sql.hive.convertMetastoreOrc or spark.sql.hive.convertMetastoreParquet is true. It is not problem for hive serde.","output":"SparkSQL partition overwrite is not an atomic operation."}